"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("react/jsx-runtime"),s=require("react"),y=require("lucide-react"),k=require("../Button/Button.cjs"),t=require("./SplitButton.module.css.cjs"),x=({label:g,icon:j,onClick:v,items:w,variant:f="primary",size:u="md",disabled:p=!1,loading:m=!1,"aria-label":I,className:C})=>{const[r,a]=s.useState(!1),c=s.useRef(null),B=s.useRef(null);s.useEffect(()=>{const e=n=>{c.current&&!c.current.contains(n.target)&&a(!1)};if(r)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r]),s.useEffect(()=>{const e=n=>{if(r){if(n.key==="Escape"){a(!1);return}if(n.key==="ArrowDown"||n.key==="ArrowUp"){n.preventDefault();const l=B.current?.querySelectorAll(`.${t.default.splitButtonMenuItem}`);if(!l||l.length===0)return;const i=Array.from(l).findIndex(S=>S===document.activeElement);let d;n.key==="ArrowDown"?d=i+1>=l.length?0:i+1:d=i-1<0?l.length-1:i-1,l[d].focus()}}};if(r)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]);const M=e=>{e.stopPropagation(),a(!r)},D=e=>{e.stopPropagation(),v?.()},h=e=>{e.divider||(e.onClick?.(),a(!1))},E=[t.default.splitButton,u==="sm"&&t.default.splitButtonSm,u==="lg"&&t.default.splitButtonLg,C].filter(Boolean).join(" ");return o.jsxs("div",{className:E,ref:c,children:[o.jsx(k.Button,{className:t.default.splitButtonAction,variant:f,size:u,onClick:D,disabled:p,loading:m,icon:j,"aria-label":I,children:g}),o.jsx(k.Button,{className:t.default.splitButtonToggle,variant:f,size:u,onClick:M,disabled:p||m,"aria-label":"More options","aria-haspopup":"menu","aria-expanded":r,iconOnly:!0,children:r?o.jsx(y.ChevronUp,{size:16}):o.jsx(y.ChevronDown,{size:16})}),o.jsx("ul",{ref:B,className:`${t.default.splitButtonMenu} ${r?t.default.splitButtonMenuOpen:""}`,role:"menu",children:w.map((e,n)=>e.divider?o.jsx("li",{className:t.default.splitButtonMenuDivider,role:"separator","aria-hidden":"true"},`divider-${n}`):o.jsxs("li",{className:`${t.default.splitButtonMenuItem} ${e.danger?t.default.splitButtonMenuItemDanger:""}`,role:"menuitem",tabIndex:0,onClick:()=>h(e),onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),h(e))},children:[e.icon&&o.jsx("span",{className:t.default.splitButtonMenuItemIcon,children:e.icon}),o.jsx("span",{children:e.label})]},n))})]})};x.displayName="SplitButton";exports.SplitButton=x;
//# sourceMappingURL=SplitButton.cjs.map
