"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("react/jsx-runtime"),l=require("react"),M=require("lucide-react"),s=require("./Rating.module.css.cjs"),y=({value:I,defaultValue:B=0,count:d=5,size:N="md",icon:r="star",allowHalf:p=!1,readOnly:u=!1,disabled:i=!1,onChange:j,showValue:x=!1,reviewCount:R,description:V,label:$,className:A,ariaLabel:b})=>{const[q,w]=l.useState(B),[k,D]=l.useState(null),[o,C]=l.useState(-1),E=l.useRef(null),m=I!==void 0,h=m?I:q,F=l.useCallback(()=>{if(typeof r!="string")return r;switch(r){case"heart":return n.jsx(M.Heart,{});case"circle":return n.jsx(M.Circle,{});case"star":default:return n.jsx(M.Star,{fill:"currentColor"})}},[r])(),X=l.useCallback(a=>{const e=a+1,t=k!==null?k:h;return e<=Math.floor(t)?"filled":p&&e===Math.ceil(t)&&t%1!==0?"half":"empty"},[h,k,p]),T=l.useCallback((a,e)=>{if(u||i)return;let t=a+1;if(p){const c=e.currentTarget.getBoundingClientRect(),f=e.clientX-c.left,g=c.width/2;f<g&&(t=a+.5)}m||w(t),j?.(t)},[u,i,p,m,j]),S=l.useCallback((a,e)=>{if(u||i)return;let t=a+1;if(p){const c=e.currentTarget.getBoundingClientRect(),f=e.clientX-c.left,g=c.width/2;f<g&&(t=a+.5)}D(t)},[u,i,p]),K=l.useCallback(()=>{D(null)},[]),L=l.useCallback(a=>{if(u||i)return;const{key:e}=a;let t=o;if(e==="ArrowLeft"||e==="ArrowDown")a.preventDefault(),t=Math.max(0,o-1);else if(e==="ArrowRight"||e==="ArrowUp")a.preventDefault(),t=Math.min(d-1,o+1);else if(e===" "||e==="Enter"){if(a.preventDefault(),o>=0){const c=o+1;m||w(c),j?.(c)}}else e==="Home"?(a.preventDefault(),t=0):e==="End"&&(a.preventDefault(),t=d-1);t!==o&&C(t)},[u,i,o,d,m,j]),P=l.useCallback(()=>{C(-1)},[]),W=l.useCallback(()=>{o===-1&&C(Math.floor(h)||0)},[o,h]),_=[s.default.rating,N!=="md"&&s.default[N],u&&s.default.readonly,i&&s.default.disabled,typeof r=="string"&&r!=="star"&&s.default[r],A].filter(Boolean).join(" "),U=!u&&!i?{role:"radiogroup","aria-label":b||`Rate from 1 to ${d} ${typeof r=="string"?r+"s":"stars"}`,tabIndex:0,onKeyDown:L,onFocus:W,onBlur:P}:{role:"img","aria-label":b||`Rated ${h} out of ${d}${R?` based on ${R} reviews`:""}`};return n.jsxs("div",{className:s.default.container,children:[$&&n.jsx("label",{className:s.default.label,children:$}),n.jsxs("div",{className:s.default.wrapper,children:[n.jsx("div",{ref:E,className:_,onMouseLeave:K,...U,children:Array.from({length:d}).map((a,e)=>{const t=X(e),c=o===e,f=!u&&!i,g=[s.default.star,t==="filled"&&s.default.filled,t==="half"&&s.default.half,k!==null&&s.default.hover,c&&s.default.focused].filter(Boolean).join(" ");return n.jsx("span",{className:g,onClick:v=>T(e,v),onMouseEnter:v=>S(e,v),onMouseMove:v=>S(e,v),"data-value":e+1,role:f?"radio":void 0,"aria-checked":f?e+1<=h?"true":"false":void 0,"aria-label":f?`${e+1} ${typeof r=="string"?r:"star"}${e!==0?"s":""}`:void 0,"aria-setsize":f?d:void 0,"aria-posinset":f?e+1:void 0,children:F},e)})}),x&&n.jsxs("span",{className:s.default.value,children:[h," / ",d]}),R!==void 0&&n.jsxs("span",{className:s.default.count,children:["(",R," reviews)"]})]}),V&&n.jsx("span",{className:s.default.description,children:V})]})};y.displayName="Rating";exports.Rating=y;
//# sourceMappingURL=Rating.cjs.map
