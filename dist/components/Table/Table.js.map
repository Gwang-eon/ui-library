{"version":3,"file":"Table.js","sources":["../../../src/components/Table/Table.tsx"],"sourcesContent":["import React, { useState, createContext, useContext, type ReactNode } from 'react';\nimport { ChevronRight } from 'lucide-react';\nimport styles from './Table.module.css';\n\n// ===== Types =====\n\nexport type SortDirection = 'asc' | 'desc' | null;\n\nexport interface TableContextValue {\n  striped?: boolean;\n  compact?: boolean;\n  stickyHeader?: boolean;\n  loading?: boolean;\n}\n\nexport interface TableProps {\n  children: ReactNode;\n  striped?: boolean;\n  compact?: boolean;\n  stickyHeader?: boolean;\n  loading?: boolean;\n  className?: string;\n}\n\nexport interface TableHeadProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport interface TableBodyProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport interface TableRowProps {\n  children: ReactNode;\n  selected?: boolean;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface TableCellProps {\n  children: ReactNode;\n  width?: string;\n  align?: 'left' | 'center' | 'right';\n  className?: string;\n}\n\nexport interface TableHeaderCellProps {\n  children: ReactNode;\n  sortable?: boolean;\n  sortDirection?: SortDirection;\n  onSort?: () => void;\n  width?: string;\n  align?: 'left' | 'center' | 'right';\n  className?: string;\n}\n\nexport interface ExpandableRowProps {\n  children: ReactNode;\n  expandedContent: ReactNode;\n  defaultExpanded?: boolean;\n  className?: string;\n}\n\nexport interface TableEmptyStateProps {\n  icon?: ReactNode;\n  title: string;\n  description?: string;\n  action?: ReactNode;\n}\n\n// ===== Context =====\n\nconst TableContext = createContext<TableContextValue>({});\n\nconst useTableContext = () => useContext(TableContext);\n\n// ===== Table Container =====\n\nconst TableContainer: React.FC<{ children: ReactNode; className?: string }> = ({\n  children,\n  className = '',\n}) => {\n  return <div className={`${styles.tableContainer} ${className}`}>{children}</div>;\n};\n\n// ===== Table Wrapper =====\n\nconst TableWrapper: React.FC<{ children: ReactNode; className?: string }> = ({\n  children,\n  className = '',\n}) => {\n  return <div className={`${styles.tableWrapper} ${className}`}>{children}</div>;\n};\n\n// ===== Main Table =====\n\nconst Table: React.FC<TableProps> & {\n  Container: typeof TableContainer;\n  Wrapper: typeof TableWrapper;\n  Head: typeof TableHead;\n  Body: typeof TableBody;\n  Row: typeof TableRow;\n  Cell: typeof TableCell;\n  HeaderCell: typeof TableHeaderCell;\n  ExpandableRow: typeof ExpandableRow;\n  EmptyState: typeof TableEmptyState;\n} = ({\n  children,\n  striped = false,\n  compact = false,\n  stickyHeader = false,\n  loading = false,\n  className = '',\n}) => {\n  const tableClasses = [\n    styles.table,\n    striped && styles.tableStriped,\n    compact && styles.tableCompact,\n    stickyHeader && styles.tableSticky,\n    loading && styles.tableLoading,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <TableContext.Provider value={{ striped, compact, stickyHeader, loading }}>\n      <table className={tableClasses}>{children}</table>\n    </TableContext.Provider>\n  );\n};\n\n// ===== Table Head =====\n\nconst TableHead: React.FC<TableHeadProps> = ({ children, className = '' }) => {\n  return <thead className={className}>{children}</thead>;\n};\n\n// ===== Table Body =====\n\nconst TableBody: React.FC<TableBodyProps> = ({ children, className = '' }) => {\n  const { loading } = useTableContext();\n\n  if (loading) {\n    // Render skeleton rows when loading\n    return (\n      <tbody className={className}>\n        {Array.from({ length: 5 }).map((_, index) => (\n          <tr key={index}>\n            {Array.from({ length: 5 }).map((_, cellIndex) => (\n              <td key={cellIndex}>\n                <div className={styles.skeleton}>\n                  <div className={styles.skeletonText} />\n                </div>\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n\n  return <tbody className={className}>{children}</tbody>;\n};\n\n// ===== Table Row =====\n\nconst TableRow: React.FC<TableRowProps> = ({\n  children,\n  selected = false,\n  onClick,\n  className = '',\n}) => {\n  const rowClasses = [styles.row, selected && styles.selected, className]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <tr className={rowClasses} onClick={onClick}>\n      {children}\n    </tr>\n  );\n};\n\n// ===== Table Cell =====\n\nconst TableCell: React.FC<TableCellProps> = ({\n  children,\n  width,\n  align = 'left',\n  className = '',\n}) => {\n  const style = {\n    width,\n    textAlign: align,\n  };\n\n  return (\n    <td className={className} style={style}>\n      {children}\n    </td>\n  );\n};\n\n// ===== Table Header Cell =====\n\nconst TableHeaderCell: React.FC<TableHeaderCellProps> = ({\n  children,\n  sortable = false,\n  sortDirection = null,\n  onSort,\n  width,\n  align = 'left',\n  className = '',\n}) => {\n  const sortClass = sortDirection === 'asc' ? styles.asc : sortDirection === 'desc' ? styles.desc : '';\n\n  const headerClasses = [\n    sortable && styles.sortable,\n    sortClass,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const style = {\n    width,\n    textAlign: align,\n  };\n\n  const handleClick = () => {\n    if (sortable && onSort) {\n      onSort();\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (sortable && onSort && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault();\n      onSort();\n    }\n  };\n\n  return (\n    <th\n      className={headerClasses}\n      style={style}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      tabIndex={sortable ? 0 : undefined}\n      role={sortable ? 'button' : undefined}\n      aria-sort={\n        sortDirection === 'asc'\n          ? 'ascending'\n          : sortDirection === 'desc'\n          ? 'descending'\n          : undefined\n      }\n    >\n      {children}\n    </th>\n  );\n};\n\n// ===== Expandable Row =====\n\nconst ExpandableRow: React.FC<ExpandableRowProps> = ({\n  children,\n  expandedContent,\n  defaultExpanded = false,\n  className = '',\n}) => {\n  const [isExpanded, setIsExpanded] = useState(defaultExpanded);\n\n  const toggleExpand = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      toggleExpand();\n    }\n  };\n\n  return (\n    <>\n      <tr className={`${styles.expandableRow} ${className}`}>\n        <td className={styles.expandBtnCell}>\n          <button\n            className={styles.expandBtn}\n            onClick={toggleExpand}\n            onKeyDown={handleKeyDown}\n            aria-label={isExpanded ? 'Collapse row' : 'Expand row'}\n            aria-expanded={isExpanded}\n          >\n            <ChevronRight size={16} className={styles.chevronIcon} />\n          </button>\n        </td>\n        {children}\n      </tr>\n      {isExpanded && (\n        <tr className={styles.expandedContent}>\n          <td colSpan={100}>\n            <div className={styles.expandedDetails}>{expandedContent}</div>\n          </td>\n        </tr>\n      )}\n    </>\n  );\n};\n\n// ===== Empty State =====\n\nconst TableEmptyState: React.FC<TableEmptyStateProps> = ({ icon, title, description, action }) => {\n  return (\n    <div className={styles.tableEmptyState}>\n      <div className={styles.emptyStateContent}>\n        {icon && <div className={styles.emptyStateIcon}>{icon}</div>}\n        <h3 className={styles.emptyStateTitle}>{title}</h3>\n        {description && <p className={styles.emptyStateDescription}>{description}</p>}\n        {action && <div className={styles.emptyStateAction}>{action}</div>}\n      </div>\n    </div>\n  );\n};\n\n// Attach sub-components\nTable.Container = TableContainer;\nTable.Wrapper = TableWrapper;\nTable.Head = TableHead;\nTable.Body = TableBody;\nTable.Row = TableRow;\nTable.Cell = TableCell;\nTable.HeaderCell = TableHeaderCell;\nTable.ExpandableRow = ExpandableRow;\nTable.EmptyState = TableEmptyState;\n\n// Display names for debugging\nTable.displayName = 'Table';\nTableContainer.displayName = 'Table.Container';\nTableWrapper.displayName = 'Table.Wrapper';\nTableHead.displayName = 'Table.Head';\nTableBody.displayName = 'Table.Body';\nTableRow.displayName = 'Table.Row';\nTableCell.displayName = 'Table.Cell';\nTableHeaderCell.displayName = 'Table.HeaderCell';\nExpandableRow.displayName = 'Table.ExpandableRow';\nTableEmptyState.displayName = 'Table.EmptyState';\n\nexport { Table };\n"],"names":["TableContext","createContext","useTableContext","useContext","TableContainer","children","className","jsx","styles","TableWrapper","Table","striped","compact","stickyHeader","loading","tableClasses","TableHead","TableBody","_","index","cellIndex","TableRow","selected","onClick","rowClasses","TableCell","width","align","TableHeaderCell","sortable","sortDirection","onSort","sortClass","headerClasses","e","ExpandableRow","expandedContent","defaultExpanded","isExpanded","setIsExpanded","useState","toggleExpand","handleKeyDown","jsxs","Fragment","ChevronRight","TableEmptyState","icon","title","description","action"],"mappings":";;;;AA0EA,MAAMA,IAAeC,EAAiC,EAAE,GAElDC,IAAkB,MAAMC,EAAWH,CAAY,GAI/CI,IAAwE,CAAC;AAAA,EAC7E,UAAAC;AAAA,EACA,WAAAC,IAAY;AACd,MACS,gBAAAC,EAAC,SAAI,WAAW,GAAGC,EAAO,cAAc,IAAIF,CAAS,IAAK,UAAAD,EAAA,CAAS,GAKtEI,IAAsE,CAAC;AAAA,EAC3E,UAAAJ;AAAA,EACA,WAAAC,IAAY;AACd,MACS,gBAAAC,EAAC,SAAI,WAAW,GAAGC,EAAO,YAAY,IAAIF,CAAS,IAAK,UAAAD,EAAA,CAAS,GAKpEK,IAUF,CAAC;AAAA,EACH,UAAAL;AAAA,EACA,SAAAM,IAAU;AAAA,EACV,SAAAC,IAAU;AAAA,EACV,cAAAC,IAAe;AAAA,EACf,SAAAC,IAAU;AAAA,EACV,WAAAR,IAAY;AACd,MAAM;AACJ,QAAMS,IAAe;AAAA,IACnBP,EAAO;AAAA,IACPG,KAAWH,EAAO;AAAA,IAClBI,KAAWJ,EAAO;AAAA,IAClBK,KAAgBL,EAAO;AAAA,IACvBM,KAAWN,EAAO;AAAA,IAClBF;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,2BACGN,EAAa,UAAb,EAAsB,OAAO,EAAE,SAAAW,GAAS,SAAAC,GAAS,cAAAC,GAAc,SAAAC,EAAA,GAC9D,UAAA,gBAAAP,EAAC,SAAA,EAAM,WAAWQ,GAAe,UAAAV,GAAS,GAC5C;AAEJ,GAIMW,IAAsC,CAAC,EAAE,UAAAX,GAAU,WAAAC,IAAY,SAC5D,gBAAAC,EAAC,SAAA,EAAM,WAAAD,GAAuB,UAAAD,EAAA,CAAS,GAK1CY,IAAsC,CAAC,EAAE,UAAAZ,GAAU,WAAAC,IAAY,SAAS;AAC5E,QAAM,EAAE,SAAAQ,EAAA,IAAYZ,EAAA;AAEpB,SAAIY,IAGA,gBAAAP,EAAC,WAAM,WAAAD,GACJ,UAAA,MAAM,KAAK,EAAE,QAAQ,GAAG,EAAE,IAAI,CAACY,GAAGC,MACjC,gBAAAZ,EAAC,MAAA,EACE,gBAAM,KAAK,EAAE,QAAQ,EAAA,CAAG,EAAE,IAAI,CAACW,GAAGE,MACjC,gBAAAb,EAAC,MAAA,EACC,4BAAC,OAAA,EAAI,WAAWC,EAAO,UACrB,UAAA,gBAAAD,EAAC,SAAI,WAAWC,EAAO,cAAc,EAAA,CACvC,KAHOY,CAIT,CACD,EAAA,GAPMD,CAQT,CACD,EAAA,CACH,IAIG,gBAAAZ,EAAC,SAAA,EAAM,WAAAD,GAAuB,UAAAD,EAAA,CAAS;AAChD,GAIMgB,IAAoC,CAAC;AAAA,EACzC,UAAAhB;AAAA,EACA,UAAAiB,IAAW;AAAA,EACX,SAAAC;AAAA,EACA,WAAAjB,IAAY;AACd,MAAM;AACJ,QAAMkB,IAAa,CAAChB,EAAO,KAAKc,KAAYd,EAAO,UAAUF,CAAS,EACnE,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAC,EAAC,MAAA,EAAG,WAAWiB,GAAY,SAAAD,GACxB,UAAAlB,GACH;AAEJ,GAIMoB,IAAsC,CAAC;AAAA,EAC3C,UAAApB;AAAA,EACA,OAAAqB;AAAA,EACA,OAAAC,IAAQ;AAAA,EACR,WAAArB,IAAY;AACd,MAOI,gBAAAC,EAAC,MAAA,EAAG,WAAAD,GAAsB,OANd;AAAA,EACZ,OAAAoB;AAAA,EACA,WAAWC;AAAA,GAKR,UAAAtB,EAAA,CACH,GAMEuB,IAAkD,CAAC;AAAA,EACvD,UAAAvB;AAAA,EACA,UAAAwB,IAAW;AAAA,EACX,eAAAC,IAAgB;AAAA,EAChB,QAAAC;AAAA,EACA,OAAAL;AAAA,EACA,OAAAC,IAAQ;AAAA,EACR,WAAArB,IAAY;AACd,MAAM;AACJ,QAAM0B,IAAYF,MAAkB,QAAQtB,EAAO,MAAMsB,MAAkB,SAAStB,EAAO,OAAO,IAE5FyB,IAAgB;AAAA,IACpBJ,KAAYrB,EAAO;AAAA,IACnBwB;AAAA,IACA1B;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAoBX,SACE,gBAAAC;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW0B;AAAA,MACX,OArBU;AAAA,QACZ,OAAAP;AAAA,QACA,WAAWC;AAAA,MAAA;AAAA,MAoBT,SAjBgB,MAAM;AACxB,QAAIE,KAAYE,KACdA,EAAA;AAAA,MAEJ;AAAA,MAcI,WAZkB,CAACG,MAA2B;AAChD,QAAIL,KAAYE,MAAWG,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SACxDA,EAAE,eAAA,GACFH,EAAA;AAAA,MAEJ;AAAA,MAQI,UAAUF,IAAW,IAAI;AAAA,MACzB,MAAMA,IAAW,WAAW;AAAA,MAC5B,aACEC,MAAkB,QACd,cACAA,MAAkB,SAClB,eACA;AAAA,MAGL,UAAAzB;AAAA,IAAA;AAAA,EAAA;AAGP,GAIM8B,IAA8C,CAAC;AAAA,EACnD,UAAA9B;AAAA,EACA,iBAAA+B;AAAA,EACA,iBAAAC,IAAkB;AAAA,EAClB,WAAA/B,IAAY;AACd,MAAM;AACJ,QAAM,CAACgC,GAAYC,CAAa,IAAIC,EAASH,CAAe,GAEtDI,IAAe,MAAM;AACzB,IAAAF,EAAc,CAACD,CAAU;AAAA,EAC3B,GAEMI,IAAgB,CAACR,MAA2B;AAChD,KAAIA,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SACjCA,EAAE,eAAA,GACFO,EAAA;AAAA,EAEJ;AAEA,SACE,gBAAAE,EAAAC,GAAA,EACE,UAAA;AAAA,IAAA,gBAAAD,EAAC,QAAG,WAAW,GAAGnC,EAAO,aAAa,IAAIF,CAAS,IACjD,UAAA;AAAA,MAAA,gBAAAC,EAAC,MAAA,EAAG,WAAWC,EAAO,eACpB,UAAA,gBAAAD;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWC,EAAO;AAAA,UAClB,SAASiC;AAAA,UACT,WAAWC;AAAA,UACX,cAAYJ,IAAa,iBAAiB;AAAA,UAC1C,iBAAeA;AAAA,UAEf,4BAACO,GAAA,EAAa,MAAM,IAAI,WAAWrC,EAAO,YAAA,CAAa;AAAA,QAAA;AAAA,MAAA,GAE3D;AAAA,MACCH;AAAA,IAAA,GACH;AAAA,IACCiC,KACC,gBAAA/B,EAAC,MAAA,EAAG,WAAWC,EAAO,iBACpB,UAAA,gBAAAD,EAAC,MAAA,EAAG,SAAS,KACX,4BAAC,OAAA,EAAI,WAAWC,EAAO,iBAAkB,UAAA4B,GAAgB,GAC3D,EAAA,CACF;AAAA,EAAA,GAEJ;AAEJ,GAIMU,IAAkD,CAAC,EAAE,MAAAC,GAAM,OAAAC,GAAO,aAAAC,GAAa,QAAAC,QAEjF,gBAAA3C,EAAC,SAAI,WAAWC,EAAO,iBACrB,UAAA,gBAAAmC,EAAC,OAAA,EAAI,WAAWnC,EAAO,mBACpB,UAAA;AAAA,EAAAuC,KAAQ,gBAAAxC,EAAC,OAAA,EAAI,WAAWC,EAAO,gBAAiB,UAAAuC,GAAK;AAAA,EACtD,gBAAAxC,EAAC,MAAA,EAAG,WAAWC,EAAO,iBAAkB,UAAAwC,GAAM;AAAA,EAC7CC,KAAe,gBAAA1C,EAAC,KAAA,EAAE,WAAWC,EAAO,uBAAwB,UAAAyC,GAAY;AAAA,EACxEC,KAAU,gBAAA3C,EAAC,OAAA,EAAI,WAAWC,EAAO,kBAAmB,UAAA0C,EAAA,CAAO;AAAA,EAAA,CAC9D,EAAA,CACF;AAKJxC,EAAM,YAAYN;AAClBM,EAAM,UAAUD;AAChBC,EAAM,OAAOM;AACbN,EAAM,OAAOO;AACbP,EAAM,MAAMW;AACZX,EAAM,OAAOe;AACbf,EAAM,aAAakB;AACnBlB,EAAM,gBAAgByB;AACtBzB,EAAM,aAAaoC;AAGnBpC,EAAM,cAAc;AACpBN,EAAe,cAAc;AAC7BK,EAAa,cAAc;AAC3BO,EAAU,cAAc;AACxBC,EAAU,cAAc;AACxBI,EAAS,cAAc;AACvBI,EAAU,cAAc;AACxBG,EAAgB,cAAc;AAC9BO,EAAc,cAAc;AAC5BW,EAAgB,cAAc;"}