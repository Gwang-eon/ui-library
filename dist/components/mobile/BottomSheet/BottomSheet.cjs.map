{"version":3,"file":"BottomSheet.cjs","sources":["../../../../src/components/mobile/BottomSheet/BottomSheet.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { X } from 'lucide-react';\nimport styles from './BottomSheet.module.css';\n\n\n// ==================== Bottom Sheet ====================\n\nexport type BottomSheetHeight = 'peek' | 'half' | 'full';\n\nexport interface BottomSheetProps {\n  open: boolean;\n  onClose: () => void;\n  height?: BottomSheetHeight;\n  title?: string;\n  showHandle?: boolean;\n  showBackdrop?: boolean;\n  closeButton?: boolean;\n  footer?: React.ReactNode;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const BottomSheet: React.FC<BottomSheetProps> = ({\n  open,\n  onClose,\n  height = 'half',\n  title,\n  showHandle = true,\n  showBackdrop = true,\n  closeButton = true,\n  footer,\n  children,\n  className = '',\n}) => {\n  const sheetRef = useRef<HTMLDivElement>(null);\n  const startYRef = useRef<number>(0);\n  const currentYRef = useRef<number>(0);\n\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  const handleDragStart = (clientY: number) => {\n    startYRef.current = clientY;\n    currentYRef.current = clientY;\n  };\n\n  const handleDragMove = (clientY: number) => {\n    const deltaY = clientY - startYRef.current;\n    if (deltaY > 0 && sheetRef.current) {\n      sheetRef.current.style.transform = `translateY(${deltaY}px)`;\n    }\n  };\n\n  const handleDragEnd = (clientY: number) => {\n    const deltaY = clientY - startYRef.current;\n    if (sheetRef.current) {\n      sheetRef.current.style.transform = '';\n      if (deltaY > 100) {\n        onClose();\n      }\n    }\n  };\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    handleDragStart(e.touches[0].clientY);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    handleDragMove(e.touches[0].clientY);\n  };\n\n  const handleTouchEnd = (e: React.TouchEvent) => {\n    handleDragEnd(e.changedTouches[0].clientY);\n  };\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    handleDragStart(e.clientY);\n\n    const handleMouseMove = (moveEvent: MouseEvent) => {\n      handleDragMove(moveEvent.clientY);\n    };\n\n    const handleMouseUp = (upEvent: MouseEvent) => {\n      handleDragEnd(upEvent.clientY);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  return (\n    <>\n      {showBackdrop && (\n        <div\n          className={`${styles.backdrop} ${open ? styles.backdropShow : ''}`}\n          onClick={onClose}\n        />\n      )}\n      <div\n        ref={sheetRef}\n        className={`${styles.bottomSheet} ${styles[height]} ${open ? styles.open : ''} ${className}`}\n      >\n        {showHandle && (\n          <div\n            className={styles.handle}\n            onTouchStart={handleTouchStart}\n            onTouchMove={handleTouchMove}\n            onTouchEnd={handleTouchEnd}\n            onMouseDown={handleMouseDown}\n          >\n            <div className={styles.dragIndicator} />\n          </div>\n        )}\n\n        {title && (\n          <div className={styles.header}>\n            <h3 className={styles.title}>{title}</h3>\n            {closeButton && (\n              <button className={styles.closeButton} onClick={onClose} aria-label=\"Close\">\n                <X className={styles.closeIcon} />\n              </button>\n            )}\n          </div>\n        )}\n\n        <div className={styles.content}>{children}</div>\n\n        {footer && <div className={styles.footer}>{footer}</div>}\n      </div>\n    </>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  BottomSheet,\n};\n"],"names":["BottomSheet","open","onClose","height","title","showHandle","showBackdrop","closeButton","footer","children","className","sheetRef","useRef","startYRef","currentYRef","useEffect","handleDragStart","clientY","handleDragMove","deltaY","handleDragEnd","handleTouchStart","handleTouchMove","handleTouchEnd","handleMouseDown","handleMouseMove","moveEvent","handleMouseUp","upEvent","jsxs","Fragment","jsx","styles","X"],"mappings":"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"}