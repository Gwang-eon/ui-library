{"version":3,"file":"BottomSheet.js","sources":["../../../../src/components/mobile/BottomSheet/BottomSheet.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { X } from 'lucide-react';\nimport styles from './BottomSheet.module.css';\n\n\n// ==================== Bottom Sheet ====================\n\nexport type BottomSheetHeight = 'peek' | 'half' | 'full';\n\nexport interface BottomSheetProps {\n  open: boolean;\n  onClose: () => void;\n  height?: BottomSheetHeight;\n  title?: string;\n  showHandle?: boolean;\n  showBackdrop?: boolean;\n  closeButton?: boolean;\n  footer?: React.ReactNode;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const BottomSheet: React.FC<BottomSheetProps> = ({\n  open,\n  onClose,\n  height = 'half',\n  title,\n  showHandle = true,\n  showBackdrop = true,\n  closeButton = true,\n  footer,\n  children,\n  className = '',\n}) => {\n  const sheetRef = useRef<HTMLDivElement>(null);\n  const startYRef = useRef<number>(0);\n  const currentYRef = useRef<number>(0);\n\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  const handleDragStart = (clientY: number) => {\n    startYRef.current = clientY;\n    currentYRef.current = clientY;\n  };\n\n  const handleDragMove = (clientY: number) => {\n    const deltaY = clientY - startYRef.current;\n    if (deltaY > 0 && sheetRef.current) {\n      sheetRef.current.style.transform = `translateY(${deltaY}px)`;\n    }\n  };\n\n  const handleDragEnd = (clientY: number) => {\n    const deltaY = clientY - startYRef.current;\n    if (sheetRef.current) {\n      sheetRef.current.style.transform = '';\n      if (deltaY > 100) {\n        onClose();\n      }\n    }\n  };\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    handleDragStart(e.touches[0].clientY);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    handleDragMove(e.touches[0].clientY);\n  };\n\n  const handleTouchEnd = (e: React.TouchEvent) => {\n    handleDragEnd(e.changedTouches[0].clientY);\n  };\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    handleDragStart(e.clientY);\n\n    const handleMouseMove = (moveEvent: MouseEvent) => {\n      handleDragMove(moveEvent.clientY);\n    };\n\n    const handleMouseUp = (upEvent: MouseEvent) => {\n      handleDragEnd(upEvent.clientY);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  return (\n    <>\n      {showBackdrop && (\n        <div\n          className={`${styles.backdrop} ${open ? styles.backdropShow : ''}`}\n          onClick={onClose}\n        />\n      )}\n      <div\n        ref={sheetRef}\n        className={`${styles.bottomSheet} ${styles[height]} ${open ? styles.open : ''} ${className}`}\n      >\n        {showHandle && (\n          <div\n            className={styles.handle}\n            onTouchStart={handleTouchStart}\n            onTouchMove={handleTouchMove}\n            onTouchEnd={handleTouchEnd}\n            onMouseDown={handleMouseDown}\n          >\n            <div className={styles.dragIndicator} />\n          </div>\n        )}\n\n        {title && (\n          <div className={styles.header}>\n            <h3 className={styles.title}>{title}</h3>\n            {closeButton && (\n              <button className={styles.closeButton} onClick={onClose} aria-label=\"Close\">\n                <X className={styles.closeIcon} />\n              </button>\n            )}\n          </div>\n        )}\n\n        <div className={styles.content}>{children}</div>\n\n        {footer && <div className={styles.footer}>{footer}</div>}\n      </div>\n    </>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  BottomSheet,\n};\n"],"names":["BottomSheet","open","onClose","height","title","showHandle","showBackdrop","closeButton","footer","children","className","sheetRef","useRef","startYRef","currentYRef","useEffect","handleDragStart","clientY","handleDragMove","deltaY","handleDragEnd","handleTouchStart","handleTouchMove","handleTouchEnd","handleMouseDown","handleMouseMove","moveEvent","handleMouseUp","upEvent","jsxs","Fragment","jsx","styles","X"],"mappings":"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"}