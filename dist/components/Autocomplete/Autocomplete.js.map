{"version":3,"file":"Autocomplete.js","sources":["../../../src/components/Autocomplete/Autocomplete.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { Search, X, SearchX, Loader2 } from 'lucide-react';\nimport styles from './Autocomplete.module.css';\n\nexport interface AutocompleteOption {\n  /** Unique value for the option */\n  value: string;\n  /** Display label */\n  label: string;\n  /** Optional icon */\n  icon?: ReactNode;\n  /** Optional description */\n  description?: string;\n  /** Optional category */\n  category?: string;\n  /** Disabled state */\n  disabled?: boolean;\n}\n\nexport type AutocompleteSize = 'sm' | 'md' | 'lg';\n\nexport interface AutocompleteProps {\n  /** Available options */\n  options: AutocompleteOption[];\n  /** Selected value (controlled) */\n  value?: string | string[];\n  /** Default value (uncontrolled) */\n  defaultValue?: string | string[];\n  /** Change handler */\n  onChange?: (value: string | string[]) => void;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Loading state */\n  loading?: boolean;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Size variant */\n  size?: AutocompleteSize;\n  /** Allow multiple selection */\n  multiple?: boolean;\n  /** Empty state message */\n  emptyMessage?: string;\n  /** Minimum characters before showing suggestions */\n  minChars?: number;\n  /** Filter function (default: case-insensitive includes) */\n  filterFn?: (option: AutocompleteOption, query: string) => boolean;\n  /** Additional CSS class */\n  className?: string;\n  /** ARIA label */\n  'aria-label'?: string;\n}\n\nconst defaultFilterFn = (option: AutocompleteOption, query: string): boolean => {\n  const lowerQuery = query.toLowerCase();\n  return (\n    option.label.toLowerCase().includes(lowerQuery) ||\n    option.value.toLowerCase().includes(lowerQuery) ||\n    (option.description?.toLowerCase().includes(lowerQuery) ?? false)\n  );\n};\n\n/**\n * Autocomplete Component\n *\n * Input field with suggestions and search functionality.\n * Supports single/multiple selection, categories, loading states, and keyboard navigation.\n *\n * @example\n * ```tsx\n * <Autocomplete\n *   options={devices}\n *   placeholder=\"Search devices...\"\n *   onChange={(value) => console.log(value)}\n * />\n * ```\n *\n * @example\n * ```tsx\n * // Multiple selection\n * <Autocomplete\n *   options={sensors}\n *   multiple\n *   placeholder=\"Select sensors...\"\n *   onChange={(values) => console.log(values)}\n * />\n * ```\n */\nexport const Autocomplete = ({\n  options,\n  value: controlledValue,\n  defaultValue,\n  onChange,\n  placeholder = 'Search...',\n  loading = false,\n  disabled = false,\n  size = 'md',\n  multiple = false,\n  emptyMessage = 'No results found',\n  minChars = 0,\n  filterFn = defaultFilterFn,\n  className = '',\n  'aria-label': ariaLabel = 'Autocomplete',\n}: AutocompleteProps) => {\n  // Controlled/uncontrolled value management\n  const isControlled = controlledValue !== undefined;\n  const [uncontrolledValue, setUncontrolledValue] = useState<string | string[]>(\n    defaultValue || (multiple ? [] : '')\n  );\n  const currentValue = isControlled ? controlledValue : uncontrolledValue;\n\n  // Component state\n  const [inputValue, setInputValue] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n\n  // Refs\n  const containerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Filtered options\n  const filteredOptions = inputValue.length >= minChars\n    ? options.filter(option => filterFn(option, inputValue))\n    : options;\n\n  // Group options by category\n  const groupedOptions: Record<string, AutocompleteOption[]> = {};\n  filteredOptions.forEach(option => {\n    const category = option.category || '';\n    if (!groupedOptions[category]) {\n      groupedOptions[category] = [];\n    }\n    groupedOptions[category].push(option);\n  });\n\n  // Selected values as array\n  const selectedValues = Array.isArray(currentValue) ? currentValue : currentValue ? [currentValue] : [];\n\n  // Handle selection\n  const handleSelect = useCallback((option: AutocompleteOption) => {\n    if (option.disabled) return;\n\n    let newValue: string | string[];\n\n    if (multiple) {\n      const values = Array.isArray(currentValue) ? currentValue : [];\n      if (values.includes(option.value)) {\n        newValue = values.filter(v => v !== option.value);\n      } else {\n        newValue = [...values, option.value];\n      }\n    } else {\n      newValue = option.value;\n      setInputValue('');\n      setIsOpen(false);\n    }\n\n    if (!isControlled) {\n      setUncontrolledValue(newValue);\n    }\n\n    onChange?.(newValue);\n  }, [currentValue, multiple, isControlled, onChange]);\n\n  // Handle remove (for multiple selection)\n  const handleRemove = useCallback((valueToRemove: string) => {\n    if (!multiple) return;\n\n    const values = Array.isArray(currentValue) ? currentValue : [];\n    const newValue = values.filter(v => v !== valueToRemove);\n\n    if (!isControlled) {\n      setUncontrolledValue(newValue);\n    }\n\n    onChange?.(newValue);\n  }, [currentValue, multiple, isControlled, onChange]);\n\n  // Handle input change\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    setInputValue(newValue);\n    setIsOpen(true);\n    setHighlightedIndex(-1);\n  };\n\n  // Handle input focus\n  const handleInputFocus = () => {\n    if (!disabled) {\n      setIsOpen(true);\n    }\n  };\n\n  // Handle keyboard navigation\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (!isOpen && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {\n      setIsOpen(true);\n      e.preventDefault();\n      return;\n    }\n\n    if (!isOpen) return;\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setHighlightedIndex(prev =>\n          prev < filteredOptions.length - 1 ? prev + 1 : prev\n        );\n        break;\n\n      case 'ArrowUp':\n        e.preventDefault();\n        setHighlightedIndex(prev => (prev > 0 ? prev - 1 : 0));\n        break;\n\n      case 'Enter':\n        e.preventDefault();\n        if (highlightedIndex >= 0 && highlightedIndex < filteredOptions.length) {\n          handleSelect(filteredOptions[highlightedIndex]);\n        }\n        break;\n\n      case 'Escape':\n        e.preventDefault();\n        setIsOpen(false);\n        setHighlightedIndex(-1);\n        break;\n\n      case 'Tab':\n        setIsOpen(false);\n        break;\n    }\n  };\n\n  // Click outside to close\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Scroll highlighted item into view\n  useEffect(() => {\n    if (highlightedIndex >= 0 && dropdownRef.current) {\n      const highlightedItem = dropdownRef.current.children[highlightedIndex] as HTMLElement;\n      if (highlightedItem && highlightedItem.scrollIntoView) {\n        highlightedItem.scrollIntoView({ block: 'nearest' });\n      }\n    }\n  }, [highlightedIndex]);\n\n  // Get selected options for display\n  const selectedOptions = options.filter(opt => selectedValues.includes(opt.value));\n\n  const sizeClass = size !== 'md' ? styles[`autocomplete${size.charAt(0).toUpperCase() + size.slice(1)}`] : '';\n  const multipleClass = multiple ? styles.autocompleteMultiple : '';\n\n  return (\n    <div\n      ref={containerRef}\n      className={`${styles.autocomplete} ${sizeClass} ${multipleClass} ${className}`}\n      role=\"combobox\"\n      aria-expanded={isOpen}\n      aria-haspopup=\"listbox\"\n      aria-owns=\"autocomplete-listbox\"\n      aria-label={ariaLabel}\n    >\n      <div className={`${styles.autocompleteInputWrapper} ${loading ? styles.autocompleteLoading : ''}`}>\n        {multiple && selectedOptions.length > 0 && (\n          <div className={styles.autocompleteTags}>\n            {selectedOptions.map(option => (\n              <span key={option.value} className=\"tag tag-sm tag-primary\">\n                {option.label}\n                <button\n                  type=\"button\"\n                  className=\"tag-remove\"\n                  onClick={() => handleRemove(option.value)}\n                  aria-label={`Remove ${option.label}`}\n                >\n                  <X size={14} />\n                </button>\n              </span>\n            ))}\n            <input\n              ref={inputRef}\n              type=\"text\"\n              className={`${styles.autocompleteInput} ${styles.autocompleteInputInline}`}\n              value={inputValue}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n              onKeyDown={handleKeyDown}\n              placeholder={selectedOptions.length > 0 ? 'Add more...' : placeholder}\n              disabled={disabled}\n              aria-autocomplete=\"list\"\n              aria-controls=\"autocomplete-listbox\"\n              aria-activedescendant={\n                highlightedIndex >= 0 ? `autocomplete-option-${highlightedIndex}` : undefined\n              }\n            />\n          </div>\n        )}\n\n        {!multiple && (\n          <>\n            <input\n              ref={inputRef}\n              type=\"text\"\n              className={styles.autocompleteInput}\n              value={inputValue}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n              onKeyDown={handleKeyDown}\n              placeholder={placeholder}\n              disabled={disabled}\n              aria-autocomplete=\"list\"\n              aria-controls=\"autocomplete-listbox\"\n              aria-activedescendant={\n                highlightedIndex >= 0 ? `autocomplete-option-${highlightedIndex}` : undefined\n              }\n            />\n            {loading ? (\n              <Loader2 className={styles.autocompleteSpinner} size={20} />\n            ) : (\n              <Search className={styles.autocompleteIcon} size={20} />\n            )}\n          </>\n        )}\n      </div>\n\n      {isOpen && (\n        <div\n          ref={dropdownRef}\n          className={styles.autocompleteDropdown}\n          role=\"listbox\"\n          id=\"autocomplete-listbox\"\n          aria-label=\"Suggestions\"\n        >\n          {loading ? (\n            <div className={styles.autocompleteLoadingText}>Loading results...</div>\n          ) : filteredOptions.length === 0 ? (\n            <div className={styles.autocompleteEmpty}>\n              <SearchX size={48} />\n              <p>{emptyMessage}</p>\n              <span>Try adjusting your search terms</span>\n            </div>\n          ) : (\n            Object.entries(groupedOptions).map(([category, categoryOptions]) => (\n              <div key={category}>\n                {category && <div className={styles.autocompleteCategory}>{category}</div>}\n                {categoryOptions.map((option) => {\n                  const globalIndex = filteredOptions.indexOf(option);\n                  const isHighlighted = globalIndex === highlightedIndex;\n                  const isSelected = selectedValues.includes(option.value);\n\n                  return (\n                    <div\n                      key={option.value}\n                      id={`autocomplete-option-${globalIndex}`}\n                      role=\"option\"\n                      aria-selected={isSelected}\n                      aria-disabled={option.disabled}\n                      className={`${styles.autocompleteItem} ${\n                        option.description ? styles.autocompleteItemWithDesc : ''\n                      } ${isHighlighted ? styles.autocompleteItemActive : ''} ${\n                        option.disabled ? styles.autocompleteItemDisabled : ''\n                      }`}\n                      onClick={() => handleSelect(option)}\n                      onMouseEnter={() => setHighlightedIndex(globalIndex)}\n                    >\n                      {option.description ? (\n                        <>\n                          {option.icon && (\n                            <div className={styles.autocompleteItemIcon}>{option.icon}</div>\n                          )}\n                          <div className={styles.autocompleteItemContent}>\n                            <div className={styles.autocompleteItemTitle}>{option.label}</div>\n                            <div className={styles.autocompleteItemDescription}>\n                              {option.description}\n                            </div>\n                          </div>\n                        </>\n                      ) : (\n                        <>\n                          {option.icon}\n                          <span>{option.label}</span>\n                        </>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nAutocomplete.displayName = 'Autocomplete';\n"],"names":["defaultFilterFn","option","query","lowerQuery","Autocomplete","options","controlledValue","defaultValue","onChange","placeholder","loading","disabled","size","multiple","emptyMessage","minChars","filterFn","className","ariaLabel","isControlled","uncontrolledValue","setUncontrolledValue","useState","currentValue","inputValue","setInputValue","isOpen","setIsOpen","highlightedIndex","setHighlightedIndex","containerRef","useRef","inputRef","dropdownRef","filteredOptions","groupedOptions","category","selectedValues","handleSelect","useCallback","newValue","values","v","handleRemove","valueToRemove","handleInputChange","handleInputFocus","handleKeyDown","prev","useEffect","handleClickOutside","event","highlightedItem","selectedOptions","opt","sizeClass","styles","multipleClass","jsxs","jsx","X","Fragment","Loader2","Search","SearchX","categoryOptions","globalIndex","isHighlighted","isSelected"],"mappings":"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"}