{"version":3,"file":"Autocomplete.cjs","sources":["../../../src/components/Autocomplete/Autocomplete.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { Search, X, SearchX, Loader2 } from 'lucide-react';\nimport styles from './Autocomplete.module.css';\n\nexport interface AutocompleteOption {\n  /** Unique value for the option */\n  value: string;\n  /** Display label */\n  label: string;\n  /** Optional icon */\n  icon?: ReactNode;\n  /** Optional description */\n  description?: string;\n  /** Optional category */\n  category?: string;\n  /** Disabled state */\n  disabled?: boolean;\n}\n\nexport type AutocompleteSize = 'sm' | 'md' | 'lg';\n\nexport interface AutocompleteProps {\n  /** Available options */\n  options: AutocompleteOption[];\n  /** Selected value (controlled) */\n  value?: string | string[];\n  /** Default value (uncontrolled) */\n  defaultValue?: string | string[];\n  /** Change handler */\n  onChange?: (value: string | string[]) => void;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Loading state */\n  loading?: boolean;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Size variant */\n  size?: AutocompleteSize;\n  /** Allow multiple selection */\n  multiple?: boolean;\n  /** Empty state message */\n  emptyMessage?: string;\n  /** Minimum characters before showing suggestions */\n  minChars?: number;\n  /** Filter function (default: case-insensitive includes) */\n  filterFn?: (option: AutocompleteOption, query: string) => boolean;\n  /** Additional CSS class */\n  className?: string;\n  /** ARIA label */\n  'aria-label'?: string;\n}\n\nconst defaultFilterFn = (option: AutocompleteOption, query: string): boolean => {\n  const lowerQuery = query.toLowerCase();\n  return (\n    option.label.toLowerCase().includes(lowerQuery) ||\n    option.value.toLowerCase().includes(lowerQuery) ||\n    (option.description?.toLowerCase().includes(lowerQuery) ?? false)\n  );\n};\n\n/**\n * Autocomplete Component\n *\n * Input field with suggestions and search functionality.\n * Supports single/multiple selection, categories, loading states, and keyboard navigation.\n *\n * @example\n * ```tsx\n * <Autocomplete\n *   options={devices}\n *   placeholder=\"Search devices...\"\n *   onChange={(value) => console.log(value)}\n * />\n * ```\n *\n * @example\n * ```tsx\n * // Multiple selection\n * <Autocomplete\n *   options={sensors}\n *   multiple\n *   placeholder=\"Select sensors...\"\n *   onChange={(values) => console.log(values)}\n * />\n * ```\n */\nexport const Autocomplete = ({\n  options,\n  value: controlledValue,\n  defaultValue,\n  onChange,\n  placeholder = 'Search...',\n  loading = false,\n  disabled = false,\n  size = 'md',\n  multiple = false,\n  emptyMessage = 'No results found',\n  minChars = 0,\n  filterFn = defaultFilterFn,\n  className = '',\n  'aria-label': ariaLabel = 'Autocomplete',\n}: AutocompleteProps) => {\n  // Controlled/uncontrolled value management\n  const isControlled = controlledValue !== undefined;\n  const [uncontrolledValue, setUncontrolledValue] = useState<string | string[]>(\n    defaultValue || (multiple ? [] : '')\n  );\n  const currentValue = isControlled ? controlledValue : uncontrolledValue;\n\n  // Component state\n  const [inputValue, setInputValue] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n\n  // Refs\n  const containerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Filtered options\n  const filteredOptions = inputValue.length >= minChars\n    ? options.filter(option => filterFn(option, inputValue))\n    : options;\n\n  // Group options by category\n  const groupedOptions: Record<string, AutocompleteOption[]> = {};\n  filteredOptions.forEach(option => {\n    const category = option.category || '';\n    if (!groupedOptions[category]) {\n      groupedOptions[category] = [];\n    }\n    groupedOptions[category].push(option);\n  });\n\n  // Selected values as array\n  const selectedValues = Array.isArray(currentValue) ? currentValue : currentValue ? [currentValue] : [];\n\n  // Handle selection\n  const handleSelect = useCallback((option: AutocompleteOption) => {\n    if (option.disabled) return;\n\n    let newValue: string | string[];\n\n    if (multiple) {\n      const values = Array.isArray(currentValue) ? currentValue : [];\n      if (values.includes(option.value)) {\n        newValue = values.filter(v => v !== option.value);\n      } else {\n        newValue = [...values, option.value];\n      }\n    } else {\n      newValue = option.value;\n      setInputValue('');\n      setIsOpen(false);\n    }\n\n    if (!isControlled) {\n      setUncontrolledValue(newValue);\n    }\n\n    onChange?.(newValue);\n  }, [currentValue, multiple, isControlled, onChange]);\n\n  // Handle remove (for multiple selection)\n  const handleRemove = useCallback((valueToRemove: string) => {\n    if (!multiple) return;\n\n    const values = Array.isArray(currentValue) ? currentValue : [];\n    const newValue = values.filter(v => v !== valueToRemove);\n\n    if (!isControlled) {\n      setUncontrolledValue(newValue);\n    }\n\n    onChange?.(newValue);\n  }, [currentValue, multiple, isControlled, onChange]);\n\n  // Handle input change\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    setInputValue(newValue);\n    setIsOpen(true);\n    setHighlightedIndex(-1);\n  };\n\n  // Handle input focus\n  const handleInputFocus = () => {\n    if (!disabled) {\n      setIsOpen(true);\n    }\n  };\n\n  // Handle keyboard navigation\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (!isOpen && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {\n      setIsOpen(true);\n      e.preventDefault();\n      return;\n    }\n\n    if (!isOpen) return;\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setHighlightedIndex(prev =>\n          prev < filteredOptions.length - 1 ? prev + 1 : prev\n        );\n        break;\n\n      case 'ArrowUp':\n        e.preventDefault();\n        setHighlightedIndex(prev => (prev > 0 ? prev - 1 : 0));\n        break;\n\n      case 'Enter':\n        e.preventDefault();\n        if (highlightedIndex >= 0 && highlightedIndex < filteredOptions.length) {\n          handleSelect(filteredOptions[highlightedIndex]);\n        }\n        break;\n\n      case 'Escape':\n        e.preventDefault();\n        setIsOpen(false);\n        setHighlightedIndex(-1);\n        break;\n\n      case 'Tab':\n        setIsOpen(false);\n        break;\n    }\n  };\n\n  // Click outside to close\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Scroll highlighted item into view\n  useEffect(() => {\n    if (highlightedIndex >= 0 && dropdownRef.current) {\n      const highlightedItem = dropdownRef.current.children[highlightedIndex] as HTMLElement;\n      if (highlightedItem && highlightedItem.scrollIntoView) {\n        highlightedItem.scrollIntoView({ block: 'nearest' });\n      }\n    }\n  }, [highlightedIndex]);\n\n  // Get selected options for display\n  const selectedOptions = options.filter(opt => selectedValues.includes(opt.value));\n\n  const sizeClass = size !== 'md' ? styles[`autocomplete${size.charAt(0).toUpperCase() + size.slice(1)}`] : '';\n  const multipleClass = multiple ? styles.autocompleteMultiple : '';\n\n  return (\n    <div\n      ref={containerRef}\n      className={`${styles.autocomplete} ${sizeClass} ${multipleClass} ${className}`}\n      role=\"combobox\"\n      aria-expanded={isOpen}\n      aria-haspopup=\"listbox\"\n      aria-owns=\"autocomplete-listbox\"\n      aria-label={ariaLabel}\n    >\n      <div className={`${styles.autocompleteInputWrapper} ${loading ? styles.autocompleteLoading : ''}`}>\n        {multiple && selectedOptions.length > 0 && (\n          <div className={styles.autocompleteTags}>\n            {selectedOptions.map(option => (\n              <span key={option.value} className=\"tag tag-sm tag-primary\">\n                {option.label}\n                <button\n                  type=\"button\"\n                  className=\"tag-remove\"\n                  onClick={() => handleRemove(option.value)}\n                  aria-label={`Remove ${option.label}`}\n                >\n                  <X size={14} />\n                </button>\n              </span>\n            ))}\n            <input\n              ref={inputRef}\n              type=\"text\"\n              className={`${styles.autocompleteInput} ${styles.autocompleteInputInline}`}\n              value={inputValue}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n              onKeyDown={handleKeyDown}\n              placeholder={selectedOptions.length > 0 ? 'Add more...' : placeholder}\n              disabled={disabled}\n              aria-autocomplete=\"list\"\n              aria-controls=\"autocomplete-listbox\"\n              aria-activedescendant={\n                highlightedIndex >= 0 ? `autocomplete-option-${highlightedIndex}` : undefined\n              }\n            />\n          </div>\n        )}\n\n        {!multiple && (\n          <>\n            <input\n              ref={inputRef}\n              type=\"text\"\n              className={styles.autocompleteInput}\n              value={inputValue}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n              onKeyDown={handleKeyDown}\n              placeholder={placeholder}\n              disabled={disabled}\n              aria-autocomplete=\"list\"\n              aria-controls=\"autocomplete-listbox\"\n              aria-activedescendant={\n                highlightedIndex >= 0 ? `autocomplete-option-${highlightedIndex}` : undefined\n              }\n            />\n            {loading ? (\n              <Loader2 className={styles.autocompleteSpinner} size={20} />\n            ) : (\n              <Search className={styles.autocompleteIcon} size={20} />\n            )}\n          </>\n        )}\n      </div>\n\n      {isOpen && (\n        <div\n          ref={dropdownRef}\n          className={styles.autocompleteDropdown}\n          role=\"listbox\"\n          id=\"autocomplete-listbox\"\n          aria-label=\"Suggestions\"\n        >\n          {loading ? (\n            <div className={styles.autocompleteLoadingText}>Loading results...</div>\n          ) : filteredOptions.length === 0 ? (\n            <div className={styles.autocompleteEmpty}>\n              <SearchX size={48} />\n              <p>{emptyMessage}</p>\n              <span>Try adjusting your search terms</span>\n            </div>\n          ) : (\n            Object.entries(groupedOptions).map(([category, categoryOptions]) => (\n              <div key={category}>\n                {category && <div className={styles.autocompleteCategory}>{category}</div>}\n                {categoryOptions.map((option) => {\n                  const globalIndex = filteredOptions.indexOf(option);\n                  const isHighlighted = globalIndex === highlightedIndex;\n                  const isSelected = selectedValues.includes(option.value);\n\n                  return (\n                    <div\n                      key={option.value}\n                      id={`autocomplete-option-${globalIndex}`}\n                      role=\"option\"\n                      aria-selected={isSelected}\n                      aria-disabled={option.disabled}\n                      className={`${styles.autocompleteItem} ${\n                        option.description ? styles.autocompleteItemWithDesc : ''\n                      } ${isHighlighted ? styles.autocompleteItemActive : ''} ${\n                        option.disabled ? styles.autocompleteItemDisabled : ''\n                      }`}\n                      onClick={() => handleSelect(option)}\n                      onMouseEnter={() => setHighlightedIndex(globalIndex)}\n                    >\n                      {option.description ? (\n                        <>\n                          {option.icon && (\n                            <div className={styles.autocompleteItemIcon}>{option.icon}</div>\n                          )}\n                          <div className={styles.autocompleteItemContent}>\n                            <div className={styles.autocompleteItemTitle}>{option.label}</div>\n                            <div className={styles.autocompleteItemDescription}>\n                              {option.description}\n                            </div>\n                          </div>\n                        </>\n                      ) : (\n                        <>\n                          {option.icon}\n                          <span>{option.label}</span>\n                        </>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nAutocomplete.displayName = 'Autocomplete';\n"],"names":["defaultFilterFn","option","query","lowerQuery","Autocomplete","options","controlledValue","defaultValue","onChange","placeholder","loading","disabled","size","multiple","emptyMessage","minChars","filterFn","className","ariaLabel","isControlled","uncontrolledValue","setUncontrolledValue","useState","currentValue","inputValue","setInputValue","isOpen","setIsOpen","highlightedIndex","setHighlightedIndex","containerRef","useRef","inputRef","dropdownRef","filteredOptions","groupedOptions","category","selectedValues","handleSelect","useCallback","newValue","values","v","handleRemove","valueToRemove","handleInputChange","handleInputFocus","handleKeyDown","prev","useEffect","handleClickOutside","event","highlightedItem","selectedOptions","opt","sizeClass","styles","multipleClass","jsxs","jsx","X","Fragment","Loader2","Search","SearchX","categoryOptions","globalIndex","isHighlighted","isSelected"],"mappings":"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"}