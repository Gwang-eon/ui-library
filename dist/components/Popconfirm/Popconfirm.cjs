"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("react/jsx-runtime"),r=require("react"),x=require("../Button/Button.cjs"),n=require("./Popconfirm.module.css.cjs"),y=({title:l,description:m,icon:f,iconType:v="warning",okText:k="OK",cancelText:E="Cancel",okType:N="primary",placement:b="bottom",children:i,onConfirm:g,onCancel:u,open:h,onOpenChange:P,disabled:w=!1,"aria-label":O})=>{const[R,$]=r.useState(!1),[d,C]=r.useState(!1),p=r.useRef(null),s=r.useRef(null),j=h!==void 0,a=j?h:R,c=e=>{j||$(e),P?.(e)};r.useEffect(()=>{if(!a)return;const e=t=>{p.current&&!p.current.contains(t.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]),r.useEffect(()=>{if(!a)return;const e=t=>{t.key==="Escape"&&(c(!1),u?.(),s.current&&s.current.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a,u]);const L=e=>{w||(e.preventDefault(),s.current=e.currentTarget,c(!a))},S=e=>{e.stopPropagation(),c(!1),u?.(),s.current&&s.current.focus()},q=async e=>{if(e.stopPropagation(),g){C(!0);try{await g(),c(!1),s.current&&s.current.focus()}catch(t){console.error("Popconfirm onConfirm error:",t)}finally{C(!1)}}else c(!1)},T=r.isValidElement(i)?r.cloneElement(i,{onClick:e=>{L(e);const t=i.props?.onClick;t&&t(e)}}):i,B={top:n.default.popconfirmTop,bottom:"",left:n.default.popconfirmLeft,right:n.default.popconfirmRight}[b],I=f?"":n.default[`popconfirmIcon${v.charAt(0).toUpperCase()}${v.slice(1)}`];return o.jsxs("div",{className:n.default.popconfirmContainer,ref:p,children:[T,o.jsx("div",{className:`${n.default.popconfirm} ${B} ${a?n.default.popconfirmShow:""}`,role:"alertdialog","aria-modal":"true","aria-label":O||(typeof l=="string"?l:"Confirm action"),children:o.jsxs("div",{className:n.default.popconfirmContent,children:[o.jsxs("div",{className:n.default.popconfirmMessage,children:[f&&o.jsx("span",{className:`${n.default.popconfirmIcon} ${I}`,children:f}),o.jsxs("div",{children:[o.jsx("div",{className:n.default.popconfirmTitle,children:l}),m&&o.jsx("div",{className:n.default.popconfirmDescription,children:m})]})]}),o.jsxs("div",{className:n.default.popconfirmActions,children:[o.jsx(x.Button,{variant:"secondary",size:"sm",onClick:S,disabled:d,children:E}),o.jsx(x.Button,{variant:N,size:"sm",onClick:q,disabled:d,loading:d,autoFocus:!0,children:k})]})]})})]})};y.displayName="Popconfirm";exports.Popconfirm=y;
//# sourceMappingURL=Popconfirm.cjs.map
