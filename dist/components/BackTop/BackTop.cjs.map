{"version":3,"file":"BackTop.cjs","sources":["../../../src/components/BackTop/BackTop.tsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useRef } from 'react';\nimport { ArrowUp } from 'lucide-react';\nimport styles from './BackTop.module.css';\n\nexport interface BackTopProps {\n  /** Scroll threshold in pixels before button appears */\n  threshold?: number;\n  /** Duration of scroll animation in milliseconds */\n  duration?: number;\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** Visual variant */\n  variant?: 'default' | 'primary' | 'outline';\n  /** Position on screen */\n  position?: 'right' | 'left';\n  /** Show text label with icon */\n  showText?: boolean;\n  /** Text label to display */\n  text?: string;\n  /** Target element to scroll (defaults to window) */\n  target?: () => HTMLElement | Window | null;\n  /** Callback when button is clicked */\n  onClick?: () => void;\n  /** Additional CSS class */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n  /** Children (icon override) */\n  children?: React.ReactNode;\n}\n\n/**\n * BackTop Component\n *\n * Button to scroll back to the top of the page when user scrolls down.\n * Appears after scrolling past a threshold and smoothly scrolls to top when clicked.\n *\n * @example\n * ```tsx\n * <BackTop />\n * <BackTop threshold={300} showText text=\"Top\" />\n * <BackTop variant=\"primary\" size=\"lg\" />\n * ```\n */\nexport const BackTop: React.FC<BackTopProps> = ({\n  threshold = 400,\n  duration: _duration = 450,\n  size = 'md',\n  variant = 'default',\n  position = 'right',\n  showText = false,\n  text = 'Top',\n  target,\n  onClick,\n  className,\n  style,\n  children,\n}) => {\n  const [visible, setVisible] = useState(false);\n  const rafRef = useRef<number | null>(null);\n\n  const getScrollTop = useCallback(() => {\n    const targetElement = target?.();\n    if (!targetElement) {\n      return window.pageYOffset || document.documentElement.scrollTop;\n    }\n    if (targetElement === window) {\n      return window.pageYOffset || document.documentElement.scrollTop;\n    }\n    return (targetElement as HTMLElement).scrollTop;\n  }, [target]);\n\n  const handleScroll = useCallback(() => {\n    if (rafRef.current !== null) {\n      cancelAnimationFrame(rafRef.current);\n    }\n\n    rafRef.current = requestAnimationFrame(() => {\n      const scrollTop = getScrollTop();\n      setVisible(scrollTop > threshold);\n    });\n  }, [threshold, getScrollTop]);\n\n  const scrollToTop = useCallback(() => {\n    onClick?.();\n\n    const targetElement = target?.();\n    const scrollElement = !targetElement || targetElement === window\n      ? window\n      : (targetElement as HTMLElement);\n\n    // Check for reduced motion preference\n    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n\n    if (prefersReducedMotion) {\n      // Instant scroll for reduced motion\n      if (scrollElement === window) {\n        window.scrollTo(0, 0);\n      } else {\n        (scrollElement as HTMLElement).scrollTop = 0;\n      }\n      return;\n    }\n\n    // Smooth scroll\n    if (scrollElement === window) {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    } else {\n      (scrollElement as HTMLElement).scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  }, [target, onClick]);\n\n  useEffect(() => {\n    const targetElement = target?.() || window;\n    const scrollElement = targetElement === window ? window : (targetElement as HTMLElement);\n\n    handleScroll(); // Initial check\n    scrollElement.addEventListener('scroll', handleScroll, { passive: true });\n\n    return () => {\n      scrollElement.removeEventListener('scroll', handleScroll);\n      if (rafRef.current !== null) {\n        cancelAnimationFrame(rafRef.current);\n      }\n    };\n  }, [target, handleScroll]);\n\n  const buttonClasses = [\n    styles.backtop,\n    visible && styles.visible,\n    size !== 'md' && styles[size],\n    variant !== 'default' && styles[variant],\n    position === 'left' && styles.left,\n    showText && styles.withText,\n    className,\n  ].filter(Boolean).join(' ');\n\n  return (\n    <button\n      className={buttonClasses}\n      style={style}\n      onClick={scrollToTop}\n      aria-label=\"Back to top\"\n      aria-hidden={!visible}\n      type=\"button\"\n    >\n      {children || <ArrowUp aria-hidden=\"true\" />}\n      {showText && <span>{text}</span>}\n    </button>\n  );\n};\n\nBackTop.displayName = 'BackTop';\n"],"names":["BackTop","threshold","_duration","size","variant","position","showText","text","target","onClick","className","style","children","visible","setVisible","useState","rafRef","useRef","getScrollTop","useCallback","targetElement","handleScroll","scrollTop","scrollToTop","scrollElement","useEffect","buttonClasses","styles","jsxs","jsx","ArrowUp"],"mappings":"wMA4CaA,EAAkC,CAAC,CAC9C,UAAAC,EAAY,IACZ,SAAUC,EAAY,IACtB,KAAAC,EAAO,KACP,QAAAC,EAAU,UACV,SAAAC,EAAW,QACX,SAAAC,EAAW,GACX,KAAAC,EAAO,MACP,OAAAC,EACA,QAAAC,EACA,UAAAC,EACA,MAAAC,EACA,SAAAC,CACF,IAAM,CACJ,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAK,EACtCC,EAASC,EAAAA,OAAsB,IAAI,EAEnCC,EAAeC,EAAAA,YAAY,IAAM,CACrC,MAAMC,EAAgBZ,IAAA,EAItB,MAHI,CAACY,GAGDA,IAAkB,OACb,OAAO,aAAe,SAAS,gBAAgB,UAEhDA,EAA8B,SACxC,EAAG,CAACZ,CAAM,CAAC,EAELa,EAAeF,EAAAA,YAAY,IAAM,CACjCH,EAAO,UAAY,MACrB,qBAAqBA,EAAO,OAAO,EAGrCA,EAAO,QAAU,sBAAsB,IAAM,CAC3C,MAAMM,EAAYJ,EAAA,EAClBJ,EAAWQ,EAAYrB,CAAS,CAClC,CAAC,CACH,EAAG,CAACA,EAAWiB,CAAY,CAAC,EAEtBK,EAAcJ,EAAAA,YAAY,IAAM,CACpCV,IAAA,EAEA,MAAMW,EAAgBZ,IAAA,EAChBgB,EAAgB,CAACJ,GAAiBA,IAAkB,OACtD,OACCA,EAKL,GAF6B,OAAO,WAAW,kCAAkC,EAAE,QAEzD,CAEpBI,IAAkB,OACpB,OAAO,SAAS,EAAG,CAAC,EAEnBA,EAA8B,UAAY,EAE7C,MACF,CAGIA,IAAkB,OACpB,OAAO,SAAS,CAAE,IAAK,EAAG,SAAU,SAAU,EAE7CA,EAA8B,SAAS,CAAE,IAAK,EAAG,SAAU,SAAU,CAE1E,EAAG,CAAChB,EAAQC,CAAO,CAAC,EAEpBgB,EAAAA,UAAU,IAAM,CACd,MAAML,EAAgBZ,OAAc,OAC9BgB,EAAgBJ,IAAkB,OAAS,OAAUA,EAE3D,OAAAC,EAAA,EACAG,EAAc,iBAAiB,SAAUH,EAAc,CAAE,QAAS,GAAM,EAEjE,IAAM,CACXG,EAAc,oBAAoB,SAAUH,CAAY,EACpDL,EAAO,UAAY,MACrB,qBAAqBA,EAAO,OAAO,CAEvC,CACF,EAAG,CAACR,EAAQa,CAAY,CAAC,EAEzB,MAAMK,EAAgB,CACpBC,EAAAA,QAAO,QACPd,GAAWc,EAAAA,QAAO,QAClBxB,IAAS,MAAQwB,EAAAA,QAAOxB,CAAI,EAC5BC,IAAY,WAAauB,EAAAA,QAAOvB,CAAO,EACvCC,IAAa,QAAUsB,EAAAA,QAAO,KAC9BrB,GAAYqB,EAAAA,QAAO,SACnBjB,CAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,EAE1B,OACEkB,EAAAA,KAAC,SAAA,CACC,UAAWF,EACX,MAAAf,EACA,QAASY,EACT,aAAW,cACX,cAAa,CAACV,EACd,KAAK,SAEJ,SAAA,CAAAD,GAAYiB,EAAAA,IAACC,EAAAA,QAAA,CAAQ,cAAY,MAAA,CAAO,EACxCxB,GAAYuB,EAAAA,IAAC,OAAA,CAAM,SAAAtB,CAAA,CAAK,CAAA,CAAA,CAAA,CAG/B,EAEAP,EAAQ,YAAc"}