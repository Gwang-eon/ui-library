"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("react/jsx-runtime"),f=require("react"),a=require("./Sidemenu.module.css.cjs"),D=c=>"items"in c&&Array.isArray(c.items),H=({items:c,activeKey:S,collapsed:o,defaultCollapsed:v=!1,onCollapse:C,onSelect:b,brandIcon:x,brandText:g="App",userInfo:d,showSearch:y=!1,searchPlaceholder:k="Search menu...",className:w="",storageKey:u="sidemenu-collapsed"})=>{const[U,A]=f.useState(()=>{if(u&&typeof window<"u"){const e=localStorage.getItem(u);return e?e==="true":v}return v}),[j,B]=f.useState(""),[M,E]=f.useState(new Set),l=o!==void 0?o:U,G=()=>{const e=!l;o===void 0&&(A(e),u&&typeof window<"u"&&localStorage.setItem(u,String(e))),C?.(e)},T=(e,n)=>{if(e.disabled){n.preventDefault();return}e.children&&e.children.length>0?(n.preventDefault(),E(i=>{const t=new Set(i);return t.has(e.key)?t.delete(e.key):t.add(e.key),t})):b?.(e.key)},N=(e,n)=>{if(!n)return!0;const i=n.toLowerCase(),t=e.title.toLowerCase().includes(i),r=e.children?.some(m=>N(m,n))||!1;return t||r},h=(e,n=0)=>{if(!N(e,j))return null;const i=M.has(e.key),t=S===e.key,r=e.children&&e.children.length>0,m=[a.default.sidemenuItem,t&&a.default.active,r&&a.default.sidemenuItemParent,i&&a.default.expanded,n>0&&a.default.sidemenuItemChild,e.disabled&&a.default.disabled].filter(Boolean).join(" "),q=e.href?"a":"div";return s.jsxs("div",{children:[s.jsxs(q,{href:e.href,className:m,onClick:p=>T(e,p),"data-tooltip":l?e.tooltip||e.title:void 0,"aria-current":t?"page":void 0,"aria-expanded":r?i:void 0,children:[e.icon&&s.jsx("span",{className:a.default.sidemenuIcon,children:e.icon}),s.jsx("span",{className:a.default.sidemenuLabel,children:e.title}),e.badge&&s.jsx("span",{className:a.default.sidemenuBadge,children:e.badge}),r&&!l&&s.jsx("span",{className:a.default.sidemenuChevron,children:i?"▼":"▶"})]}),r&&!l&&i&&s.jsx("div",{className:a.default.sidemenuSubmenu,"data-level":n+1,children:e.children.map(p=>h(p,n+1))})]},e.key)},L=e=>s.jsxs("div",{className:a.default.sidemenuGroupWrapper,children:[s.jsxs("div",{className:a.default.sidemenuGroupHeader,children:[e.icon&&s.jsx("span",{children:e.icon}),s.jsx("span",{children:e.title})]}),e.items.map(n=>h(n))]},e.title),$=()=>{if(!d)return null;if(typeof d.avatar=="string")return d.avatar.startsWith("http")?s.jsx("img",{src:d.avatar,alt:d.name}):s.jsx("div",{className:a.default.sidemenuUserAvatar,children:d.avatar});if(d.avatar)return d.avatar;const e=d.name.split(" ").map(n=>n[0]).join("").toUpperCase().slice(0,2);return s.jsx("div",{className:a.default.sidemenuUserAvatar,children:e})};return s.jsxs("nav",{className:`${a.default.sidemenu} ${l?a.default.collapsed:""} ${w}`,role:"navigation","aria-label":"Main navigation",children:[s.jsxs("div",{className:a.default.sidemenuHeader,children:[x&&s.jsx("span",{className:a.default.sidemenuBrandIcon,children:x}),s.jsx("span",{className:a.default.sidemenuBrandText,children:g}),s.jsx("button",{className:a.default.sidemenuCollapseBtn,onClick:G,"aria-label":l?"Expand sidebar":"Collapse sidebar","aria-expanded":!l,children:s.jsx("span",{children:l?"→":"←"})})]}),y&&!l&&s.jsx("div",{className:a.default.sidemenuSearch,children:s.jsx("input",{type:"text",className:a.default.sidemenuSearchInput,placeholder:k,value:j,onChange:e=>B(e.target.value),"aria-label":"Search menu"})}),s.jsx("div",{className:a.default.sidemenuNav,children:c.map(e=>D(e)?L(e):h(e))}),d&&s.jsx("div",{className:a.default.sidemenuFooter,children:s.jsxs("div",{className:a.default.sidemenuUser,children:[$(),s.jsxs("div",{className:a.default.sidemenuUserInfo,children:[s.jsx("div",{className:a.default.sidemenuUserName,children:d.name}),d.email&&s.jsx("div",{className:a.default.sidemenuUserEmail,children:d.email})]})]})})]})};exports.Sidemenu=H;
//# sourceMappingURL=Sidemenu.cjs.map
