"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("react/jsx-runtime"),l=require("react"),t=require("./Knob.module.css.cjs"),ne=({value:b,defaultValue:B=0,min:r=0,max:u=100,step:f=1,label:m,showLabels:I=!1,showIndicator:K=!0,size:y="md",variant:T="primary",disabled:h=!1,readOnly:g=!1,onChange:L,className:V=""})=>{const[$,q]=l.useState(B),[D,p]=l.useState(!1),w=l.useRef(null),A=l.useRef(0),M=l.useRef(0),c=b!==void 0?b:$,E=l.useCallback(e=>Math.max(r,Math.min(u,e)),[r,u]),S=l.useCallback(e=>Math.round(e/f)*f,[f]),U=l.useCallback(e=>{const a=f.toString().includes(".")?f.toString().split(".")[1].length:0;return e.toFixed(a)},[f]),R=l.useCallback(e=>{const a=E(S(e));b===void 0&&q(a),L?.(a)},[E,S,b,L]),j=(e,a)=>{if(!w.current)return 0;const s=w.current.getBoundingClientRect(),n=s.left+s.width/2,d=s.top+s.height/2,v=e-n,Y=a-d;let i=Math.atan2(Y,v)*(180/Math.PI);return i=(i+360)%360,i},F=e=>{h||g||(e.preventDefault(),p(!0),A.current=j(e.clientX,e.clientY),M.current=c)},W=e=>{if(h||g)return;e.preventDefault();const a=e.touches[0];p(!0),A.current=j(a.clientX,a.clientY),M.current=c},H=e=>{if(h||g)return;const s=(u-r)*.1;let n=c;switch(e.key){case"ArrowUp":case"ArrowRight":e.preventDefault(),n=c+f;break;case"ArrowDown":case"ArrowLeft":e.preventDefault(),n=c-f;break;case"PageUp":e.preventDefault(),n=c+s;break;case"PageDown":e.preventDefault(),n=c-s;break;case"Home":e.preventDefault(),n=r;break;case"End":e.preventDefault(),n=u;break;default:return}R(n)};l.useEffect(()=>{if(!D)return;const e=(d,v)=>{let i=j(d,v)-A.current;i>180&&(i-=360),i<-180&&(i+=360);const O=u-r,ee=i/360*O,te=M.current+ee;R(te)},a=d=>{e(d.clientX,d.clientY)},s=d=>{d.preventDefault();const v=d.touches[0];e(v.clientX,v.clientY)},n=()=>{p(!1)};return document.addEventListener("mousemove",a),document.addEventListener("mouseup",n),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",n),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",n),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",n)}},[D,u,r,R]);const k=85,x=2*Math.PI*k,N=(c-r)/(u-r),C=135,P=270,_=C+N*P,G=P/360*x*N,J=x-G,X=_*Math.PI/180,Q=100+k*Math.cos(X),Z=100+k*Math.sin(X),z=[t.default.knob,y==="sm"&&t.default["knob--sm"],y==="lg"&&t.default["knob--lg"],t.default[`knob--${T}`],h&&t.default["knob--disabled"],g&&t.default["knob--readonly"],D&&t.default["knob-dragging"],V].filter(Boolean).join(" ");return o.jsx("div",{ref:w,className:z,onMouseDown:F,onTouchStart:W,onKeyDown:H,role:"slider","aria-valuenow":c,"aria-valuemin":r,"aria-valuemax":u,"aria-disabled":h,"aria-readonly":g,"aria-label":m?`${m} control`:"Value control",tabIndex:h||g?-1:0,children:o.jsxs("svg",{className:t.default["knob-svg"],viewBox:"0 0 200 200",children:[o.jsx("circle",{className:t.default["knob-track"],cx:"100",cy:"100",r:k,fill:"none",strokeWidth:"12"}),o.jsx("circle",{className:t.default["knob-progress"],cx:"100",cy:"100",r:k,fill:"none",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${x} ${x}`,strokeDashoffset:J,style:{transformOrigin:"center",transform:`rotate(${C}deg)`}}),K&&o.jsx("circle",{className:t.default["knob-handle"],cx:Q,cy:Z,r:"8"}),o.jsx("text",{className:t.default["knob-value"],x:"100",y:m?"95":"100",textAnchor:"middle",dominantBaseline:"middle",children:U(c)}),m&&o.jsx("text",{className:t.default["knob-label"],x:"100",y:"120",textAnchor:"middle",dominantBaseline:"middle",children:m}),I&&o.jsxs(o.Fragment,{children:[o.jsx("text",{className:t.default["knob-min-label"],x:"30",y:"175",textAnchor:"middle",children:r}),o.jsx("text",{className:t.default["knob-max-label"],x:"170",y:"175",textAnchor:"middle",children:u})]})]})})};exports.Knob=ne;
//# sourceMappingURL=Knob.cjs.map
