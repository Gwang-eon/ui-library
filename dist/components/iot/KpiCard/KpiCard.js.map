{"version":3,"file":"KpiCard.js","sources":["../../../../src/components/iot/KpiCard/KpiCard.tsx"],"sourcesContent":["import React from 'react';\nimport { TrendingUp, TrendingDown, Minus } from 'lucide-react';\nimport styles from './KpiCard.module.css';\n\n// ========================================\n// TYPES\n// ========================================\n\n// Type for Lucide React icons\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\nexport type TrendType = 'positive' | 'negative' | 'neutral';\n\nexport interface KpiCardProps {\n  /** KPI label/name */\n  label: string;\n  /** KPI value */\n  value: string | number;\n  /** Trend direction */\n  trend?: TrendType;\n  /** Trend value (e.g., \"12%\", \"8\", \"+15\") */\n  trendValue?: string;\n  /** Trend description (e.g., \"vs. last month\") */\n  trendDescription?: string;\n  /** Optional icon */\n  icon?: IconType;\n  /** Icon color (CSS color variable or hex) */\n  iconColor?: string;\n  /** Loading state */\n  loading?: boolean;\n  /** Additional CSS class */\n  className?: string;\n  /** Click handler */\n  onClick?: () => void;\n}\n\n// ========================================\n// KPI CARD COMPONENT\n// ========================================\n\nconst KpiCard: React.FC<KpiCardProps> = ({\n  label,\n  value,\n  trend,\n  trendValue,\n  trendDescription,\n  icon: Icon,\n  iconColor = 'var(--color-primary-500)',\n  loading = false,\n  className,\n  onClick,\n}) => {\n  // Loading state\n  if (loading) {\n    return <KpiCardSkeleton className={className} />;\n  }\n\n  // Get trend icon\n  const getTrendIcon = () => {\n    if (!trend || trend === 'neutral') {\n      return <Minus size={14} />;\n    }\n\n    // For positive trend\n    if (trend === 'positive') {\n      // Check if trend value indicates increase or decrease\n      const isIncrease = trendValue?.includes('↑') || (!trendValue?.includes('↓') && !trendValue?.includes('-'));\n      return isIncrease ? <TrendingUp size={14} /> : <TrendingDown size={14} />;\n    }\n\n    // For negative trend\n    if (trend === 'negative') {\n      // Check if trend value indicates increase or decrease\n      const isIncrease = trendValue?.includes('↑') || (!trendValue?.includes('↓') && !trendValue?.includes('-'));\n      return isIncrease ? <TrendingUp size={14} /> : <TrendingDown size={14} />;\n    }\n\n    return null;\n  };\n\n  // Clean trend value (remove arrows if using icon)\n  const cleanTrendValue = trendValue?.replace(/[↑↓→]/g, '').trim();\n\n  return (\n    <div\n      className={`${styles.kpiCard} ${className || ''}`}\n      onClick={onClick}\n      role={onClick ? 'button' : undefined}\n      tabIndex={onClick ? 0 : undefined}\n      onKeyDown={(e) => {\n        if (onClick && (e.key === 'Enter' || e.key === ' ')) {\n          e.preventDefault();\n          onClick();\n        }\n      }}\n    >\n      {/* Header with label and optional icon */}\n      <div className={styles.kpiHeader}>\n        <div className={styles.kpiLabel}>{label}</div>\n        {Icon && <Icon size={24} style={{ color: iconColor }} />}\n      </div>\n\n      {/* Value */}\n      <div className={styles.kpiValue}>{value}</div>\n\n      {/* Trend */}\n      {(trend || trendValue) && (\n        <div className={`${styles.kpiTrend} ${trend ? styles[`trend${trend.charAt(0).toUpperCase()}${trend.slice(1)}`] : ''}`}>\n          <div className={styles.trendValue}>\n            {getTrendIcon()}\n            {cleanTrendValue && <span>{cleanTrendValue}</span>}\n          </div>\n          {trendDescription && <span className={styles.trendDescription}>{trendDescription}</span>}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// ========================================\n// LOADING SKELETON\n// ========================================\n\ninterface KpiCardSkeletonProps {\n  className?: string;\n}\n\nconst KpiCardSkeleton: React.FC<KpiCardSkeletonProps> = ({ className }) => {\n  return (\n    <div className={`${styles.kpiCard} ${className || ''}`}>\n      <div className={styles.kpiHeader}>\n        <div className={`${styles.skeleton}`} style={{ height: 16, width: '50%' }} />\n        <div className={`${styles.skeleton}`} style={{ width: 24, height: 24, borderRadius: 4 }} />\n      </div>\n      <div className={`${styles.skeleton}`} style={{ height: 40, width: '60%', marginBottom: 8 }} />\n      <div className={`${styles.skeleton}`} style={{ height: 14, width: '40%' }} />\n    </div>\n  );\n};\n\n// ========================================\n// KPI CARD GRID\n// ========================================\n\ninterface KpiCardGridProps {\n  children: React.ReactNode;\n  /** Number of columns (1-6) */\n  columns?: 1 | 2 | 3 | 4 | 5 | 6;\n  className?: string;\n}\n\nconst KpiCardGrid: React.FC<KpiCardGridProps> = ({ children, columns = 4, className }) => {\n  const gridStyle = {\n    '--kpi-grid-columns': columns,\n  } as React.CSSProperties;\n\n  return (\n    <div className={`${styles.kpiCardGrid} ${className || ''}`} style={gridStyle}>\n      {children}\n    </div>\n  );\n};\n\n// ========================================\n// EXPORTS\n// ========================================\n\nKpiCard.displayName = 'KpiCard';\nKpiCardSkeleton.displayName = 'KpiCard.Skeleton';\nKpiCardGrid.displayName = 'KpiCard.Grid';\n\nexport default KpiCard;\nexport { KpiCardSkeleton, KpiCardGrid };\n"],"names":["KpiCard","label","value","trend","trendValue","trendDescription","Icon","iconColor","loading","className","onClick","jsx","KpiCardSkeleton","getTrendIcon","Minus","TrendingUp","TrendingDown","cleanTrendValue","jsxs","styles","e","KpiCardGrid","children","columns","gridStyle"],"mappings":"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"}