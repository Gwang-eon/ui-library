{"version":3,"file":"KpiCard.cjs","sources":["../../../../src/components/iot/KpiCard/KpiCard.tsx"],"sourcesContent":["import React from 'react';\nimport { TrendingUp, TrendingDown, Minus } from 'lucide-react';\nimport styles from './KpiCard.module.css';\n\n// ========================================\n// TYPES\n// ========================================\n\n// Type for Lucide React icons\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\nexport type TrendType = 'positive' | 'negative' | 'neutral';\n\nexport interface KpiCardProps {\n  /** KPI label/name */\n  label: string;\n  /** KPI value */\n  value: string | number;\n  /** Trend direction */\n  trend?: TrendType;\n  /** Trend value (e.g., \"12%\", \"8\", \"+15\") */\n  trendValue?: string;\n  /** Trend description (e.g., \"vs. last month\") */\n  trendDescription?: string;\n  /** Optional icon */\n  icon?: IconType;\n  /** Icon color (CSS color variable or hex) */\n  iconColor?: string;\n  /** Loading state */\n  loading?: boolean;\n  /** Additional CSS class */\n  className?: string;\n  /** Click handler */\n  onClick?: () => void;\n}\n\n// ========================================\n// KPI CARD COMPONENT\n// ========================================\n\nconst KpiCard: React.FC<KpiCardProps> = ({\n  label,\n  value,\n  trend,\n  trendValue,\n  trendDescription,\n  icon: Icon,\n  iconColor = 'var(--color-primary-500)',\n  loading = false,\n  className,\n  onClick,\n}) => {\n  // Loading state\n  if (loading) {\n    return <KpiCardSkeleton className={className} />;\n  }\n\n  // Get trend icon\n  const getTrendIcon = () => {\n    if (!trend || trend === 'neutral') {\n      return <Minus size={14} />;\n    }\n\n    // For positive trend\n    if (trend === 'positive') {\n      // Check if trend value indicates increase or decrease\n      const isIncrease = trendValue?.includes('↑') || (!trendValue?.includes('↓') && !trendValue?.includes('-'));\n      return isIncrease ? <TrendingUp size={14} /> : <TrendingDown size={14} />;\n    }\n\n    // For negative trend\n    if (trend === 'negative') {\n      // Check if trend value indicates increase or decrease\n      const isIncrease = trendValue?.includes('↑') || (!trendValue?.includes('↓') && !trendValue?.includes('-'));\n      return isIncrease ? <TrendingUp size={14} /> : <TrendingDown size={14} />;\n    }\n\n    return null;\n  };\n\n  // Clean trend value (remove arrows if using icon)\n  const cleanTrendValue = trendValue?.replace(/[↑↓→]/g, '').trim();\n\n  return (\n    <div\n      className={`${styles.kpiCard} ${className || ''}`}\n      onClick={onClick}\n      role={onClick ? 'button' : undefined}\n      tabIndex={onClick ? 0 : undefined}\n      onKeyDown={(e) => {\n        if (onClick && (e.key === 'Enter' || e.key === ' ')) {\n          e.preventDefault();\n          onClick();\n        }\n      }}\n    >\n      {/* Header with label and optional icon */}\n      <div className={styles.kpiHeader}>\n        <div className={styles.kpiLabel}>{label}</div>\n        {Icon && <Icon size={24} style={{ color: iconColor }} />}\n      </div>\n\n      {/* Value */}\n      <div className={styles.kpiValue}>{value}</div>\n\n      {/* Trend */}\n      {(trend || trendValue) && (\n        <div className={`${styles.kpiTrend} ${trend ? styles[`trend${trend.charAt(0).toUpperCase()}${trend.slice(1)}`] : ''}`}>\n          <div className={styles.trendValue}>\n            {getTrendIcon()}\n            {cleanTrendValue && <span>{cleanTrendValue}</span>}\n          </div>\n          {trendDescription && <span className={styles.trendDescription}>{trendDescription}</span>}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// ========================================\n// LOADING SKELETON\n// ========================================\n\ninterface KpiCardSkeletonProps {\n  className?: string;\n}\n\nconst KpiCardSkeleton: React.FC<KpiCardSkeletonProps> = ({ className }) => {\n  return (\n    <div className={`${styles.kpiCard} ${className || ''}`}>\n      <div className={styles.kpiHeader}>\n        <div className={`${styles.skeleton}`} style={{ height: 16, width: '50%' }} />\n        <div className={`${styles.skeleton}`} style={{ width: 24, height: 24, borderRadius: 4 }} />\n      </div>\n      <div className={`${styles.skeleton}`} style={{ height: 40, width: '60%', marginBottom: 8 }} />\n      <div className={`${styles.skeleton}`} style={{ height: 14, width: '40%' }} />\n    </div>\n  );\n};\n\n// ========================================\n// KPI CARD GRID\n// ========================================\n\ninterface KpiCardGridProps {\n  children: React.ReactNode;\n  /** Number of columns (1-6) */\n  columns?: 1 | 2 | 3 | 4 | 5 | 6;\n  className?: string;\n}\n\nconst KpiCardGrid: React.FC<KpiCardGridProps> = ({ children, columns = 4, className }) => {\n  const gridStyle = {\n    '--kpi-grid-columns': columns,\n  } as React.CSSProperties;\n\n  return (\n    <div className={`${styles.kpiCardGrid} ${className || ''}`} style={gridStyle}>\n      {children}\n    </div>\n  );\n};\n\n// ========================================\n// EXPORTS\n// ========================================\n\nKpiCard.displayName = 'KpiCard';\nKpiCardSkeleton.displayName = 'KpiCard.Skeleton';\nKpiCardGrid.displayName = 'KpiCard.Grid';\n\nexport default KpiCard;\nexport { KpiCardSkeleton, KpiCardGrid };\n"],"names":["KpiCard","label","value","trend","trendValue","trendDescription","Icon","iconColor","loading","className","onClick","jsx","KpiCardSkeleton","getTrendIcon","Minus","TrendingUp","TrendingDown","cleanTrendValue","jsxs","styles","e","KpiCardGrid","children","columns","gridStyle"],"mappings":"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"}