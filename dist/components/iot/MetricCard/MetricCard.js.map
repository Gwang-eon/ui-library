{"version":3,"file":"MetricCard.js","sources":["../../../../src/components/iot/MetricCard/MetricCard.tsx"],"sourcesContent":["import React from 'react';\nimport { ArrowUp, ArrowDown } from 'lucide-react';\nimport styles from './MetricCard.module.css';\n\n// Custom icon type to avoid lucide-react LucideIcon import issue\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\nexport interface MetricCardProps {\n  label: string;\n  value: string | number;\n  icon?: IconType;\n  iconColor?: string;\n  change?: {\n    type: 'positive' | 'negative' | 'neutral';\n    text: string;\n  };\n  subtext?: string;\n  variant?: 'default' | 'compact' | 'live' | 'alert';\n  progress?: {\n    value: number; // 0-100\n    color?: 'default' | 'warning' | 'error' | 'success';\n  };\n  chart?: React.ReactNode;\n  comparative?: {\n    label: string;\n    value: string | number;\n    color?: string;\n  }[];\n  onClick?: () => void;\n  loading?: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport const MetricCard: React.FC<MetricCardProps> = ({\n  label,\n  value,\n  icon: Icon,\n  iconColor,\n  change,\n  subtext,\n  variant = 'default',\n  progress,\n  chart,\n  comparative,\n  onClick,\n  loading = false,\n  className = '',\n  style,\n}) => {\n  const cardClassName = [\n    styles.metricCard,\n    variant === 'compact' && styles.compact,\n    variant === 'live' && styles.live,\n    variant === 'alert' && styles.alert,\n    onClick && styles.clickable,\n    loading && styles.loading,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  if (loading) {\n    return (\n      <div className={cardClassName} style={style}>\n        <div className={styles.header}>\n          <div className={styles.labelSkeleton} />\n          <div className={styles.iconSkeleton} />\n        </div>\n        <div className={styles.body}>\n          <div className={styles.valueSkeleton} />\n          {variant !== 'compact' && <div className={styles.subtextSkeleton} />}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cardClassName} onClick={onClick} style={style}>\n      <div className={styles.header}>\n        <span className={styles.label}>{label}</span>\n        <div className={styles.headerRight}>\n          {variant === 'live' && (\n            <span className={`${styles.statusBadge} ${styles.live}`}>\n              <span className={styles.pulse} />\n              Live\n            </span>\n          )}\n          {variant === 'alert' && (\n            <span className={`${styles.statusBadge} ${styles.alert}`}>\n              <span className={styles.pulse} />\n              Alert\n            </span>\n          )}\n          {Icon && (\n            <Icon\n              size={20}\n              className={styles.icon}\n              style={{ color: iconColor }}\n            />\n          )}\n        </div>\n      </div>\n\n      <div className={styles.body}>\n        {comparative ? (\n          <div className={styles.comparative}>\n            {comparative.map((item, index) => (\n              <div key={index} className={styles.comparativeItem}>\n                <div className={styles.comparativeLabel}>{item.label}</div>\n                <div\n                  className={styles.comparativeValue}\n                  style={{ color: item.color }}\n                >\n                  {item.value}\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <>\n            <div className={styles.value}>{value}</div>\n            {change && (\n              <div className={`${styles.change} ${styles[change.type]}`}>\n                {change.type === 'positive' && <ArrowUp size={12} />}\n                {change.type === 'negative' && <ArrowDown size={12} />}\n                <span>{change.text}</span>\n              </div>\n            )}\n            {subtext && !change && (\n              <div className={styles.subtext}>{subtext}</div>\n            )}\n          </>\n        )}\n      </div>\n\n      {progress && (\n        <div className={styles.progressContainer}>\n          <div\n            className={`${styles.progressBar} ${\n              progress.color ? styles[progress.color] : ''\n            }`}\n            style={{ width: `${progress.value}%` }}\n          />\n        </div>\n      )}\n\n      {chart && <div className={styles.chart}>{chart}</div>}\n    </div>\n  );\n};\n\n// MetricCardGrid component for layout\nexport interface MetricCardGridProps {\n  children: React.ReactNode;\n  columns?: number;\n  className?: string;\n}\n\nexport const MetricCardGrid: React.FC<MetricCardGridProps> = ({\n  children,\n  columns = 4,\n  className = '',\n}) => {\n  return (\n    <div\n      className={`${styles.grid} ${className}`}\n      style={{\n        gridTemplateColumns: `repeat(auto-fill, minmax(${\n          columns === 2 ? '300px' : columns === 3 ? '250px' : '200px'\n        }, 1fr))`,\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\n// MiniChart component for sparkline visualization\nexport interface MiniChartProps {\n  data: number[]; // Array of values\n  color?: 'primary' | 'success' | 'warning' | 'error';\n  height?: number;\n}\n\nexport const MiniChart: React.FC<MiniChartProps> = ({\n  data,\n  color = 'primary',\n  height = 40,\n}) => {\n  const max = Math.max(...data);\n  const min = Math.min(...data);\n  const range = max - min;\n\n  const getColor = (index: number, total: number) => {\n    // Gradient effect - darker towards the end\n    const intensity = Math.floor(((index + 1) / total) * 5) * 100 + 200;\n    return `var(--color-${color}-${intensity})`;\n  };\n\n  return (\n    <div\n      className={styles.miniChart}\n      style={{ height: `${height}px` }}\n      role=\"img\"\n      aria-label=\"Metric trend visualization\"\n    >\n      {data.map((value, index) => {\n        const percentage = range === 0 ? 100 : ((value - min) / range) * 100;\n        return (\n          <div\n            key={index}\n            className={styles.chartBar}\n            style={{\n              height: `${percentage}%`,\n              backgroundColor: getColor(index, data.length),\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default MetricCard;\n"],"names":["MetricCard","label","value","Icon","iconColor","change","subtext","variant","progress","chart","comparative","onClick","loading","className","style","cardClassName","styles","jsxs","jsx","item","index","Fragment","ArrowUp","ArrowDown","MetricCardGrid","children","columns","MiniChart","data","color","height","max","min","range","getColor","total","intensity","percentage"],"mappings":"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"}