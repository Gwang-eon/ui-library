{"version":3,"file":"MetricCard.cjs","sources":["../../../../src/components/iot/MetricCard/MetricCard.tsx"],"sourcesContent":["import React from 'react';\nimport { ArrowUp, ArrowDown } from 'lucide-react';\nimport styles from './MetricCard.module.css';\n\n// Custom icon type to avoid lucide-react LucideIcon import issue\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\nexport interface MetricCardProps {\n  label: string;\n  value: string | number;\n  icon?: IconType;\n  iconColor?: string;\n  change?: {\n    type: 'positive' | 'negative' | 'neutral';\n    text: string;\n  };\n  subtext?: string;\n  variant?: 'default' | 'compact' | 'live' | 'alert';\n  progress?: {\n    value: number; // 0-100\n    color?: 'default' | 'warning' | 'error' | 'success';\n  };\n  chart?: React.ReactNode;\n  comparative?: {\n    label: string;\n    value: string | number;\n    color?: string;\n  }[];\n  onClick?: () => void;\n  loading?: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport const MetricCard: React.FC<MetricCardProps> = ({\n  label,\n  value,\n  icon: Icon,\n  iconColor,\n  change,\n  subtext,\n  variant = 'default',\n  progress,\n  chart,\n  comparative,\n  onClick,\n  loading = false,\n  className = '',\n  style,\n}) => {\n  const cardClassName = [\n    styles.metricCard,\n    variant === 'compact' && styles.compact,\n    variant === 'live' && styles.live,\n    variant === 'alert' && styles.alert,\n    onClick && styles.clickable,\n    loading && styles.loading,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  if (loading) {\n    return (\n      <div className={cardClassName} style={style}>\n        <div className={styles.header}>\n          <div className={styles.labelSkeleton} />\n          <div className={styles.iconSkeleton} />\n        </div>\n        <div className={styles.body}>\n          <div className={styles.valueSkeleton} />\n          {variant !== 'compact' && <div className={styles.subtextSkeleton} />}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cardClassName} onClick={onClick} style={style}>\n      <div className={styles.header}>\n        <span className={styles.label}>{label}</span>\n        <div className={styles.headerRight}>\n          {variant === 'live' && (\n            <span className={`${styles.statusBadge} ${styles.live}`}>\n              <span className={styles.pulse} />\n              Live\n            </span>\n          )}\n          {variant === 'alert' && (\n            <span className={`${styles.statusBadge} ${styles.alert}`}>\n              <span className={styles.pulse} />\n              Alert\n            </span>\n          )}\n          {Icon && (\n            <Icon\n              size={20}\n              className={styles.icon}\n              style={{ color: iconColor }}\n            />\n          )}\n        </div>\n      </div>\n\n      <div className={styles.body}>\n        {comparative ? (\n          <div className={styles.comparative}>\n            {comparative.map((item, index) => (\n              <div key={index} className={styles.comparativeItem}>\n                <div className={styles.comparativeLabel}>{item.label}</div>\n                <div\n                  className={styles.comparativeValue}\n                  style={{ color: item.color }}\n                >\n                  {item.value}\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <>\n            <div className={styles.value}>{value}</div>\n            {change && (\n              <div className={`${styles.change} ${styles[change.type]}`}>\n                {change.type === 'positive' && <ArrowUp size={12} />}\n                {change.type === 'negative' && <ArrowDown size={12} />}\n                <span>{change.text}</span>\n              </div>\n            )}\n            {subtext && !change && (\n              <div className={styles.subtext}>{subtext}</div>\n            )}\n          </>\n        )}\n      </div>\n\n      {progress && (\n        <div className={styles.progressContainer}>\n          <div\n            className={`${styles.progressBar} ${\n              progress.color ? styles[progress.color] : ''\n            }`}\n            style={{ width: `${progress.value}%` }}\n          />\n        </div>\n      )}\n\n      {chart && <div className={styles.chart}>{chart}</div>}\n    </div>\n  );\n};\n\n// MetricCardGrid component for layout\nexport interface MetricCardGridProps {\n  children: React.ReactNode;\n  columns?: number;\n  className?: string;\n}\n\nexport const MetricCardGrid: React.FC<MetricCardGridProps> = ({\n  children,\n  columns = 4,\n  className = '',\n}) => {\n  return (\n    <div\n      className={`${styles.grid} ${className}`}\n      style={{\n        gridTemplateColumns: `repeat(auto-fill, minmax(${\n          columns === 2 ? '300px' : columns === 3 ? '250px' : '200px'\n        }, 1fr))`,\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\n// MiniChart component for sparkline visualization\nexport interface MiniChartProps {\n  data: number[]; // Array of values\n  color?: 'primary' | 'success' | 'warning' | 'error';\n  height?: number;\n}\n\nexport const MiniChart: React.FC<MiniChartProps> = ({\n  data,\n  color = 'primary',\n  height = 40,\n}) => {\n  const max = Math.max(...data);\n  const min = Math.min(...data);\n  const range = max - min;\n\n  const getColor = (index: number, total: number) => {\n    // Gradient effect - darker towards the end\n    const intensity = Math.floor(((index + 1) / total) * 5) * 100 + 200;\n    return `var(--color-${color}-${intensity})`;\n  };\n\n  return (\n    <div\n      className={styles.miniChart}\n      style={{ height: `${height}px` }}\n      role=\"img\"\n      aria-label=\"Metric trend visualization\"\n    >\n      {data.map((value, index) => {\n        const percentage = range === 0 ? 100 : ((value - min) / range) * 100;\n        return (\n          <div\n            key={index}\n            className={styles.chartBar}\n            style={{\n              height: `${percentage}%`,\n              backgroundColor: getColor(index, data.length),\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default MetricCard;\n"],"names":["MetricCard","label","value","Icon","iconColor","change","subtext","variant","progress","chart","comparative","onClick","loading","className","style","cardClassName","styles","jsxs","jsx","item","index","Fragment","ArrowUp","ArrowDown","MetricCardGrid","children","columns","MiniChart","data","color","height","max","min","range","getColor","total","intensity","percentage"],"mappings":"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"}