{"version":3,"file":"AutomationRules.js","sources":["../../../../src/components/iot/AutomationRules/AutomationRules.tsx"],"sourcesContent":["import React from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport { Edit, Copy, Trash2, ArrowRight } from 'lucide-react';\nimport styles from './AutomationRules.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Automation Rule Card ====================\n\nexport interface RuleStep {\n  label: string;\n  content: string;\n}\n\nexport interface RuleMetaItem {\n  icon: IconType;\n  label: string;\n  value: string | React.ReactNode;\n}\n\nexport interface AutomationRuleProps {\n  icon: IconType;\n  name: string;\n  description: string;\n  status: 'active' | 'inactive';\n  steps: RuleStep[];\n  meta?: RuleMetaItem[];\n  onToggle?: (enabled: boolean) => void;\n  onEdit?: () => void;\n  onDuplicate?: () => void;\n  onDelete?: () => void;\n  className?: string;\n}\n\nexport const AutomationRule: React.FC<AutomationRuleProps> = ({\n  icon: Icon,\n  name,\n  description,\n  status,\n  steps,\n  meta,\n  onToggle,\n  onEdit,\n  onDuplicate,\n  onDelete,\n  className = '',\n}) => {\n  const [enabled, setEnabled] = React.useState(status === 'active');\n\n  const handleToggle = () => {\n    const newState = !enabled;\n    setEnabled(newState);\n    onToggle?.(newState);\n  };\n\n  return (\n    <div className={`${styles.ruleCard} ${className}`}>\n      <div className={styles.ruleHeader}>\n        <div className={styles.ruleHeaderLeft}>\n          <div className={styles.ruleIconWrapper}>\n            <Icon className={styles.ruleCategoryIcon} />\n          </div>\n          <div className={styles.ruleInfo}>\n            <div className={styles.ruleTitleRow}>\n              <h3 className={styles.ruleName}>{name}</h3>\n              <span className={`${styles.badge} ${enabled ? styles.badgeSuccess : styles.badgeDefault}`}>\n                {enabled ? 'Active' : 'Inactive'}\n              </span>\n            </div>\n            <div className={styles.ruleDescription}>{description}</div>\n          </div>\n        </div>\n        <div className={styles.ruleActions}>\n          {onEdit && (\n            <button className={styles.btnIcon} onClick={onEdit} aria-label=\"Edit rule\">\n              <Edit size={16} />\n            </button>\n          )}\n          {onDuplicate && (\n            <button className={styles.btnIcon} onClick={onDuplicate} aria-label=\"Duplicate rule\">\n              <Copy size={16} />\n            </button>\n          )}\n          {onDelete && (\n            <button className={styles.btnIcon} onClick={onDelete} aria-label=\"Delete rule\">\n              <Trash2 size={16} />\n            </button>\n          )}\n          <div className={styles.ruleDivider} />\n          <label className={styles.switch}>\n            <input\n              type=\"checkbox\"\n              className={styles.switchInput}\n              checked={enabled}\n              onChange={handleToggle}\n              aria-label={`Toggle ${name}`}\n            />\n            <span className={styles.switchSlider} />\n          </label>\n        </div>\n      </div>\n\n      {meta && meta.length > 0 && (\n        <div className={styles.ruleMetaGroups}>\n          {meta.map((item, index) => (\n            <div key={index} className={styles.ruleMetaGroup}>\n              <div className={styles.ruleMetaLabel}>\n                <item.icon className={styles.iconSm} />\n                <span>{item.label}</span>\n              </div>\n              <span className={styles.ruleMetaValue}>{item.value}</span>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className={styles.ruleFlow}>\n        {steps.map((step, index) => (\n          <React.Fragment key={index}>\n            <div className={styles.ruleStep}>\n              <div className={styles.ruleStepLabel}>{step.label}</div>\n              <div className={styles.ruleStepContent}>{step.content}</div>\n            </div>\n            {index < steps.length - 1 && (\n              <div className={styles.ruleArrow}>\n                <ArrowRight size={20} />\n              </div>\n            )}\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  AutomationRule,\n};\n"],"names":["AutomationRule","Icon","name","description","status","steps","meta","onToggle","onEdit","onDuplicate","onDelete","className","enabled","setEnabled","React","handleToggle","newState","jsxs","styles","jsx","Edit","Copy","Trash2","item","index","step","ArrowRight"],"mappings":";;;;AAkCO,MAAMA,IAAgD,CAAC;AAAA,EAC5D,MAAMC;AAAA,EACN,MAAAC;AAAA,EACA,aAAAC;AAAA,EACA,QAAAC;AAAA,EACA,OAAAC;AAAA,EACA,MAAAC;AAAA,EACA,UAAAC;AAAA,EACA,QAAAC;AAAA,EACA,aAAAC;AAAA,EACA,UAAAC;AAAA,EACA,WAAAC,IAAY;AACd,MAAM;AACJ,QAAM,CAACC,GAASC,CAAU,IAAIC,EAAM,SAASV,MAAW,QAAQ,GAE1DW,IAAe,MAAM;AACzB,UAAMC,IAAW,CAACJ;AAClB,IAAAC,EAAWG,CAAQ,GACnBT,IAAWS,CAAQ;AAAA,EACrB;AAEA,SACE,gBAAAC,EAAC,SAAI,WAAW,GAAGC,EAAO,QAAQ,IAAIP,CAAS,IAC7C,UAAA;AAAA,IAAA,gBAAAM,EAAC,OAAA,EAAI,WAAWC,EAAO,YACrB,UAAA;AAAA,MAAA,gBAAAD,EAAC,OAAA,EAAI,WAAWC,EAAO,gBACrB,UAAA;AAAA,QAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,EAAO,iBACrB,4BAACjB,GAAA,EAAK,WAAWiB,EAAO,iBAAA,CAAkB,EAAA,CAC5C;AAAA,QACA,gBAAAD,EAAC,OAAA,EAAI,WAAWC,EAAO,UACrB,UAAA;AAAA,UAAA,gBAAAD,EAAC,OAAA,EAAI,WAAWC,EAAO,cACrB,UAAA;AAAA,YAAA,gBAAAC,EAAC,MAAA,EAAG,WAAWD,EAAO,UAAW,UAAAhB,GAAK;AAAA,YACtC,gBAAAiB,EAAC,QAAA,EAAK,WAAW,GAAGD,EAAO,KAAK,IAAIN,IAAUM,EAAO,eAAeA,EAAO,YAAY,IACpF,UAAAN,IAAU,WAAW,WAAA,CACxB;AAAA,UAAA,GACF;AAAA,UACA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,EAAO,iBAAkB,UAAAf,EAAA,CAAY;AAAA,QAAA,EAAA,CACvD;AAAA,MAAA,GACF;AAAA,MACA,gBAAAc,EAAC,OAAA,EAAI,WAAWC,EAAO,aACpB,UAAA;AAAA,QAAAV,KACC,gBAAAW,EAAC,UAAA,EAAO,WAAWD,EAAO,SAAS,SAASV,GAAQ,cAAW,aAC7D,UAAA,gBAAAW,EAACC,GAAA,EAAK,MAAM,IAAI,GAClB;AAAA,QAEDX,KACC,gBAAAU,EAAC,UAAA,EAAO,WAAWD,EAAO,SAAS,SAAST,GAAa,cAAW,kBAClE,UAAA,gBAAAU,EAACE,GAAA,EAAK,MAAM,IAAI,GAClB;AAAA,QAEDX,KACC,gBAAAS,EAAC,UAAA,EAAO,WAAWD,EAAO,SAAS,SAASR,GAAU,cAAW,eAC/D,UAAA,gBAAAS,EAACG,GAAA,EAAO,MAAM,IAAI,GACpB;AAAA,QAEF,gBAAAH,EAAC,OAAA,EAAI,WAAWD,EAAO,YAAA,CAAa;AAAA,QACpC,gBAAAD,EAAC,SAAA,EAAM,WAAWC,EAAO,QACvB,UAAA;AAAA,UAAA,gBAAAC;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,WAAWD,EAAO;AAAA,cAClB,SAASN;AAAA,cACT,UAAUG;AAAA,cACV,cAAY,UAAUb,CAAI;AAAA,YAAA;AAAA,UAAA;AAAA,UAE5B,gBAAAiB,EAAC,QAAA,EAAK,WAAWD,EAAO,aAAA,CAAc;AAAA,QAAA,EAAA,CACxC;AAAA,MAAA,EAAA,CACF;AAAA,IAAA,GACF;AAAA,IAECZ,KAAQA,EAAK,SAAS,KACrB,gBAAAa,EAAC,OAAA,EAAI,WAAWD,EAAO,gBACpB,UAAAZ,EAAK,IAAI,CAACiB,GAAMC,wBACd,OAAA,EAAgB,WAAWN,EAAO,eACjC,UAAA;AAAA,MAAA,gBAAAD,EAAC,OAAA,EAAI,WAAWC,EAAO,eACrB,UAAA;AAAA,QAAA,gBAAAC,EAACI,EAAK,MAAL,EAAU,WAAWL,EAAO,QAAQ;AAAA,QACrC,gBAAAC,EAAC,QAAA,EAAM,UAAAI,EAAK,MAAA,CAAM;AAAA,MAAA,GACpB;AAAA,wBACC,QAAA,EAAK,WAAWL,EAAO,eAAgB,YAAK,MAAA,CAAM;AAAA,IAAA,KAL3CM,CAMV,CACD,GACH;AAAA,IAGF,gBAAAL,EAAC,OAAA,EAAI,WAAWD,EAAO,UACpB,UAAAb,EAAM,IAAI,CAACoB,GAAMD,MAChB,gBAAAP,EAACH,EAAM,UAAN,EACC,UAAA;AAAA,MAAA,gBAAAG,EAAC,OAAA,EAAI,WAAWC,EAAO,UACrB,UAAA;AAAA,QAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,EAAO,eAAgB,YAAK,OAAM;AAAA,0BACjD,OAAA,EAAI,WAAWA,EAAO,iBAAkB,YAAK,QAAA,CAAQ;AAAA,MAAA,GACxD;AAAA,MACCM,IAAQnB,EAAM,SAAS,KACtB,gBAAAc,EAAC,OAAA,EAAI,WAAWD,EAAO,WACrB,UAAA,gBAAAC,EAACO,GAAA,EAAW,MAAM,IAAI,EAAA,CACxB;AAAA,IAAA,EAAA,GARiBF,CAUrB,CACD,EAAA,CACH;AAAA,EAAA,GACF;AAEJ;"}