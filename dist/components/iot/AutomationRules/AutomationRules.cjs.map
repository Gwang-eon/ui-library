{"version":3,"file":"AutomationRules.cjs","sources":["../../../../src/components/iot/AutomationRules/AutomationRules.tsx"],"sourcesContent":["import React from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport { Edit, Copy, Trash2, ArrowRight } from 'lucide-react';\nimport styles from './AutomationRules.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Automation Rule Card ====================\n\nexport interface RuleStep {\n  label: string;\n  content: string;\n}\n\nexport interface RuleMetaItem {\n  icon: IconType;\n  label: string;\n  value: string | React.ReactNode;\n}\n\nexport interface AutomationRuleProps {\n  icon: IconType;\n  name: string;\n  description: string;\n  status: 'active' | 'inactive';\n  steps: RuleStep[];\n  meta?: RuleMetaItem[];\n  onToggle?: (enabled: boolean) => void;\n  onEdit?: () => void;\n  onDuplicate?: () => void;\n  onDelete?: () => void;\n  className?: string;\n}\n\nexport const AutomationRule: React.FC<AutomationRuleProps> = ({\n  icon: Icon,\n  name,\n  description,\n  status,\n  steps,\n  meta,\n  onToggle,\n  onEdit,\n  onDuplicate,\n  onDelete,\n  className = '',\n}) => {\n  const [enabled, setEnabled] = React.useState(status === 'active');\n\n  const handleToggle = () => {\n    const newState = !enabled;\n    setEnabled(newState);\n    onToggle?.(newState);\n  };\n\n  return (\n    <div className={`${styles.ruleCard} ${className}`}>\n      <div className={styles.ruleHeader}>\n        <div className={styles.ruleHeaderLeft}>\n          <div className={styles.ruleIconWrapper}>\n            <Icon className={styles.ruleCategoryIcon} />\n          </div>\n          <div className={styles.ruleInfo}>\n            <div className={styles.ruleTitleRow}>\n              <h3 className={styles.ruleName}>{name}</h3>\n              <span className={`${styles.badge} ${enabled ? styles.badgeSuccess : styles.badgeDefault}`}>\n                {enabled ? 'Active' : 'Inactive'}\n              </span>\n            </div>\n            <div className={styles.ruleDescription}>{description}</div>\n          </div>\n        </div>\n        <div className={styles.ruleActions}>\n          {onEdit && (\n            <button className={styles.btnIcon} onClick={onEdit} aria-label=\"Edit rule\">\n              <Edit size={16} />\n            </button>\n          )}\n          {onDuplicate && (\n            <button className={styles.btnIcon} onClick={onDuplicate} aria-label=\"Duplicate rule\">\n              <Copy size={16} />\n            </button>\n          )}\n          {onDelete && (\n            <button className={styles.btnIcon} onClick={onDelete} aria-label=\"Delete rule\">\n              <Trash2 size={16} />\n            </button>\n          )}\n          <div className={styles.ruleDivider} />\n          <label className={styles.switch}>\n            <input\n              type=\"checkbox\"\n              className={styles.switchInput}\n              checked={enabled}\n              onChange={handleToggle}\n              aria-label={`Toggle ${name}`}\n            />\n            <span className={styles.switchSlider} />\n          </label>\n        </div>\n      </div>\n\n      {meta && meta.length > 0 && (\n        <div className={styles.ruleMetaGroups}>\n          {meta.map((item, index) => (\n            <div key={index} className={styles.ruleMetaGroup}>\n              <div className={styles.ruleMetaLabel}>\n                <item.icon className={styles.iconSm} />\n                <span>{item.label}</span>\n              </div>\n              <span className={styles.ruleMetaValue}>{item.value}</span>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className={styles.ruleFlow}>\n        {steps.map((step, index) => (\n          <React.Fragment key={index}>\n            <div className={styles.ruleStep}>\n              <div className={styles.ruleStepLabel}>{step.label}</div>\n              <div className={styles.ruleStepContent}>{step.content}</div>\n            </div>\n            {index < steps.length - 1 && (\n              <div className={styles.ruleArrow}>\n                <ArrowRight size={20} />\n              </div>\n            )}\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  AutomationRule,\n};\n"],"names":["AutomationRule","Icon","name","description","status","steps","meta","onToggle","onEdit","onDuplicate","onDelete","className","enabled","setEnabled","React","handleToggle","newState","jsxs","styles","jsx","Edit","Copy","Trash2","item","index","step","ArrowRight"],"mappings":"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"}