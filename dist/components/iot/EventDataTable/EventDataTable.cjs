"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),d=require("react"),i=require("lucide-react"),t=require("./EventDataTable.module.css.cjs"),g=({events:b,searchable:m=!0,filterable:v=!0,exportable:p=!0,selectable:C=!0,onSelect:u,onView:S,onExport:w,className:k})=>{const[r,T]=d.useState(""),[c,h]=d.useState("all"),[x,j]=d.useState(new Set),[o,E]=d.useState(null),[f,N]=d.useState("desc"),n=[...b.filter(s=>{const a=r===""||s.eventType.label.toLowerCase().includes(r.toLowerCase())||s.device.id.toLowerCase().includes(r.toLowerCase())||s.message.toLowerCase().includes(r.toLowerCase()),l=c==="all"||s.severity===c;return a&&l})].sort((s,a)=>{if(!o)return 0;if(o==="time")return f==="asc"?s.time.localeCompare(a.time):a.time.localeCompare(s.time);if(o==="severity"){const l={critical:3,warning:2,info:1};return f==="asc"?l[s.severity]-l[a.severity]:l[a.severity]-l[s.severity]}return 0}),y=s=>{o===s?N(f==="asc"?"desc":"asc"):(E(s),N("desc"))},z=s=>{s?(j(new Set(n.map(a=>a.id))),u?.(n.map(a=>a.id))):(j(new Set),u?.([]))},A=(s,a)=>{const l=new Set(x);a?l.add(s):l.delete(s),j(l),u?.(Array.from(l))},B=s=>{switch(s){case"critical":return t.default.badgeError;case"warning":return t.default.badgeWarning;case"info":return t.default.badgeSuccess;default:return""}};return e.jsxs("div",{className:`${t.default.eventDataTable} ${k||""}`,children:[(m||v||p)&&e.jsxs("div",{className:t.default.tableControls,children:[e.jsx("div",{className:t.default.tableControlsLeft,children:m&&e.jsxs("div",{className:t.default.searchGroup,children:[e.jsx(i.Search,{className:t.default.searchIcon,size:16}),e.jsx("input",{type:"text",className:t.default.searchInput,placeholder:"Search events...",value:r,onChange:s=>T(s.target.value)})]})}),e.jsxs("div",{className:t.default.tableControlsRight,children:[v&&e.jsxs("div",{className:t.default.filterGroup,children:[e.jsxs("button",{className:`${t.default.filterBtn} ${c==="all"?t.default.filterBtnActive:""}`,onClick:()=>h("all"),children:[e.jsx(i.Filter,{size:14}),"All Events"]}),e.jsxs("button",{className:`${t.default.filterBtn} ${c==="critical"?t.default.filterBtnActive:""}`,onClick:()=>h("critical"),children:[e.jsx(i.AlertCircle,{size:14}),"Errors"]}),e.jsxs("button",{className:`${t.default.filterBtn} ${c==="warning"?t.default.filterBtnActive:""}`,onClick:()=>h("warning"),children:[e.jsx(i.AlertTriangle,{size:14}),"Warnings"]})]}),p&&e.jsxs("button",{className:t.default.exportBtn,onClick:w,children:[e.jsx(i.Download,{size:14}),"Export"]})]})]}),e.jsx("div",{className:t.default.tableContainer,children:e.jsxs("table",{className:t.default.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[C&&e.jsx("th",{className:t.default.checkboxCell,children:e.jsx("input",{type:"checkbox",checked:x.size===n.length&&n.length>0,onChange:s=>z(s.target.checked)})}),e.jsx("th",{className:t.default.sortableHeader,onClick:()=>y("time"),children:e.jsxs("div",{className:t.default.headerContent,children:[e.jsx("span",{children:"Time"}),e.jsx(i.ChevronsUpDown,{size:14})]})}),e.jsx("th",{className:t.default.sortableHeader,onClick:()=>y("severity"),children:e.jsxs("div",{className:t.default.headerContent,children:[e.jsx("span",{children:"Severity"}),e.jsx(i.ChevronsUpDown,{size:14})]})}),e.jsx("th",{children:"Event Type"}),e.jsx("th",{children:"Device"}),e.jsx("th",{children:"Message"}),e.jsx("th",{children:"Location"}),e.jsx("th",{className:t.default.actionsHeader,children:"Actions"})]})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{children:[C&&e.jsx("td",{className:t.default.checkboxCell,children:e.jsx("input",{type:"checkbox",checked:x.has(s.id),onChange:a=>A(s.id,a.target.checked)})}),e.jsx("td",{children:s.time}),e.jsx("td",{children:e.jsx("span",{className:`${t.default.badge} ${B(s.severity)}`,children:s.severity.charAt(0).toUpperCase()+s.severity.slice(1)})}),e.jsx("td",{children:e.jsxs("div",{className:t.default.eventType,children:[e.jsx("span",{className:t.default.eventIcon,children:s.eventType.icon}),e.jsx("span",{children:s.eventType.label})]})}),e.jsx("td",{children:e.jsxs("div",{className:t.default.deviceInfo,children:[e.jsx("div",{className:t.default.deviceId,children:s.device.id}),e.jsx("div",{className:t.default.deviceType,children:s.device.type})]})}),e.jsx("td",{children:s.message}),e.jsx("td",{children:s.location}),e.jsx("td",{children:e.jsxs("div",{className:t.default.actions,children:[e.jsx("button",{className:t.default.actionBtn,onClick:()=>S?.(s),"aria-label":"View details",children:e.jsx(i.Eye,{size:14})}),e.jsx("button",{className:t.default.actionBtn,"aria-label":"More options",children:e.jsx(i.MoreHorizontal,{size:14})})]})})]},s.id))})]})})]})};exports.EventDataTable=g;exports.default=g;
//# sourceMappingURL=EventDataTable.cjs.map
