{"version":3,"file":"Sidebar.cjs","sources":["../../../src/components/Navbar/Sidebar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X } from 'lucide-react';\nimport styles from './Navbar.module.css';\n\nexport interface SidebarProps {\n  children: React.ReactNode;\n  open?: boolean;\n  onClose?: () => void;\n  className?: string;\n}\n\nexport interface SidebarHeaderProps {\n  children: React.ReactNode;\n  logo?: React.ReactNode;\n  className?: string;\n}\n\nexport interface SidebarNavProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface SidebarItemProps {\n  children: React.ReactNode;\n  icon?: React.ReactNode;\n  badge?: React.ReactNode;\n  href?: string;\n  active?: boolean;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface SidebarFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst Sidebar = ({ children, open = false, onClose, className = '' }: SidebarProps) => {\n  const [isMobileOpen, setIsMobileOpen] = useState(open);\n\n  useEffect(() => {\n    setIsMobileOpen(open);\n  }, [open]);\n\n  useEffect(() => {\n    if (isMobileOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isMobileOpen]);\n\n  const handleClose = () => {\n    setIsMobileOpen(false);\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = () => {\n    handleClose();\n  };\n\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isMobileOpen) {\n        handleClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscapeKey);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [isMobileOpen]);\n\n  // Clone children and inject mobile close handler for items\n  const childrenWithProps = React.Children.map(children, (child) => {\n    if (React.isValidElement(child) && child.type === SidebarNav) {\n      return React.cloneElement(child as React.ReactElement<any>, {\n        onItemClick: handleClose,\n      });\n    }\n    return child;\n  });\n\n  return (\n    <>\n      <nav className={`${styles.sidebar} ${isMobileOpen ? styles.mobileOpen : ''} ${className}`}>\n        {/* Mobile Close Button */}\n        <button\n          className={styles.sidebarClose}\n          onClick={handleClose}\n          aria-label=\"Close sidebar\"\n        >\n          <X size={20} />\n        </button>\n\n        {childrenWithProps}\n      </nav>\n\n      {/* Sidebar Backdrop */}\n      {isMobileOpen && (\n        <div\n          className={`${styles.sidebarBackdrop} ${isMobileOpen ? styles.show : ''}`}\n          onClick={handleBackdropClick}\n        />\n      )}\n    </>\n  );\n};\n\nconst SidebarHeader = ({ children, logo, className = '' }: SidebarHeaderProps) => {\n  return (\n    <div className={`${styles.sidebarHeader} ${className}`}>\n      {logo}\n      {children}\n    </div>\n  );\n};\n\ninterface SidebarNavInternalProps extends SidebarNavProps {\n  onItemClick?: () => void;\n}\n\nconst SidebarNav = ({ children, className = '', onItemClick }: SidebarNavInternalProps) => {\n  // Clone children and inject click handler for mobile\n  const childrenWithProps = React.Children.map(children, (child) => {\n    if (React.isValidElement(child) && child.type === SidebarItem) {\n      return React.cloneElement(child as React.ReactElement<any>, {\n        onMobileClick: onItemClick,\n      });\n    }\n    return child;\n  });\n\n  return (\n    <div className={`${styles.sidebarNav} ${className}`}>\n      {childrenWithProps}\n    </div>\n  );\n};\n\ninterface SidebarItemInternalProps extends SidebarItemProps {\n  onMobileClick?: () => void;\n}\n\nconst SidebarItem = ({\n  children,\n  icon,\n  badge,\n  href,\n  active = false,\n  onClick,\n  onMobileClick,\n  className = ''\n}: SidebarItemInternalProps) => {\n  const handleClick = () => {\n    if (onClick) {\n      onClick();\n    }\n    if (onMobileClick) {\n      onMobileClick();\n    }\n  };\n\n  const classes = `${styles.sidebarItem} ${active ? styles.active : ''} ${className}`;\n\n  const content = (\n    <>\n      {icon}\n      <span>{children}</span>\n      {badge}\n    </>\n  );\n\n  if (href) {\n    return (\n      <a\n        href={href}\n        className={classes}\n        aria-current={active ? 'page' : undefined}\n        onClick={handleClick}\n      >\n        {content}\n      </a>\n    );\n  }\n\n  return (\n    <button\n      className={classes}\n      aria-current={active ? 'page' : undefined}\n      onClick={handleClick}\n    >\n      {content}\n    </button>\n  );\n};\n\nconst SidebarDivider = () => {\n  return <div className={styles.sidebarDivider} />;\n};\n\nconst SidebarFooter = ({ children, className = '' }: SidebarFooterProps) => {\n  return (\n    <div className={`${styles.sidebarFooter} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nexport {\n  Sidebar,\n  SidebarHeader,\n  SidebarNav,\n  SidebarItem,\n  SidebarDivider,\n  SidebarFooter,\n};\n"],"names":["Sidebar","children","open","onClose","className","isMobileOpen","setIsMobileOpen","useState","useEffect","handleClose","handleBackdropClick","handleEscapeKey","event","childrenWithProps","React","child","SidebarNav","jsxs","Fragment","styles","jsx","X","SidebarHeader","logo","onItemClick","SidebarItem","icon","badge","href","active","onClick","onMobileClick","handleClick","classes","content","SidebarDivider","SidebarFooter"],"mappings":"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"}