{"version":3,"file":"Sidebar.js","sources":["../../../src/components/Navbar/Sidebar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { X } from 'lucide-react';\nimport styles from './Navbar.module.css';\n\nexport interface SidebarProps {\n  children: React.ReactNode;\n  open?: boolean;\n  onClose?: () => void;\n  className?: string;\n}\n\nexport interface SidebarHeaderProps {\n  children: React.ReactNode;\n  logo?: React.ReactNode;\n  className?: string;\n}\n\nexport interface SidebarNavProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface SidebarItemProps {\n  children: React.ReactNode;\n  icon?: React.ReactNode;\n  badge?: React.ReactNode;\n  href?: string;\n  active?: boolean;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface SidebarFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst Sidebar = ({ children, open = false, onClose, className = '' }: SidebarProps) => {\n  const [isMobileOpen, setIsMobileOpen] = useState(open);\n\n  useEffect(() => {\n    setIsMobileOpen(open);\n  }, [open]);\n\n  useEffect(() => {\n    if (isMobileOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isMobileOpen]);\n\n  const handleClose = () => {\n    setIsMobileOpen(false);\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = () => {\n    handleClose();\n  };\n\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isMobileOpen) {\n        handleClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscapeKey);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [isMobileOpen]);\n\n  // Clone children and inject mobile close handler for items\n  const childrenWithProps = React.Children.map(children, (child) => {\n    if (React.isValidElement(child) && child.type === SidebarNav) {\n      return React.cloneElement(child as React.ReactElement<any>, {\n        onItemClick: handleClose,\n      });\n    }\n    return child;\n  });\n\n  return (\n    <>\n      <nav className={`${styles.sidebar} ${isMobileOpen ? styles.mobileOpen : ''} ${className}`}>\n        {/* Mobile Close Button */}\n        <button\n          className={styles.sidebarClose}\n          onClick={handleClose}\n          aria-label=\"Close sidebar\"\n        >\n          <X size={20} />\n        </button>\n\n        {childrenWithProps}\n      </nav>\n\n      {/* Sidebar Backdrop */}\n      {isMobileOpen && (\n        <div\n          className={`${styles.sidebarBackdrop} ${isMobileOpen ? styles.show : ''}`}\n          onClick={handleBackdropClick}\n        />\n      )}\n    </>\n  );\n};\n\nconst SidebarHeader = ({ children, logo, className = '' }: SidebarHeaderProps) => {\n  return (\n    <div className={`${styles.sidebarHeader} ${className}`}>\n      {logo}\n      {children}\n    </div>\n  );\n};\n\ninterface SidebarNavInternalProps extends SidebarNavProps {\n  onItemClick?: () => void;\n}\n\nconst SidebarNav = ({ children, className = '', onItemClick }: SidebarNavInternalProps) => {\n  // Clone children and inject click handler for mobile\n  const childrenWithProps = React.Children.map(children, (child) => {\n    if (React.isValidElement(child) && child.type === SidebarItem) {\n      return React.cloneElement(child as React.ReactElement<any>, {\n        onMobileClick: onItemClick,\n      });\n    }\n    return child;\n  });\n\n  return (\n    <div className={`${styles.sidebarNav} ${className}`}>\n      {childrenWithProps}\n    </div>\n  );\n};\n\ninterface SidebarItemInternalProps extends SidebarItemProps {\n  onMobileClick?: () => void;\n}\n\nconst SidebarItem = ({\n  children,\n  icon,\n  badge,\n  href,\n  active = false,\n  onClick,\n  onMobileClick,\n  className = ''\n}: SidebarItemInternalProps) => {\n  const handleClick = () => {\n    if (onClick) {\n      onClick();\n    }\n    if (onMobileClick) {\n      onMobileClick();\n    }\n  };\n\n  const classes = `${styles.sidebarItem} ${active ? styles.active : ''} ${className}`;\n\n  const content = (\n    <>\n      {icon}\n      <span>{children}</span>\n      {badge}\n    </>\n  );\n\n  if (href) {\n    return (\n      <a\n        href={href}\n        className={classes}\n        aria-current={active ? 'page' : undefined}\n        onClick={handleClick}\n      >\n        {content}\n      </a>\n    );\n  }\n\n  return (\n    <button\n      className={classes}\n      aria-current={active ? 'page' : undefined}\n      onClick={handleClick}\n    >\n      {content}\n    </button>\n  );\n};\n\nconst SidebarDivider = () => {\n  return <div className={styles.sidebarDivider} />;\n};\n\nconst SidebarFooter = ({ children, className = '' }: SidebarFooterProps) => {\n  return (\n    <div className={`${styles.sidebarFooter} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nexport {\n  Sidebar,\n  SidebarHeader,\n  SidebarNav,\n  SidebarItem,\n  SidebarDivider,\n  SidebarFooter,\n};\n"],"names":["Sidebar","children","open","onClose","className","isMobileOpen","setIsMobileOpen","useState","useEffect","handleClose","handleBackdropClick","handleEscapeKey","event","childrenWithProps","React","child","SidebarNav","jsxs","Fragment","styles","jsx","X","SidebarHeader","logo","onItemClick","SidebarItem","icon","badge","href","active","onClick","onMobileClick","handleClick","classes","content","SidebarDivider","SidebarFooter"],"mappings":"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"}