{"version":3,"file":"Textarea.js","sources":["../../../src/components/Textarea/Textarea.tsx"],"sourcesContent":["import React, { type TextareaHTMLAttributes, useState, useEffect } from 'react';\nimport styles from './Textarea.module.css';\n\nexport type TextareaSize = 'sm' | 'md' | 'lg';\nexport type TextareaState = 'default' | 'error' | 'success' | 'warning';\nexport type TextareaResize = 'none' | 'both' | 'horizontal' | 'vertical';\n\nexport interface TextareaProps\n  extends Omit<TextareaHTMLAttributes<HTMLTextAreaElement>, 'size'> {\n  /**\n   * Textarea size\n   * @default 'md'\n   */\n  size?: TextareaSize;\n\n  /**\n   * Textarea state (affects border color)\n   * @default 'default'\n   */\n  state?: TextareaState;\n\n  /**\n   * Label text\n   */\n  label?: string;\n\n  /**\n   * Helper text (shown below textarea)\n   */\n  helperText?: string;\n\n  /**\n   * Error message (shown when state is 'error')\n   */\n  errorMessage?: string;\n\n  /**\n   * Success message (shown when state is 'success')\n   */\n  successMessage?: string;\n\n  /**\n   * Warning message (shown when state is 'warning')\n   */\n  warningMessage?: string;\n\n  /**\n   * Show required indicator (*)\n   * @default false\n   */\n  required?: boolean;\n\n  /**\n   * Full width\n   * @default false\n   */\n  fullWidth?: boolean;\n\n  /**\n   * Number of visible text rows\n   * @default 4\n   */\n  rows?: number;\n\n  /**\n   * Show character counter\n   * @default false\n   */\n  showCounter?: boolean;\n\n  /**\n   * Resize behavior\n   * @default 'vertical'\n   */\n  resize?: TextareaResize;\n\n  /**\n   * Custom counter render function\n   */\n  renderCounter?: (current: number, max?: number) => React.ReactNode;\n}\n\nexport const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  (\n    {\n      size = 'md',\n      state = 'default',\n      label,\n      helperText,\n      errorMessage,\n      successMessage,\n      warningMessage,\n      required = false,\n      fullWidth = false,\n      rows = 4,\n      showCounter = false,\n      resize = 'vertical',\n      renderCounter,\n      className = '',\n      value,\n      defaultValue,\n      maxLength,\n      onChange,\n      id,\n      ...rest\n    },\n    ref\n  ) => {\n    const textareaId = id || `textarea-${React.useId()}`;\n    const [charCount, setCharCount] = useState(0);\n\n    // Initialize character count\n    useEffect(() => {\n      if (value !== undefined) {\n        setCharCount(String(value).length);\n      } else if (defaultValue !== undefined) {\n        setCharCount(String(defaultValue).length);\n      }\n    }, [value, defaultValue]);\n\n    // Handle change\n    const handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n      setCharCount(event.target.value.length);\n      onChange?.(event);\n    };\n\n    // Determine size class\n    const sizeClass = {\n      sm: styles['input-sm'],\n      md: '',\n      lg: styles['input-lg'],\n    }[size];\n\n    // Determine state class\n    const stateClass = {\n      default: '',\n      error: styles.error,\n      success: styles.success,\n      warning: styles.warning,\n    }[state];\n\n    // Get message based on state\n    const getMessage = () => {\n      if (state === 'error' && errorMessage) return errorMessage;\n      if (state === 'success' && successMessage) return successMessage;\n      if (state === 'warning' && warningMessage) return warningMessage;\n      return helperText;\n    };\n\n    const message = getMessage();\n\n    // Get message class\n    const messageClass = {\n      error: styles['input-error'],\n      success: styles['input-success'],\n      warning: styles['input-warning'],\n      default: '',\n    }[state];\n\n    // Resize style\n    const resizeStyle = {\n      none: styles['resize-none'],\n      both: styles['resize-both'],\n      horizontal: styles['resize-horizontal'],\n      vertical: styles['resize-vertical'],\n    }[resize];\n\n    return (\n      <div\n        className={`${styles['input-group']} ${\n          fullWidth ? styles['input-full-width'] : ''\n        } ${className}`}\n      >\n        {label && (\n          <label htmlFor={textareaId} className={styles['input-label']}>\n            {label}\n            {required && <span className={styles.required}>*</span>}\n          </label>\n        )}\n\n        <textarea\n          ref={ref}\n          id={textareaId}\n          className={`${styles.input} ${styles.textarea} ${sizeClass} ${stateClass} ${resizeStyle}`}\n          value={value}\n          defaultValue={defaultValue}\n          rows={rows}\n          maxLength={maxLength}\n          onChange={handleChange}\n          aria-invalid={state === 'error'}\n          aria-describedby={message ? `${textareaId}-message` : undefined}\n          {...rest}\n        />\n\n        {(message || showCounter) && (\n          <div className={styles['message-counter-wrapper']}>\n            {message && (\n              <span\n                id={`${textareaId}-message`}\n                className={`${styles['input-message']} ${messageClass}`}\n              >\n                {message}\n              </span>\n            )}\n            {showCounter && (\n              <span className={styles['character-count']}>\n                {renderCounter ? (\n                  renderCounter(charCount, maxLength)\n                ) : (\n                  <>\n                    {charCount}\n                    {maxLength && ` / ${maxLength}`}\n                  </>\n                )}\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n"],"names":["Textarea","React","size","state","label","helperText","errorMessage","successMessage","warningMessage","required","fullWidth","rows","showCounter","resize","renderCounter","className","value","defaultValue","maxLength","onChange","id","rest","ref","textareaId","charCount","setCharCount","useState","useEffect","handleChange","event","sizeClass","styles","stateClass","message","messageClass","resizeStyle","jsxs","jsx","Fragment"],"mappings":"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"}