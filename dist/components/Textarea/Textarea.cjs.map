{"version":3,"file":"Textarea.cjs","sources":["../../../src/components/Textarea/Textarea.tsx"],"sourcesContent":["import React, { type TextareaHTMLAttributes, useState, useEffect } from 'react';\nimport styles from './Textarea.module.css';\n\nexport type TextareaSize = 'sm' | 'md' | 'lg';\nexport type TextareaState = 'default' | 'error' | 'success' | 'warning';\nexport type TextareaResize = 'none' | 'both' | 'horizontal' | 'vertical';\n\nexport interface TextareaProps\n  extends Omit<TextareaHTMLAttributes<HTMLTextAreaElement>, 'size'> {\n  /**\n   * Textarea size\n   * @default 'md'\n   */\n  size?: TextareaSize;\n\n  /**\n   * Textarea state (affects border color)\n   * @default 'default'\n   */\n  state?: TextareaState;\n\n  /**\n   * Label text\n   */\n  label?: string;\n\n  /**\n   * Helper text (shown below textarea)\n   */\n  helperText?: string;\n\n  /**\n   * Error message (shown when state is 'error')\n   */\n  errorMessage?: string;\n\n  /**\n   * Success message (shown when state is 'success')\n   */\n  successMessage?: string;\n\n  /**\n   * Warning message (shown when state is 'warning')\n   */\n  warningMessage?: string;\n\n  /**\n   * Show required indicator (*)\n   * @default false\n   */\n  required?: boolean;\n\n  /**\n   * Full width\n   * @default false\n   */\n  fullWidth?: boolean;\n\n  /**\n   * Number of visible text rows\n   * @default 4\n   */\n  rows?: number;\n\n  /**\n   * Show character counter\n   * @default false\n   */\n  showCounter?: boolean;\n\n  /**\n   * Resize behavior\n   * @default 'vertical'\n   */\n  resize?: TextareaResize;\n\n  /**\n   * Custom counter render function\n   */\n  renderCounter?: (current: number, max?: number) => React.ReactNode;\n}\n\nexport const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  (\n    {\n      size = 'md',\n      state = 'default',\n      label,\n      helperText,\n      errorMessage,\n      successMessage,\n      warningMessage,\n      required = false,\n      fullWidth = false,\n      rows = 4,\n      showCounter = false,\n      resize = 'vertical',\n      renderCounter,\n      className = '',\n      value,\n      defaultValue,\n      maxLength,\n      onChange,\n      id,\n      ...rest\n    },\n    ref\n  ) => {\n    const textareaId = id || `textarea-${React.useId()}`;\n    const [charCount, setCharCount] = useState(0);\n\n    // Initialize character count\n    useEffect(() => {\n      if (value !== undefined) {\n        setCharCount(String(value).length);\n      } else if (defaultValue !== undefined) {\n        setCharCount(String(defaultValue).length);\n      }\n    }, [value, defaultValue]);\n\n    // Handle change\n    const handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n      setCharCount(event.target.value.length);\n      onChange?.(event);\n    };\n\n    // Determine size class\n    const sizeClass = {\n      sm: styles['input-sm'],\n      md: '',\n      lg: styles['input-lg'],\n    }[size];\n\n    // Determine state class\n    const stateClass = {\n      default: '',\n      error: styles.error,\n      success: styles.success,\n      warning: styles.warning,\n    }[state];\n\n    // Get message based on state\n    const getMessage = () => {\n      if (state === 'error' && errorMessage) return errorMessage;\n      if (state === 'success' && successMessage) return successMessage;\n      if (state === 'warning' && warningMessage) return warningMessage;\n      return helperText;\n    };\n\n    const message = getMessage();\n\n    // Get message class\n    const messageClass = {\n      error: styles['input-error'],\n      success: styles['input-success'],\n      warning: styles['input-warning'],\n      default: '',\n    }[state];\n\n    // Resize style\n    const resizeStyle = {\n      none: styles['resize-none'],\n      both: styles['resize-both'],\n      horizontal: styles['resize-horizontal'],\n      vertical: styles['resize-vertical'],\n    }[resize];\n\n    return (\n      <div\n        className={`${styles['input-group']} ${\n          fullWidth ? styles['input-full-width'] : ''\n        } ${className}`}\n      >\n        {label && (\n          <label htmlFor={textareaId} className={styles['input-label']}>\n            {label}\n            {required && <span className={styles.required}>*</span>}\n          </label>\n        )}\n\n        <textarea\n          ref={ref}\n          id={textareaId}\n          className={`${styles.input} ${styles.textarea} ${sizeClass} ${stateClass} ${resizeStyle}`}\n          value={value}\n          defaultValue={defaultValue}\n          rows={rows}\n          maxLength={maxLength}\n          onChange={handleChange}\n          aria-invalid={state === 'error'}\n          aria-describedby={message ? `${textareaId}-message` : undefined}\n          {...rest}\n        />\n\n        {(message || showCounter) && (\n          <div className={styles['message-counter-wrapper']}>\n            {message && (\n              <span\n                id={`${textareaId}-message`}\n                className={`${styles['input-message']} ${messageClass}`}\n              >\n                {message}\n              </span>\n            )}\n            {showCounter && (\n              <span className={styles['character-count']}>\n                {renderCounter ? (\n                  renderCounter(charCount, maxLength)\n                ) : (\n                  <>\n                    {charCount}\n                    {maxLength && ` / ${maxLength}`}\n                  </>\n                )}\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n"],"names":["Textarea","React","size","state","label","helperText","errorMessage","successMessage","warningMessage","required","fullWidth","rows","showCounter","resize","renderCounter","className","value","defaultValue","maxLength","onChange","id","rest","ref","textareaId","charCount","setCharCount","useState","useEffect","handleChange","event","sizeClass","styles","stateClass","message","messageClass","resizeStyle","jsxs","jsx","Fragment"],"mappings":"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"}