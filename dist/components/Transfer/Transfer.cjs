"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("react/jsx-runtime"),c=require("react"),d=require("lucide-react"),v=require("../Button/Button.cjs"),r=require("./Transfer.module.css.cjs"),ae=({dataSource:T,targetKeys:j,defaultTargetKeys:A=[],onChange:K,sourceTitle:$="Source",targetTitle:M="Target",showSearch:q=!1,sourceSearchPlaceholder:B="Search...",targetSearchPlaceholder:O="Search...",showSelectAll:b=!1,compact:w=!1,disabled:n=!1,emptyText:R="No items",className:E="",render:z})=>{const[P,F]=c.useState(A),[y,H]=c.useState(""),[p,U]=c.useState(""),[o,f]=c.useState(new Set),[i,h]=c.useState(new Set),u=j!==void 0?j:P,{sourceItems:C,targetItems:N}=c.useMemo(()=>{const t=[],e=[];return T.forEach(a=>{u.includes(a.key)?e.push(a):t.push(a)}),{sourceItems:t,targetItems:e}},[T,u]),k=(t,e)=>{if(!e)return t;const a=e.toLowerCase();return t.filter(x=>x.label.toLowerCase().includes(a)||x.description?.toLowerCase().includes(a))},g=c.useMemo(()=>k(C,y),[C,y]),m=c.useMemo(()=>k(N,p),[N,p]),S=(t,e,a)=>{j===void 0&&F(t),K?.(t,e,a)},_=()=>{if(n||o.size===0)return;const t=Array.from(o),e=[...u,...t];S(e,"right",t),f(new Set)},D=()=>{if(n||i.size===0)return;const t=Array.from(i),e=u.filter(a=>!t.includes(a));S(e,"left",t),h(new Set)},G=()=>{if(n||g.length===0)return;const t=g.filter(a=>!a.disabled).map(a=>a.key),e=[...u,...t];S(e,"right",t),f(new Set)},J=()=>{if(n||m.length===0)return;const t=m.filter(a=>!a.disabled).map(a=>a.key),e=u.filter(a=>!t.includes(a));S(e,"left",t),h(new Set)},V=t=>{if(n)return;const e=new Set(o);e.has(t)?e.delete(t):e.add(t),f(e)},W=t=>{if(n)return;const e=new Set(i);e.has(t)?e.delete(t):e.add(t),h(e)},X=()=>{if(n)return;const t=g.filter(e=>!e.disabled).map(e=>e.key);o.size===t.length?f(new Set):f(new Set(t))},Y=()=>{if(n)return;const t=m.filter(e=>!e.disabled).map(e=>e.key);i.size===t.length?h(new Set):h(new Set(t))},I=(t,e,a,x,Z,Q,ee,te,se)=>{const L=e.filter(l=>!l.disabled),re=L.length>0&&a.size===L.length;return s.jsxs("div",{className:r.default.transferPanel,children:[s.jsxs("div",{className:r.default.transferHeader,children:[s.jsx("h3",{className:r.default.transferTitle,children:Q}),s.jsxs("span",{className:r.default.transferCount,children:[t.length," ",t.length===1?"item":"items"]})]}),q&&s.jsxs("div",{className:r.default.transferSearch,children:[s.jsx(d.Search,{className:r.default.transferSearchIcon,size:16}),s.jsx("input",{type:"text",className:r.default.transferSearchInput,placeholder:se,value:ee,onChange:l=>te(l.target.value),disabled:n})]}),b&&s.jsx("div",{className:r.default.transferSelectAll,children:s.jsxs("label",{className:r.default.transferSelectAllLabel,children:[s.jsx("input",{type:"checkbox",className:r.default.transferCheckbox,checked:re,onChange:Z,disabled:n||e.length===0}),s.jsx("span",{children:"Select All"})]})}),s.jsx("div",{className:r.default.transferBody,children:e.length===0?s.jsx("div",{className:`${r.default.transferList} ${r.default.transferListEmpty}`,children:s.jsxs("div",{className:r.default.transferEmpty,children:[s.jsx(d.Inbox,{size:32,style:{opacity:.3}}),s.jsx("p",{children:R})]})}):s.jsx("div",{className:r.default.transferList,children:e.map(l=>s.jsxs("label",{className:`${r.default.transferItem} ${l.disabled?r.default.disabled:""}`,children:[s.jsx("input",{type:"checkbox",className:r.default.transferCheckbox,checked:a.has(l.key),onChange:()=>x(l.key),disabled:n||l.disabled}),s.jsx("span",{className:r.default.transferItemLabel,children:z?z(l):l.label})]},l.key))})}),b&&s.jsx("div",{className:r.default.transferFooter,children:s.jsxs("span",{className:r.default.transferFooterText,children:[a.size," of ",e.length," selected"]})})]})};return s.jsxs("div",{className:`${r.default.transfer} ${w?r.default.transferCompact:""} ${E}`,children:[I(C,g,o,V,X,$,y,H,B),s.jsxs("div",{className:`${r.default.transferControls} ${w?r.default.transferControlsCompact:""}`,children:[s.jsx(v.Button,{variant:"primary",size:"sm",onClick:_,disabled:n||o.size===0,"aria-label":"Move selected to target",iconOnly:!0,children:s.jsx(d.ChevronRight,{size:16})}),s.jsx(v.Button,{variant:"ghost",size:"sm",onClick:G,disabled:n||g.length===0,"aria-label":"Move all to target",iconOnly:!0,children:s.jsx(d.ChevronsRight,{size:16})}),s.jsx(v.Button,{variant:"primary",size:"sm",onClick:D,disabled:n||i.size===0,"aria-label":"Move selected to source",iconOnly:!0,children:s.jsx(d.ChevronLeft,{size:16})}),s.jsx(v.Button,{variant:"ghost",size:"sm",onClick:J,disabled:n||m.length===0,"aria-label":"Move all to source",iconOnly:!0,children:s.jsx(d.ChevronsLeft,{size:16})})]}),I(N,m,i,W,Y,M,p,U,O)]})};exports.Transfer=ae;
//# sourceMappingURL=Transfer.cjs.map
