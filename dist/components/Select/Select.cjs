"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("react/jsx-runtime"),a=require("react"),H=require("lucide-react"),s=require("./Select.module.css.cjs"),E=a.forwardRef(({label:f,name:q,value:p,defaultValue:F="",placeholder:S="Select an option...",options:b=[],groups:m=[],state:x="default",size:A="md",disabled:u=!1,helperText:k,errorMessage:D,required:R=!1,fullWidth:K=!1,onChange:L,className:z="",id:M},h)=>{const d=M||`select-${a.useId()}`,[n,c]=a.useState(!1),[P,T]=a.useState(p??F),[r,v]=a.useState(-1),$=a.useRef(null),j=a.useRef(null),g=a.useRef(null),y=p!==void 0,N=y?p:P,i=a.useMemo(()=>{const e=[...b];return m.forEach(l=>{e.push(...l.options)}),e.filter(l=>!l.disabled)},[b,m]),o=i.find(e=>e.value===N),U=e=>{y||T(e);const l=i.find(w=>w.value===e)||null;L?.(e,l)},V=()=>{u||(c(e=>!e),v(-1))},I=e=>{e.disabled||(U(e.value),c(!1),g.current?.focus())};a.useEffect(()=>{const e=l=>{$.current&&!$.current.contains(l.target)&&c(!1)};if(n)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]);const _=e=>{if(!u)switch(e.key){case"Enter":case" ":e.preventDefault(),n?r>=0&&r<i.length&&I(i[r]):c(!0);break;case"Escape":e.preventDefault(),c(!1),g.current?.focus();break;case"ArrowDown":e.preventDefault(),n?v(l=>l<i.length-1?l+1:l):c(!0);break;case"ArrowUp":e.preventDefault(),n&&v(l=>l>0?l-1:0);break;case"Tab":n&&c(!1);break}};a.useEffect(()=>{if(n&&r>=0&&j.current){const e=j.current.children[r];e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}},[r,n]);const O=e=>e.map(l=>{const w=i.indexOf(l),C=l.value===N,G=w===r;return t.jsxs("div",{className:`${s.default["custom-select-option"]} ${C?s.default.selected:""} ${G?s.default.focused:""} ${l.disabled?s.default.disabled:""}`,onClick:()=>I(l),role:"option","aria-selected":C,"data-value":l.value,children:[l.icon&&t.jsx("span",{className:s.default["option-icon"],children:l.icon}),t.jsx("span",{children:l.label})]},l.value)}),B=()=>m.length>0?m.map(e=>t.jsxs(a.Fragment,{children:[t.jsx("div",{className:s.default["custom-select-group-label"],children:e.label}),O(e.options)]},e.label)):O(b);return t.jsxs("div",{ref:e=>{typeof h=="function"?h(e):h&&(h.current=e),$.current=e},className:`${s.default["input-group"]} ${K?s.default["input-full-width"]:""} ${z}`,children:[f&&t.jsxs("label",{htmlFor:d,className:s.default["input-label"],children:[f,R&&t.jsx("span",{className:s.default.required,children:"*"})]}),t.jsxs("div",{className:`${s.default["custom-select"]} ${n?s.default.open:""} ${x==="error"?s.default.error:""} ${u?s.default.disabled:""} ${s.default[`select-${A}`]||""}`,children:[t.jsxs("select",{id:d,name:q,value:N,onChange:()=>{},className:s.default["native-select"],disabled:u,required:R,tabIndex:-1,"aria-hidden":"true",children:[t.jsx("option",{value:"",children:S}),i.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]}),t.jsxs("div",{ref:g,className:`${s.default["custom-select-trigger"]} ${o?"":s.default.placeholder}`,onClick:V,onKeyDown:_,tabIndex:u?-1:0,role:"combobox","aria-expanded":n,"aria-haspopup":"listbox","aria-controls":`${d}-listbox`,"aria-labelledby":f?`${d}-label`:void 0,"aria-disabled":u,children:[t.jsxs("span",{className:s.default["trigger-content"],children:[o?.icon&&t.jsx("span",{className:s.default["option-icon"],children:o.icon}),o?o.label:S]}),t.jsx(H.ChevronDown,{className:s.default["select-icon"],size:18})]}),t.jsx("div",{ref:j,className:s.default["custom-select-dropdown"],role:"listbox",id:`${d}-listbox`,"aria-labelledby":f?`${d}-label`:void 0,children:B()})]}),x==="error"&&D&&t.jsx("span",{className:`${s.default["input-message"]} ${s.default["input-error"]}`,children:D}),x!=="error"&&k&&t.jsx("span",{className:s.default["input-message"],children:k})]})});E.displayName="Select";exports.Select=E;
//# sourceMappingURL=Select.cjs.map
