{"version":3,"file":"Menu.cjs","sources":["../../../src/components/Menu/Menu.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport type { ReactNode, HTMLAttributes, AnchorHTMLAttributes, ButtonHTMLAttributes } from 'react';\nimport styles from './Menu.module.css';\n\n// Menu Container Component\nexport interface MenuProps extends HTMLAttributes<HTMLDivElement> {\n  trigger: ReactNode;\n  children: ReactNode;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  align?: 'left' | 'right';\n  wide?: boolean;\n  className?: string;\n}\n\nexport const Menu: React.FC<MenuProps> = ({\n  trigger,\n  children,\n  open: controlledOpen,\n  onOpenChange,\n  align = 'left',\n  wide = false,\n  className = '',\n  ...props\n}) => {\n  const [uncontrolledOpen, setUncontrolledOpen] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n  const isControlled = controlledOpen !== undefined;\n  const isOpen = isControlled ? controlledOpen : uncontrolledOpen;\n\n  const handleToggle = () => {\n    const newOpen = !isOpen;\n    if (!isControlled) {\n      setUncontrolledOpen(newOpen);\n    }\n    onOpenChange?.(newOpen);\n  };\n\n  const handleClose = () => {\n    if (!isControlled) {\n      setUncontrolledOpen(false);\n    }\n    onOpenChange?.(false);\n  };\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        handleClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const containerClass = [styles['menu-container'], className].filter(Boolean).join(' ');\n\n  const menuClass = [\n    styles.menu,\n    wide && styles['menu-wide'],\n    align === 'right' && styles['menu-right'],\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={containerClass} ref={menuRef} {...props}>\n      <div onClick={handleToggle}>{trigger}</div>\n      {isOpen && <div className={menuClass}>{children}</div>}\n    </div>\n  );\n};\n\n// MenuItem Component\nexport interface MenuItemProps\n  extends Omit<AnchorHTMLAttributes<HTMLAnchorElement>, 'onClick'> {\n  children: ReactNode;\n  icon?: ReactNode;\n  shortcut?: string;\n  danger?: boolean;\n  disabled?: boolean;\n  onClick?: (event: React.MouseEvent<HTMLAnchorElement>) => void;\n  className?: string;\n  as?: 'a' | 'button';\n}\n\nexport const MenuItem: React.FC<MenuItemProps> = ({\n  children,\n  icon,\n  shortcut,\n  danger = false,\n  disabled = false,\n  onClick,\n  className = '',\n  as = 'a',\n  ...props\n}) => {\n  const itemClass = [\n    styles['menu-item'],\n    danger && styles['menu-item-danger'],\n    disabled && styles['menu-item-disabled'],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const handleClick = (e: React.MouseEvent<HTMLAnchorElement>) => {\n    if (disabled) {\n      e.preventDefault();\n      return;\n    }\n    onClick?.(e);\n  };\n\n  const content = (\n    <>\n      {icon && <span className={styles['menu-item-icon']}>{icon}</span>}\n      <span>{children}</span>\n      {shortcut && <span className={styles['menu-shortcut']}>{shortcut}</span>}\n    </>\n  );\n\n  if (as === 'button') {\n    return (\n      <button\n        className={itemClass}\n        onClick={handleClick as any}\n        disabled={disabled}\n        type=\"button\"\n        {...(props as ButtonHTMLAttributes<HTMLButtonElement>)}\n      >\n        {content}\n      </button>\n    );\n  }\n\n  return (\n    <a\n      className={itemClass}\n      onClick={handleClick}\n      href={disabled ? undefined : props.href || '#'}\n      {...props}\n    >\n      {content}\n    </a>\n  );\n};\n\n// MenuDivider Component\nexport interface MenuDividerProps {\n  className?: string;\n}\n\nexport const MenuDivider: React.FC<MenuDividerProps> = ({ className = '' }) => {\n  const dividerClass = [styles['menu-divider'], className].filter(Boolean).join(' ');\n  return <div className={dividerClass} />;\n};\n\n// MenuHeader Component\nexport interface MenuHeaderProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  className?: string;\n}\n\nexport const MenuHeader: React.FC<MenuHeaderProps> = ({ children, className = '', ...props }) => {\n  const headerClass = [styles['menu-header'], className].filter(Boolean).join(' ');\n  return (\n    <div className={headerClass} {...props}>\n      {children}\n    </div>\n  );\n};\n\n// Display names\nMenu.displayName = 'Menu';\nMenuItem.displayName = 'MenuItem';\nMenuDivider.displayName = 'MenuDivider';\nMenuHeader.displayName = 'MenuHeader';\n"],"names":["Menu","trigger","children","controlledOpen","onOpenChange","align","wide","className","props","uncontrolledOpen","setUncontrolledOpen","useState","menuRef","useRef","isControlled","isOpen","handleToggle","newOpen","handleClose","useEffect","handleClickOutside","event","containerClass","styles","menuClass","jsx","MenuItem","icon","shortcut","danger","disabled","onClick","as","itemClass","handleClick","e","content","jsxs","Fragment","MenuDivider","dividerClass","MenuHeader","headerClass"],"mappings":"2KAeaA,EAA4B,CAAC,CACxC,QAAAC,EACA,SAAAC,EACA,KAAMC,EACN,aAAAC,EACA,MAAAC,EAAQ,OACR,KAAAC,EAAO,GACP,UAAAC,EAAY,GACZ,GAAGC,CACL,IAAM,CACJ,KAAM,CAACC,EAAkBC,CAAmB,EAAIC,EAAAA,SAAS,EAAK,EACxDC,EAAUC,EAAAA,OAAuB,IAAI,EACrCC,EAAeX,IAAmB,OAClCY,EAASD,EAAeX,EAAiBM,EAEzCO,EAAe,IAAM,CACzB,MAAMC,EAAU,CAACF,EACZD,GACHJ,EAAoBO,CAAO,EAE7Bb,IAAea,CAAO,CACxB,EAEMC,EAAc,IAAM,CACnBJ,GACHJ,EAAoB,EAAK,EAE3BN,IAAe,EAAK,CACtB,EAGAe,EAAAA,UAAU,IAAM,CACd,GAAI,CAACJ,EAAQ,OAEb,MAAMK,EAAsBC,GAAsB,CAC5CT,EAAQ,SAAW,CAACA,EAAQ,QAAQ,SAASS,EAAM,MAAc,GACnEH,EAAA,CAEJ,EAEA,gBAAS,iBAAiB,YAAaE,CAAkB,EAClD,IAAM,CACX,SAAS,oBAAoB,YAAaA,CAAkB,CAC9D,CACF,EAAG,CAACL,CAAM,CAAC,EAEX,MAAMO,EAAiB,CAACC,UAAO,gBAAgB,EAAGhB,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,EAE/EiB,EAAY,CAChBD,EAAAA,QAAO,KACPjB,GAAQiB,EAAAA,QAAO,WAAW,EAC1BlB,IAAU,SAAWkB,EAAAA,QAAO,YAAY,CAAA,EAEvC,OAAO,OAAO,EACd,KAAK,GAAG,EAEX,cACG,MAAA,CAAI,UAAWD,EAAgB,IAAKV,EAAU,GAAGJ,EAChD,SAAA,CAAAiB,EAAAA,IAAC,MAAA,CAAI,QAAST,EAAe,SAAAf,EAAQ,EACpCc,GAAUU,EAAAA,IAAC,MAAA,CAAI,UAAWD,EAAY,SAAAtB,CAAA,CAAS,CAAA,EAClD,CAEJ,EAeawB,EAAoC,CAAC,CAChD,SAAAxB,EACA,KAAAyB,EACA,SAAAC,EACA,OAAAC,EAAS,GACT,SAAAC,EAAW,GACX,QAAAC,EACA,UAAAxB,EAAY,GACZ,GAAAyB,EAAK,IACL,GAAGxB,CACL,IAAM,CACJ,MAAMyB,EAAY,CAChBV,EAAAA,QAAO,WAAW,EAClBM,GAAUN,EAAAA,QAAO,kBAAkB,EACnCO,GAAYP,EAAAA,QAAO,oBAAoB,EACvChB,CAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,EAEL2B,EAAeC,GAA2C,CAC9D,GAAIL,EAAU,CACZK,EAAE,eAAA,EACF,MACF,CACAJ,IAAUI,CAAC,CACb,EAEMC,EACJC,EAAAA,KAAAC,EAAAA,SAAA,CACG,SAAA,CAAAX,SAAS,OAAA,CAAK,UAAWJ,EAAAA,QAAO,gBAAgB,EAAI,SAAAI,EAAK,EAC1DF,MAAC,QAAM,SAAAvB,EAAS,EACf0B,GAAYH,EAAAA,IAAC,OAAA,CAAK,UAAWF,EAAAA,QAAO,eAAe,EAAI,SAAAK,CAAA,CAAS,CAAA,EACnE,EAGF,OAAII,IAAO,SAEPP,EAAAA,IAAC,SAAA,CACC,UAAWQ,EACX,QAASC,EACT,SAAAJ,EACA,KAAK,SACJ,GAAItB,EAEJ,SAAA4B,CAAA,CAAA,EAMLX,EAAAA,IAAC,IAAA,CACC,UAAWQ,EACX,QAASC,EACT,KAAMJ,EAAW,OAAYtB,EAAM,MAAQ,IAC1C,GAAGA,EAEH,SAAA4B,CAAA,CAAA,CAGP,EAOaG,EAA0C,CAAC,CAAE,UAAAhC,EAAY,MAAS,CAC7E,MAAMiC,EAAe,CAACjB,UAAO,cAAc,EAAGhB,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,EACjF,OAAOkB,EAAAA,IAAC,MAAA,CAAI,UAAWe,CAAA,CAAc,CACvC,EAQaC,EAAwC,CAAC,CAAE,SAAAvC,EAAU,UAAAK,EAAY,GAAI,GAAGC,KAAY,CAC/F,MAAMkC,EAAc,CAACnB,UAAO,aAAa,EAAGhB,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,EAC/E,aACG,MAAA,CAAI,UAAWmC,EAAc,GAAGlC,EAC9B,SAAAN,EACH,CAEJ,EAGAF,EAAK,YAAc,OACnB0B,EAAS,YAAc,WACvBa,EAAY,YAAc,cAC1BE,EAAW,YAAc"}