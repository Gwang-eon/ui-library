{"version":3,"file":"Menu.js","sources":["../../../src/components/Menu/Menu.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport type { ReactNode, HTMLAttributes, AnchorHTMLAttributes, ButtonHTMLAttributes } from 'react';\nimport styles from './Menu.module.css';\n\n// Menu Container Component\nexport interface MenuProps extends HTMLAttributes<HTMLDivElement> {\n  trigger: ReactNode;\n  children: ReactNode;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  align?: 'left' | 'right';\n  wide?: boolean;\n  className?: string;\n}\n\nexport const Menu: React.FC<MenuProps> = ({\n  trigger,\n  children,\n  open: controlledOpen,\n  onOpenChange,\n  align = 'left',\n  wide = false,\n  className = '',\n  ...props\n}) => {\n  const [uncontrolledOpen, setUncontrolledOpen] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n  const isControlled = controlledOpen !== undefined;\n  const isOpen = isControlled ? controlledOpen : uncontrolledOpen;\n\n  const handleToggle = () => {\n    const newOpen = !isOpen;\n    if (!isControlled) {\n      setUncontrolledOpen(newOpen);\n    }\n    onOpenChange?.(newOpen);\n  };\n\n  const handleClose = () => {\n    if (!isControlled) {\n      setUncontrolledOpen(false);\n    }\n    onOpenChange?.(false);\n  };\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        handleClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const containerClass = [styles['menu-container'], className].filter(Boolean).join(' ');\n\n  const menuClass = [\n    styles.menu,\n    wide && styles['menu-wide'],\n    align === 'right' && styles['menu-right'],\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={containerClass} ref={menuRef} {...props}>\n      <div onClick={handleToggle}>{trigger}</div>\n      {isOpen && <div className={menuClass}>{children}</div>}\n    </div>\n  );\n};\n\n// MenuItem Component\nexport interface MenuItemProps\n  extends Omit<AnchorHTMLAttributes<HTMLAnchorElement>, 'onClick'> {\n  children: ReactNode;\n  icon?: ReactNode;\n  shortcut?: string;\n  danger?: boolean;\n  disabled?: boolean;\n  onClick?: (event: React.MouseEvent<HTMLAnchorElement>) => void;\n  className?: string;\n  as?: 'a' | 'button';\n}\n\nexport const MenuItem: React.FC<MenuItemProps> = ({\n  children,\n  icon,\n  shortcut,\n  danger = false,\n  disabled = false,\n  onClick,\n  className = '',\n  as = 'a',\n  ...props\n}) => {\n  const itemClass = [\n    styles['menu-item'],\n    danger && styles['menu-item-danger'],\n    disabled && styles['menu-item-disabled'],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const handleClick = (e: React.MouseEvent<HTMLAnchorElement>) => {\n    if (disabled) {\n      e.preventDefault();\n      return;\n    }\n    onClick?.(e);\n  };\n\n  const content = (\n    <>\n      {icon && <span className={styles['menu-item-icon']}>{icon}</span>}\n      <span>{children}</span>\n      {shortcut && <span className={styles['menu-shortcut']}>{shortcut}</span>}\n    </>\n  );\n\n  if (as === 'button') {\n    return (\n      <button\n        className={itemClass}\n        onClick={handleClick as any}\n        disabled={disabled}\n        type=\"button\"\n        {...(props as ButtonHTMLAttributes<HTMLButtonElement>)}\n      >\n        {content}\n      </button>\n    );\n  }\n\n  return (\n    <a\n      className={itemClass}\n      onClick={handleClick}\n      href={disabled ? undefined : props.href || '#'}\n      {...props}\n    >\n      {content}\n    </a>\n  );\n};\n\n// MenuDivider Component\nexport interface MenuDividerProps {\n  className?: string;\n}\n\nexport const MenuDivider: React.FC<MenuDividerProps> = ({ className = '' }) => {\n  const dividerClass = [styles['menu-divider'], className].filter(Boolean).join(' ');\n  return <div className={dividerClass} />;\n};\n\n// MenuHeader Component\nexport interface MenuHeaderProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  className?: string;\n}\n\nexport const MenuHeader: React.FC<MenuHeaderProps> = ({ children, className = '', ...props }) => {\n  const headerClass = [styles['menu-header'], className].filter(Boolean).join(' ');\n  return (\n    <div className={headerClass} {...props}>\n      {children}\n    </div>\n  );\n};\n\n// Display names\nMenu.displayName = 'Menu';\nMenuItem.displayName = 'MenuItem';\nMenuDivider.displayName = 'MenuDivider';\nMenuHeader.displayName = 'MenuHeader';\n"],"names":["Menu","trigger","children","controlledOpen","onOpenChange","align","wide","className","props","uncontrolledOpen","setUncontrolledOpen","useState","menuRef","useRef","isControlled","isOpen","handleToggle","newOpen","handleClose","useEffect","handleClickOutside","event","containerClass","styles","menuClass","jsx","MenuItem","icon","shortcut","danger","disabled","onClick","as","itemClass","handleClick","e","content","jsxs","Fragment","MenuDivider","dividerClass","MenuHeader","headerClass"],"mappings":"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"}