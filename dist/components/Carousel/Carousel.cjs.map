{"version":3,"file":"Carousel.cjs","sources":["../../../src/components/Carousel/Carousel.tsx"],"sourcesContent":["import { useState, useEffect, useCallback, useRef, Children } from 'react';\nimport type { ReactNode } from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport styles from './Carousel.module.css';\n\nexport interface CarouselProps {\n  /** Carousel slides */\n  children: ReactNode;\n  /** Auto-play interval in milliseconds (0 = disabled) */\n  autoPlay?: number;\n  /** Effect type */\n  effect?: 'slide' | 'fade';\n  /** Show navigation arrows */\n  showArrows?: boolean;\n  /** Show indicator dots */\n  showIndicators?: boolean;\n  /** Show thumbnails */\n  showThumbnails?: boolean;\n  /** Initial active slide index */\n  defaultIndex?: number;\n  /** Controlled active slide index */\n  activeIndex?: number;\n  /** Callback when slide changes */\n  onChange?: (index: number) => void;\n  /** Additional CSS class */\n  className?: string;\n  /** Pause autoplay on hover */\n  pauseOnHover?: boolean;\n  /** Enable infinite loop */\n  loop?: boolean;\n}\n\nexport interface CarouselSlideProps {\n  /** Slide content */\n  children: ReactNode;\n  /** Optional caption */\n  caption?: {\n    title?: ReactNode;\n    description?: ReactNode;\n  };\n  /** Thumbnail for navigation (URL or ReactNode) */\n  thumbnail?: string | ReactNode;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Carousel Component\n *\n * Image and content slider with navigation controls, indicators, and auto-play.\n * Supports slide and fade effects, thumbnails, and touch gestures.\n *\n * @example\n * ```tsx\n * <Carousel autoPlay={5000} showIndicators>\n *   <Carousel.Slide caption={{ title: \"Slide 1\", description: \"Description\" }}>\n *     <img src=\"image1.jpg\" alt=\"Slide 1\" />\n *   </Carousel.Slide>\n *   <Carousel.Slide>\n *     <img src=\"image2.jpg\" alt=\"Slide 2\" />\n *   </Carousel.Slide>\n * </Carousel>\n * ```\n */\nexport const Carousel = ({\n  children,\n  autoPlay = 0,\n  effect = 'slide',\n  showArrows = true,\n  showIndicators = true,\n  showThumbnails = false,\n  defaultIndex = 0,\n  activeIndex: controlledIndex,\n  onChange,\n  className,\n  pauseOnHover = true,\n  loop = true,\n}: CarouselProps) => {\n  const [internalIndex, setInternalIndex] = useState(defaultIndex);\n  const [isPaused, setIsPaused] = useState(false);\n  const [touchStart, setTouchStart] = useState(0);\n  const [touchEnd, setTouchEnd] = useState(0);\n  const autoPlayRef = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  const isControlled = controlledIndex !== undefined;\n  const currentIndex = isControlled ? controlledIndex : internalIndex;\n\n  const slides = Children.toArray(children);\n  const slideCount = slides.length;\n\n  const goToSlide = useCallback(\n    (index: number) => {\n      let newIndex = index;\n\n      if (loop) {\n        if (index < 0) newIndex = slideCount - 1;\n        if (index >= slideCount) newIndex = 0;\n      } else {\n        if (index < 0) newIndex = 0;\n        if (index >= slideCount) newIndex = slideCount - 1;\n      }\n\n      if (!isControlled) {\n        setInternalIndex(newIndex);\n      }\n      onChange?.(newIndex);\n    },\n    [slideCount, loop, isControlled, onChange]\n  );\n\n  const goToPrev = useCallback(() => {\n    goToSlide(currentIndex - 1);\n  }, [currentIndex, goToSlide]);\n\n  const goToNext = useCallback(() => {\n    goToSlide(currentIndex + 1);\n  }, [currentIndex, goToSlide]);\n\n  // Auto-play\n  useEffect(() => {\n    if (autoPlay > 0 && !isPaused) {\n      autoPlayRef.current = setInterval(() => {\n        goToNext();\n      }, autoPlay);\n\n      return () => {\n        if (autoPlayRef.current) {\n          clearInterval(autoPlayRef.current);\n        }\n      };\n    }\n  }, [autoPlay, isPaused, goToNext]);\n\n  // Touch handlers\n  const handleTouchStart = (e: React.TouchEvent) => {\n    setTouchStart(e.targetTouches[0].clientX);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    setTouchEnd(e.targetTouches[0].clientX);\n  };\n\n  const handleTouchEnd = () => {\n    if (touchStart - touchEnd > 50) {\n      // Swiped left\n      goToNext();\n    }\n\n    if (touchStart - touchEnd < -50) {\n      // Swiped right\n      goToPrev();\n    }\n  };\n\n  // Keyboard navigation\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'ArrowLeft') {\n      goToPrev();\n    } else if (e.key === 'ArrowRight') {\n      goToNext();\n    }\n  };\n\n  const containerClasses = [\n    styles.carousel,\n    effect === 'fade' && styles.carouselFade,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div\n      className={containerClasses}\n      onMouseEnter={() => pauseOnHover && setIsPaused(true)}\n      onMouseLeave={() => pauseOnHover && setIsPaused(false)}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n      onKeyDown={handleKeyDown}\n      tabIndex={0}\n      role=\"region\"\n      aria-label=\"Carousel\"\n      aria-live=\"polite\"\n    >\n      <div className={styles.carouselInner}>\n        {Children.map(children, (child, index) => {\n          const isActive = index === currentIndex;\n          return (\n            <div\n              className={`${styles.carouselItem} ${isActive ? styles.active : ''}`}\n              role=\"group\"\n              aria-roledescription=\"slide\"\n              aria-label={`Slide ${index + 1} of ${slideCount}`}\n              aria-hidden={!isActive}\n            >\n              {child}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Navigation Arrows */}\n      {showArrows && slideCount > 1 && (\n        <>\n          <button\n            className={`${styles.carouselControl} ${styles.carouselControlPrev}`}\n            onClick={goToPrev}\n            aria-label=\"Previous slide\"\n            disabled={!loop && currentIndex === 0}\n          >\n            <ChevronLeft />\n          </button>\n          <button\n            className={`${styles.carouselControl} ${styles.carouselControlNext}`}\n            onClick={goToNext}\n            aria-label=\"Next slide\"\n            disabled={!loop && currentIndex === slideCount - 1}\n          >\n            <ChevronRight />\n          </button>\n        </>\n      )}\n\n      {/* Indicators */}\n      {showIndicators && slideCount > 1 && !showThumbnails && (\n        <div className={styles.carouselIndicators}>\n          {slides.map((_, index) => (\n            <button\n              key={index}\n              className={`${styles.carouselIndicator} ${index === currentIndex ? styles.active : ''}`}\n              onClick={() => goToSlide(index)}\n              aria-label={`Go to slide ${index + 1}`}\n              aria-current={index === currentIndex}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Thumbnails */}\n      {showThumbnails && slideCount > 1 && (\n        <div className={styles.carouselThumbnailsContainer}>\n          {Children.map(children, (child: any, index) => {\n            const thumbnail = child?.props?.thumbnail;\n            if (!thumbnail) return null;\n\n            return (\n              <button\n                key={index}\n                className={`${styles.carouselThumbnail} ${index === currentIndex ? styles.active : ''}`}\n                onClick={() => goToSlide(index)}\n                aria-label={`Go to slide ${index + 1}`}\n                aria-current={index === currentIndex}\n              >\n                {typeof thumbnail === 'string' ? (\n                  <img src={thumbnail} alt={`Thumbnail ${index + 1}`} />\n                ) : (\n                  thumbnail\n                )}\n              </button>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\n/**\n * Carousel Slide Component\n *\n * Individual slide content with optional caption.\n */\nconst CarouselSlide = ({ children, caption, className }: CarouselSlideProps) => {\n  const slideClasses = [styles.carouselSlide, className].filter(Boolean).join(' ');\n\n  return (\n    <div className={slideClasses}>\n      {children}\n      {caption && (\n        <div className={styles.carouselCaption}>\n          {caption.title && <h3>{caption.title}</h3>}\n          {caption.description && <p>{caption.description}</p>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nCarousel.Slide = CarouselSlide;\nCarousel.displayName = 'Carousel';\nCarouselSlide.displayName = 'Carousel.Slide';\n"],"names":["Carousel","children","autoPlay","effect","showArrows","showIndicators","showThumbnails","defaultIndex","controlledIndex","onChange","className","pauseOnHover","loop","internalIndex","setInternalIndex","useState","isPaused","setIsPaused","touchStart","setTouchStart","touchEnd","setTouchEnd","autoPlayRef","useRef","isControlled","currentIndex","slides","Children","slideCount","goToSlide","useCallback","index","newIndex","goToPrev","goToNext","useEffect","handleTouchStart","e","handleTouchMove","handleTouchEnd","handleKeyDown","containerClasses","styles","jsxs","jsx","child","isActive","Fragment","ChevronLeft","ChevronRight","_","thumbnail","CarouselSlide","caption","slideClasses"],"mappings":"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"}