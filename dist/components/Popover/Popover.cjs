"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("react/jsx-runtime"),f=require("react"),x=require("react-dom"),j=require("lucide-react"),n=require("./Popover.module.css.cjs"),y=({open:e,onClose:o,children:h,position:p="bottom",wide:$=!1,triggerRef:i,className:g=""})=>{const v=f.useRef(null);if(f.useEffect(()=>{if(!e)return;const u=l=>{const t=l.target,r=i?.current;v.current&&!v.current.contains(t)&&r&&!r.contains(t)&&o()};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[e,o,i]),f.useEffect(()=>{if(!e)return;const u=l=>{l.key==="Escape"&&(o(),i?.current&&i.current.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[e,o,i]),f.useEffect(()=>{if(!e||!v.current||!i?.current)return;const u=i.current,l=v.current,t=u.getBoundingClientRect(),r=l.getBoundingClientRect();let s=0,c=0;switch(p){case"top":s=t.top-r.height-8,c=t.left+t.width/2-r.width/2;break;case"bottom":s=t.bottom+8,c=t.left+t.width/2-r.width/2;break;case"left":s=t.top+t.height/2-r.height/2,c=t.left-r.width-8;break;case"right":s=t.top+t.height/2-r.height/2,c=t.right+8;break}const m=window.innerWidth,w=window.innerHeight,a=8;c<a&&(c=a),c+r.width>m-a&&(c=m-r.width-a),s<a&&(s=a),s+r.height>w-a&&(s=w-r.height-a),l.style.top=`${s}px`,l.style.left=`${c}px`},[e,p,i]),!e)return null;const P=p==="top"?n.default.popoverTop:p==="right"?n.default.popoverRight:p==="left"?n.default.popoverLeft:n.default.popoverBottom,b=$?n.default.popoverWide:"";return x.createPortal(d.jsx("div",{ref:v,className:`${n.default.popover} ${P} ${b} ${g}`,role:"dialog","aria-modal":"false",children:h}),document.body)},C=({children:e,className:o=""})=>d.jsx("div",{className:`${n.default.popoverHeader} ${o}`,children:e}),E=({children:e,className:o=""})=>d.jsx("div",{className:`${n.default.popoverContent} ${o}`,children:e}),k=({children:e,className:o=""})=>d.jsx("div",{className:`${n.default.popoverFooter} ${o}`,children:e}),N=({children:e,className:o=""})=>d.jsx("span",{className:`${n.default.popoverTitle} ${o}`,children:e}),q=({onClick:e,"aria-label":o="Close popover",className:h=""})=>d.jsx("button",{className:`${n.default.popoverClose} ${h}`,onClick:e,"aria-label":o,type:"button",children:d.jsx(j.X,{size:16})});exports.Popover=y;exports.PopoverClose=q;exports.PopoverContent=E;exports.PopoverFooter=k;exports.PopoverHeader=C;exports.PopoverTitle=N;
//# sourceMappingURL=Popover.cjs.map
