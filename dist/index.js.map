{"version":3,"file":"index.js","sources":["../src/components/Button/Button.tsx","../src/components/ButtonGroup/ButtonGroup.tsx","../src/components/Input/Input.tsx","../src/components/Select/Select.tsx","../src/components/Checkbox/Checkbox.tsx","../src/components/Radio/Radio.tsx","../src/components/Toggle/Toggle.tsx","../src/components/Textarea/Textarea.tsx","../src/components/FileUpload/FileUpload.tsx","../src/components/Slider/Slider.tsx","../src/components/Rating/Rating.tsx","../src/components/ColorPicker/ColorPicker.tsx","../src/components/Calendar/utils/localeUtils.ts","../src/components/Calendar/base/CalendarHeader.tsx","../src/components/Calendar/utils/dateUtils.ts","../src/components/Calendar/base/CalendarGrid.tsx","../src/components/Calendar/base/MonthGrid.tsx","../src/components/Calendar/base/YearGrid.tsx","../src/components/Calendar/utils/formatUtils.ts","../src/components/Calendar/base/TimeSelector.tsx","../src/components/Calendar/base/CalendarPopover.tsx","../src/components/Calendar/hooks/useCalendarState.ts","../src/components/Calendar/DatePicker/DatePicker.tsx","../src/components/Calendar/DateRangePicker/DateRangePicker.tsx","../src/components/Calendar/TimePicker/TimePicker.tsx","../src/components/Calendar/DateTimePicker/DateTimePicker.tsx","../src/components/Transfer/Transfer.tsx","../src/components/TreeSelect/TreeSelect.tsx","../src/components/CascadeSelect/CascadeSelect.tsx","../src/components/Autocomplete/Autocomplete.tsx","../src/components/Knob/Knob.tsx","../src/components/Card/Card.tsx","../src/components/List/List.tsx","../src/components/Table/Table.tsx","../node_modules/@tanstack/table-core/build/lib/index.mjs","../node_modules/@tanstack/react-table/build/lib/index.mjs","../node_modules/@tanstack/virtual-core/dist/esm/utils.js","../node_modules/@tanstack/virtual-core/dist/esm/index.js","../node_modules/@tanstack/react-virtual/dist/esm/index.js","../node_modules/@tanstack/match-sorter-utils/build/lib/index.mjs","../node_modules/@dnd-kit/utilities/dist/utilities.esm.js","../node_modules/@dnd-kit/accessibility/dist/accessibility.esm.js","../node_modules/@dnd-kit/core/dist/core.esm.js","../node_modules/@dnd-kit/sortable/dist/sortable.esm.js","../src/components/DataGrid/DataGrid.tsx","../src/components/Tree/Tree.tsx","../src/components/Badge/Badge.tsx","../src/components/Avatar/Avatar.tsx","../src/components/Tag/Tag.tsx","../src/components/Descriptions/Descriptions.tsx","../src/components/Statistic/Statistic.tsx","../src/components/Timeline/Timeline.tsx","../src/components/Carousel/Carousel.tsx","../src/components/Image/Image.tsx","../src/components/ImageViewer/ImageViewer.tsx","../src/components/OrderList/OrderList.tsx","../src/components/Alert/Alert.tsx","../src/components/Toast/Toast.tsx","../src/components/Message/Message.tsx","../src/components/Modal/Modal.tsx","../src/components/Drawer/Drawer.tsx","../src/components/Progress/Progress.tsx","../src/components/Skeleton/Skeleton.tsx","../src/components/Spin/Spin.tsx","../src/components/Result/Result.tsx","../src/components/EmptyState/EmptyState.tsx","../src/components/Popconfirm/Popconfirm.tsx","../src/components/Menu/Menu.tsx","../src/components/Navbar/Navbar.tsx","../src/components/Navbar/Sidebar.tsx","../src/components/Sidemenu/Sidemenu.tsx","../src/components/Breadcrumb/Breadcrumb.tsx","../src/components/Pagination/Pagination.tsx","../src/components/Tabs/Tabs.tsx","../src/components/Steps/Steps.tsx","../src/components/Anchor/Anchor.tsx","../src/components/BackTop/BackTop.tsx","../src/components/Affix/Affix.tsx","../src/components/Tooltip/Tooltip.tsx","../src/components/Popover/Popover.tsx","../src/components/Tour/Tour.tsx","../src/components/Divider/Divider.tsx","../src/components/Accordion/Accordion.tsx","../src/components/Segmented/Segmented.tsx","../src/components/SplitButton/SplitButton.tsx","../src/components/Toolbar/Toolbar.tsx","../src/components/Watermark/Watermark.tsx","../src/components/NotificationCenter/NotificationCenter.tsx","../src/components/DeviceCard/DeviceCard.tsx","../src/components/iot/ActivityLog/ActivityLog.tsx","../src/components/iot/AlarmPanel/AlarmPanel.tsx","../src/components/iot/AutomationRules/AutomationRules.tsx","../src/components/iot/ConnectionIndicator/ConnectionIndicator.tsx","../src/components/iot/DashboardWidget/DashboardWidget.tsx","../src/components/iot/DeviceAnalytics/DeviceAnalytics.tsx","../src/components/iot/DeviceControlPanel/DeviceControlPanel.tsx","../src/components/iot/DeviceList/DeviceList.tsx","../src/components/iot/DeviceListItem/DeviceListItem.tsx","../src/components/iot/EventDataTable/EventDataTable.tsx","../src/components/iot/EventTimeline/EventTimeline.tsx","../src/components/iot/KpiCard/KpiCard.tsx","../src/components/iot/MapView/MapView.tsx","../src/components/iot/MetricCard/MetricCard.tsx","../src/components/iot/RealTimeMonitor/RealTimeMonitor.tsx","../src/components/iot/SensorPanel/SensorPanel.tsx","../src/components/iot/StatusBadge/StatusBadge.tsx","../src/components/iot/StatusCard/StatusCard.tsx","../src/components/mobile/ActionSheet/ActionSheet.tsx","../src/components/mobile/BottomSheet/BottomSheet.tsx","../src/components/mobile/FAB/FAB.tsx","../src/components/mobile/MobileNavBar/MobileNavBar.tsx","../src/components/mobile/PullToRefresh/PullToRefresh.tsx","../src/components/mobile/SwipeActions/SwipeActions.tsx"],"sourcesContent":["import React, { type ButtonHTMLAttributes, type ReactNode } from 'react';\nimport styles from './Button.module.css';\n\nexport type ButtonVariant = 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger' | 'success' | 'warning' | 'error';\nexport type ButtonSize = 'xs' | 'sm' | 'md' | 'lg';\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /**\n   * Button variant\n   * @default 'primary'\n   */\n  variant?: ButtonVariant;\n\n  /**\n   * Button size\n   * @default 'md'\n   */\n  size?: ButtonSize;\n\n  /**\n   * Loading state - shows spinner and disables interaction\n   * @default false\n   */\n  loading?: boolean;\n\n  /**\n   * Icon to display before children\n   */\n  icon?: ReactNode;\n\n  /**\n   * Icon-only button (square aspect ratio)\n   * @default false\n   */\n  iconOnly?: boolean;\n\n  /**\n   * Button content\n   */\n  children?: ReactNode;\n\n  /**\n   * Additional CSS class names\n   */\n  className?: string;\n\n  /**\n   * Disabled state\n   * @default false\n   */\n  disabled?: boolean;\n}\n\n/**\n * Button component for triggering actions and events\n *\n * @example\n * ```tsx\n * // Primary button\n * <Button variant=\"primary\">Save</Button>\n *\n * // Secondary button\n * <Button variant=\"secondary\">Cancel</Button>\n *\n * // Loading state\n * <Button loading>Saving...</Button>\n *\n * // With icon\n * <Button>\n *   <PlusIcon />\n *   Add Item\n * </Button>\n *\n * // Icon only\n * <Button iconOnly aria-label=\"Settings\">\n *   <SettingsIcon />\n * </Button>\n * ```\n */\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      variant = 'primary',\n      size = 'md',\n      loading = false,\n      icon,\n      iconOnly = false,\n      children,\n      className = '',\n      disabled = false,\n      type = 'button',\n      ...rest\n    },\n    ref\n  ) => {\n    const classNames = [\n      styles.btn,\n      styles[`btn-${variant}`],\n      styles[`btn-${size}`],\n      loading && styles['btn-loading'],\n      iconOnly && styles['btn-icon'],\n      className,\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    return (\n      <button\n        ref={ref}\n        type={type}\n        className={classNames}\n        disabled={disabled || loading}\n        aria-busy={loading}\n        {...rest}\n      >\n        {icon && <span className={styles.btnIconWrapper}>{icon}</span>}\n        {children}\n      </button>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport default Button;\n","import React, { type HTMLAttributes, type ReactNode } from 'react';\nimport styles from './ButtonGroup.module.css';\n\nexport interface ButtonGroupProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * Button elements to group together\n   */\n  children: ReactNode;\n\n  /**\n   * Additional CSS class\n   */\n  className?: string;\n}\n\n/**\n * ButtonGroup component groups multiple buttons together\n *\n * @example\n * ```tsx\n * <ButtonGroup>\n *   <Button variant=\"secondary\">Left</Button>\n *   <Button variant=\"secondary\">Center</Button>\n *   <Button variant=\"secondary\">Right</Button>\n * </ButtonGroup>\n * ```\n */\nexport const ButtonGroup: React.FC<ButtonGroupProps> = ({ children, className = '', ...rest }) => {\n  const groupClasses = [styles['btn-group'], className].filter(Boolean).join(' ');\n\n  return (\n    <div className={groupClasses} role=\"group\" {...rest}>\n      {children}\n    </div>\n  );\n};\n\nButtonGroup.displayName = 'ButtonGroup';\n\nexport default ButtonGroup;\n","import React, { type InputHTMLAttributes, type ReactNode } from 'react';\nimport styles from './Input.module.css';\n\nexport type InputSize = 'sm' | 'md' | 'lg';\nexport type InputState = 'default' | 'error' | 'success' | 'warning';\nexport type InputVariant = 'outlined' | 'filled' | 'underline' | 'flush';\nexport type LabelPosition = 'top' | 'horizontal';\n\nexport interface InputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'size'> {\n  /**\n   * Input size\n   * @default 'md'\n   */\n  size?: InputSize;\n\n  /**\n   * Input state (affects border color)\n   * @default 'default'\n   */\n  state?: InputState;\n\n  /**\n   * Input visual variant\n   * @default 'outlined'\n   */\n  variant?: InputVariant;\n\n  /**\n   * Label position style\n   * @default 'top'\n   */\n  labelPosition?: LabelPosition;\n\n  /**\n   * Label text\n   */\n  label?: string;\n\n  /**\n   * Helper text (shown below input)\n   */\n  helperText?: string;\n\n  /**\n   * Error message (shown when state is 'error')\n   */\n  errorMessage?: string;\n\n  /**\n   * Success message (shown when state is 'success')\n   */\n  successMessage?: string;\n\n  /**\n   * Warning message (shown when state is 'warning')\n   */\n  warningMessage?: string;\n\n  /**\n   * Show required indicator (*)\n   * @default false\n   */\n  required?: boolean;\n\n  /**\n   * Full width\n   * @default false\n   */\n  fullWidth?: boolean;\n\n  /**\n   * Icon to show on the left\n   */\n  leftIcon?: ReactNode;\n\n  /**\n   * Icon to show on the right\n   */\n  rightIcon?: ReactNode;\n\n  /**\n   * Additional CSS class for the wrapper\n   */\n  wrapperClassName?: string;\n}\n\n/**\n * Input component for text input fields\n *\n * @example\n * ```tsx\n * // Basic input\n * <Input label=\"Email\" placeholder=\"Enter email\" />\n *\n * // With error\n * <Input\n *   label=\"Email\"\n *   state=\"error\"\n *   errorMessage=\"Invalid email address\"\n * />\n *\n * // With icon\n * <Input\n *   label=\"Search\"\n *   leftIcon={<SearchIcon />}\n *   placeholder=\"Search...\"\n * />\n * ```\n */\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\n  (\n    {\n      size = 'md',\n      state = 'default',\n      variant = 'outlined',\n      labelPosition = 'top',\n      label,\n      helperText,\n      errorMessage,\n      successMessage,\n      warningMessage,\n      required = false,\n      fullWidth = false,\n      leftIcon,\n      rightIcon,\n      wrapperClassName = '',\n      className = '',\n      disabled = false,\n      readOnly = false,\n      id,\n      ...rest\n    },\n    ref\n  ) => {\n    // Generate unique ID if not provided\n    const inputId = id || `input-${React.useId()}`;\n\n    // Determine which message to show\n    const message =\n      state === 'error'\n        ? errorMessage\n        : state === 'success'\n        ? successMessage\n        : state === 'warning'\n        ? warningMessage\n        : helperText;\n\n    const wrapperClasses = [\n      styles['input-group'],\n      labelPosition === 'horizontal' && styles['input-group-horizontal'],\n      fullWidth && styles['input-full-width'],\n      wrapperClassName,\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    const inputClasses = [\n      styles.input,\n      styles[`input-${size}`],\n      variant !== 'outlined' && styles[`input-${variant}`],\n      state !== 'default' && styles[state],\n      leftIcon && styles['input-with-left-icon'],\n      rightIcon && styles['input-with-right-icon'],\n      className,\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    const messageClasses = [\n      styles['input-message'],\n      state === 'error' && styles['input-error'],\n      state === 'success' && styles['input-success'],\n      state === 'warning' && styles['input-warning'],\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    return (\n      <div className={wrapperClasses}>\n        {label && (\n          <label htmlFor={inputId} className={styles['input-label']}>\n            {label}\n            {required && <span className={styles.required}>*</span>}\n          </label>\n        )}\n\n        {labelPosition === 'horizontal' && message ? (\n          <div className={styles['input-horizontal-content']}>\n            <div className={styles['input-wrapper']}>\n              {leftIcon && <span className={styles['input-icon-left']}>{leftIcon}</span>}\n\n              <input\n                ref={ref}\n                id={inputId}\n                className={inputClasses}\n                disabled={disabled}\n                readOnly={readOnly}\n                aria-invalid={state === 'error'}\n                aria-describedby={message ? `${inputId}-message` : undefined}\n                {...rest}\n              />\n\n              {rightIcon && <span className={styles['input-icon-right']}>{rightIcon}</span>}\n            </div>\n            {message && (\n              <span id={`${inputId}-message`} className={messageClasses}>\n                {message}\n              </span>\n            )}\n          </div>\n        ) : (\n          <>\n            <div className={styles['input-wrapper']}>\n              {leftIcon && <span className={styles['input-icon-left']}>{leftIcon}</span>}\n\n              <input\n                ref={ref}\n                id={inputId}\n                className={inputClasses}\n                disabled={disabled}\n                readOnly={readOnly}\n                aria-invalid={state === 'error'}\n                aria-describedby={message ? `${inputId}-message` : undefined}\n                {...rest}\n              />\n\n              {rightIcon && <span className={styles['input-icon-right']}>{rightIcon}</span>}\n            </div>\n\n            {message && labelPosition !== 'horizontal' && (\n              <span id={`${inputId}-message`} className={messageClasses}>\n                {message}\n              </span>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n\nexport default Input;\n","import React, { useState, useRef, useEffect, useMemo, useCallback, memo, type ReactNode } from 'react';\nimport { ChevronDown } from 'lucide-react';\nimport styles from './Select.module.css';\n\nexport interface SelectOption {\n  value: string;\n  label: string;\n  icon?: ReactNode;\n  disabled?: boolean;\n}\n\nexport interface SelectOptionGroup {\n  label: string;\n  options: SelectOption[];\n}\n\nexport type SelectState = 'default' | 'error';\nexport type SelectSize = 'sm' | 'md' | 'lg';\n\nexport interface SelectProps {\n  label?: string;\n  name?: string;\n  value?: string;\n  defaultValue?: string;\n  placeholder?: string;\n  options?: SelectOption[];\n  groups?: SelectOptionGroup[];\n  state?: SelectState;\n  size?: SelectSize;\n  disabled?: boolean;\n  helperText?: string;\n  errorMessage?: string;\n  required?: boolean;\n  fullWidth?: boolean;\n  onChange?: (value: string, option: SelectOption | null) => void;\n  className?: string;\n  id?: string;\n}\n\n// Memoized Option component\ninterface OptionItemProps {\n  option: SelectOption;\n  isSelected: boolean;\n  isFocused: boolean;\n  onSelect: (option: SelectOption) => void;\n}\n\nconst OptionItem = memo<OptionItemProps>(({ option, isSelected, isFocused, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(option);\n  }, [option, onSelect]);\n\n  const className = useMemo(() =>\n    `${styles['custom-select-option']} ${isSelected ? styles.selected : ''} ${isFocused ? styles.focused : ''} ${option.disabled ? styles.disabled : ''}`,\n    [isSelected, isFocused, option.disabled]\n  );\n\n  return (\n    <div\n      className={className}\n      onClick={handleClick}\n      role=\"option\"\n      aria-selected={isSelected}\n      data-value={option.value}\n    >\n      {option.icon && <span className={styles['option-icon']}>{option.icon}</span>}\n      <span>{option.label}</span>\n    </div>\n  );\n});\n\nOptionItem.displayName = 'Select.OptionItem';\n\nexport const Select = React.forwardRef<HTMLDivElement, SelectProps>(\n  (\n    {\n      label,\n      name,\n      value: controlledValue,\n      defaultValue = '',\n      placeholder = 'Select an option...',\n      options = [],\n      groups = [],\n      state = 'default',\n      size = 'md',\n      disabled = false,\n      helperText,\n      errorMessage,\n      required = false,\n      fullWidth = false,\n      onChange,\n      className = '',\n      id,\n    },\n    ref\n  ) => {\n    const selectId = id || `select-${React.useId()}`;\n    const [isOpen, setIsOpen] = useState(false);\n    const [selectedValue, setSelectedValue] = useState(controlledValue ?? defaultValue);\n    const [focusedIndex, setFocusedIndex] = useState(-1);\n    const containerRef = useRef<HTMLDivElement>(null);\n    const dropdownRef = useRef<HTMLDivElement>(null);\n    const triggerRef = useRef<HTMLDivElement>(null);\n\n    // Determine if controlled or uncontrolled\n    const isControlled = controlledValue !== undefined;\n    const currentValue = isControlled ? controlledValue : selectedValue;\n\n    // Flatten all options (from both options and groups)\n    const allOptions = useMemo(() => {\n      const opts: SelectOption[] = [...options];\n      groups.forEach((group) => {\n        opts.push(...group.options);\n      });\n      return opts.filter((opt) => !opt.disabled);\n    }, [options, groups]);\n\n    // Find selected option\n    const selectedOption = useMemo(() =>\n      allOptions.find((opt) => opt.value === currentValue),\n      [allOptions, currentValue]\n    );\n\n    // Handle option click\n    const handleOptionClick = useCallback((option: SelectOption) => {\n      if (!option.disabled) {\n        if (!isControlled) {\n          setSelectedValue(option.value);\n        }\n        const foundOption = allOptions.find((opt) => opt.value === option.value) || null;\n        onChange?.(option.value, foundOption);\n        setIsOpen(false);\n        triggerRef.current?.focus();\n      }\n    }, [isControlled, allOptions, onChange]);\n\n    // Toggle dropdown\n    const toggleDropdown = useCallback(() => {\n      if (!disabled) {\n        setIsOpen((prev) => !prev);\n        setFocusedIndex(-1);\n      }\n    }, [disabled]);\n\n    // Close dropdown when clicking outside\n    useEffect(() => {\n      if (!isOpen) return;\n\n      const handleClickOutside = (event: MouseEvent) => {\n        if (\n          containerRef.current &&\n          !containerRef.current.contains(event.target as Node)\n        ) {\n          setIsOpen(false);\n        }\n      };\n\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }, [isOpen]);\n\n    // Keyboard navigation\n    const handleKeyDown = useCallback((event: React.KeyboardEvent) => {\n      if (disabled) return;\n\n      switch (event.key) {\n        case 'Enter':\n        case ' ':\n          event.preventDefault();\n          if (!isOpen) {\n            setIsOpen(true);\n          } else if (focusedIndex >= 0 && focusedIndex < allOptions.length) {\n            handleOptionClick(allOptions[focusedIndex]);\n          }\n          break;\n        case 'Escape':\n          event.preventDefault();\n          setIsOpen(false);\n          triggerRef.current?.focus();\n          break;\n        case 'ArrowDown':\n          event.preventDefault();\n          if (!isOpen) {\n            setIsOpen(true);\n          } else {\n            setFocusedIndex((prev) =>\n              prev < allOptions.length - 1 ? prev + 1 : prev\n            );\n          }\n          break;\n        case 'ArrowUp':\n          event.preventDefault();\n          if (isOpen) {\n            setFocusedIndex((prev) => (prev > 0 ? prev - 1 : 0));\n          }\n          break;\n        case 'Tab':\n          if (isOpen) {\n            setIsOpen(false);\n          }\n          break;\n      }\n    }, [disabled, isOpen, focusedIndex, allOptions, handleOptionClick]);\n\n    // Auto-scroll focused option into view\n    useEffect(() => {\n      if (isOpen && focusedIndex >= 0 && dropdownRef.current) {\n        const focusedElement = dropdownRef.current.children[focusedIndex] as HTMLElement;\n        if (focusedElement) {\n          focusedElement.scrollIntoView({ block: 'nearest', behavior: 'smooth' });\n        }\n      }\n    }, [focusedIndex, isOpen]);\n\n    // Memoized ref callback\n    const setRefs = useCallback((node: HTMLDivElement | null) => {\n      if (typeof ref === 'function') {\n        ref(node);\n      } else if (ref) {\n        ref.current = node;\n      }\n      (containerRef as React.MutableRefObject<HTMLDivElement | null>).current = node;\n    }, [ref]);\n\n    // Memoized class names\n    const containerClassName = useMemo(() =>\n      `${styles['input-group']} ${fullWidth ? styles['input-full-width'] : ''} ${className}`,\n      [fullWidth, className]\n    );\n\n    const selectClassName = useMemo(() =>\n      `${styles['custom-select']} ${isOpen ? styles.open : ''} ${state === 'error' ? styles.error : ''} ${disabled ? styles.disabled : ''} ${styles[`select-${size}`] || ''}`,\n      [isOpen, state, disabled, size]\n    );\n\n    const triggerClassName = useMemo(() =>\n      `${styles['custom-select-trigger']} ${!selectedOption ? styles.placeholder : ''}`,\n      [selectedOption]\n    );\n\n    // Render options from array\n    const renderOptions = useCallback((opts: SelectOption[]) => {\n      return opts.map((option) => {\n        const globalIndex = allOptions.indexOf(option);\n        const isSelected = option.value === currentValue;\n        const isFocused = globalIndex === focusedIndex;\n\n        return (\n          <OptionItem\n            key={option.value}\n            option={option}\n            isSelected={isSelected}\n            isFocused={isFocused}\n            onSelect={handleOptionClick}\n          />\n        );\n      });\n    }, [allOptions, currentValue, focusedIndex, handleOptionClick]);\n\n    // Render dropdown content\n    const dropdownContent = useMemo(() => {\n      if (groups.length > 0) {\n        return groups.map((group) => (\n          <React.Fragment key={group.label}>\n            <div className={styles['custom-select-group-label']}>{group.label}</div>\n            {renderOptions(group.options)}\n          </React.Fragment>\n        ));\n      }\n      return renderOptions(options);\n    }, [groups, options, renderOptions]);\n\n    // Native select options\n    const nativeOptions = useMemo(() =>\n      allOptions.map((option) => (\n        <option key={option.value} value={option.value}>\n          {option.label}\n        </option>\n      )),\n      [allOptions]\n    );\n\n    // Noop handler for native select\n    const noop = useCallback(() => {}, []);\n\n    return (\n      <div ref={setRefs} className={containerClassName}>\n        {label && (\n          <label htmlFor={selectId} className={styles['input-label']}>\n            {label}\n            {required && <span className={styles.required}>*</span>}\n          </label>\n        )}\n\n        <div className={selectClassName}>\n          {/* Hidden native select for form submission */}\n          <select\n            id={selectId}\n            name={name}\n            value={currentValue}\n            onChange={noop}\n            className={styles['native-select']}\n            disabled={disabled}\n            required={required}\n            tabIndex={-1}\n            aria-hidden=\"true\"\n          >\n            <option value=\"\">{placeholder}</option>\n            {nativeOptions}\n          </select>\n\n          {/* Custom trigger */}\n          <div\n            ref={triggerRef}\n            className={triggerClassName}\n            onClick={toggleDropdown}\n            onKeyDown={handleKeyDown}\n            tabIndex={disabled ? -1 : 0}\n            role=\"combobox\"\n            aria-expanded={isOpen}\n            aria-haspopup=\"listbox\"\n            aria-controls={`${selectId}-listbox`}\n            aria-labelledby={label ? `${selectId}-label` : undefined}\n            aria-disabled={disabled}\n          >\n            <span className={styles['trigger-content']}>\n              {selectedOption?.icon && (\n                <span className={styles['option-icon']}>{selectedOption.icon}</span>\n              )}\n              {selectedOption ? selectedOption.label : placeholder}\n            </span>\n            <ChevronDown className={styles['select-icon']} size={18} />\n          </div>\n\n          {/* Dropdown */}\n          <div\n            ref={dropdownRef}\n            className={styles['custom-select-dropdown']}\n            role=\"listbox\"\n            id={`${selectId}-listbox`}\n            aria-labelledby={label ? `${selectId}-label` : undefined}\n          >\n            {dropdownContent}\n          </div>\n        </div>\n\n        {/* Helper text or error message */}\n        {state === 'error' && errorMessage && (\n          <span className={`${styles['input-message']} ${styles['input-error']}`}>\n            {errorMessage}\n          </span>\n        )}\n        {state !== 'error' && helperText && (\n          <span className={styles['input-message']}>{helperText}</span>\n        )}\n      </div>\n    );\n  }\n);\n\nSelect.displayName = 'Select';\n","import React, { type InputHTMLAttributes, useEffect, useRef } from 'react';\nimport { Check } from 'lucide-react';\nimport styles from './Checkbox.module.css';\n\nexport type CheckboxSize = 'sm' | 'md' | 'lg';\n\nexport interface CheckboxProps\n  extends Omit<InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'> {\n  label?: string;\n  helperText?: string;\n  error?: boolean;\n  errorMessage?: string;\n  indeterminate?: boolean;\n  size?: CheckboxSize;\n}\n\nexport const Checkbox = React.forwardRef<HTMLInputElement, CheckboxProps>(\n  (\n    {\n      label,\n      helperText,\n      error = false,\n      errorMessage,\n      indeterminate = false,\n      size = 'md',\n      className = '',\n      disabled = false,\n      id,\n      ...props\n    },\n    ref\n  ) => {\n    const checkboxId = id || `checkbox-${React.useId()}`;\n    const messageId = `${checkboxId}-message`;\n    const hasMessage = (error && errorMessage) || helperText;\n    const internalRef = useRef<HTMLInputElement>(null);\n    const checkboxRef = (ref as React.RefObject<HTMLInputElement>) || internalRef;\n\n    // Handle indeterminate state\n    useEffect(() => {\n      if (checkboxRef.current) {\n        checkboxRef.current.indeterminate = indeterminate;\n      }\n    }, [indeterminate, checkboxRef]);\n\n    // Size class mapping\n    const sizeClass = size === 'sm' ? styles['checkbox-sm'] : size === 'lg' ? styles['checkbox-lg'] : '';\n\n    // Icon size based on checkbox size\n    const iconSize = size === 'sm' ? 10 : size === 'lg' ? 16 : 12;\n\n    return (\n      <div className={`${styles['checkbox-wrapper']} ${className}`}>\n        <label\n          className={`${styles.checkbox} ${sizeClass} ${error ? styles.error : ''} ${\n            disabled ? styles.disabled : ''\n          }`}\n          htmlFor={checkboxId}\n        >\n          <input\n            ref={checkboxRef}\n            type=\"checkbox\"\n            id={checkboxId}\n            disabled={disabled}\n            className={styles['checkbox-input']}\n            aria-invalid={error || undefined}\n            aria-describedby={hasMessage ? messageId : undefined}\n            {...props}\n          />\n          <span className={styles['checkbox-box']}>\n            <Check size={iconSize} strokeWidth={3} className={styles['checkbox-icon']} />\n            <span className={styles['checkbox-indeterminate-icon']} />\n          </span>\n          {label && <span className={styles['checkbox-label']}>{label}</span>}\n        </label>\n\n        {/* Helper text or error message */}\n        {error && errorMessage && (\n          <span\n            id={messageId}\n            className={`${styles['checkbox-message']} ${styles['checkbox-error']}`}\n            role=\"alert\"\n          >\n            {errorMessage}\n          </span>\n        )}\n        {!error && helperText && (\n          <span id={messageId} className={styles['checkbox-message']}>{helperText}</span>\n        )}\n      </div>\n    );\n  }\n);\n\nCheckbox.displayName = 'Checkbox';\n","import React, { type InputHTMLAttributes } from 'react';\nimport styles from './Radio.module.css';\n\nexport type RadioSize = 'sm' | 'md' | 'lg';\n\nexport interface RadioProps\n  extends Omit<InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'> {\n  label?: string;\n  helperText?: string;\n  error?: boolean;\n  errorMessage?: string;\n  size?: RadioSize;\n}\n\nexport const Radio = React.forwardRef<HTMLInputElement, RadioProps>(\n  (\n    {\n      label,\n      helperText,\n      error = false,\n      errorMessage,\n      size = 'md',\n      className = '',\n      disabled = false,\n      id,\n      ...props\n    },\n    ref\n  ) => {\n    const radioId = id || `radio-${React.useId()}`;\n    const messageId = `${radioId}-message`;\n    const hasMessage = (error && errorMessage) || helperText;\n\n    // Size class mapping\n    const sizeClass = size === 'sm' ? styles['radio-sm'] : size === 'lg' ? styles['radio-lg'] : '';\n\n    return (\n      <div className={`${styles['radio-wrapper']} ${className}`}>\n        <label\n          className={`${styles.radio} ${sizeClass} ${error ? styles.error : ''} ${\n            disabled ? styles.disabled : ''\n          }`}\n          htmlFor={radioId}\n        >\n          <input\n            ref={ref}\n            type=\"radio\"\n            id={radioId}\n            disabled={disabled}\n            className={styles['radio-input']}\n            aria-invalid={error || undefined}\n            aria-describedby={hasMessage ? messageId : undefined}\n            {...props}\n          />\n          <span className={styles['radio-circle']}>\n            <span className={styles['radio-dot']} />\n          </span>\n          {label && <span className={styles['radio-label']}>{label}</span>}\n        </label>\n\n        {/* Helper text or error message */}\n        {error && errorMessage && (\n          <span\n            id={messageId}\n            className={`${styles['radio-message']} ${styles['radio-error']}`}\n            role=\"alert\"\n          >\n            {errorMessage}\n          </span>\n        )}\n        {!error && helperText && (\n          <span id={messageId} className={styles['radio-message']}>{helperText}</span>\n        )}\n      </div>\n    );\n  }\n);\n\nRadio.displayName = 'Radio';\n","import React from 'react';\nimport styles from './Toggle.module.css';\n\nexport type ToggleSize = 'sm' | 'md' | 'lg';\n\nexport interface ToggleProps {\n  /**\n   * Label text displayed next to the toggle\n   */\n  label?: string;\n  /**\n   * Size variant of the toggle\n   */\n  size?: ToggleSize;\n  /**\n   * Whether the toggle is checked\n   */\n  checked?: boolean;\n  /**\n   * Default checked state (for uncontrolled component)\n   */\n  defaultChecked?: boolean;\n  /**\n   * Whether the toggle is disabled\n   */\n  disabled?: boolean;\n  /**\n   * Name attribute for form submission\n   */\n  name?: string;\n  /**\n   * ID attribute\n   */\n  id?: string;\n  /**\n   * Callback when toggle state changes\n   */\n  onChange?: (checked: boolean, event: React.ChangeEvent<HTMLInputElement>) => void;\n  /**\n   * Additional CSS class\n   */\n  className?: string;\n  /**\n   * Accessible label (overrides label prop for screen readers)\n   */\n  'aria-label'?: string;\n  /**\n   * ID of element that labels this toggle\n   */\n  'aria-labelledby'?: string;\n}\n\nexport const Toggle = React.forwardRef<HTMLInputElement, ToggleProps>(\n  (\n    {\n      label,\n      size = 'md',\n      checked,\n      defaultChecked,\n      disabled = false,\n      name,\n      id,\n      onChange,\n      className = '',\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n    },\n    ref\n  ) => {\n    const toggleId = id || `toggle-${React.useId()}`;\n\n    // Handle change event\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n      if (!disabled && onChange) {\n        onChange(event.target.checked, event);\n      }\n    };\n\n    // Determine size class\n    const sizeClass = {\n      sm: styles['switch-sm'],\n      md: '',\n      lg: styles['switch-lg'],\n    }[size];\n\n    return (\n      <label\n        className={`${styles.switch} ${sizeClass} ${className}`}\n        htmlFor={toggleId}\n      >\n        <input\n          ref={ref}\n          id={toggleId}\n          type=\"checkbox\"\n          name={name}\n          className={styles['switch-input']}\n          checked={checked}\n          defaultChecked={defaultChecked}\n          disabled={disabled}\n          onChange={handleChange}\n          aria-label={ariaLabel}\n          aria-labelledby={ariaLabelledBy}\n        />\n        <span className={styles['switch-slider']} />\n        {label && <span className={styles['switch-label']}>{label}</span>}\n      </label>\n    );\n  }\n);\n\nToggle.displayName = 'Toggle';\n","import React, { type TextareaHTMLAttributes, useState, useEffect } from 'react';\nimport styles from './Textarea.module.css';\n\nexport type TextareaSize = 'sm' | 'md' | 'lg';\nexport type TextareaState = 'default' | 'error' | 'success' | 'warning';\nexport type TextareaResize = 'none' | 'both' | 'horizontal' | 'vertical';\n\nexport interface TextareaProps\n  extends Omit<TextareaHTMLAttributes<HTMLTextAreaElement>, 'size'> {\n  /**\n   * Textarea size\n   * @default 'md'\n   */\n  size?: TextareaSize;\n\n  /**\n   * Textarea state (affects border color)\n   * @default 'default'\n   */\n  state?: TextareaState;\n\n  /**\n   * Label text\n   */\n  label?: string;\n\n  /**\n   * Helper text (shown below textarea)\n   */\n  helperText?: string;\n\n  /**\n   * Error message (shown when state is 'error')\n   */\n  errorMessage?: string;\n\n  /**\n   * Success message (shown when state is 'success')\n   */\n  successMessage?: string;\n\n  /**\n   * Warning message (shown when state is 'warning')\n   */\n  warningMessage?: string;\n\n  /**\n   * Show required indicator (*)\n   * @default false\n   */\n  required?: boolean;\n\n  /**\n   * Full width\n   * @default false\n   */\n  fullWidth?: boolean;\n\n  /**\n   * Number of visible text rows\n   * @default 4\n   */\n  rows?: number;\n\n  /**\n   * Show character counter\n   * @default false\n   */\n  showCounter?: boolean;\n\n  /**\n   * Resize behavior\n   * @default 'vertical'\n   */\n  resize?: TextareaResize;\n\n  /**\n   * Custom counter render function\n   */\n  renderCounter?: (current: number, max?: number) => React.ReactNode;\n}\n\nexport const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  (\n    {\n      size = 'md',\n      state = 'default',\n      label,\n      helperText,\n      errorMessage,\n      successMessage,\n      warningMessage,\n      required = false,\n      fullWidth = false,\n      rows = 4,\n      showCounter = false,\n      resize = 'vertical',\n      renderCounter,\n      className = '',\n      value,\n      defaultValue,\n      maxLength,\n      onChange,\n      id,\n      ...rest\n    },\n    ref\n  ) => {\n    const textareaId = id || `textarea-${React.useId()}`;\n    const [charCount, setCharCount] = useState(0);\n\n    // Initialize character count\n    useEffect(() => {\n      if (value !== undefined) {\n        setCharCount(String(value).length);\n      } else if (defaultValue !== undefined) {\n        setCharCount(String(defaultValue).length);\n      }\n    }, [value, defaultValue]);\n\n    // Handle change\n    const handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n      setCharCount(event.target.value.length);\n      onChange?.(event);\n    };\n\n    // Determine size class\n    const sizeClass = {\n      sm: styles['input-sm'],\n      md: '',\n      lg: styles['input-lg'],\n    }[size];\n\n    // Determine state class\n    const stateClass = {\n      default: '',\n      error: styles.error,\n      success: styles.success,\n      warning: styles.warning,\n    }[state];\n\n    // Get message based on state\n    const getMessage = () => {\n      if (state === 'error' && errorMessage) return errorMessage;\n      if (state === 'success' && successMessage) return successMessage;\n      if (state === 'warning' && warningMessage) return warningMessage;\n      return helperText;\n    };\n\n    const message = getMessage();\n\n    // Get message class\n    const messageClass = {\n      error: styles['input-error'],\n      success: styles['input-success'],\n      warning: styles['input-warning'],\n      default: '',\n    }[state];\n\n    // Resize style\n    const resizeStyle = {\n      none: styles['resize-none'],\n      both: styles['resize-both'],\n      horizontal: styles['resize-horizontal'],\n      vertical: styles['resize-vertical'],\n    }[resize];\n\n    return (\n      <div\n        className={`${styles['input-group']} ${\n          fullWidth ? styles['input-full-width'] : ''\n        } ${className}`}\n      >\n        {label && (\n          <label htmlFor={textareaId} className={styles['input-label']}>\n            {label}\n            {required && <span className={styles.required}>*</span>}\n          </label>\n        )}\n\n        <textarea\n          ref={ref}\n          id={textareaId}\n          className={`${styles.input} ${styles.textarea} ${sizeClass} ${stateClass} ${resizeStyle}`}\n          value={value}\n          defaultValue={defaultValue}\n          rows={rows}\n          maxLength={maxLength}\n          onChange={handleChange}\n          aria-invalid={state === 'error'}\n          aria-describedby={message ? `${textareaId}-message` : undefined}\n          {...rest}\n        />\n\n        {(message || showCounter) && (\n          <div className={styles['message-counter-wrapper']}>\n            {message && (\n              <span\n                id={`${textareaId}-message`}\n                className={`${styles['input-message']} ${messageClass}`}\n              >\n                {message}\n              </span>\n            )}\n            {showCounter && (\n              <span className={styles['character-count']}>\n                {renderCounter ? (\n                  renderCounter(charCount, maxLength)\n                ) : (\n                  <>\n                    {charCount}\n                    {maxLength && ` / ${maxLength}`}\n                  </>\n                )}\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n","import React, { useRef, useState, useCallback } from 'react';\nimport { UploadCloud, FileText, X } from 'lucide-react';\nimport styles from './FileUpload.module.css';\n\nexport interface FileUploadFile extends File {\n  id: string;\n  preview?: string;\n  progress?: number;\n  error?: string;\n  status?: 'idle' | 'uploading' | 'success' | 'error';\n}\n\nexport interface FileUploadProps {\n  /**\n   * Label text\n   */\n  label?: string;\n  /**\n   * Helper text shown below upload area\n   */\n  helperText?: string;\n  /**\n   * Accepted file types (e.g., \"image/*\", \".pdf,.doc\")\n   */\n  accept?: string;\n  /**\n   * Maximum file size in bytes\n   */\n  maxSize?: number;\n  /**\n   * Maximum number of files\n   */\n  maxFiles?: number;\n  /**\n   * Allow multiple file selection\n   */\n  multiple?: boolean;\n  /**\n   * Disabled state\n   */\n  disabled?: boolean;\n  /**\n   * Show file preview for images\n   */\n  showPreview?: boolean;\n  /**\n   * Use native file input instead of drag-and-drop area\n   */\n  useNativeInput?: boolean;\n  /**\n   * Custom icon element\n   */\n  icon?: React.ReactNode;\n  /**\n   * Main text in upload area\n   */\n  uploadText?: string;\n  /**\n   * Hint text below main text\n   */\n  hintText?: string;\n  /**\n   * Callback when files are selected\n   */\n  onFilesChange?: (files: File[]) => void;\n  /**\n   * Callback when file is removed\n   */\n  onFileRemove?: (file: File) => void;\n  /**\n   * Custom file validator\n   */\n  validator?: (file: File) => string | null;\n  /**\n   * Additional CSS class\n   */\n  className?: string;\n}\n\nexport const FileUpload: React.FC<FileUploadProps> = ({\n  label,\n  helperText,\n  accept,\n  maxSize = 10 * 1024 * 1024, // 10MB default\n  maxFiles = 10,\n  multiple = false,\n  disabled = false,\n  showPreview = false,\n  useNativeInput = false,\n  icon,\n  uploadText = 'Click to upload or drag and drop',\n  hintText,\n  onFilesChange,\n  onFileRemove,\n  validator,\n  className = '',\n}) => {\n  const [files, setFiles] = useState<FileUploadFile[]>([]);\n  const [isDragging, setIsDragging] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropZoneRef = useRef<HTMLDivElement>(null);\n\n  // Generate unique ID for file\n  const generateFileId = () => `file-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n\n  // Validate file\n  const validateFile = useCallback(\n    (file: File): string | null => {\n      // Custom validator\n      if (validator) {\n        const error = validator(file);\n        if (error) return error;\n      }\n\n      // Size check\n      if (maxSize && file.size > maxSize) {\n        const sizeMB = (maxSize / 1024 / 1024).toFixed(0);\n        return `File size exceeds ${sizeMB}MB limit`;\n      }\n\n      // Type check (basic)\n      if (accept) {\n        const acceptedTypes = accept.split(',').map((t) => t.trim());\n        const fileExt = `.${file.name.split('.').pop()?.toLowerCase()}`;\n        const fileMimeType = file.type;\n\n        const isAccepted = acceptedTypes.some((type) => {\n          if (type.startsWith('.')) {\n            return fileExt === type.toLowerCase();\n          }\n          if (type.includes('*')) {\n            const [main] = type.split('/');\n            return fileMimeType.startsWith(main);\n          }\n          return fileMimeType === type;\n        });\n\n        if (!isAccepted) {\n          return 'File type not supported';\n        }\n      }\n\n      return null;\n    },\n    [accept, maxSize, validator]\n  );\n\n  // Process files\n  const processFiles = useCallback(\n    (fileList: FileList | File[]) => {\n      const newFiles: FileUploadFile[] = [];\n      const fileArray = Array.from(fileList);\n\n      // Check max files\n      if (!multiple && fileArray.length > 1) {\n        fileArray.splice(1);\n      }\n\n      const totalFiles = multiple ? files.length + fileArray.length : fileArray.length;\n      if (totalFiles > maxFiles) {\n        alert(`Maximum ${maxFiles} files allowed`);\n        return;\n      }\n\n      fileArray.forEach((file) => {\n        const error = validateFile(file);\n        const fileWithMeta = Object.assign(file, {\n          id: generateFileId(),\n          status: error ? ('error' as const) : ('idle' as const),\n          error: error ?? undefined,\n        });\n\n        // Generate preview for images\n        if (showPreview && file.type.startsWith('image/') && !error) {\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            const preview = e.target?.result as string;\n            setFiles((prev) =>\n              prev.map((f) => (f.id === fileWithMeta.id ? { ...f, preview } : f))\n            );\n          };\n          reader.readAsDataURL(file);\n        }\n\n        newFiles.push(fileWithMeta);\n      });\n\n      if (multiple) {\n        setFiles((prev) => [...prev, ...newFiles]);\n        onFilesChange?.([...files, ...newFiles]);\n      } else {\n        setFiles(newFiles);\n        onFilesChange?.(newFiles);\n      }\n    },\n    [files, multiple, maxFiles, validateFile, showPreview, onFilesChange]\n  );\n\n  // Handle file input change\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const fileList = e.target.files;\n    if (fileList && fileList.length > 0) {\n      processFiles(fileList);\n    }\n  };\n\n  // Handle drag events\n  const handleDragEnter = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!disabled) {\n      setIsDragging(true);\n    }\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.currentTarget === dropZoneRef.current) {\n      setIsDragging(false);\n    }\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n\n    if (disabled) return;\n\n    const droppedFiles = e.dataTransfer.files;\n    if (droppedFiles.length > 0) {\n      processFiles(droppedFiles);\n    }\n  };\n\n  // Handle click\n  const handleClick = () => {\n    if (!disabled) {\n      inputRef.current?.click();\n    }\n  };\n\n  // Handle file remove\n  const handleRemove = (fileToRemove: FileUploadFile) => {\n    setFiles((prev) => prev.filter((f) => f.id !== fileToRemove.id));\n    onFileRemove?.(fileToRemove);\n\n    // Reset input if no files left\n    if (files.length === 1 && inputRef.current) {\n      inputRef.current.value = '';\n    }\n  };\n\n  // Format file size\n  const formatFileSize = (bytes: number): string => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n  };\n\n  return (\n    <div className={`${styles['upload-container']} ${className}`}>\n      {label && <label className={styles.label}>{label}</label>}\n\n      {useNativeInput ? (\n        <>\n          <input\n            ref={inputRef}\n            type=\"file\"\n            accept={accept}\n            multiple={multiple}\n            onChange={handleFileChange}\n            disabled={disabled}\n            className={styles['input-file']}\n          />\n          {helperText && <p className={styles['helper-text']}>{helperText}</p>}\n        </>\n      ) : (\n        <>\n          <div\n            ref={dropZoneRef}\n            className={`${styles['upload-area']} ${\n              isDragging ? styles.dragging : ''\n            } ${disabled ? styles.disabled : ''}`}\n            onClick={handleClick}\n            onDragEnter={handleDragEnter}\n            onDragLeave={handleDragLeave}\n            onDragOver={handleDragOver}\n            onDrop={handleDrop}\n            role=\"button\"\n            tabIndex={disabled ? -1 : 0}\n            aria-label=\"File upload area\"\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' || e.key === ' ') {\n                e.preventDefault();\n                handleClick();\n              }\n            }}\n          >\n            <input\n              ref={inputRef}\n              type=\"file\"\n              accept={accept}\n              multiple={multiple}\n              onChange={handleFileChange}\n              disabled={disabled}\n              style={{ display: 'none' }}\n              aria-hidden=\"true\"\n            />\n\n            {icon && <div className={styles['upload-icon']}>{icon}</div>}\n\n            {!icon && (\n              <div className={styles['upload-icon']}>\n                <UploadCloud size={48} />\n              </div>\n            )}\n\n            <div className={styles['upload-text']}>{uploadText}</div>\n            {hintText && <div className={styles['upload-hint']}>{hintText}</div>}\n          </div>\n\n          {helperText && <p className={styles['helper-text']}>{helperText}</p>}\n        </>\n      )}\n\n      {files.length > 0 && (\n        <div className={styles['file-list']}>\n          {files.map((file) => (\n            <div\n              key={file.id}\n              className={`${styles['file-item']} ${\n                file.status === 'error' ? styles['file-error'] : ''\n              } ${file.status === 'success' ? styles['file-success'] : ''}`}\n            >\n              {showPreview && file.preview && (\n                <div className={styles['file-preview']}>\n                  <img src={file.preview} alt={file.name} />\n                </div>\n              )}\n\n              {!file.preview && (\n                <div className={styles['file-icon']}>\n                  <FileText size={24} />\n                </div>\n              )}\n\n              <div className={styles['file-info']}>\n                <div className={styles['file-name']}>{file.name}</div>\n                <div className={styles['file-size']}>{formatFileSize(file.size)}</div>\n                {file.error && (\n                  <div className={styles['file-error-msg']}>{file.error}</div>\n                )}\n              </div>\n\n              {file.status === 'uploading' && file.progress !== undefined && (\n                <div className={styles['upload-file-progress']}>\n                  <div style={{\n                    flex: 1,\n                    height: '4px',\n                    backgroundColor: 'var(--color-gray-200)',\n                    borderRadius: 'var(--radius-full)',\n                    overflow: 'hidden'\n                  }}>\n                    <div style={{\n                      width: `${file.progress}%`,\n                      height: '100%',\n                      backgroundColor: 'var(--color-primary-500)',\n                      transition: 'width var(--duration-normal) var(--ease-out)'\n                    }} />\n                  </div>\n                  <span style={{\n                    marginLeft: 'var(--spacing-2)',\n                    fontSize: 'var(--font-size-body-small)',\n                    color: 'var(--text-secondary)'\n                  }}>\n                    {file.progress}%\n                  </span>\n                </div>\n              )}\n\n              {file.status !== 'uploading' && (\n                <button\n                  type=\"button\"\n                  className={styles['remove-btn']}\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleRemove(file);\n                  }}\n                  aria-label={`Remove ${file.name}`}\n                >\n                  <X size={18} />\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useCallback } from 'react';\nimport type { ReactNode } from 'react';\nimport styles from './Slider.module.css';\n\nexport interface SliderProps {\n  /** Current value (controlled) */\n  value?: number;\n  /** Default value (uncontrolled) */\n  defaultValue?: number;\n  /** Minimum value */\n  min?: number;\n  /** Maximum value */\n  max?: number;\n  /** Step increment */\n  step?: number;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Label text */\n  label?: ReactNode;\n  /** Show current value */\n  showValue?: boolean;\n  /** Value formatter function */\n  formatValue?: (value: number) => string;\n  /** Show min/max labels */\n  showMinMax?: boolean;\n  /** Min label text */\n  minLabel?: string;\n  /** Max label text */\n  maxLabel?: string;\n  /** Icon before slider */\n  iconBefore?: ReactNode;\n  /** Icon after slider */\n  iconAfter?: ReactNode;\n  /** Helper text */\n  helperText?: ReactNode;\n  /** Callback when value changes */\n  onChange?: (value: number) => void;\n  /** Additional CSS class */\n  className?: string;\n  /** Accessible label */\n  ariaLabel?: string;\n}\n\nexport interface RangeSliderProps {\n  /** Current min value (controlled) */\n  value?: [number, number];\n  /** Default value (uncontrolled) */\n  defaultValue?: [number, number];\n  /** Minimum value */\n  min?: number;\n  /** Maximum value */\n  max?: number;\n  /** Step increment */\n  step?: number;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Label text */\n  label?: ReactNode;\n  /** Show current values */\n  showValue?: boolean;\n  /** Value formatter function */\n  formatValue?: (minValue: number, maxValue: number) => string;\n  /** Show min/max labels */\n  showMinMax?: boolean;\n  /** Min label text */\n  minLabel?: string;\n  /** Max label text */\n  maxLabel?: string;\n  /** Helper text */\n  helperText?: ReactNode;\n  /** Callback when values change */\n  onChange?: (value: [number, number]) => void;\n  /** Additional CSS class */\n  className?: string;\n  /** Range mode */\n  range: true;\n}\n\ntype CombinedSliderProps = SliderProps | RangeSliderProps;\n\nconst isRangeSlider = (props: CombinedSliderProps): props is RangeSliderProps => {\n  return 'range' in props && props.range === true;\n};\n\n/**\n * Slider Component\n *\n * Allows users to select a value or range from a continuous or discrete set of values.\n * Supports both single value and range (min-max) modes.\n *\n * @example\n * ```tsx\n * // Single value slider\n * <Slider min={0} max={100} defaultValue={50} label=\"Volume\" showValue />\n *\n * // Range slider\n * <Slider range min={0} max={50} defaultValue={[20, 30]} label=\"Temperature Range\" />\n * ```\n */\nexport const Slider: React.FC<CombinedSliderProps> = (props) => {\n  if (isRangeSlider(props)) {\n    return <RangeSliderComponent {...props} />;\n  }\n  return <SingleSliderComponent {...props} />;\n};\n\n// Single Slider Component\nconst SingleSliderComponent: React.FC<SliderProps> = ({\n  value: controlledValue,\n  defaultValue = 0,\n  min = 0,\n  max = 100,\n  step = 1,\n  disabled = false,\n  label,\n  showValue = false,\n  formatValue = (v) => String(v),\n  showMinMax = false,\n  minLabel,\n  maxLabel,\n  iconBefore,\n  iconAfter,\n  helperText,\n  onChange,\n  className,\n  ariaLabel,\n}) => {\n  const [internalValue, setInternalValue] = useState(defaultValue);\n  const isControlled = controlledValue !== undefined;\n  const currentValue = isControlled ? controlledValue : internalValue;\n\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const newValue = Number(e.target.value);\n      if (!isControlled) {\n        setInternalValue(newValue);\n      }\n      onChange?.(newValue);\n    },\n    [isControlled, onChange]\n  );\n\n  const containerClasses = [styles.container, className].filter(Boolean).join(' ');\n  const hasIcons = iconBefore || iconAfter;\n\n  return (\n    <div className={containerClasses}>\n      {label && showValue && (\n        <div className={styles.header}>\n          <label className={styles.label}>{label}</label>\n          <span className={styles.valueDisplay}>{formatValue(currentValue)}</span>\n        </div>\n      )}\n      {label && !showValue && <label className={styles.label}>{label}</label>}\n\n      <div className={hasIcons ? styles.sliderWithIcons : undefined}>\n        {iconBefore && <span className={styles.iconBefore}>{iconBefore}</span>}\n\n        <input\n          type=\"range\"\n          className={styles.slider}\n          min={min}\n          max={max}\n          step={step}\n          value={currentValue}\n          disabled={disabled}\n          onChange={handleChange}\n          aria-label={ariaLabel || (typeof label === 'string' ? label : undefined)}\n          aria-valuemin={min}\n          aria-valuemax={max}\n          aria-valuenow={currentValue}\n        />\n\n        {iconAfter && <span className={styles.iconAfter}>{iconAfter}</span>}\n        {showValue && hasIcons && (\n          <span className={styles.valueInline}>{formatValue(currentValue)}</span>\n        )}\n      </div>\n\n      {showMinMax && (\n        <div className={styles.minMaxLabels}>\n          <span>{minLabel || min}</span>\n          <span>{maxLabel || max}</span>\n        </div>\n      )}\n\n      {helperText && <p className={styles.helperText}>{helperText}</p>}\n    </div>\n  );\n};\n\n// Range Slider Component\nconst RangeSliderComponent: React.FC<RangeSliderProps> = ({\n  value: controlledValue,\n  defaultValue = [0, 100],\n  min = 0,\n  max = 100,\n  step = 1,\n  disabled = false,\n  label,\n  showValue = false,\n  formatValue = (minVal, maxVal) => `${minVal} - ${maxVal}`,\n  showMinMax = false,\n  minLabel,\n  maxLabel,\n  helperText,\n  onChange,\n  className,\n}) => {\n  const [internalValue, setInternalValue] = useState<[number, number]>(defaultValue);\n  const isControlled = controlledValue !== undefined;\n  const currentValue = isControlled ? controlledValue : internalValue;\n  const [minValue, maxValue] = currentValue;\n\n  const updateValue = useCallback(\n    (newMin: number, newMax: number) => {\n      const updatedValue: [number, number] = [newMin, newMax];\n      if (!isControlled) {\n        setInternalValue(updatedValue);\n      }\n      onChange?.(updatedValue);\n    },\n    [isControlled, onChange]\n  );\n\n  const handleMinChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const newMin = Number(e.target.value);\n      // Ensure min doesn't exceed max\n      if (newMin <= maxValue) {\n        updateValue(newMin, maxValue);\n      }\n    },\n    [maxValue, updateValue]\n  );\n\n  const handleMaxChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const newMax = Number(e.target.value);\n      // Ensure max doesn't go below min\n      if (newMax >= minValue) {\n        updateValue(minValue, newMax);\n      }\n    },\n    [minValue, updateValue]\n  );\n\n  // Calculate fill position and width\n  const minPercent = ((minValue - min) / (max - min)) * 100;\n  const maxPercent = ((maxValue - min) / (max - min)) * 100;\n\n  const containerClasses = [styles.container, className].filter(Boolean).join(' ');\n\n  return (\n    <div className={containerClasses}>\n      {label && showValue && (\n        <div className={styles.header}>\n          <label className={styles.label}>{label}</label>\n          <span className={styles.valueDisplay}>{formatValue(minValue, maxValue)}</span>\n        </div>\n      )}\n      {label && !showValue && <label className={styles.label}>{label}</label>}\n\n      <div className={styles.rangeWrapper}>\n        <div className={styles.rangeTrack} />\n        <div\n          className={styles.rangeFill}\n          style={{\n            left: `${minPercent}%`,\n            width: `${maxPercent - minPercent}%`,\n          }}\n        />\n        <input\n          type=\"range\"\n          className={styles.rangeInput}\n          min={min}\n          max={max}\n          step={step}\n          value={minValue}\n          disabled={disabled}\n          onChange={handleMinChange}\n          aria-label=\"Minimum value\"\n          aria-valuemin={min}\n          aria-valuemax={max}\n          aria-valuenow={minValue}\n        />\n        <input\n          type=\"range\"\n          className={styles.rangeInput}\n          min={min}\n          max={max}\n          step={step}\n          value={maxValue}\n          disabled={disabled}\n          onChange={handleMaxChange}\n          aria-label=\"Maximum value\"\n          aria-valuemin={min}\n          aria-valuemax={max}\n          aria-valuenow={maxValue}\n        />\n      </div>\n\n      {showMinMax && (\n        <div className={styles.minMaxLabels}>\n          <span>{minLabel || min}</span>\n          <span>{maxLabel || max}</span>\n        </div>\n      )}\n\n      {helperText && <p className={styles.helperText}>{helperText}</p>}\n    </div>\n  );\n};\n\nSlider.displayName = 'Slider';\n","import React, { useState, useCallback, useRef, type KeyboardEvent } from 'react';\nimport { Star, Heart, Circle } from 'lucide-react';\nimport styles from './Rating.module.css';\n\nexport interface RatingProps {\n  /** Current rating value (controlled) */\n  value?: number;\n  /** Default rating value (uncontrolled) */\n  defaultValue?: number;\n  /** Total number of stars */\n  count?: number;\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** Icon type */\n  icon?: 'star' | 'heart' | 'circle' | React.ReactNode;\n  /** Allow half-star ratings */\n  allowHalf?: boolean;\n  /** Read-only mode (no interaction) */\n  readOnly?: boolean;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Callback when value changes */\n  onChange?: (value: number) => void;\n  /** Show numeric value */\n  showValue?: boolean;\n  /** Show review count */\n  reviewCount?: number;\n  /** Description text */\n  description?: string;\n  /** Label text */\n  label?: string;\n  /** Additional CSS class */\n  className?: string;\n  /** Accessible label for the rating group */\n  ariaLabel?: string;\n}\n\n/**\n * Rating Component\n *\n * Star rating component for user feedback, reviews, and quality assessment.\n * Supports full and half-star ratings, keyboard navigation, and custom icons.\n *\n * @example\n * ```tsx\n * <Rating value={4} onChange={(val) => console.log(val)} />\n * <Rating defaultValue={3.5} allowHalf readOnly reviewCount={128} />\n * <Rating icon=\"heart\" size=\"lg\" />\n * ```\n */\nexport const Rating: React.FC<RatingProps> = ({\n  value: controlledValue,\n  defaultValue = 0,\n  count = 5,\n  size = 'md',\n  icon = 'star',\n  allowHalf = false,\n  readOnly = false,\n  disabled = false,\n  onChange,\n  showValue = false,\n  reviewCount,\n  description,\n  label,\n  className,\n  ariaLabel,\n}) => {\n  const [internalValue, setInternalValue] = useState(defaultValue);\n  const [hoverValue, setHoverValue] = useState<number | null>(null);\n  const [focusedIndex, setFocusedIndex] = useState<number>(-1);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const isControlled = controlledValue !== undefined;\n  const currentValue = isControlled ? controlledValue : internalValue;\n\n  // Get the icon component\n  const getIcon = useCallback(() => {\n    if (typeof icon !== 'string') return icon;\n    switch (icon) {\n      case 'heart':\n        return <Heart />;\n      case 'circle':\n        return <Circle />;\n      case 'star':\n      default:\n        return <Star fill=\"currentColor\" />;\n    }\n  }, [icon]);\n\n  const IconComponent = getIcon();\n\n  // Calculate star state (empty, half, full)\n  const getStarState = useCallback(\n    (index: number) => {\n      const starValue = index + 1;\n      const displayValue = hoverValue !== null ? hoverValue : currentValue;\n\n      if (starValue <= Math.floor(displayValue)) {\n        return 'filled';\n      } else if (allowHalf && starValue === Math.ceil(displayValue) && displayValue % 1 !== 0) {\n        return 'half';\n      }\n      return 'empty';\n    },\n    [currentValue, hoverValue, allowHalf]\n  );\n\n  // Handle star click\n  const handleClick = useCallback(\n    (index: number, event: React.MouseEvent) => {\n      if (readOnly || disabled) return;\n\n      let newValue = index + 1;\n\n      // Half-star logic: if clicking the left half, set to .5\n      if (allowHalf) {\n        const rect = event.currentTarget.getBoundingClientRect();\n        const clickX = event.clientX - rect.left;\n        const halfWidth = rect.width / 2;\n\n        if (clickX < halfWidth) {\n          newValue = index + 0.5;\n        }\n      }\n\n      if (!isControlled) {\n        setInternalValue(newValue);\n      }\n      onChange?.(newValue);\n    },\n    [readOnly, disabled, allowHalf, isControlled, onChange]\n  );\n\n  // Handle hover\n  const handleMouseEnter = useCallback(\n    (index: number, event: React.MouseEvent) => {\n      if (readOnly || disabled) return;\n\n      let hoverVal = index + 1;\n\n      if (allowHalf) {\n        const rect = event.currentTarget.getBoundingClientRect();\n        const mouseX = event.clientX - rect.left;\n        const halfWidth = rect.width / 2;\n\n        if (mouseX < halfWidth) {\n          hoverVal = index + 0.5;\n        }\n      }\n\n      setHoverValue(hoverVal);\n    },\n    [readOnly, disabled, allowHalf]\n  );\n\n  const handleMouseLeave = useCallback(() => {\n    setHoverValue(null);\n  }, []);\n\n  // Keyboard navigation\n  const handleKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLDivElement>) => {\n      if (readOnly || disabled) return;\n\n      const { key } = event;\n      let newIndex = focusedIndex;\n\n      if (key === 'ArrowLeft' || key === 'ArrowDown') {\n        event.preventDefault();\n        newIndex = Math.max(0, focusedIndex - 1);\n      } else if (key === 'ArrowRight' || key === 'ArrowUp') {\n        event.preventDefault();\n        newIndex = Math.min(count - 1, focusedIndex + 1);\n      } else if (key === ' ' || key === 'Enter') {\n        event.preventDefault();\n        if (focusedIndex >= 0) {\n          const newValue = focusedIndex + 1;\n          if (!isControlled) {\n            setInternalValue(newValue);\n          }\n          onChange?.(newValue);\n        }\n      } else if (key === 'Home') {\n        event.preventDefault();\n        newIndex = 0;\n      } else if (key === 'End') {\n        event.preventDefault();\n        newIndex = count - 1;\n      }\n\n      if (newIndex !== focusedIndex) {\n        setFocusedIndex(newIndex);\n      }\n    },\n    [readOnly, disabled, focusedIndex, count, isControlled, onChange]\n  );\n\n  // Reset focus on blur\n  const handleBlur = useCallback(() => {\n    setFocusedIndex(-1);\n  }, []);\n\n  // Set initial focus on Tab\n  const handleFocus = useCallback(() => {\n    if (focusedIndex === -1) {\n      setFocusedIndex(Math.floor(currentValue) || 0);\n    }\n  }, [focusedIndex, currentValue]);\n\n  const containerClasses = [\n    styles.rating,\n    size !== 'md' && styles[size],\n    readOnly && styles.readonly,\n    disabled && styles.disabled,\n    typeof icon === 'string' && icon !== 'star' && styles[icon],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const interactionProps =\n    !readOnly && !disabled\n      ? {\n          role: 'radiogroup',\n          'aria-label': ariaLabel || `Rate from 1 to ${count} ${typeof icon === 'string' ? icon + 's' : 'stars'}`,\n          tabIndex: 0,\n          onKeyDown: handleKeyDown,\n          onFocus: handleFocus,\n          onBlur: handleBlur,\n        }\n      : {\n          role: 'img',\n          'aria-label': ariaLabel || `Rated ${currentValue} out of ${count}${reviewCount ? ` based on ${reviewCount} reviews` : ''}`,\n        };\n\n  return (\n    <div className={styles.container}>\n      {label && <label className={styles.label}>{label}</label>}\n\n      <div className={styles.wrapper}>\n        <div\n          ref={containerRef}\n          className={containerClasses}\n          onMouseLeave={handleMouseLeave}\n          {...interactionProps}\n        >\n          {Array.from({ length: count }).map((_, index) => {\n            const state = getStarState(index);\n            const isFocused = focusedIndex === index;\n            const isInteractive = !readOnly && !disabled;\n\n            const starClasses = [\n              styles.star,\n              state === 'filled' && styles.filled,\n              state === 'half' && styles.half,\n              hoverValue !== null && styles.hover,\n              isFocused && styles.focused,\n            ]\n              .filter(Boolean)\n              .join(' ');\n\n            return (\n              <span\n                key={index}\n                className={starClasses}\n                onClick={(e) => handleClick(index, e)}\n                onMouseEnter={(e) => handleMouseEnter(index, e)}\n                onMouseMove={(e) => handleMouseEnter(index, e)}\n                data-value={index + 1}\n                role={isInteractive ? 'radio' : undefined}\n                aria-checked={isInteractive ? (index + 1 <= currentValue ? 'true' : 'false') : undefined}\n                aria-label={isInteractive ? `${index + 1} ${typeof icon === 'string' ? icon : 'star'}${index !== 0 ? 's' : ''}` : undefined}\n                aria-setsize={isInteractive ? count : undefined}\n                aria-posinset={isInteractive ? index + 1 : undefined}\n              >\n                {IconComponent}\n              </span>\n            );\n          })}\n        </div>\n\n        {showValue && (\n          <span className={styles.value}>\n            {currentValue} / {count}\n          </span>\n        )}\n\n        {reviewCount !== undefined && <span className={styles.count}>({reviewCount} reviews)</span>}\n      </div>\n\n      {description && <span className={styles.description}>{description}</span>}\n    </div>\n  );\n};\n\nRating.displayName = 'Rating';\n","import type { ReactNode } from 'react';\nimport { useState, useRef, useEffect, useCallback, useMemo, memo } from 'react';\nimport { Palette, Plus } from 'lucide-react';\nimport { Button } from '../Button';\nimport styles from './ColorPicker.module.css';\n\n// Color utility functions\nconst hexToRgb = (hex: string): { r: number; g: number; b: number } | null => {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n};\n\nconst rgbToHex = (r: number, g: number, b: number): string => {\n  return (\n    '#' +\n    [r, g, b]\n      .map((x) => {\n        const hex = x.toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n      })\n      .join('')\n      .toUpperCase()\n  );\n};\n\nconst isValidHex = (hex: string): boolean => {\n  return /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex);\n};\n\nexport interface ColorPickerProps {\n  value?: string;\n  defaultValue?: string;\n  onChange?: (color: string) => void;\n  label?: string;\n  presets?: string[];\n  showRecent?: boolean;\n  compact?: boolean;\n  size?: 'sm' | 'md';\n  allowCustom?: boolean;\n  disabled?: boolean;\n  className?: string;\n  children?: ReactNode;\n}\n\nconst DEFAULT_PRESETS = [\n  '#EF4444', '#F59E0B', '#10B981', '#3B82F6', '#6366F1', '#8B5CF6',\n  '#EC4899', '#14B8A6', '#F97316', '#06B6D4', '#84CC16', '#64748B',\n];\n\nconst RECENT_COLORS_KEY = 'color-picker-recent';\nconst MAX_RECENT_COLORS = 5;\n\n// Memoized color swatch button\ninterface ColorSwatchButtonProps {\n  color: string;\n  isActive: boolean;\n  disabled?: boolean;\n  onSelect: (color: string) => void;\n}\n\nconst ColorSwatchButton = memo<ColorSwatchButtonProps>(({ color, isActive, disabled, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(color);\n  }, [color, onSelect]);\n\n  const style = useMemo(() => ({ backgroundColor: color }), [color]);\n\n  const className = useMemo(() =>\n    `${styles.colorSwatchBtn} ${isActive ? styles.colorSwatchBtnActive : ''}`,\n    [isActive]\n  );\n\n  return (\n    <button\n      type=\"button\"\n      className={className}\n      style={style}\n      onClick={handleClick}\n      title={color}\n      aria-label={`Select color ${color}`}\n      disabled={disabled}\n    />\n  );\n});\n\nColorSwatchButton.displayName = 'ColorPicker.SwatchButton';\n\n// Memoized preset color button\ninterface PresetColorButtonProps {\n  color: string;\n  onSelect: (color: string) => void;\n}\n\nconst PresetColorButton = memo<PresetColorButtonProps>(({ color, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(color);\n  }, [color, onSelect]);\n\n  const style = useMemo(() => ({ backgroundColor: color }), [color]);\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.colorPresetItem}\n      style={style}\n      onClick={handleClick}\n      title={color}\n      aria-label={`Select preset color ${color}`}\n    />\n  );\n});\n\nPresetColorButton.displayName = 'ColorPicker.PresetButton';\n\n// Memoized recent color item\ninterface RecentColorItemProps {\n  color: string;\n  onSelect: (color: string) => void;\n}\n\nconst RecentColorItem = memo<RecentColorItemProps>(({ color, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(color);\n  }, [color, onSelect]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      onSelect(color);\n    }\n  }, [color, onSelect]);\n\n  const style = useMemo(() => ({ backgroundColor: color }), [color]);\n\n  return (\n    <div\n      className={styles.colorRecentItem}\n      style={style}\n      onClick={handleClick}\n      title={color}\n      role=\"button\"\n      tabIndex={0}\n      onKeyDown={handleKeyDown}\n    />\n  );\n});\n\nRecentColorItem.displayName = 'ColorPicker.RecentItem';\n\n// RGB Input component\ninterface RgbInputProps {\n  label: string;\n  value: number;\n  onChange: (value: string) => void;\n}\n\nconst RgbInput = memo<RgbInputProps>(({ label, value, onChange }) => {\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    onChange(e.target.value);\n  }, [onChange]);\n\n  return (\n    <div className={styles.colorInputGroup}>\n      <label className={styles.colorInputLabel}>{label}</label>\n      <input\n        type=\"number\"\n        className={styles.colorInputNumber}\n        value={value}\n        onChange={handleChange}\n        min=\"0\"\n        max=\"255\"\n      />\n    </div>\n  );\n});\n\nRgbInput.displayName = 'ColorPicker.RgbInput';\n\nexport const ColorPicker = ({\n  value: controlledValue,\n  defaultValue = '#3B82F6',\n  onChange,\n  label,\n  presets = DEFAULT_PRESETS,\n  showRecent = true,\n  compact = false,\n  size = 'md',\n  allowCustom = true,\n  disabled = false,\n  className = '',\n  children,\n}: ColorPickerProps) => {\n  const isControlled = controlledValue !== undefined;\n  const [uncontrolledValue, setUncontrolledValue] = useState(defaultValue);\n  const currentValue = isControlled ? controlledValue : uncontrolledValue;\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [hexInput, setHexInput] = useState(currentValue);\n  const [rgb, setRgb] = useState(hexToRgb(currentValue) || { r: 59, g: 130, b: 246 });\n  const [recentColors, setRecentColors] = useState<string[]>([]);\n  const [customPickerOpen, setCustomPickerOpen] = useState(false);\n\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Load recent colors from localStorage\n  useEffect(() => {\n    if (showRecent) {\n      try {\n        const stored = localStorage.getItem(RECENT_COLORS_KEY);\n        if (stored) {\n          setRecentColors(JSON.parse(stored));\n        }\n      } catch (e) {\n        console.error('Failed to load recent colors:', e);\n      }\n    }\n  }, [showRecent]);\n\n  // Sync hex and rgb when value changes\n  useEffect(() => {\n    setHexInput(currentValue);\n    const rgbValue = hexToRgb(currentValue);\n    if (rgbValue) {\n      setRgb(rgbValue);\n    }\n  }, [currentValue]);\n\n  // Handle color selection\n  const handleColorChange = useCallback((newColor: string) => {\n    if (!isValidHex(newColor)) return;\n\n    const color = newColor.startsWith('#') ? newColor : `#${newColor}`;\n\n    if (!isControlled) {\n      setUncontrolledValue(color);\n    }\n\n    onChange?.(color);\n\n    if (showRecent) {\n      setRecentColors(prev => {\n        const updated = [color, ...prev.filter((c) => c !== color)].slice(0, MAX_RECENT_COLORS);\n        try {\n          localStorage.setItem(RECENT_COLORS_KEY, JSON.stringify(updated));\n        } catch (e) {\n          console.error('Failed to save recent colors:', e);\n        }\n        return updated;\n      });\n    }\n  }, [isControlled, onChange, showRecent]);\n\n  // Handle preset/recent color selection with sync\n  const handleColorSelect = useCallback((color: string) => {\n    handleColorChange(color);\n    setHexInput(color);\n    const rgbValue = hexToRgb(color);\n    if (rgbValue) {\n      setRgb(rgbValue);\n    }\n  }, [handleColorChange]);\n\n  // Handle HEX input change\n  const handleHexChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setHexInput(value);\n\n    if (isValidHex(value)) {\n      const color = value.startsWith('#') ? value : `#${value}`;\n      const rgbValue = hexToRgb(color);\n      if (rgbValue) {\n        setRgb(rgbValue);\n      }\n    }\n  }, []);\n\n  // Handle RGB input change\n  const handleRChange = useCallback((value: string) => {\n    const numValue = Math.max(0, Math.min(255, parseInt(value) || 0));\n    setRgb(prev => {\n      const newRgb = { ...prev, r: numValue };\n      setHexInput(rgbToHex(newRgb.r, newRgb.g, newRgb.b));\n      return newRgb;\n    });\n  }, []);\n\n  const handleGChange = useCallback((value: string) => {\n    const numValue = Math.max(0, Math.min(255, parseInt(value) || 0));\n    setRgb(prev => {\n      const newRgb = { ...prev, g: numValue };\n      setHexInput(rgbToHex(newRgb.r, newRgb.g, newRgb.b));\n      return newRgb;\n    });\n  }, []);\n\n  const handleBChange = useCallback((value: string) => {\n    const numValue = Math.max(0, Math.min(255, parseInt(value) || 0));\n    setRgb(prev => {\n      const newRgb = { ...prev, b: numValue };\n      setHexInput(rgbToHex(newRgb.r, newRgb.g, newRgb.b));\n      return newRgb;\n    });\n  }, []);\n\n  // Handle apply button\n  const handleApply = useCallback(() => {\n    if (isValidHex(hexInput)) {\n      const color = hexInput.startsWith('#') ? hexInput : `#${hexInput}`;\n      handleColorChange(color);\n      setIsOpen(false);\n    }\n  }, [hexInput, handleColorChange]);\n\n  // Handle cancel button\n  const handleCancel = useCallback(() => {\n    setHexInput(currentValue);\n    const rgbValue = hexToRgb(currentValue);\n    if (rgbValue) {\n      setRgb(rgbValue);\n    }\n    setIsOpen(false);\n  }, [currentValue]);\n\n  // Toggle handlers\n  const toggleOpen = useCallback(() => {\n    if (!disabled) {\n      setIsOpen(prev => !prev);\n    }\n  }, [disabled]);\n\n  const toggleCustomPicker = useCallback(() => {\n    setCustomPickerOpen(prev => !prev);\n  }, []);\n\n  const closeCustomPicker = useCallback(() => {\n    setCustomPickerOpen(false);\n  }, []);\n\n  const handleCustomApply = useCallback(() => {\n    handleApply();\n    setCustomPickerOpen(false);\n  }, [handleApply]);\n\n  // Click outside to close\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n        setCustomPickerOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Memoized class names\n  const compactContainerClassName = useMemo(() =>\n    `${styles.colorPickerCompact} ${className}`,\n    [className]\n  );\n\n  const swatchesClassName = useMemo(() =>\n    `${styles.colorSwatches} ${size === 'sm' ? styles.colorSwatchesSm : ''}`,\n    [size]\n  );\n\n  const containerClassName = useMemo(() =>\n    `${styles.colorPicker} ${className}`,\n    [className]\n  );\n\n  // Memoized inline styles\n  const previewStyle = useMemo(() => ({ backgroundColor: hexInput }), [hexInput]);\n  const currentSwatchStyle = useMemo(() => ({ backgroundColor: currentValue }), [currentValue]);\n\n  // Compact mode\n  if (compact) {\n    return (\n      <div className={compactContainerClassName} ref={containerRef}>\n        {label && <label className={styles.colorPickerLabel}>{label}</label>}\n        <div className={swatchesClassName}>\n          {presets.map((color) => (\n            <ColorSwatchButton\n              key={color}\n              color={color}\n              isActive={currentValue === color}\n              disabled={disabled}\n              onSelect={handleColorChange}\n            />\n          ))}\n          {allowCustom && (\n            <button\n              type=\"button\"\n              className={`${styles.colorSwatchBtn} ${styles.colorSwatchBtnCustom}`}\n              onClick={toggleCustomPicker}\n              aria-label=\"Custom color\"\n              disabled={disabled}\n            >\n              <Plus size={14} />\n            </button>\n          )}\n        </div>\n\n        {customPickerOpen && allowCustom && (\n          <div className={styles.colorPickerDropdown}>\n            <div className={styles.colorPickerPanel}>\n              <div className={styles.colorPickerHeader}>\n                <h3 className={styles.colorPickerTitle}>Choose Color</h3>\n                <div className={styles.colorPickerPreview}>\n                  <div\n                    className={`${styles.colorSwatch} ${styles.colorSwatchLg}`}\n                    style={previewStyle}\n                  />\n                  <div className={styles.colorValue}>\n                    <span className={styles.colorValueHex}>{hexInput}</span>\n                    <span className={styles.colorValueRgb}>\n                      RGB({rgb.r}, {rgb.g}, {rgb.b})\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div className={styles.colorPickerBody}>\n                <div className={styles.colorInputGroup}>\n                  <label className={styles.colorInputLabel}>HEX</label>\n                  <input\n                    type=\"text\"\n                    className={styles.colorInputText}\n                    value={hexInput}\n                    onChange={handleHexChange}\n                  />\n                </div>\n\n                <div className={styles.colorInputRow}>\n                  <RgbInput label=\"R\" value={rgb.r} onChange={handleRChange} />\n                  <RgbInput label=\"G\" value={rgb.g} onChange={handleGChange} />\n                  <RgbInput label=\"B\" value={rgb.b} onChange={handleBChange} />\n                </div>\n              </div>\n\n              <div className={styles.colorPickerFooter}>\n                <Button variant=\"secondary\" size=\"sm\" onClick={closeCustomPicker}>\n                  Cancel\n                </Button>\n                <Button variant=\"primary\" size=\"sm\" onClick={handleCustomApply}>\n                  Apply\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Full mode\n  return (\n    <div className={containerClassName} ref={containerRef}>\n      {label && <label className={styles.colorPickerLabel}>{label}</label>}\n\n      {children ? (\n        <div onClick={toggleOpen}>{children}</div>\n      ) : (\n        <div className={styles.colorPickerTrigger}>\n          <div\n            className={styles.colorSwatch}\n            style={currentSwatchStyle}\n            onClick={toggleOpen}\n          />\n          <input\n            type=\"text\"\n            className={styles.colorInput}\n            value={currentValue}\n            readOnly\n            onClick={toggleOpen}\n            disabled={disabled}\n          />\n          <button\n            type=\"button\"\n            className={styles.colorPickerBtn}\n            onClick={toggleOpen}\n            aria-label=\"Open color picker\"\n            disabled={disabled}\n          >\n            <Palette size={16} />\n          </button>\n        </div>\n      )}\n\n      {isOpen && !disabled && (\n        <div className={styles.colorPickerDropdown}>\n          <div className={styles.colorPickerPanel}>\n            <div className={styles.colorPickerHeader}>\n              <h3 className={styles.colorPickerTitle}>Choose Color</h3>\n              <div className={styles.colorPickerPreview}>\n                <div\n                  className={`${styles.colorSwatch} ${styles.colorSwatchLg}`}\n                  style={previewStyle}\n                />\n                <div className={styles.colorValue}>\n                  <span className={styles.colorValueHex}>{hexInput}</span>\n                  <span className={styles.colorValueRgb}>\n                    RGB({rgb.r}, {rgb.g}, {rgb.b})\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <div className={styles.colorPickerBody}>\n              <div className={styles.colorInputGroup}>\n                <label className={styles.colorInputLabel}>HEX</label>\n                <input\n                  type=\"text\"\n                  className={styles.colorInputText}\n                  value={hexInput}\n                  onChange={handleHexChange}\n                />\n              </div>\n\n              <div className={styles.colorInputRow}>\n                <RgbInput label=\"R\" value={rgb.r} onChange={handleRChange} />\n                <RgbInput label=\"G\" value={rgb.g} onChange={handleGChange} />\n                <RgbInput label=\"B\" value={rgb.b} onChange={handleBChange} />\n              </div>\n\n              {presets.length > 0 && (\n                <div className={styles.colorPresets}>\n                  <h4 className={styles.colorPresetsTitle}>Preset Colors</h4>\n                  <div className={styles.colorPresetsGrid}>\n                    {presets.map((color) => (\n                      <PresetColorButton\n                        key={color}\n                        color={color}\n                        onSelect={handleColorSelect}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {showRecent && recentColors.length > 0 && (\n                <div className={styles.colorRecent}>\n                  <h4 className={styles.colorRecentTitle}>Recent Colors</h4>\n                  <div className={styles.colorRecentList}>\n                    {recentColors.map((color) => (\n                      <RecentColorItem\n                        key={color}\n                        color={color}\n                        onSelect={handleColorSelect}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            <div className={styles.colorPickerFooter}>\n              <Button variant=\"secondary\" size=\"sm\" onClick={handleCancel}>\n                Cancel\n              </Button>\n              <Button variant=\"primary\" size=\"sm\" onClick={handleApply}>\n                Apply\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nColorPicker.displayName = 'ColorPicker';\n","/**\n *  \n */\n\nimport type { CalendarLocale, DayOfWeek } from '../types';\n\n/**    */\nexport const koKRLocale: CalendarLocale = {\n  locale: 'ko-KR',\n  weekdayNames: ['', '', '', '', '', '', ''],\n  weekdayNamesLong: ['', '', '', '', '', '', ''],\n  monthNames: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\n  monthNamesLong: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\n  weekStartsOn: 0,\n  dateFormat: 'yyyy.MM.dd',\n  dateTimeFormat: 'yyyy.MM.dd HH:mm',\n  timeFormat: 'HH:mm',\n};\n\n/**    */\nexport const enUSLocale: CalendarLocale = {\n  locale: 'en-US',\n  weekdayNames: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  weekdayNamesLong: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n  monthNames: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  monthNamesLong: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n  weekStartsOn: 0,\n  dateFormat: 'MM/dd/yyyy',\n  dateTimeFormat: 'MM/dd/yyyy hh:mm a',\n  timeFormat: 'hh:mm a',\n};\n\n/**   () */\nexport const defaultLocale = koKRLocale;\n\n/**   */\nexport const mergeLocale = (\n  base: CalendarLocale,\n  override?: Partial<CalendarLocale>\n): CalendarLocale => {\n  if (!override) return base;\n  return { ...base, ...override };\n};\n\n/**     */\nexport const getLocaleByCode = (code: string): CalendarLocale => {\n  switch (code.toLowerCase()) {\n    case 'ko':\n    case 'ko-kr':\n      return koKRLocale;\n    case 'en':\n    case 'en-us':\n      return enUSLocale;\n    default:\n      return defaultLocale;\n  }\n};\n\n/**    (   ) */\nexport const getOrderedWeekdays = (\n  weekdayNames: string[],\n  weekStartsOn: DayOfWeek\n): string[] => {\n  const result = [...weekdayNames];\n  for (let i = 0; i < weekStartsOn; i++) {\n    result.push(result.shift()!);\n  }\n  return result;\n};\n\n/**    */\nexport const getMonthName = (\n  month: number,\n  locale: CalendarLocale,\n  long: boolean = false\n): string => {\n  const names = long ? locale.monthNamesLong : locale.monthNames;\n  return names[month];\n};\n\n/**    */\nexport const getWeekdayName = (\n  day: DayOfWeek,\n  locale: CalendarLocale,\n  long: boolean = false\n): string => {\n  const names = long ? locale.weekdayNamesLong : locale.weekdayNames;\n  return names[day];\n};\n","/**\n * CalendarHeader -   ( + / )\n */\n\nimport React from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport type { CalendarHeaderProps } from '../types';\nimport { getMonthName } from '../utils/localeUtils';\nimport styles from '../styles/Calendar.module.css';\n\nexport const CalendarHeader: React.FC<CalendarHeaderProps> = ({\n  currentDate,\n  viewMode,\n  onViewModeChange,\n  onPrevious,\n  onNext,\n  minDate,\n  maxDate,\n  locale,\n}) => {\n  const year = currentDate.getFullYear();\n  const month = currentDate.getMonth();\n\n  // /   \n  const canGoPrevious = () => {\n    if (!minDate) return true;\n    if (viewMode === 'day') {\n      const prevMonth = new Date(year, month - 1, 1);\n      return prevMonth >= new Date(minDate.getFullYear(), minDate.getMonth(), 1);\n    }\n    if (viewMode === 'month') {\n      return year - 1 >= minDate.getFullYear();\n    }\n    // year view: 10 \n    const decadeStart = Math.floor(year / 10) * 10;\n    return decadeStart - 10 >= Math.floor(minDate.getFullYear() / 10) * 10;\n  };\n\n  const canGoNext = () => {\n    if (!maxDate) return true;\n    if (viewMode === 'day') {\n      const nextMonth = new Date(year, month + 1, 1);\n      return nextMonth <= new Date(maxDate.getFullYear(), maxDate.getMonth() + 1, 0);\n    }\n    if (viewMode === 'month') {\n      return year + 1 <= maxDate.getFullYear();\n    }\n    // year view\n    const decadeStart = Math.floor(year / 10) * 10;\n    return decadeStart + 10 <= Math.floor(maxDate.getFullYear() / 10) * 10 + 10;\n  };\n\n  //   \n  const renderTitle = () => {\n    if (viewMode === 'day') {\n      return (\n        <>\n          <button\n            type=\"button\"\n            className={styles.titleButton}\n            onClick={() => onViewModeChange('year')}\n            aria-label=\" \"\n          >\n            {year}\n          </button>\n          <button\n            type=\"button\"\n            className={styles.titleButton}\n            onClick={() => onViewModeChange('month')}\n            aria-label=\" \"\n          >\n            {getMonthName(month, locale)}\n          </button>\n        </>\n      );\n    }\n\n    if (viewMode === 'month') {\n      return (\n        <button\n          type=\"button\"\n          className={styles.titleButton}\n          onClick={() => onViewModeChange('year')}\n          aria-label=\" \"\n        >\n          {year}\n        </button>\n      );\n    }\n\n    // year view\n    const decadeStart = Math.floor(year / 10) * 10;\n    return (\n      <span className={styles.titleButtonStatic}>\n        {decadeStart} - {decadeStart + 9}\n      </span>\n    );\n  };\n\n  return (\n    <div className={styles.header}>\n      {onPrevious ? (\n        <button\n          type=\"button\"\n          className={styles.headerButton}\n          onClick={onPrevious}\n          disabled={!canGoPrevious()}\n          aria-label=\"\"\n        >\n          <ChevronLeft size={16} />\n        </button>\n      ) : (\n        <div className={styles.headerPlaceholder} />\n      )}\n\n      <div className={styles.headerTitle}>\n        {renderTitle()}\n      </div>\n\n      {onNext ? (\n        <button\n          type=\"button\"\n          className={styles.headerButton}\n          onClick={onNext}\n          disabled={!canGoNext()}\n          aria-label=\"\"\n        >\n          <ChevronRight size={16} />\n        </button>\n      ) : (\n        <div className={styles.headerPlaceholder} />\n      )}\n    </div>\n  );\n};\n\nexport default CalendarHeader;\n","/**\n *   \n */\n\nimport type { DayOfWeek, TimeValue, DateRange } from '../types';\n\n// ============================================\n//  \n// ============================================\n\n/**      */\nexport const isSameDay = (date1: Date | null, date2: Date | null): boolean => {\n  if (!date1 || !date2) return false;\n  return (\n    date1.getFullYear() === date2.getFullYear() &&\n    date1.getMonth() === date2.getMonth() &&\n    date1.getDate() === date2.getDate()\n  );\n};\n\n/**      */\nexport const isSameMonth = (date1: Date | null, date2: Date | null): boolean => {\n  if (!date1 || !date2) return false;\n  return (\n    date1.getFullYear() === date2.getFullYear() &&\n    date1.getMonth() === date2.getMonth()\n  );\n};\n\n/**      */\nexport const isSameYear = (date1: Date | null, date2: Date | null): boolean => {\n  if (!date1 || !date2) return false;\n  return date1.getFullYear() === date2.getFullYear();\n};\n\n/**   */\nexport const isToday = (date: Date): boolean => {\n  return isSameDay(date, new Date());\n};\n\n/**      */\nexport const isDateInRange = (\n  date: Date,\n  startDate: Date | null,\n  endDate: Date | null\n): boolean => {\n  if (!startDate || !endDate) return false;\n  const time = getStartOfDay(date).getTime();\n  return time >= getStartOfDay(startDate).getTime() && time <= getStartOfDay(endDate).getTime();\n};\n\n/**    */\nexport const isBefore = (date1: Date, date2: Date): boolean => {\n  return getStartOfDay(date1).getTime() < getStartOfDay(date2).getTime();\n};\n\n/**    */\nexport const isAfter = (date1: Date, date2: Date): boolean => {\n  return getStartOfDay(date1).getTime() > getStartOfDay(date2).getTime();\n};\n\n/**  /    */\nexport const isDateDisabled = (\n  date: Date,\n  minDate?: Date,\n  maxDate?: Date,\n  filterDate?: (date: Date) => boolean\n): boolean => {\n  if (minDate && isBefore(date, minDate)) return true;\n  if (maxDate && isAfter(date, maxDate)) return true;\n  if (filterDate && !filterDate(date)) return true;\n  return false;\n};\n\n// ============================================\n//  \n// ============================================\n\n/**     (00:00:00) */\nexport const getStartOfDay = (date: Date = new Date()): Date => {\n  const result = new Date(date);\n  result.setHours(0, 0, 0, 0);\n  return result;\n};\n\n/**     (23:59:59) */\nexport const getEndOfDay = (date: Date = new Date()): Date => {\n  const result = new Date(date);\n  result.setHours(23, 59, 59, 999);\n  return result;\n};\n\n/**   */\nexport const getStartOfMonth = (date: Date): Date => {\n  return new Date(date.getFullYear(), date.getMonth(), 1, 0, 0, 0, 0);\n};\n\n/**   */\nexport const getEndOfMonth = (date: Date): Date => {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0, 23, 59, 59, 999);\n};\n\n/**   */\nexport const getStartOfYear = (date: Date): Date => {\n  return new Date(date.getFullYear(), 0, 1, 0, 0, 0, 0);\n};\n\n/**   */\nexport const getEndOfYear = (date: Date): Date => {\n  return new Date(date.getFullYear(), 11, 31, 23, 59, 59, 999);\n};\n\n/**   */\nexport const getStartOfWeek = (date: Date, weekStartsOn: DayOfWeek = 0): Date => {\n  const result = new Date(date);\n  const day = result.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  result.setDate(result.getDate() - diff);\n  result.setHours(0, 0, 0, 0);\n  return result;\n};\n\n/**   */\nexport const getEndOfWeek = (date: Date, weekStartsOn: DayOfWeek = 0): Date => {\n  const result = getStartOfWeek(date, weekStartsOn);\n  result.setDate(result.getDate() + 6);\n  result.setHours(23, 59, 59, 999);\n  return result;\n};\n\n/**   */\nexport const addDays = (date: Date, days: number): Date => {\n  const result = new Date(date);\n  result.setDate(result.getDate() + days);\n  return result;\n};\n\n/** n  */\nexport const getDaysAgo = (days: number, from: Date = new Date()): Date => {\n  const result = new Date(from);\n  result.setDate(result.getDate() - days);\n  result.setHours(0, 0, 0, 0);\n  return result;\n};\n\n/**   */\nexport const addMonths = (date: Date, months: number): Date => {\n  const result = new Date(date);\n  const day = result.getDate();\n  result.setMonth(result.getMonth() + months);\n  //    (: 1 31 + 1 = 2 28)\n  if (result.getDate() !== day) {\n    result.setDate(0);\n  }\n  return result;\n};\n\n/**   */\nexport const addYears = (date: Date, years: number): Date => {\n  const result = new Date(date);\n  result.setFullYear(result.getFullYear() + years);\n  return result;\n};\n\n/**   */\nexport const getDaysInMonth = (date: Date): number => {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n};\n\n/**   */\nexport const getQuarter = (date: Date): number => {\n  return Math.floor(date.getMonth() / 3) + 1;\n};\n\n/**   */\nexport const getStartOfQuarter = (date: Date): Date => {\n  const quarter = getQuarter(date);\n  const startMonth = (quarter - 1) * 3;\n  return new Date(date.getFullYear(), startMonth, 1, 0, 0, 0, 0);\n};\n\n/**   */\nexport const getEndOfQuarter = (date: Date): Date => {\n  const quarter = getQuarter(date);\n  const endMonth = quarter * 3;\n  return new Date(date.getFullYear(), endMonth, 0, 23, 59, 59, 999);\n};\n\n/** ISO   */\nexport const getWeekNumber = (date: Date): number => {\n  const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n  const dayNum = d.getUTCDay() || 7;\n  d.setUTCDate(d.getUTCDate() + 4 - dayNum);\n  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n  return Math.ceil((((d.getTime() - yearStart.getTime()) / 86400000) + 1) / 7);\n};\n\n// ============================================\n//   \n// ============================================\n\n/**      (6 ) */\nexport const getMonthDays = (date: Date, weekStartsOn: DayOfWeek = 0): Date[] => {\n  const days: Date[] = [];\n  const firstDayOfMonth = getStartOfMonth(date);\n  const startDate = getStartOfWeek(firstDayOfMonth, weekStartsOn);\n\n  // 6 * 7 = 42\n  for (let i = 0; i < 42; i++) {\n    days.push(addDays(startDate, i));\n  }\n\n  return days;\n};\n\n/**     */\nexport const getYearMonths = (year: number): Date[] => {\n  const months: Date[] = [];\n  for (let i = 0; i < 12; i++) {\n    months.push(new Date(year, i, 1));\n  }\n  return months;\n};\n\n/** 10    */\nexport const getDecadeYears = (startYear: number): Date[] => {\n  const years: Date[] = [];\n  for (let i = 0; i < 12; i++) {\n    years.push(new Date(startYear + i, 0, 1));\n  }\n  return years;\n};\n\n/** 10   */\nexport const getDecadeStart = (year: number): number => {\n  return Math.floor(year / 10) * 10 - 1;\n};\n\n// ============================================\n//  \n// ============================================\n\n/**    */\nexport const getTimeSlots = (\n  intervals: number = 30,\n  minTime?: TimeValue,\n  maxTime?: TimeValue\n): TimeValue[] => {\n  const slots: TimeValue[] = [];\n  const totalMinutes = 24 * 60;\n\n  const minMinutes = minTime ? minTime.hours * 60 + minTime.minutes : 0;\n  const maxMinutes = maxTime ? maxTime.hours * 60 + maxTime.minutes : totalMinutes - 1;\n\n  for (let minutes = 0; minutes < totalMinutes; minutes += intervals) {\n    if (minutes >= minMinutes && minutes <= maxMinutes) {\n      slots.push({\n        hours: Math.floor(minutes / 60),\n        minutes: minutes % 60,\n      });\n    }\n  }\n\n  return slots;\n};\n\n/** Date TimeValue  */\nexport const getTimeFromDate = (date: Date): TimeValue => {\n  return {\n    hours: date.getHours(),\n    minutes: date.getMinutes(),\n    seconds: date.getSeconds(),\n  };\n};\n\n/** Date TimeValue  */\nexport const setTimeToDate = (date: Date, time: TimeValue): Date => {\n  const result = new Date(date);\n  result.setHours(time.hours, time.minutes, time.seconds ?? 0, 0);\n  return result;\n};\n\n/**   */\nexport const compareTime = (time1: TimeValue, time2: TimeValue): number => {\n  const minutes1 = time1.hours * 60 + time1.minutes;\n  const minutes2 = time2.hours * 60 + time2.minutes;\n  return minutes1 - minutes2;\n};\n\n// ============================================\n//  \n// ============================================\n\n/**      */\nexport const isSameRange = (range1: DateRange, range2: DateRange): boolean => {\n  return (\n    isSameDay(range1.startDate, range2.startDate) &&\n    isSameDay(range1.endDate, range2.endDate)\n  );\n};\n\n/**    */\nexport const isValidRange = (range: DateRange): boolean => {\n  const { startDate, endDate } = range;\n  if (!startDate || !endDate) return false;\n  return startDate.getTime() <= endDate.getTime();\n};\n\n/**   (    ) */\nexport const normalizeRange = (range: DateRange): DateRange => {\n  const { startDate, endDate } = range;\n  if (!startDate || !endDate) return range;\n  if (startDate.getTime() > endDate.getTime()) {\n    return { startDate: endDate, endDate: startDate };\n  }\n  return range;\n};\n\n/**     */\nexport const getDaysBetween = (date1: Date, date2: Date): number => {\n  const diff = Math.abs(getStartOfDay(date2).getTime() - getStartOfDay(date1).getTime());\n  return Math.ceil(diff / (1000 * 60 * 60 * 24));\n};\n","/**\n * CalendarGrid -   (  )\n */\n\nimport React, { useMemo } from 'react';\nimport type { CalendarGridProps, DayCellInfo } from '../types';\nimport {\n  getMonthDays,\n  isSameDay,\n  isSameMonth,\n  isToday,\n  isDateDisabled,\n  isDateInRange,\n  isBefore,\n} from '../utils/dateUtils';\nimport { getOrderedWeekdays } from '../utils/localeUtils';\nimport styles from '../styles/Calendar.module.css';\n\nexport const CalendarGrid: React.FC<CalendarGridProps> = ({\n  currentDate,\n  selectedDate,\n  onSelect,\n  minDate,\n  maxDate,\n  filterDate,\n  locale,\n  rangeMode = false,\n  rangeStart,\n  rangeEnd,\n  hoverDate,\n  onHoverChange,\n}) => {\n  //  \n  const weekdays = useMemo(() => {\n    return getOrderedWeekdays(locale.weekdayNames, locale.weekStartsOn);\n  }, [locale]);\n\n  //   \n  const days = useMemo(() => {\n    return getMonthDays(currentDate, locale.weekStartsOn);\n  }, [currentDate, locale.weekStartsOn]);\n\n  //    \n  const getCellInfo = (date: Date): DayCellInfo => {\n    const isCurrentMonth = isSameMonth(date, currentDate);\n    const disabled = isDateDisabled(date, minDate, maxDate, filterDate);\n\n    let isInRange = false;\n    let isRangeStart = false;\n    let isRangeEnd = false;\n\n    if (rangeMode) {\n      const effectiveEnd = rangeEnd || (hoverDate && rangeStart && !isBefore(hoverDate, rangeStart) ? hoverDate : null);\n\n      if (rangeStart && effectiveEnd) {\n        isInRange = isDateInRange(date, rangeStart, effectiveEnd);\n        isRangeStart = isSameDay(date, rangeStart);\n        isRangeEnd = isSameDay(date, effectiveEnd);\n      } else if (rangeStart) {\n        isRangeStart = isSameDay(date, rangeStart);\n      }\n    }\n\n    return {\n      date,\n      dayOfMonth: date.getDate(),\n      isCurrentMonth,\n      isToday: isToday(date),\n      isSelected: selectedDate ? isSameDay(date, selectedDate) : false,\n      isDisabled: disabled,\n      isInRange,\n      isRangeStart,\n      isRangeEnd,\n    };\n  };\n\n  //  \n  const isWeekend = (date: Date): boolean => {\n    const day = date.getDay();\n    return day === 0 || day === 6;\n  };\n\n  //   \n  const getCellClassName = (info: DayCellInfo): string => {\n    const classes = [styles.day];\n\n    if (!info.isCurrentMonth) {\n      classes.push(styles['day--otherMonth']);\n    }\n    if (info.isToday) {\n      classes.push(styles['day--today']);\n    }\n    if (info.isSelected && !rangeMode) {\n      classes.push(styles['day--selected']);\n    }\n    if (info.isDisabled) {\n      classes.push(styles['day--disabled']);\n    }\n    if (isWeekend(info.date) && info.isCurrentMonth) {\n      classes.push(styles['day--weekend']);\n    }\n\n    //   \n    if (rangeMode) {\n      if (info.isRangeStart) {\n        classes.push(styles['day--rangeStart']);\n      }\n      if (info.isRangeEnd) {\n        classes.push(styles['day--rangeEnd']);\n      }\n      if (info.isInRange && !info.isRangeStart && !info.isRangeEnd) {\n        classes.push(styles['day--inRange']);\n      }\n    }\n\n    return classes.join(' ');\n  };\n\n  const handleClick = (info: DayCellInfo) => {\n    if (info.isDisabled) return;\n    onSelect(info.date);\n  };\n\n  const handleMouseEnter = (date: Date) => {\n    if (rangeMode && onHoverChange) {\n      onHoverChange(date);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (rangeMode && onHoverChange) {\n      onHoverChange(null);\n    }\n  };\n\n  return (\n    <div>\n      {/*   */}\n      <div className={styles.weekdays}>\n        {weekdays.map((day, index) => {\n          const dayIndex = (locale.weekStartsOn + index) % 7;\n          const isWeekendDay = dayIndex === 0 || dayIndex === 6;\n          return (\n            <div\n              key={day}\n              className={`${styles.weekday} ${isWeekendDay ? styles['weekday--weekend'] : ''}`}\n            >\n              {day}\n            </div>\n          );\n        })}\n      </div>\n\n      {/*   */}\n      <div className={styles.grid} role=\"grid\" aria-label=\"\">\n        {days.map((date, index) => {\n          const info = getCellInfo(date);\n          return (\n            <button\n              key={index}\n              type=\"button\"\n              className={getCellClassName(info)}\n              onClick={() => handleClick(info)}\n              onMouseEnter={() => handleMouseEnter(date)}\n              onMouseLeave={handleMouseLeave}\n              disabled={info.isDisabled}\n              tabIndex={info.isCurrentMonth ? 0 : -1}\n              aria-label={`${date.getFullYear()} ${date.getMonth() + 1} ${date.getDate()}`}\n              aria-selected={info.isSelected}\n              aria-disabled={info.isDisabled}\n            >\n              {info.dayOfMonth}\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default CalendarGrid;\n","/**\n * MonthGrid -   (  )\n */\n\nimport React, { useMemo } from 'react';\nimport type { MonthGridProps, MonthCellInfo } from '../types';\nimport { getYearMonths, isSameMonth } from '../utils/dateUtils';\nimport { getMonthName } from '../utils/localeUtils';\nimport styles from '../styles/Calendar.module.css';\n\nexport const MonthGrid: React.FC<MonthGridProps> = ({\n  currentYear,\n  selectedDate,\n  onSelect,\n  minDate,\n  maxDate,\n  locale,\n}) => {\n  const months = useMemo(() => {\n    return getYearMonths(currentYear);\n  }, [currentYear]);\n\n  const currentMonth = new Date().getMonth();\n  const currentFullYear = new Date().getFullYear();\n\n  const getCellInfo = (date: Date): MonthCellInfo => {\n    const month = date.getMonth();\n    const isCurrentMonth = month === currentMonth && currentYear === currentFullYear;\n    const isSelected = selectedDate ? isSameMonth(date, selectedDate) : false;\n\n    //  \n    let isDisabled = false;\n    if (minDate) {\n      const minMonth = new Date(minDate.getFullYear(), minDate.getMonth(), 1);\n      isDisabled = date < minMonth;\n    }\n    if (maxDate && !isDisabled) {\n      const maxMonth = new Date(maxDate.getFullYear(), maxDate.getMonth() + 1, 0);\n      isDisabled = date > maxMonth;\n    }\n\n    return {\n      date,\n      month,\n      monthName: getMonthName(month, locale),\n      isCurrentMonth,\n      isSelected,\n      isDisabled,\n    };\n  };\n\n  const getCellClassName = (info: MonthCellInfo): string => {\n    const classes = [styles.month];\n\n    if (info.isCurrentMonth) {\n      classes.push(styles['month--current']);\n    }\n    if (info.isSelected) {\n      classes.push(styles['month--selected']);\n    }\n    if (info.isDisabled) {\n      classes.push(styles['month--disabled']);\n    }\n\n    return classes.join(' ');\n  };\n\n  const handleClick = (info: MonthCellInfo) => {\n    if (info.isDisabled) return;\n    onSelect(info.date);\n  };\n\n  return (\n    <div className={styles.monthGrid} role=\"grid\" aria-label=\" \">\n      {months.map((date, index) => {\n        const info = getCellInfo(date);\n        return (\n          <button\n            key={index}\n            type=\"button\"\n            className={getCellClassName(info)}\n            onClick={() => handleClick(info)}\n            disabled={info.isDisabled}\n            aria-label={`${currentYear} ${info.monthName}`}\n            aria-selected={info.isSelected}\n          >\n            {info.monthName}\n          </button>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default MonthGrid;\n","/**\n * YearGrid -   (  )\n */\n\nimport React, { useMemo } from 'react';\nimport type { YearGridProps, YearCellInfo } from '../types';\nimport { getDecadeYears, isSameYear } from '../utils/dateUtils';\nimport styles from '../styles/Calendar.module.css';\n\nexport const YearGrid: React.FC<YearGridProps> = ({\n  currentDecade,\n  selectedDate,\n  onSelect,\n  minDate,\n  maxDate,\n}) => {\n  const years = useMemo(() => {\n    return getDecadeYears(currentDecade);\n  }, [currentDecade]);\n\n  const currentFullYear = new Date().getFullYear();\n\n  const getCellInfo = (date: Date, index: number): YearCellInfo => {\n    const year = date.getFullYear();\n    const isCurrentYear = year === currentFullYear;\n    const isSelected = selectedDate ? isSameYear(date, selectedDate) : false;\n    const isOutside = index === 0 || index === 11; //    10  \n\n    //  \n    let isDisabled = false;\n    if (minDate && year < minDate.getFullYear()) {\n      isDisabled = true;\n    }\n    if (maxDate && year > maxDate.getFullYear()) {\n      isDisabled = true;\n    }\n\n    return {\n      date,\n      year,\n      isCurrentYear,\n      isSelected,\n      isDisabled,\n    };\n  };\n\n  const getCellClassName = (info: YearCellInfo, index: number): string => {\n    const classes = [styles.year];\n    const isOutside = index === 0 || index === 11;\n\n    if (info.isCurrentYear) {\n      classes.push(styles['year--current']);\n    }\n    if (info.isSelected) {\n      classes.push(styles['year--selected']);\n    }\n    if (info.isDisabled) {\n      classes.push(styles['year--disabled']);\n    }\n    if (isOutside) {\n      classes.push(styles['year--outside']);\n    }\n\n    return classes.join(' ');\n  };\n\n  const handleClick = (info: YearCellInfo) => {\n    if (info.isDisabled) return;\n    onSelect(info.date);\n  };\n\n  return (\n    <div className={styles.yearGrid} role=\"grid\" aria-label=\" \">\n      {years.map((date, index) => {\n        const info = getCellInfo(date, index);\n        return (\n          <button\n            key={index}\n            type=\"button\"\n            className={getCellClassName(info, index)}\n            onClick={() => handleClick(info)}\n            disabled={info.isDisabled}\n            aria-label={`${info.year}`}\n            aria-selected={info.isSelected}\n          >\n            {info.year}\n          </button>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default YearGrid;\n","/**\n *   \n */\n\nimport type { TimeValue } from '../types';\n\n/**    */\nexport const formatDate = (date: Date, format: string = 'yyyy.MM.dd'): string => {\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n  const hours = date.getHours();\n  const minutes = date.getMinutes();\n  const seconds = date.getSeconds();\n\n  const tokens: Record<string, string> = {\n    yyyy: String(year),\n    yy: String(year).slice(-2),\n    MM: String(month).padStart(2, '0'),\n    M: String(month),\n    dd: String(day).padStart(2, '0'),\n    d: String(day),\n    HH: String(hours).padStart(2, '0'),\n    H: String(hours),\n    hh: String(hours % 12 || 12).padStart(2, '0'),\n    h: String(hours % 12 || 12),\n    mm: String(minutes).padStart(2, '0'),\n    m: String(minutes),\n    ss: String(seconds).padStart(2, '0'),\n    s: String(seconds),\n    a: hours < 12 ? 'AM' : 'PM',\n  };\n\n  let result = format;\n  //    (yyyy before yy)\n  const sortedTokens = Object.keys(tokens).sort((a, b) => b.length - a.length);\n  for (const token of sortedTokens) {\n    result = result.replace(new RegExp(token, 'g'), tokens[token]);\n  }\n\n  return result;\n};\n\n/**    */\nexport const formatTime = (time: TimeValue, format: string = 'HH:mm', use24Hour: boolean = true): string => {\n  const { hours, minutes, seconds = 0 } = time;\n\n  const tokens: Record<string, string> = {\n    HH: String(hours).padStart(2, '0'),\n    H: String(hours),\n    hh: String(hours % 12 || 12).padStart(2, '0'),\n    h: String(hours % 12 || 12),\n    mm: String(minutes).padStart(2, '0'),\n    m: String(minutes),\n    ss: String(seconds).padStart(2, '0'),\n    s: String(seconds),\n    a: hours < 12 ? 'AM' : 'PM',\n    A: hours < 12 ? '' : '',\n  };\n\n  let result = format;\n  const sortedTokens = Object.keys(tokens).sort((a, b) => b.length - a.length);\n  for (const token of sortedTokens) {\n    result = result.replace(new RegExp(token, 'g'), tokens[token]);\n  }\n\n  return result;\n};\n\n/**  Date  ( ) */\nexport const parseDate = (dateString: string, format: string = 'yyyy.MM.dd'): Date | null => {\n  if (!dateString) return null;\n\n  try {\n    //    \n    const tokenRegex = /yyyy|yy|MM|M|dd|d|HH|H|mm|m|ss|s/g;\n    const tokens: { token: string; index: number }[] = [];\n    let match;\n\n    while ((match = tokenRegex.exec(format)) !== null) {\n      tokens.push({ token: match[0], index: match.index });\n    }\n\n    //  \n    const numbers = dateString.match(/\\d+/g);\n    if (!numbers || numbers.length < tokens.length) return null;\n\n    let year = new Date().getFullYear();\n    let month = 0;\n    let day = 1;\n    let hours = 0;\n    let minutes = 0;\n    let seconds = 0;\n\n    tokens.forEach((t, i) => {\n      const value = parseInt(numbers[i], 10);\n      switch (t.token) {\n        case 'yyyy':\n          year = value;\n          break;\n        case 'yy':\n          year = value < 50 ? 2000 + value : 1900 + value;\n          break;\n        case 'MM':\n        case 'M':\n          month = value - 1;\n          break;\n        case 'dd':\n        case 'd':\n          day = value;\n          break;\n        case 'HH':\n        case 'H':\n          hours = value;\n          break;\n        case 'mm':\n        case 'm':\n          minutes = value;\n          break;\n        case 'ss':\n        case 's':\n          seconds = value;\n          break;\n      }\n    });\n\n    const result = new Date(year, month, day, hours, minutes, seconds);\n    //   \n    if (isNaN(result.getTime())) return null;\n    return result;\n  } catch {\n    return null;\n  }\n};\n\n/**    (, , n  ) */\nexport const formatRelativeDate = (date: Date, locale: 'ko' | 'en' = 'ko'): string => {\n  const now = new Date();\n  const diff = now.getTime() - date.getTime();\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n  if (locale === 'ko') {\n    if (days === 0) return '';\n    if (days === 1) return '';\n    if (days < 7) return `${days} `;\n    if (days < 30) return `${Math.floor(days / 7)} `;\n    if (days < 365) return `${Math.floor(days / 30)} `;\n    return `${Math.floor(days / 365)} `;\n  }\n\n  if (days === 0) return 'Today';\n  if (days === 1) return 'Yesterday';\n  if (days < 7) return `${days} days ago`;\n  if (days < 30) return `${Math.floor(days / 7)} weeks ago`;\n  if (days < 365) return `${Math.floor(days / 30)} months ago`;\n  return `${Math.floor(days / 365)} years ago`;\n};\n\n/**   */\nexport const formatQuarter = (date: Date, locale: 'ko' | 'en' = 'ko'): string => {\n  const quarter = Math.floor(date.getMonth() / 3) + 1;\n  const year = date.getFullYear();\n\n  if (locale === 'ko') {\n    return `${year} ${quarter}`;\n  }\n  return `Q${quarter} ${year}`;\n};\n\n/**   */\nexport const formatWeek = (date: Date, locale: 'ko' | 'en' = 'ko'): string => {\n  const weekNum = getISOWeek(date);\n  const year = date.getFullYear();\n\n  if (locale === 'ko') {\n    return `${year} ${weekNum}`;\n  }\n  return `Week ${weekNum}, ${year}`;\n};\n\n/** ISO   */\nconst getISOWeek = (date: Date): number => {\n  const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n  const dayNum = d.getUTCDay() || 7;\n  d.setUTCDate(d.getUTCDate() + 4 - dayNum);\n  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n  return Math.ceil((((d.getTime() - yearStart.getTime()) / 86400000) + 1) / 7);\n};\n","/**\n * TimeSelector -  \n */\n\nimport React, { useMemo, useEffect, useRef } from 'react';\nimport type { TimeSelectorProps, TimeCellInfo } from '../types';\nimport { getTimeSlots, getTimeFromDate, setTimeToDate, compareTime } from '../utils/dateUtils';\nimport { formatTime } from '../utils/formatUtils';\nimport styles from '../styles/Calendar.module.css';\n\nexport const TimeSelector: React.FC<TimeSelectorProps> = ({\n  value,\n  onSelect,\n  timeIntervals = 30,\n  minTime,\n  maxTime,\n  use24Hour = true,\n}) => {\n  const listRef = useRef<HTMLDivElement>(null);\n\n  const timeSlots = useMemo(() => {\n    return getTimeSlots(timeIntervals, minTime, maxTime);\n  }, [timeIntervals, minTime, maxTime]);\n\n  const selectedTime = value ? getTimeFromDate(value) : null;\n\n  const getCellInfo = (time: typeof timeSlots[0]): TimeCellInfo => {\n    const isSelected = selectedTime\n      ? time.hours === selectedTime.hours && time.minutes === selectedTime.minutes\n      : false;\n\n    let isDisabled = false;\n    if (minTime && compareTime(time, minTime) < 0) {\n      isDisabled = true;\n    }\n    if (maxTime && compareTime(time, maxTime) > 0) {\n      isDisabled = true;\n    }\n\n    const format = use24Hour ? 'HH:mm' : 'A h:mm';\n    const label = formatTime(time, format, use24Hour);\n\n    return {\n      time,\n      label,\n      isSelected,\n      isDisabled,\n    };\n  };\n\n  const getCellClassName = (info: TimeCellInfo): string => {\n    const classes = [styles.timeItem];\n\n    if (info.isSelected) {\n      classes.push(styles['timeItem--selected']);\n    }\n    if (info.isDisabled) {\n      classes.push(styles['timeItem--disabled']);\n    }\n\n    return classes.join(' ');\n  };\n\n  const handleClick = (info: TimeCellInfo) => {\n    if (info.isDisabled) return;\n\n    //    \n    const baseDate = value || new Date();\n    const newDate = setTimeToDate(baseDate, info.time);\n    onSelect(newDate);\n  };\n\n  //   \n  useEffect(() => {\n    if (!listRef.current || !selectedTime) return;\n\n    const selectedIndex = timeSlots.findIndex(\n      (slot) => slot.hours === selectedTime.hours && slot.minutes === selectedTime.minutes\n    );\n\n    if (selectedIndex >= 0) {\n      const buttons = listRef.current.querySelectorAll('button');\n      if (buttons[selectedIndex]) {\n        buttons[selectedIndex].scrollIntoView({ block: 'center', behavior: 'auto' });\n      }\n    }\n  }, [selectedTime, timeSlots]);\n\n  return (\n    <div className={styles.timeSelector}>\n      <div className={styles.timeHeader}></div>\n      <div className={styles.timeList} ref={listRef} role=\"listbox\" aria-label=\" \">\n        {timeSlots.map((slot, index) => {\n          const info = getCellInfo(slot);\n          return (\n            <button\n              key={index}\n              type=\"button\"\n              className={getCellClassName(info)}\n              onClick={() => handleClick(info)}\n              disabled={info.isDisabled}\n              role=\"option\"\n              aria-selected={info.isSelected}\n              aria-label={info.label}\n            >\n              {info.label}\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default TimeSelector;\n","/**\n * CalendarPopover -   \n */\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from '../styles/Calendar.module.css';\n\ninterface CalendarPopoverProps {\n  /**   */\n  isOpen: boolean;\n  /**   ref */\n  triggerRef: React.RefObject<HTMLElement>;\n  /**   */\n  onClose: () => void;\n  /**   */\n  children: React.ReactNode;\n  /**   */\n  className?: string;\n}\n\nexport const CalendarPopover: React.FC<CalendarPopoverProps> = ({\n  isOpen,\n  triggerRef,\n  onClose,\n  children,\n  className,\n}) => {\n  const popoverRef = useRef<HTMLDivElement>(null);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n\n  //  \n  useEffect(() => {\n    if (!isOpen || !triggerRef.current) return;\n\n    const calculatePosition = () => {\n      const triggerRect = triggerRef.current!.getBoundingClientRect();\n      const scrollY = window.scrollY;\n      const scrollX = window.scrollX;\n\n      let top = triggerRect.bottom + scrollY + 4;\n      let left = triggerRect.left + scrollX;\n\n      //     \n      if (popoverRef.current) {\n        const popoverRect = popoverRef.current.getBoundingClientRect();\n        const viewportWidth = window.innerWidth;\n        const viewportHeight = window.innerHeight;\n\n        //   \n        if (left + popoverRect.width > scrollX + viewportWidth) {\n          left = triggerRect.right + scrollX - popoverRect.width;\n        }\n\n        //    -  \n        if (triggerRect.bottom + popoverRect.height > viewportHeight) {\n          top = triggerRect.top + scrollY - popoverRect.height - 4;\n        }\n      }\n\n      setPosition({ top, left });\n    };\n\n    //   \n    calculatePosition();\n\n    // ,   \n    window.addEventListener('resize', calculatePosition);\n    window.addEventListener('scroll', calculatePosition, true);\n\n    return () => {\n      window.removeEventListener('resize', calculatePosition);\n      window.removeEventListener('scroll', calculatePosition, true);\n    };\n  }, [isOpen, triggerRef]);\n\n  //   \n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as Node;\n\n      if (\n        triggerRef.current &&\n        !triggerRef.current.contains(target) &&\n        popoverRef.current &&\n        !popoverRef.current.contains(target)\n      ) {\n        onClose();\n      }\n    };\n\n    //  \n    const timeoutId = setTimeout(() => {\n      document.addEventListener('mousedown', handleClickOutside);\n    }, 0);\n\n    return () => {\n      clearTimeout(timeoutId);\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen, triggerRef, onClose]);\n\n  // ESC  \n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onClose();\n        triggerRef.current?.focus();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, triggerRef, onClose]);\n\n  if (!isOpen) return null;\n\n  return createPortal(\n    <div\n      ref={popoverRef}\n      className={`${styles.popover} ${className || ''}`}\n      style={{\n        top: position.top,\n        left: position.left,\n      }}\n      role=\"dialog\"\n      aria-modal=\"true\"\n    >\n      {children}\n    </div>,\n    document.body\n  );\n};\n\nexport default CalendarPopover;\n","/**\n *    \n */\n\nimport { useState, useCallback, useMemo } from 'react';\nimport type { CalendarViewMode, DateRange } from '../types';\nimport { addMonths, addYears, getDecadeStart } from '../utils/dateUtils';\n\ninterface UseCalendarStateOptions {\n  /**    */\n  initialDate?: Date | null;\n  /**    */\n  initialViewMode?: CalendarViewMode;\n  /**   */\n  minDate?: Date;\n  /**   */\n  maxDate?: Date;\n  /**    */\n  onChange?: (date: Date | null) => void;\n  /**   */\n  onClose?: () => void;\n}\n\ninterface UseCalendarStateReturn {\n  /**    */\n  currentDate: Date;\n  /**   */\n  selectedDate: Date | null;\n  /**    */\n  viewMode: CalendarViewMode;\n  /**  10  */\n  currentDecade: number;\n  /**   */\n  selectDate: (date: Date) => void;\n  /**   */\n  clearDate: () => void;\n  /**    */\n  setCurrentDate: (date: Date) => void;\n  /**    */\n  setViewMode: (mode: CalendarViewMode) => void;\n  /**   */\n  goToPrevious: () => void;\n  /**   */\n  goToNext: () => void;\n  /**   */\n  goToToday: () => void;\n  /**    */\n  goToMonth: (month: number) => void;\n  /**    */\n  goToYear: (year: number) => void;\n}\n\nexport const useCalendarState = (options: UseCalendarStateOptions = {}): UseCalendarStateReturn => {\n  const {\n    initialDate = null,\n    initialViewMode = 'day',\n    onChange,\n    onClose,\n  } = options;\n\n  //    (  )\n  const [currentDate, setCurrentDate] = useState<Date>(\n    initialDate ?? new Date()\n  );\n\n  //  \n  const [selectedDate, setSelectedDate] = useState<Date | null>(initialDate);\n\n  //   (day, month, year)\n  const [viewMode, setViewMode] = useState<CalendarViewMode>(initialViewMode);\n\n  //  10 \n  const currentDecade = useMemo(() => {\n    return getDecadeStart(currentDate.getFullYear());\n  }, [currentDate]);\n\n  //  \n  const selectDate = useCallback((date: Date) => {\n    setSelectedDate(date);\n    setCurrentDate(date);\n    onChange?.(date);\n\n    // day   \n    if (viewMode === 'day') {\n      onClose?.();\n    }\n    // month   day \n    else if (viewMode === 'month') {\n      setViewMode('day');\n    }\n    // year   month \n    else if (viewMode === 'year') {\n      setViewMode('month');\n    }\n  }, [viewMode, onChange, onClose]);\n\n  //  \n  const clearDate = useCallback(() => {\n    setSelectedDate(null);\n    onChange?.(null);\n  }, [onChange]);\n\n  //  \n  const goToPrevious = useCallback(() => {\n    setCurrentDate((current) => {\n      if (viewMode === 'day') {\n        return addMonths(current, -1);\n      } else if (viewMode === 'month') {\n        return addYears(current, -1);\n      } else {\n        return addYears(current, -10);\n      }\n    });\n  }, [viewMode]);\n\n  //  \n  const goToNext = useCallback(() => {\n    setCurrentDate((current) => {\n      if (viewMode === 'day') {\n        return addMonths(current, 1);\n      } else if (viewMode === 'month') {\n        return addYears(current, 1);\n      } else {\n        return addYears(current, 10);\n      }\n    });\n  }, [viewMode]);\n\n  //  \n  const goToToday = useCallback(() => {\n    const today = new Date();\n    setCurrentDate(today);\n    setViewMode('day');\n  }, []);\n\n  //   \n  const goToMonth = useCallback((month: number) => {\n    setCurrentDate((current) => {\n      const newDate = new Date(current);\n      newDate.setMonth(month);\n      return newDate;\n    });\n    setViewMode('day');\n  }, []);\n\n  //   \n  const goToYear = useCallback((year: number) => {\n    setCurrentDate((current) => {\n      const newDate = new Date(current);\n      newDate.setFullYear(year);\n      return newDate;\n    });\n    setViewMode('month');\n  }, []);\n\n  return {\n    currentDate,\n    selectedDate,\n    viewMode,\n    currentDecade,\n    selectDate,\n    clearDate,\n    setCurrentDate,\n    setViewMode,\n    goToPrevious,\n    goToNext,\n    goToToday,\n    goToMonth,\n    goToYear,\n  };\n};\n\n// ============================================\n//   \n// ============================================\n\ninterface UseRangeStateOptions {\n  /**    */\n  initialStartDate?: Date | null;\n  /**    */\n  initialEndDate?: Date | null;\n  /**   */\n  minDate?: Date;\n  /**   */\n  maxDate?: Date;\n  /**   () */\n  minDays?: number;\n  /**   () */\n  maxDays?: number;\n  /**    */\n  onChange?: (range: DateRange) => void;\n  /**   */\n  onClose?: () => void;\n}\n\ninterface UseRangeStateReturn {\n  /**    */\n  currentDate: Date;\n  /**   */\n  startDate: Date | null;\n  /**   */\n  endDate: Date | null;\n  /**   */\n  hoverDate: Date | null;\n  /**    */\n  viewMode: CalendarViewMode;\n  /**  10  */\n  currentDecade: number;\n  /**   ('start' | 'end') */\n  selectionMode: 'start' | 'end';\n  /**   */\n  selectDate: (date: Date) => void;\n  /**   */\n  clearRange: () => void;\n  /**   */\n  setHoverDate: (date: Date | null) => void;\n  /**    */\n  setCurrentDate: (date: Date) => void;\n  /**    */\n  setViewMode: (mode: CalendarViewMode) => void;\n  /**   */\n  goToPrevious: () => void;\n  /**   */\n  goToNext: () => void;\n}\n\nexport const useRangeState = (options: UseRangeStateOptions = {}): UseRangeStateReturn => {\n  const {\n    initialStartDate = null,\n    initialEndDate = null,\n    onChange,\n    onClose,\n  } = options;\n\n  const [currentDate, setCurrentDate] = useState<Date>(\n    initialStartDate ?? new Date()\n  );\n  const [startDate, setStartDate] = useState<Date | null>(initialStartDate);\n  const [endDate, setEndDate] = useState<Date | null>(initialEndDate);\n  const [hoverDate, setHoverDate] = useState<Date | null>(null);\n  const [viewMode, setViewMode] = useState<CalendarViewMode>('day');\n  const [selectionMode, setSelectionMode] = useState<'start' | 'end'>('start');\n\n  const currentDecade = useMemo(() => {\n    return getDecadeStart(currentDate.getFullYear());\n  }, [currentDate]);\n\n  const selectDate = useCallback((date: Date) => {\n    if (viewMode !== 'day') {\n      // month/year  \n      setCurrentDate(date);\n      if (viewMode === 'year') {\n        setViewMode('month');\n      } else {\n        setViewMode('day');\n      }\n      return;\n    }\n\n    if (selectionMode === 'start') {\n      setStartDate(date);\n      setEndDate(null);\n      setSelectionMode('end');\n      onChange?.({ startDate: date, endDate: null });\n    } else {\n      //    \n      if (startDate && date < startDate) {\n        setStartDate(date);\n        setEndDate(startDate);\n        onChange?.({ startDate: date, endDate: startDate });\n      } else {\n        setEndDate(date);\n        onChange?.({ startDate, endDate: date });\n      }\n      setSelectionMode('start');\n      onClose?.();\n    }\n  }, [viewMode, selectionMode, startDate, onChange, onClose]);\n\n  const clearRange = useCallback(() => {\n    setStartDate(null);\n    setEndDate(null);\n    setSelectionMode('start');\n    onChange?.({ startDate: null, endDate: null });\n  }, [onChange]);\n\n  const goToPrevious = useCallback(() => {\n    setCurrentDate((current) => {\n      if (viewMode === 'day') {\n        return addMonths(current, -1);\n      } else if (viewMode === 'month') {\n        return addYears(current, -1);\n      } else {\n        return addYears(current, -10);\n      }\n    });\n  }, [viewMode]);\n\n  const goToNext = useCallback(() => {\n    setCurrentDate((current) => {\n      if (viewMode === 'day') {\n        return addMonths(current, 1);\n      } else if (viewMode === 'month') {\n        return addYears(current, 1);\n      } else {\n        return addYears(current, 10);\n      }\n    });\n  }, [viewMode]);\n\n  return {\n    currentDate,\n    startDate,\n    endDate,\n    hoverDate,\n    viewMode,\n    currentDecade,\n    selectionMode,\n    selectDate,\n    clearRange,\n    setHoverDate,\n    setCurrentDate,\n    setViewMode,\n    goToPrevious,\n    goToNext,\n  };\n};\n","/**\n * DatePicker -   \n */\n\nimport React, { useState, useRef, useCallback, useMemo } from 'react';\nimport { Calendar, X } from 'lucide-react';\nimport type { DatePickerProps, CalendarViewMode } from '../types';\nimport { CalendarHeader, CalendarGrid, MonthGrid, YearGrid, CalendarPopover } from '../base';\nimport { useCalendarState } from '../hooks';\nimport { formatDate, parseDate } from '../utils/formatUtils';\nimport { defaultLocale, mergeLocale } from '../utils/localeUtils';\nimport { getDecadeStart, addMonths, addYears } from '../utils/dateUtils';\nimport styles from '../styles/Calendar.module.css';\n\nexport const DatePicker: React.FC<DatePickerProps> = ({\n  value,\n  onChange,\n  size = 'md',\n  disabled = false,\n  readOnly = false,\n  error = false,\n  className,\n  inline = false,\n  locale: localeProp,\n  minDate,\n  maxDate,\n  filterDate,\n  clearable = true,\n  onClose,\n  onOpen,\n  id,\n  name,\n  placeholder,\n  required,\n  ariaLabel,\n  ariaDescribedBy,\n  onFocus,\n  onBlur,\n  dateFormat,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const triggerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  //  \n  const locale = useMemo(() => mergeLocale(defaultLocale, localeProp), [localeProp]);\n\n  // \n  const format = dateFormat || locale.dateFormat;\n\n  //  \n  const calendar = useCalendarState({\n    initialDate: value,\n    onChange: (date) => {\n      onChange?.(date);\n      if (date) {\n        setInputValue(formatDate(date, format));\n      } else {\n        setInputValue('');\n      }\n      if (!inline) {\n        setIsOpen(false);\n        onClose?.();\n      }\n    },\n  });\n\n  //   \n  const [viewMode, setViewMode] = useState<CalendarViewMode>('day');\n  const [currentDate, setCurrentDate] = useState(value || new Date());\n\n  //   \n  const selectedDate = value;\n\n  //  \n  React.useEffect(() => {\n    if (value) {\n      setInputValue(formatDate(value, format));\n    } else {\n      setInputValue('');\n    }\n  }, [value, format]);\n\n  //  /\n  const handleOpen = useCallback(() => {\n    if (disabled || readOnly) return;\n    setIsOpen(true);\n    setViewMode('day');\n    if (value) {\n      setCurrentDate(value);\n    }\n    onOpen?.();\n  }, [disabled, readOnly, value, onOpen]);\n\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n    onClose?.();\n  }, [onClose]);\n\n  //  \n  const handleSelect = useCallback((date: Date) => {\n    if (viewMode === 'day') {\n      onChange?.(date);\n      setInputValue(formatDate(date, format));\n      if (!inline) {\n        handleClose();\n      }\n    } else if (viewMode === 'month') {\n      setCurrentDate(date);\n      setViewMode('day');\n    } else if (viewMode === 'year') {\n      setCurrentDate(date);\n      setViewMode('month');\n    }\n  }, [viewMode, onChange, format, inline, handleClose]);\n\n  // \n  const handleClear = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    onChange?.(null);\n    setInputValue('');\n    inputRef.current?.focus();\n  }, [onChange]);\n\n  //  \n  const handleInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    setInputValue(newValue);\n\n    //   \n    const parsed = parseDate(newValue, format);\n    if (parsed) {\n      onChange?.(parsed);\n      setCurrentDate(parsed);\n    }\n  }, [format, onChange]);\n\n  //  \n  const handleInputBlur = useCallback(() => {\n    //      \n    if (inputValue && !parseDate(inputValue, format)) {\n      if (value) {\n        setInputValue(formatDate(value, format));\n      } else {\n        setInputValue('');\n      }\n    }\n    onBlur?.();\n  }, [inputValue, format, value, onBlur]);\n\n  // \n  const handlePrevious = useCallback(() => {\n    if (viewMode === 'day') {\n      setCurrentDate((prev) => addMonths(prev, -1));\n    } else if (viewMode === 'month') {\n      setCurrentDate((prev) => addYears(prev, -1));\n    } else {\n      setCurrentDate((prev) => addYears(prev, -10));\n    }\n  }, [viewMode]);\n\n  const handleNext = useCallback(() => {\n    if (viewMode === 'day') {\n      setCurrentDate((prev) => addMonths(prev, 1));\n    } else if (viewMode === 'month') {\n      setCurrentDate((prev) => addYears(prev, 1));\n    } else {\n      setCurrentDate((prev) => addYears(prev, 10));\n    }\n  }, [viewMode]);\n\n  //  \n  const inputClassName = [\n    styles.input,\n    size === 'sm' && styles['input--sm'],\n    size === 'lg' && styles['input--lg'],\n    error && styles['input--error'],\n  ].filter(Boolean).join(' ');\n\n  //  \n  const calendarClassName = [\n    styles.calendar,\n    size === 'sm' && styles['calendar--sm'],\n    size === 'lg' && styles['calendar--lg'],\n  ].filter(Boolean).join(' ');\n\n  //   \n  const renderCalendarContent = () => (\n    <div className={calendarClassName}>\n      <CalendarHeader\n        currentDate={currentDate}\n        viewMode={viewMode}\n        onViewModeChange={setViewMode}\n        onPrevious={handlePrevious}\n        onNext={handleNext}\n        minDate={minDate}\n        maxDate={maxDate}\n        locale={locale}\n        size={size}\n      />\n\n      {viewMode === 'day' && (\n        <CalendarGrid\n          currentDate={currentDate}\n          selectedDate={selectedDate}\n          onSelect={handleSelect}\n          minDate={minDate}\n          maxDate={maxDate}\n          filterDate={filterDate}\n          locale={locale}\n          size={size}\n        />\n      )}\n\n      {viewMode === 'month' && (\n        <MonthGrid\n          currentYear={currentDate.getFullYear()}\n          selectedDate={selectedDate}\n          onSelect={handleSelect}\n          minDate={minDate}\n          maxDate={maxDate}\n          locale={locale}\n          size={size}\n        />\n      )}\n\n      {viewMode === 'year' && (\n        <YearGrid\n          currentDecade={getDecadeStart(currentDate.getFullYear())}\n          selectedDate={selectedDate}\n          onSelect={handleSelect}\n          minDate={minDate}\n          maxDate={maxDate}\n          size={size}\n        />\n      )}\n    </div>\n  );\n\n  //  \n  if (inline) {\n    return (\n      <div className={`${styles.inline} ${className || ''}`}>\n        {renderCalendarContent()}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.inputWrapper} ${className || ''}`} ref={triggerRef}>\n      <input\n        ref={inputRef}\n        type=\"text\"\n        id={id}\n        name={name}\n        className={inputClassName}\n        value={inputValue}\n        onChange={handleInputChange}\n        onFocus={() => {\n          handleOpen();\n          onFocus?.();\n        }}\n        onBlur={handleInputBlur}\n        placeholder={placeholder || format}\n        disabled={disabled}\n        readOnly={readOnly}\n        required={required}\n        aria-label={ariaLabel}\n        aria-describedby={ariaDescribedBy}\n        aria-expanded={isOpen}\n        aria-haspopup=\"dialog\"\n        autoComplete=\"off\"\n      />\n\n      {clearable && value && !disabled && !readOnly && (\n        <button\n          type=\"button\"\n          className={styles.clearButton}\n          onClick={handleClear}\n          aria-label=\" \"\n          tabIndex={-1}\n        >\n          <X size={10} />\n        </button>\n      )}\n\n      <span className={styles.inputIcon}>\n        <Calendar size={16} />\n      </span>\n\n      <CalendarPopover\n        isOpen={isOpen}\n        triggerRef={triggerRef as React.RefObject<HTMLElement>}\n        onClose={handleClose}\n      >\n        {renderCalendarContent()}\n      </CalendarPopover>\n    </div>\n  );\n};\n\nexport default DatePicker;\n","/**\n * DateRangePicker -    \n */\n\nimport React, { useState, useRef, useCallback, useMemo } from 'react';\nimport { Calendar, X } from 'lucide-react';\nimport type { DateRangePickerProps, CalendarViewMode, DateRange, PresetRange } from '../types';\nimport { CalendarHeader, CalendarGrid, MonthGrid, YearGrid, CalendarPopover } from '../base';\nimport { formatDate, parseDate } from '../utils/formatUtils';\nimport { defaultLocale, mergeLocale } from '../utils/localeUtils';\nimport {\n  getDecadeStart,\n  addMonths,\n  addYears,\n  getStartOfDay,\n  getEndOfDay,\n  getDaysAgo,\n  getStartOfMonth,\n  getEndOfMonth,\n} from '../utils/dateUtils';\nimport styles from '../styles/Calendar.module.css';\n\n//  \nconst defaultPresets: PresetRange[] = [\n  {\n    label: '',\n    getValue: () => ({ startDate: getStartOfDay(), endDate: getEndOfDay() }),\n  },\n  {\n    label: '',\n    getValue: () => {\n      const yesterday = getDaysAgo(1);\n      return { startDate: yesterday, endDate: getEndOfDay(yesterday) };\n    },\n  },\n  {\n    label: ' 7',\n    getValue: () => ({ startDate: getDaysAgo(6), endDate: getEndOfDay() }),\n  },\n  {\n    label: ' 30',\n    getValue: () => ({ startDate: getDaysAgo(29), endDate: getEndOfDay() }),\n  },\n  {\n    label: ' ',\n    getValue: () => ({ startDate: getStartOfMonth(new Date()), endDate: getEndOfMonth(new Date()) }),\n  },\n];\n\n// n \nconst getMonthsAgo = (months: number): Date => {\n  const result = new Date();\n  result.setMonth(result.getMonth() - months);\n  return result;\n};\n\nexport const DateRangePicker: React.FC<DateRangePickerProps> = ({\n  startDate: startDateProp,\n  endDate: endDateProp,\n  onChange,\n  size = 'md',\n  disabled = false,\n  readOnly = false,\n  error = false,\n  className,\n  inline = false,\n  locale: localeProp,\n  minDate,\n  maxDate,\n  filterDate,\n  clearable = true,\n  onClose,\n  onOpen,\n  id,\n  name,\n  required,\n  ariaLabel,\n  ariaDescribedBy,\n  onFocus,\n  onBlur,\n  dateFormat,\n  presets,\n  showPresets = true,\n  startPlaceholder = '',\n  endPlaceholder = '',\n  monthsShown = 2,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [startInputValue, setStartInputValue] = useState('');\n  const [endInputValue, setEndInputValue] = useState('');\n  const triggerRef = useRef<HTMLDivElement>(null);\n\n  //  \n  const [startDate, setStartDate] = useState<Date | null>(startDateProp ?? null);\n  const [endDate, setEndDate] = useState<Date | null>(endDateProp ?? null);\n  const [hoverDate, setHoverDate] = useState<Date | null>(null);\n  const [selectionMode, setSelectionMode] = useState<'start' | 'end'>('start');\n\n  //  \n  const [viewMode, setViewMode] = useState<CalendarViewMode>('day');\n  const [currentDate, setCurrentDate] = useState(startDateProp || new Date());\n  const [currentDate2, setCurrentDate2] = useState(addMonths(startDateProp || new Date(), 1));\n\n  // \n  const locale = useMemo(() => mergeLocale(defaultLocale, localeProp), [localeProp]);\n  const format = dateFormat || locale.dateFormat;\n\n  //  \n  const presetList = presets || defaultPresets;\n\n  // Props \n  React.useEffect(() => {\n    setStartDate(startDateProp ?? null);\n    setEndDate(endDateProp ?? null);\n    if (startDateProp) {\n      setStartInputValue(formatDate(startDateProp, format));\n    } else {\n      setStartInputValue('');\n    }\n    if (endDateProp) {\n      setEndInputValue(formatDate(endDateProp, format));\n    } else {\n      setEndInputValue('');\n    }\n  }, [startDateProp, endDateProp, format]);\n\n  //  /\n  const handleOpen = useCallback(() => {\n    if (disabled || readOnly) return;\n    setIsOpen(true);\n    setViewMode('day');\n    setSelectionMode('start');\n    if (startDate) {\n      setCurrentDate(startDate);\n      setCurrentDate2(addMonths(startDate, 1));\n    }\n    onOpen?.();\n  }, [disabled, readOnly, startDate, onOpen]);\n\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n    setHoverDate(null);\n    onClose?.();\n  }, [onClose]);\n\n  //  \n  const handleSelect = useCallback((date: Date, isSecondCalendar = false) => {\n    if (viewMode !== 'day') {\n      // month/year  \n      if (isSecondCalendar) {\n        setCurrentDate2(date);\n      } else {\n        setCurrentDate(date);\n      }\n      if (viewMode === 'year') {\n        setViewMode('month');\n      } else {\n        setViewMode('day');\n      }\n      return;\n    }\n\n    if (selectionMode === 'start') {\n      setStartDate(date);\n      setEndDate(null);\n      setSelectionMode('end');\n      setStartInputValue(formatDate(date, format));\n      setEndInputValue('');\n      onChange?.({ startDate: date, endDate: null });\n    } else {\n      let newStart = startDate;\n      let newEnd = date;\n\n      //    \n      if (startDate && date < startDate) {\n        newStart = date;\n        newEnd = startDate;\n      }\n\n      setStartDate(newStart);\n      setEndDate(newEnd);\n      setSelectionMode('start');\n      if (newStart) setStartInputValue(formatDate(newStart, format));\n      if (newEnd) setEndInputValue(formatDate(newEnd, format));\n      onChange?.({ startDate: newStart, endDate: newEnd });\n\n      if (!inline) {\n        handleClose();\n      }\n    }\n  }, [viewMode, selectionMode, startDate, format, onChange, inline, handleClose]);\n\n  //  \n  const handlePresetSelect = useCallback((preset: PresetRange) => {\n    const range = preset.getValue();\n    setStartDate(range.startDate);\n    setEndDate(range.endDate);\n    if (range.startDate) setStartInputValue(formatDate(range.startDate, format));\n    if (range.endDate) setEndInputValue(formatDate(range.endDate, format));\n    onChange?.(range);\n    if (!inline) {\n      handleClose();\n    }\n  }, [format, onChange, inline, handleClose]);\n\n  // \n  const handleClear = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    setStartDate(null);\n    setEndDate(null);\n    setStartInputValue('');\n    setEndInputValue('');\n    setSelectionMode('start');\n    onChange?.({ startDate: null, endDate: null });\n  }, [onChange]);\n\n  // \n  const handlePrevious = useCallback(() => {\n    if (viewMode === 'day') {\n      setCurrentDate((prev) => addMonths(prev, -1));\n      setCurrentDate2((prev) => addMonths(prev, -1));\n    } else if (viewMode === 'month') {\n      setCurrentDate((prev) => addYears(prev, -1));\n    } else {\n      setCurrentDate((prev) => addYears(prev, -10));\n    }\n  }, [viewMode]);\n\n  const handleNext = useCallback(() => {\n    if (viewMode === 'day') {\n      setCurrentDate((prev) => addMonths(prev, 1));\n      setCurrentDate2((prev) => addMonths(prev, 1));\n    } else if (viewMode === 'month') {\n      setCurrentDate((prev) => addYears(prev, 1));\n    } else {\n      setCurrentDate((prev) => addYears(prev, 10));\n    }\n  }, [viewMode]);\n\n  //  \n  const inputClassName = [\n    styles.input,\n    size === 'sm' && styles['input--sm'],\n    size === 'lg' && styles['input--lg'],\n    error && styles['input--error'],\n  ].filter(Boolean).join(' ');\n\n  //  \n  const calendarClassName = [\n    styles.calendar,\n    size === 'sm' && styles['calendar--sm'],\n    size === 'lg' && styles['calendar--lg'],\n  ].filter(Boolean).join(' ');\n\n  //  \n  const renderPresets = () => {\n    if (!showPresets) return null;\n\n    return (\n      <div className={styles.presets}>\n        {presetList.map((preset, index) => (\n          <button\n            key={index}\n            type=\"button\"\n            className={styles.presetButton}\n            onClick={() => handlePresetSelect(preset)}\n          >\n            {preset.label}\n          </button>\n        ))}\n      </div>\n    );\n  };\n\n  //   \n  const renderCalendarContent = () => (\n    <div className={styles.rangeContainer}>\n      {renderPresets()}\n\n      <div className={monthsShown === 2 ? styles.dualCalendar : undefined}>\n        {/*    */}\n        <div className={calendarClassName}>\n          <CalendarHeader\n            currentDate={currentDate}\n            viewMode={viewMode}\n            onViewModeChange={setViewMode}\n            onPrevious={handlePrevious}\n            onNext={monthsShown === 1 ? handleNext : undefined}\n            minDate={minDate}\n            maxDate={maxDate}\n            locale={locale}\n            size={size}\n          />\n\n          {viewMode === 'day' && (\n            <CalendarGrid\n              currentDate={currentDate}\n              selectedDate={null}\n              onSelect={(date) => handleSelect(date, false)}\n              minDate={minDate}\n              maxDate={maxDate}\n              filterDate={filterDate}\n              locale={locale}\n              size={size}\n              rangeMode\n              rangeStart={startDate}\n              rangeEnd={endDate}\n              hoverDate={hoverDate}\n              onHoverChange={setHoverDate}\n            />\n          )}\n\n          {viewMode === 'month' && (\n            <MonthGrid\n              currentYear={currentDate.getFullYear()}\n              selectedDate={startDate}\n              onSelect={(date) => handleSelect(date, false)}\n              minDate={minDate}\n              maxDate={maxDate}\n              locale={locale}\n              size={size}\n            />\n          )}\n\n          {viewMode === 'year' && (\n            <YearGrid\n              currentDecade={getDecadeStart(currentDate.getFullYear())}\n              selectedDate={startDate}\n              onSelect={(date) => handleSelect(date, false)}\n              minDate={minDate}\n              maxDate={maxDate}\n              size={size}\n            />\n          )}\n        </div>\n\n        {/*    (monthsShown === 2 ) */}\n        {monthsShown === 2 && viewMode === 'day' && (\n          <div className={calendarClassName}>\n            <CalendarHeader\n              currentDate={currentDate2}\n              viewMode=\"day\"\n              onViewModeChange={() => {}}\n              onPrevious={() => {}}\n              onNext={handleNext}\n              minDate={minDate}\n              maxDate={maxDate}\n              locale={locale}\n              size={size}\n            />\n\n            <CalendarGrid\n              currentDate={currentDate2}\n              selectedDate={null}\n              onSelect={(date) => handleSelect(date, true)}\n              minDate={minDate}\n              maxDate={maxDate}\n              filterDate={filterDate}\n              locale={locale}\n              size={size}\n              rangeMode\n              rangeStart={startDate}\n              rangeEnd={endDate}\n              hoverDate={hoverDate}\n              onHoverChange={setHoverDate}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  //  \n  if (inline) {\n    return (\n      <div className={`${styles.inline} ${className || ''}`}>\n        {renderCalendarContent()}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.rangeInputWrapper} ${className || ''}`} ref={triggerRef}>\n      <div className={styles.inputWrapper}>\n        <input\n          type=\"text\"\n          id={id}\n          name={name ? `${name}_start` : undefined}\n          className={inputClassName}\n          value={startInputValue}\n          readOnly\n          onClick={handleOpen}\n          onFocus={() => {\n            handleOpen();\n            onFocus?.();\n          }}\n          placeholder={startPlaceholder}\n          disabled={disabled}\n          required={required}\n          aria-label={ariaLabel ? `${ariaLabel} ` : ''}\n          aria-describedby={ariaDescribedBy}\n          aria-expanded={isOpen}\n          aria-haspopup=\"dialog\"\n        />\n        <span className={styles.inputIcon}>\n          <Calendar size={16} />\n        </span>\n      </div>\n\n      <span className={styles.rangeSeparator}>~</span>\n\n      <div className={styles.inputWrapper}>\n        <input\n          type=\"text\"\n          name={name ? `${name}_end` : undefined}\n          className={inputClassName}\n          value={endInputValue}\n          readOnly\n          onClick={handleOpen}\n          placeholder={endPlaceholder}\n          disabled={disabled}\n          aria-label={ariaLabel ? `${ariaLabel} ` : ''}\n        />\n        {clearable && (startDate || endDate) && !disabled && !readOnly && (\n          <button\n            type=\"button\"\n            className={styles.clearButton}\n            onClick={handleClear}\n            aria-label=\" \"\n            tabIndex={-1}\n          >\n            <X size={10} />\n          </button>\n        )}\n        <span className={styles.inputIcon}>\n          <Calendar size={16} />\n        </span>\n      </div>\n\n      <CalendarPopover\n        isOpen={isOpen}\n        triggerRef={triggerRef as React.RefObject<HTMLElement>}\n        onClose={handleClose}\n      >\n        {renderCalendarContent()}\n      </CalendarPopover>\n    </div>\n  );\n};\n\nexport default DateRangePicker;\n","/**\n * TimePicker -   \n */\n\nimport React, { useState, useRef, useCallback } from 'react';\nimport { Clock, X } from 'lucide-react';\nimport type { TimePickerProps } from '../types';\nimport { TimeSelector, CalendarPopover } from '../base';\nimport { formatTime } from '../utils/formatUtils';\nimport { getTimeFromDate } from '../utils/dateUtils';\nimport styles from '../styles/Calendar.module.css';\n\nexport const TimePicker: React.FC<TimePickerProps> = ({\n  value,\n  onChange,\n  size = 'md',\n  disabled = false,\n  readOnly = false,\n  error = false,\n  className,\n  inline = false,\n  clearable = true,\n  onClose,\n  onOpen,\n  id,\n  name,\n  placeholder,\n  required,\n  ariaLabel,\n  ariaDescribedBy,\n  onFocus,\n  onBlur,\n  timeFormat,\n  timeIntervals = 30,\n  minTime,\n  maxTime,\n  use24Hour = true,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const triggerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // \n  const format = timeFormat || (use24Hour ? 'HH:mm' : 'A h:mm');\n\n  //  \n  React.useEffect(() => {\n    if (value) {\n      const time = getTimeFromDate(value);\n      setInputValue(formatTime(time, format, use24Hour));\n    } else {\n      setInputValue('');\n    }\n  }, [value, format, use24Hour]);\n\n  //  /\n  const handleOpen = useCallback(() => {\n    if (disabled || readOnly) return;\n    setIsOpen(true);\n    onOpen?.();\n  }, [disabled, readOnly, onOpen]);\n\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n    onClose?.();\n  }, [onClose]);\n\n  //  \n  const handleSelect = useCallback((date: Date) => {\n    onChange?.(date);\n    const time = getTimeFromDate(date);\n    setInputValue(formatTime(time, format, use24Hour));\n    if (!inline) {\n      handleClose();\n    }\n  }, [onChange, format, use24Hour, inline, handleClose]);\n\n  // \n  const handleClear = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    onChange?.(null);\n    setInputValue('');\n    inputRef.current?.focus();\n  }, [onChange]);\n\n  //  \n  const inputClassName = [\n    styles.input,\n    size === 'sm' && styles['input--sm'],\n    size === 'lg' && styles['input--lg'],\n    error && styles['input--error'],\n  ].filter(Boolean).join(' ');\n\n  //   \n  const renderTimeSelector = () => (\n    <div className={styles.calendar}>\n      <TimeSelector\n        value={value}\n        onSelect={handleSelect}\n        timeIntervals={timeIntervals}\n        minTime={minTime}\n        maxTime={maxTime}\n        use24Hour={use24Hour}\n        size={size}\n      />\n    </div>\n  );\n\n  //  \n  if (inline) {\n    return (\n      <div className={`${styles.inline} ${className || ''}`}>\n        {renderTimeSelector()}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.inputWrapper} ${className || ''}`} ref={triggerRef}>\n      <input\n        ref={inputRef}\n        type=\"text\"\n        id={id}\n        name={name}\n        className={inputClassName}\n        value={inputValue}\n        readOnly\n        onClick={handleOpen}\n        onFocus={() => {\n          handleOpen();\n          onFocus?.();\n        }}\n        onBlur={onBlur}\n        placeholder={placeholder || format}\n        disabled={disabled}\n        required={required}\n        aria-label={ariaLabel}\n        aria-describedby={ariaDescribedBy}\n        aria-expanded={isOpen}\n        aria-haspopup=\"dialog\"\n      />\n\n      {clearable && value && !disabled && !readOnly && (\n        <button\n          type=\"button\"\n          className={styles.clearButton}\n          onClick={handleClear}\n          aria-label=\" \"\n          tabIndex={-1}\n        >\n          <X size={10} />\n        </button>\n      )}\n\n      <span className={styles.inputIcon}>\n        <Clock size={16} />\n      </span>\n\n      <CalendarPopover\n        isOpen={isOpen}\n        triggerRef={triggerRef as React.RefObject<HTMLElement>}\n        onClose={handleClose}\n      >\n        {renderTimeSelector()}\n      </CalendarPopover>\n    </div>\n  );\n};\n\nexport default TimePicker;\n","/**\n * DateTimePicker - /  \n */\n\nimport React, { useState, useRef, useCallback, useMemo } from 'react';\nimport { Calendar, X } from 'lucide-react';\nimport type { DateTimePickerProps, CalendarViewMode } from '../types';\nimport { CalendarHeader, CalendarGrid, MonthGrid, YearGrid, TimeSelector, CalendarPopover } from '../base';\nimport { formatDate } from '../utils/formatUtils';\nimport { defaultLocale, mergeLocale } from '../utils/localeUtils';\nimport { getDecadeStart, addMonths, addYears, setTimeToDate, getTimeFromDate } from '../utils/dateUtils';\nimport styles from '../styles/Calendar.module.css';\n\nexport const DateTimePicker: React.FC<DateTimePickerProps> = ({\n  value,\n  onChange,\n  size = 'md',\n  disabled = false,\n  readOnly = false,\n  error = false,\n  className,\n  inline = false,\n  locale: localeProp,\n  minDate,\n  maxDate,\n  filterDate,\n  clearable = true,\n  onClose,\n  onOpen,\n  id,\n  name,\n  placeholder,\n  required,\n  ariaLabel,\n  ariaDescribedBy,\n  onFocus,\n  onBlur,\n  dateFormat,\n  timeIntervals = 30,\n  minTime,\n  maxTime,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const triggerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  //  \n  const [selectedDate, setSelectedDate] = useState<Date | null>(value ?? null);\n\n  //  \n  const [viewMode, setViewMode] = useState<CalendarViewMode>('day');\n  const [currentDate, setCurrentDate] = useState(value || new Date());\n\n  // \n  const locale = useMemo(() => mergeLocale(defaultLocale, localeProp), [localeProp]);\n  const format = dateFormat || locale.dateTimeFormat;\n\n  //  \n  React.useEffect(() => {\n    if (value) {\n      setInputValue(formatDate(value, format));\n      setSelectedDate(value);\n    } else {\n      setInputValue('');\n      setSelectedDate(null);\n    }\n  }, [value, format]);\n\n  //  /\n  const handleOpen = useCallback(() => {\n    if (disabled || readOnly) return;\n    setIsOpen(true);\n    setViewMode('day');\n    if (value) {\n      setCurrentDate(value);\n    }\n    onOpen?.();\n  }, [disabled, readOnly, value, onOpen]);\n\n  const handleClose = useCallback(() => {\n    setIsOpen(false);\n    onClose?.();\n  }, [onClose]);\n\n  //  \n  const handleDateSelect = useCallback((date: Date) => {\n    if (viewMode === 'day') {\n      //   \n      let newDate = date;\n      if (selectedDate) {\n        const time = getTimeFromDate(selectedDate);\n        newDate = setTimeToDate(date, time);\n      }\n      setSelectedDate(newDate);\n      onChange?.(newDate);\n      setInputValue(formatDate(newDate, format));\n    } else if (viewMode === 'month') {\n      setCurrentDate(date);\n      setViewMode('day');\n    } else if (viewMode === 'year') {\n      setCurrentDate(date);\n      setViewMode('month');\n    }\n  }, [viewMode, selectedDate, onChange, format]);\n\n  //  \n  const handleTimeSelect = useCallback((date: Date) => {\n    //    \n    const time = getTimeFromDate(date);\n    const baseDate = selectedDate || new Date();\n    const newDate = setTimeToDate(baseDate, time);\n\n    setSelectedDate(newDate);\n    onChange?.(newDate);\n    setInputValue(formatDate(newDate, format));\n  }, [selectedDate, onChange, format]);\n\n  // \n  const handleClear = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    setSelectedDate(null);\n    onChange?.(null);\n    setInputValue('');\n    inputRef.current?.focus();\n  }, [onChange]);\n\n  //  \n  const handleApply = useCallback(() => {\n    if (!inline) {\n      handleClose();\n    }\n  }, [inline, handleClose]);\n\n  // \n  const handlePrevious = useCallback(() => {\n    if (viewMode === 'day') {\n      setCurrentDate((prev) => addMonths(prev, -1));\n    } else if (viewMode === 'month') {\n      setCurrentDate((prev) => addYears(prev, -1));\n    } else {\n      setCurrentDate((prev) => addYears(prev, -10));\n    }\n  }, [viewMode]);\n\n  const handleNext = useCallback(() => {\n    if (viewMode === 'day') {\n      setCurrentDate((prev) => addMonths(prev, 1));\n    } else if (viewMode === 'month') {\n      setCurrentDate((prev) => addYears(prev, 1));\n    } else {\n      setCurrentDate((prev) => addYears(prev, 10));\n    }\n  }, [viewMode]);\n\n  //  \n  const inputClassName = [\n    styles.input,\n    size === 'sm' && styles['input--sm'],\n    size === 'lg' && styles['input--lg'],\n    error && styles['input--error'],\n  ].filter(Boolean).join(' ');\n\n  //  \n  const calendarClassName = [\n    styles.calendar,\n    size === 'sm' && styles['calendar--sm'],\n    size === 'lg' && styles['calendar--lg'],\n  ].filter(Boolean).join(' ');\n\n  //   \n  const renderCalendarContent = () => (\n    <div className={styles.dateTimeContainer}>\n      <div className={calendarClassName}>\n        <CalendarHeader\n          currentDate={currentDate}\n          viewMode={viewMode}\n          onViewModeChange={setViewMode}\n          onPrevious={handlePrevious}\n          onNext={handleNext}\n          minDate={minDate}\n          maxDate={maxDate}\n          locale={locale}\n          size={size}\n        />\n\n        {viewMode === 'day' && (\n          <CalendarGrid\n            currentDate={currentDate}\n            selectedDate={selectedDate}\n            onSelect={handleDateSelect}\n            minDate={minDate}\n            maxDate={maxDate}\n            filterDate={filterDate}\n            locale={locale}\n            size={size}\n          />\n        )}\n\n        {viewMode === 'month' && (\n          <MonthGrid\n            currentYear={currentDate.getFullYear()}\n            selectedDate={selectedDate}\n            onSelect={handleDateSelect}\n            minDate={minDate}\n            maxDate={maxDate}\n            locale={locale}\n            size={size}\n          />\n        )}\n\n        {viewMode === 'year' && (\n          <YearGrid\n            currentDecade={getDecadeStart(currentDate.getFullYear())}\n            selectedDate={selectedDate}\n            onSelect={handleDateSelect}\n            minDate={minDate}\n            maxDate={maxDate}\n            size={size}\n          />\n        )}\n\n        {/*  */}\n        <div className={styles.footer}>\n          <button\n            type=\"button\"\n            className={styles.footerButton}\n            onClick={handleClose}\n          >\n            \n          </button>\n          <button\n            type=\"button\"\n            className={`${styles.footerButton} ${styles['footerButton--primary']}`}\n            onClick={handleApply}\n          >\n            \n          </button>\n        </div>\n      </div>\n\n      {/*   */}\n      <TimeSelector\n        value={selectedDate}\n        onSelect={handleTimeSelect}\n        timeIntervals={timeIntervals}\n        minTime={minTime}\n        maxTime={maxTime}\n        use24Hour\n        size={size}\n      />\n    </div>\n  );\n\n  //  \n  if (inline) {\n    return (\n      <div className={`${styles.inline} ${className || ''}`}>\n        {renderCalendarContent()}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.inputWrapper} ${className || ''}`} ref={triggerRef}>\n      <input\n        ref={inputRef}\n        type=\"text\"\n        id={id}\n        name={name}\n        className={inputClassName}\n        value={inputValue}\n        readOnly\n        onClick={handleOpen}\n        onFocus={() => {\n          handleOpen();\n          onFocus?.();\n        }}\n        onBlur={onBlur}\n        placeholder={placeholder || format}\n        disabled={disabled}\n        required={required}\n        aria-label={ariaLabel}\n        aria-describedby={ariaDescribedBy}\n        aria-expanded={isOpen}\n        aria-haspopup=\"dialog\"\n      />\n\n      {clearable && value && !disabled && !readOnly && (\n        <button\n          type=\"button\"\n          className={styles.clearButton}\n          onClick={handleClear}\n          aria-label=\"/ \"\n          tabIndex={-1}\n        >\n          <X size={10} />\n        </button>\n      )}\n\n      <span className={styles.inputIcon}>\n        <Calendar size={16} />\n      </span>\n\n      <CalendarPopover\n        isOpen={isOpen}\n        triggerRef={triggerRef as React.RefObject<HTMLElement>}\n        onClose={handleClose}\n      >\n        {renderCalendarContent()}\n      </CalendarPopover>\n    </div>\n  );\n};\n\nexport default DateTimePicker;\n","import { useState, useMemo } from 'react';\nimport type { ReactNode } from 'react';\nimport { ChevronRight, ChevronsRight, ChevronLeft, ChevronsLeft, Search, Inbox } from 'lucide-react';\nimport { Button } from '../Button';\nimport styles from './Transfer.module.css';\n\nexport interface TransferItem {\n  /** Unique key for the item */\n  key: string;\n  /** Display label */\n  label: string;\n  /** Optional description */\n  description?: string;\n  /** Disabled state */\n  disabled?: boolean;\n}\n\nexport interface TransferProps {\n  /** All available items */\n  dataSource: TransferItem[];\n  /** Keys of items in target list */\n  targetKeys?: string[];\n  /** Default target keys (uncontrolled) */\n  defaultTargetKeys?: string[];\n  /** Callback when target keys change */\n  onChange?: (targetKeys: string[], direction: 'left' | 'right', moveKeys: string[]) => void;\n  /** Source panel title */\n  sourceTitle?: string;\n  /** Target panel title */\n  targetTitle?: string;\n  /** Show search input */\n  showSearch?: boolean;\n  /** Source search placeholder */\n  sourceSearchPlaceholder?: string;\n  /** Target search placeholder */\n  targetSearchPlaceholder?: string;\n  /** Show select all */\n  showSelectAll?: boolean;\n  /** Compact mode */\n  compact?: boolean;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Empty text */\n  emptyText?: string;\n  /** Additional CSS classes */\n  className?: string;\n  /** Render custom list item */\n  render?: (item: TransferItem) => ReactNode;\n}\n\n/**\n * Transfer - Dual list box component for moving items between two lists\n *\n * Features:\n * - Dual list with source and target panels\n * - Search functionality\n * - Select all checkbox\n * - Move selected/all controls\n * - Empty state\n *\n * @example\n * ```tsx\n * <Transfer\n *   dataSource={items}\n *   targetKeys={targetKeys}\n *   onChange={(keys) => setTargetKeys(keys)}\n *   sourceTitle=\"Available\"\n *   targetTitle=\"Selected\"\n *   showSearch\n * />\n * ```\n */\nexport const Transfer = ({\n  dataSource,\n  targetKeys: controlledTargetKeys,\n  defaultTargetKeys = [],\n  onChange,\n  sourceTitle = 'Source',\n  targetTitle = 'Target',\n  showSearch = false,\n  sourceSearchPlaceholder = 'Search...',\n  targetSearchPlaceholder = 'Search...',\n  showSelectAll = false,\n  compact = false,\n  disabled = false,\n  emptyText = 'No items',\n  className = '',\n  render,\n}: TransferProps) => {\n  const [uncontrolledTargetKeys, setUncontrolledTargetKeys] = useState<string[]>(defaultTargetKeys);\n  const [sourceSearch, setSourceSearch] = useState('');\n  const [targetSearch, setTargetSearch] = useState('');\n  const [sourceSelected, setSourceSelected] = useState<Set<string>>(new Set());\n  const [targetSelected, setTargetSelected] = useState<Set<string>>(new Set());\n\n  const targetKeys = controlledTargetKeys !== undefined ? controlledTargetKeys : uncontrolledTargetKeys;\n\n  // Split items into source and target\n  const { sourceItems, targetItems } = useMemo(() => {\n    const source: TransferItem[] = [];\n    const target: TransferItem[] = [];\n\n    dataSource.forEach((item) => {\n      if (targetKeys.includes(item.key)) {\n        target.push(item);\n      } else {\n        source.push(item);\n      }\n    });\n\n    return { sourceItems: source, targetItems: target };\n  }, [dataSource, targetKeys]);\n\n  // Filter items by search\n  const filterItems = (items: TransferItem[], searchQuery: string) => {\n    if (!searchQuery) return items;\n    const query = searchQuery.toLowerCase();\n    return items.filter((item) =>\n      item.label.toLowerCase().includes(query) ||\n      item.description?.toLowerCase().includes(query)\n    );\n  };\n\n  const filteredSourceItems = useMemo(\n    () => filterItems(sourceItems, sourceSearch),\n    [sourceItems, sourceSearch]\n  );\n\n  const filteredTargetItems = useMemo(\n    () => filterItems(targetItems, targetSearch),\n    [targetItems, targetSearch]\n  );\n\n  // Handle target keys change\n  const handleChange = (newTargetKeys: string[], direction: 'left' | 'right', moveKeys: string[]) => {\n    if (controlledTargetKeys === undefined) {\n      setUncontrolledTargetKeys(newTargetKeys);\n    }\n    onChange?.(newTargetKeys, direction, moveKeys);\n  };\n\n  // Move selected items\n  const moveToTarget = () => {\n    if (disabled || sourceSelected.size === 0) return;\n    const moveKeys = Array.from(sourceSelected);\n    const newTargetKeys = [...targetKeys, ...moveKeys];\n    handleChange(newTargetKeys, 'right', moveKeys);\n    setSourceSelected(new Set());\n  };\n\n  const moveToSource = () => {\n    if (disabled || targetSelected.size === 0) return;\n    const moveKeys = Array.from(targetSelected);\n    const newTargetKeys = targetKeys.filter((key) => !moveKeys.includes(key));\n    handleChange(newTargetKeys, 'left', moveKeys);\n    setTargetSelected(new Set());\n  };\n\n  // Move all items\n  const moveAllToTarget = () => {\n    if (disabled || filteredSourceItems.length === 0) return;\n    const moveKeys = filteredSourceItems.filter((item) => !item.disabled).map((item) => item.key);\n    const newTargetKeys = [...targetKeys, ...moveKeys];\n    handleChange(newTargetKeys, 'right', moveKeys);\n    setSourceSelected(new Set());\n  };\n\n  const moveAllToSource = () => {\n    if (disabled || filteredTargetItems.length === 0) return;\n    const moveKeys = filteredTargetItems.filter((item) => !item.disabled).map((item) => item.key);\n    const newTargetKeys = targetKeys.filter((key) => !moveKeys.includes(key));\n    handleChange(newTargetKeys, 'left', moveKeys);\n    setTargetSelected(new Set());\n  };\n\n  // Handle item selection\n  const toggleSourceItem = (key: string) => {\n    if (disabled) return;\n    const newSelected = new Set(sourceSelected);\n    if (newSelected.has(key)) {\n      newSelected.delete(key);\n    } else {\n      newSelected.add(key);\n    }\n    setSourceSelected(newSelected);\n  };\n\n  const toggleTargetItem = (key: string) => {\n    if (disabled) return;\n    const newSelected = new Set(targetSelected);\n    if (newSelected.has(key)) {\n      newSelected.delete(key);\n    } else {\n      newSelected.add(key);\n    }\n    setTargetSelected(newSelected);\n  };\n\n  // Handle select all\n  const toggleSourceSelectAll = () => {\n    if (disabled) return;\n    const selectableKeys = filteredSourceItems.filter((item) => !item.disabled).map((item) => item.key);\n    if (sourceSelected.size === selectableKeys.length) {\n      setSourceSelected(new Set());\n    } else {\n      setSourceSelected(new Set(selectableKeys));\n    }\n  };\n\n  const toggleTargetSelectAll = () => {\n    if (disabled) return;\n    const selectableKeys = filteredTargetItems.filter((item) => !item.disabled).map((item) => item.key);\n    if (targetSelected.size === selectableKeys.length) {\n      setTargetSelected(new Set());\n    } else {\n      setTargetSelected(new Set(selectableKeys));\n    }\n  };\n\n  // Render panel\n  const renderPanel = (\n    items: TransferItem[],\n    filteredItems: TransferItem[],\n    selectedKeys: Set<string>,\n    onToggle: (key: string) => void,\n    onToggleSelectAll: () => void,\n    title: string,\n    searchValue: string,\n    onSearchChange: (value: string) => void,\n    searchPlaceholder: string\n  ) => {\n    const selectableItems = filteredItems.filter((item) => !item.disabled);\n    const isAllSelected = selectableItems.length > 0 && selectedKeys.size === selectableItems.length;\n\n    return (\n      <div className={styles.transferPanel}>\n        {/* Header */}\n        <div className={styles.transferHeader}>\n          <h3 className={styles.transferTitle}>{title}</h3>\n          <span className={styles.transferCount}>\n            {items.length} {items.length === 1 ? 'item' : 'items'}\n          </span>\n        </div>\n\n        {/* Search */}\n        {showSearch && (\n          <div className={styles.transferSearch}>\n            <Search className={styles.transferSearchIcon} size={16} />\n            <input\n              type=\"text\"\n              className={styles.transferSearchInput}\n              placeholder={searchPlaceholder}\n              value={searchValue}\n              onChange={(e) => onSearchChange(e.target.value)}\n              disabled={disabled}\n            />\n          </div>\n        )}\n\n        {/* Select All */}\n        {showSelectAll && (\n          <div className={styles.transferSelectAll}>\n            <label className={styles.transferSelectAllLabel}>\n              <input\n                type=\"checkbox\"\n                className={styles.transferCheckbox}\n                checked={isAllSelected}\n                onChange={onToggleSelectAll}\n                disabled={disabled || filteredItems.length === 0}\n              />\n              <span>Select All</span>\n            </label>\n          </div>\n        )}\n\n        {/* Body */}\n        <div className={styles.transferBody}>\n          {filteredItems.length === 0 ? (\n            <div className={`${styles.transferList} ${styles.transferListEmpty}`}>\n              <div className={styles.transferEmpty}>\n                <Inbox size={32} style={{ opacity: 0.3 }} />\n                <p>{emptyText}</p>\n              </div>\n            </div>\n          ) : (\n            <div className={styles.transferList}>\n              {filteredItems.map((item) => (\n                <label\n                  key={item.key}\n                  className={`${styles.transferItem} ${item.disabled ? styles.disabled : ''}`}\n                >\n                  <input\n                    type=\"checkbox\"\n                    className={styles.transferCheckbox}\n                    checked={selectedKeys.has(item.key)}\n                    onChange={() => onToggle(item.key)}\n                    disabled={disabled || item.disabled}\n                  />\n                  <span className={styles.transferItemLabel}>\n                    {render ? render(item) : item.label}\n                  </span>\n                </label>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Footer */}\n        {showSelectAll && (\n          <div className={styles.transferFooter}>\n            <span className={styles.transferFooterText}>\n              {selectedKeys.size} of {filteredItems.length} selected\n            </span>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className={`${styles.transfer} ${compact ? styles.transferCompact : ''} ${className}`}>\n      {/* Source Panel */}\n      {renderPanel(\n        sourceItems,\n        filteredSourceItems,\n        sourceSelected,\n        toggleSourceItem,\n        toggleSourceSelectAll,\n        sourceTitle,\n        sourceSearch,\n        setSourceSearch,\n        sourceSearchPlaceholder\n      )}\n\n      {/* Controls */}\n      <div className={`${styles.transferControls} ${compact ? styles.transferControlsCompact : ''}`}>\n        <Button\n          variant=\"primary\"\n          size=\"sm\"\n          onClick={moveToTarget}\n          disabled={disabled || sourceSelected.size === 0}\n          aria-label=\"Move selected to target\"\n          iconOnly\n        >\n          <ChevronRight size={16} />\n        </Button>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={moveAllToTarget}\n          disabled={disabled || filteredSourceItems.length === 0}\n          aria-label=\"Move all to target\"\n          iconOnly\n        >\n          <ChevronsRight size={16} />\n        </Button>\n        <Button\n          variant=\"primary\"\n          size=\"sm\"\n          onClick={moveToSource}\n          disabled={disabled || targetSelected.size === 0}\n          aria-label=\"Move selected to source\"\n          iconOnly\n        >\n          <ChevronLeft size={16} />\n        </Button>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={moveAllToSource}\n          disabled={disabled || filteredTargetItems.length === 0}\n          aria-label=\"Move all to source\"\n          iconOnly\n        >\n          <ChevronsLeft size={16} />\n        </Button>\n      </div>\n\n      {/* Target Panel */}\n      {renderPanel(\n        targetItems,\n        filteredTargetItems,\n        targetSelected,\n        toggleTargetItem,\n        toggleTargetSelectAll,\n        targetTitle,\n        targetSearch,\n        setTargetSearch,\n        targetSearchPlaceholder\n      )}\n    </div>\n  );\n};\n","import { useState, useRef, useEffect } from 'react';\nimport type { ReactNode } from 'react';\nimport { ChevronDown, ChevronRight, Search, X } from 'lucide-react';\nimport styles from './TreeSelect.module.css';\n\nexport interface TreeSelectNode {\n  /** Unique value */\n  value: string;\n  /** Display label */\n  label: string;\n  /** Optional icon */\n  icon?: ReactNode;\n  /** Child nodes */\n  children?: TreeSelectNode[];\n  /** Disabled state */\n  disabled?: boolean;\n}\n\nexport interface TreeSelectProps {\n  /** Tree data */\n  data: TreeSelectNode[];\n  /** Selected value(s) */\n  value?: string | string[] | null;\n  /** Default value (uncontrolled) */\n  defaultValue?: string | string[] | null;\n  /** Callback when selection changes */\n  onChange?: (value: string | string[] | null) => void;\n  /** Multiple selection mode */\n  multiple?: boolean;\n  /** Show search input */\n  showSearch?: boolean;\n  /** Search placeholder */\n  searchPlaceholder?: string;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Additional CSS classes */\n  className?: string;\n  /** Clear button */\n  clearable?: boolean;\n}\n\n/**\n * TreeSelect - Select component with hierarchical tree data structure\n *\n * Features:\n * - Hierarchical tree selection\n * - Single and multiple selection modes\n * - Search functionality\n * - Expand/collapse nodes\n * - Icon support\n *\n * @example\n * ```tsx\n * <TreeSelect\n *   data={treeData}\n *   value={value}\n *   onChange={setValue}\n *   showSearch\n *   placeholder=\"Select location...\"\n * />\n * ```\n */\nexport const TreeSelect = ({\n  data,\n  value: controlledValue,\n  defaultValue = null,\n  onChange,\n  multiple = false,\n  showSearch = false,\n  searchPlaceholder = 'Search...',\n  placeholder = 'Select...',\n  disabled = false,\n  className = '',\n  clearable = false,\n}: TreeSelectProps) => {\n  const [uncontrolledValue, setUncontrolledValue] = useState<string | string[] | null>(\n    defaultValue\n  );\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [expandedNodes, setExpandedNodes] = useState<Set<string>>(new Set());\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const value = controlledValue !== undefined ? controlledValue : uncontrolledValue;\n\n  // Click outside to close\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen]);\n\n  // Handle value change\n  const handleChange = (newValue: string | string[]) => {\n    if (controlledValue === undefined) {\n      setUncontrolledValue(newValue);\n    }\n    onChange?.(newValue);\n  };\n\n  // Handle node selection\n  const handleNodeSelect = (nodeValue: string) => {\n    if (disabled) return;\n\n    if (multiple) {\n      const currentValues = Array.isArray(value) ? value : value ? [value] : [];\n      const newValues = currentValues.includes(nodeValue)\n        ? currentValues.filter((v) => v !== nodeValue)\n        : [...currentValues, nodeValue];\n      handleChange(newValues);\n    } else {\n      handleChange(nodeValue);\n      setIsOpen(false);\n    }\n  };\n\n  // Toggle node expansion\n  const toggleNode = (nodeValue: string) => {\n    setExpandedNodes((prev) => {\n      const next = new Set(prev);\n      if (next.has(nodeValue)) {\n        next.delete(nodeValue);\n      } else {\n        next.add(nodeValue);\n      }\n      return next;\n    });\n  };\n\n  // Get selected labels\n  const getSelectedLabels = (): string => {\n    if (!value) return '';\n\n    const values = Array.isArray(value) ? value : [value];\n    const labels: string[] = [];\n\n    const findLabels = (nodes: TreeSelectNode[]) => {\n      nodes.forEach((node) => {\n        if (values.includes(node.value)) {\n          labels.push(node.label);\n        }\n        if (node.children) {\n          findLabels(node.children);\n        }\n      });\n    };\n\n    findLabels(data);\n    return labels.join(', ');\n  };\n\n  // Filter tree by search (pure function, no side effects)\n  const filterTree = (nodes: TreeSelectNode[], query: string): TreeSelectNode[] => {\n    if (!query) return nodes;\n\n    const q = query.toLowerCase();\n    const filtered: TreeSelectNode[] = [];\n\n    nodes.forEach((node) => {\n      const matches = node.label.toLowerCase().includes(q);\n      const filteredChildren = node.children ? filterTree(node.children, query) : [];\n\n      if (matches || filteredChildren.length > 0) {\n        filtered.push({\n          ...node,\n          children: filteredChildren.length > 0 ? filteredChildren : node.children,\n        });\n      }\n    });\n\n    return filtered;\n  };\n\n  // Get nodes that should be auto-expanded when searching\n  const getMatchingParentNodes = (nodes: TreeSelectNode[], query: string): string[] => {\n    if (!query) return [];\n\n    const q = query.toLowerCase();\n    const parentNodes: string[] = [];\n\n    const traverse = (nodeList: TreeSelectNode[]) => {\n      nodeList.forEach((node) => {\n        if (node.children && node.children.length > 0) {\n          const hasMatchingDescendant = node.children.some(\n            (child) =>\n              child.label.toLowerCase().includes(q) ||\n              (child.children && getMatchingParentNodes([child], query).length > 0)\n          );\n          if (hasMatchingDescendant) {\n            parentNodes.push(node.value);\n          }\n          traverse(node.children);\n        }\n      });\n    };\n\n    traverse(nodes);\n    return parentNodes;\n  };\n\n  // Auto-expand nodes when search query changes\n  useEffect(() => {\n    if (searchQuery) {\n      const nodesToExpand = getMatchingParentNodes(data, searchQuery);\n      if (nodesToExpand.length > 0) {\n        setExpandedNodes((prev) => {\n          const next = new Set(prev);\n          nodesToExpand.forEach((nodeValue) => next.add(nodeValue));\n          return next;\n        });\n      }\n    }\n  }, [searchQuery, data]);\n\n  const filteredData = filterTree(data, searchQuery);\n\n  // Render tree node\n  const renderNode = (node: TreeSelectNode, level: number = 0): ReactNode => {\n    const hasChildren = node.children && node.children.length > 0;\n    const isExpanded = expandedNodes.has(node.value);\n    const isSelected = multiple\n      ? Array.isArray(value) && value.includes(node.value)\n      : value === node.value;\n\n    return (\n      <div key={node.value} className={styles.treeNode}>\n        <div\n          className={`${styles.treeNodeContent} ${isSelected ? styles.treeNodeSelected : ''} ${\n            node.disabled ? styles.treeNodeDisabled : ''\n          }`}\n          style={{ paddingLeft: `${level * 20 + 8}px` }}\n        >\n          {hasChildren ? (\n            <button\n              className={styles.treeExpandBtn}\n              onClick={() => toggleNode(node.value)}\n              aria-label={isExpanded ? 'Collapse' : 'Expand'}\n            >\n              {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\n            </button>\n          ) : (\n            <span className={styles.treeIndent} />\n          )}\n\n          {multiple && (\n            <input\n              type=\"checkbox\"\n              className={styles.treeCheckbox}\n              checked={isSelected}\n              onChange={() => handleNodeSelect(node.value)}\n              disabled={disabled || node.disabled}\n            />\n          )}\n\n          <div\n            className={styles.treeLabel}\n            onClick={() => !multiple && handleNodeSelect(node.value)}\n            role={!multiple ? 'button' : undefined}\n          >\n            {node.icon && <span className={styles.treeIcon}>{node.icon}</span>}\n            <span>{node.label}</span>\n          </div>\n        </div>\n\n        {hasChildren && isExpanded && (\n          <div className={styles.treeChildren}>\n            {node.children!.map((child) => renderNode(child, level + 1))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Clear selection\n  const handleClear = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    handleChange(multiple ? [] : '');\n  };\n\n  const selectedLabel = getSelectedLabels();\n  const showClearButton = clearable && !disabled && selectedLabel;\n\n  return (\n    <div className={`${styles.treeselect} ${className}`} ref={containerRef}>\n      {/* Trigger */}\n      <div\n        className={`${styles.treeselectTrigger} ${disabled ? styles.disabled : ''}`}\n        onClick={() => !disabled && setIsOpen(!isOpen)}\n        role=\"combobox\"\n        aria-expanded={isOpen}\n        aria-haspopup=\"tree\"\n        tabIndex={disabled ? -1 : 0}\n      >\n        <span className={`${styles.treeselectValue} ${!selectedLabel ? styles.placeholder : ''}`}>\n          {selectedLabel || placeholder}\n        </span>\n        <div className={styles.treeselectIcons}>\n          {showClearButton && (\n            <button\n              className={styles.treeselectClearBtn}\n              onClick={handleClear}\n              aria-label=\"Clear selection\"\n            >\n              <X size={16} />\n            </button>\n          )}\n          <ChevronDown\n            className={`${styles.treeselectIcon} ${isOpen ? styles.treeselectIconOpen : ''}`}\n            size={16}\n          />\n        </div>\n      </div>\n\n      {/* Dropdown */}\n      {isOpen && (\n        <div className={styles.treeselectDropdown}>\n          {showSearch && (\n            <div className={styles.treeselectSearch}>\n              <Search className={styles.treeselectSearchIcon} size={16} />\n              <input\n                type=\"text\"\n                className={styles.treeselectSearchInput}\n                placeholder={searchPlaceholder}\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n              />\n            </div>\n          )}\n\n          <div className={styles.treeselectTree}>\n            {filteredData.length === 0 ? (\n              <div className={styles.treeselectEmpty}>No results found</div>\n            ) : (\n              filteredData.map((node) => renderNode(node))\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useRef, useEffect, type HTMLAttributes } from 'react';\nimport { ChevronDown, ChevronRight } from 'lucide-react';\nimport styles from './CascadeSelect.module.css';\n\nexport interface CascadeOption {\n  /**\n   * Option label\n   */\n  label: string;\n\n  /**\n   * Option value\n   */\n  value: string;\n\n  /**\n   * Child options for nested selection\n   */\n  children?: CascadeOption[];\n\n  /**\n   * Disabled state\n   */\n  disabled?: boolean;\n}\n\nexport interface CascadeSelectProps extends Omit<HTMLAttributes<HTMLDivElement>, 'onChange'> {\n  /**\n   * Hierarchical options data\n   */\n  options: CascadeOption[];\n\n  /**\n   * Selected value path (array of values from root to leaf)\n   */\n  value?: string[];\n\n  /**\n   * Change handler - receives array of selected values\n   */\n  onChange?: (value: string[], labels: string[]) => void;\n\n  /**\n   * Placeholder text\n   */\n  placeholder?: string;\n\n  /**\n   * Disabled state\n   */\n  disabled?: boolean;\n\n  /**\n   * Additional CSS class\n   */\n  className?: string;\n}\n\n/**\n * CascadeSelect component for hierarchical data selection\n *\n * @example\n * ```tsx\n * const locations = [\n *   {\n *     label: 'Building A',\n *     value: 'building-a',\n *     children: [\n *       { label: 'Floor 1', value: 'floor-1', children: [...] }\n *     ]\n *   }\n * ];\n *\n * <CascadeSelect\n *   options={locations}\n *   value={['building-a', 'floor-1', 'zone-a']}\n *   onChange={(values, labels) => console.log(values, labels)}\n *   placeholder=\"Select location...\"\n * />\n * ```\n */\nexport const CascadeSelect: React.FC<CascadeSelectProps> = ({\n  options,\n  value = [],\n  onChange,\n  placeholder = 'Select...',\n  disabled = false,\n  className = '',\n  ...rest\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedPath, setSelectedPath] = useState<string[]>(value);\n  const [hoveredPath, setHoveredPath] = useState<string[]>([]);\n  const [hoveredOptionRefs, setHoveredOptionRefs] = useState<Map<number, HTMLDivElement>>(new Map());\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n        setHoveredPath([]);\n        setHoveredOptionRefs(new Map());\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  // Get display text from selected path\n  const getDisplayText = () => {\n    if (selectedPath.length === 0) return placeholder;\n\n    const labels: string[] = [];\n    let currentOptions = options;\n\n    for (const val of selectedPath) {\n      const option = currentOptions.find((opt) => opt.value === val);\n      if (option) {\n        labels.push(option.label);\n        currentOptions = option.children || [];\n      }\n    }\n\n    return labels.join(' / ');\n  };\n\n  // Get options for a specific level based on hovered or selected path\n  const getOptionsForLevel = (level: number): CascadeOption[] => {\n    if (level === 0) return options;\n\n    // Use hoveredPath if available, otherwise use selectedPath\n    const pathToUse = hoveredPath.length >= level ? hoveredPath : selectedPath;\n\n    let currentOptions = options;\n    for (let i = 0; i < level; i++) {\n      const val = pathToUse[i];\n      if (!val) return [];\n\n      const option = currentOptions.find((opt) => opt.value === val);\n      if (option?.children) {\n        currentOptions = option.children;\n      } else {\n        return [];\n      }\n    }\n\n    return currentOptions;\n  };\n\n  // Calculate how many levels should be visible\n  const getVisibleLevels = (): number => {\n    // Start with level 0 (always visible)\n    let levels = 1;\n\n    // Use hoveredPath if hovering, otherwise use selectedPath\n    const pathToCheck = hoveredPath.length > 0 ? hoveredPath : selectedPath;\n\n    let currentOptions = options;\n    for (const val of pathToCheck) {\n      const option = currentOptions.find((opt) => opt.value === val);\n      if (option?.children && option.children.length > 0) {\n        levels++;\n        currentOptions = option.children;\n      } else {\n        break;\n      }\n    }\n\n    return levels;\n  };\n\n  // Handle option hover\n  const handleOptionHover = (option: CascadeOption, level: number, element: HTMLDivElement | null) => {\n    if (option.disabled) return;\n\n    // Build the new hover path up to this level\n    const newPath = [\n      ...hoveredPath.slice(0, level),\n      option.value\n    ];\n\n    setHoveredPath(newPath);\n\n    // Store the hovered element reference for positioning\n    if (element) {\n      setHoveredOptionRefs(prev => {\n        const next = new Map(prev);\n        next.set(level, element);\n        return next;\n      });\n    }\n  };\n\n  // Handle option click\n  const handleOptionClick = (option: CascadeOption, level: number) => {\n    if (option.disabled) return;\n\n    // Build the path up to this level\n    const newPath = [\n      ...hoveredPath.slice(0, level),\n      option.value\n    ];\n\n    // If this is a leaf node (no children), complete the selection\n    if (!option.children || option.children.length === 0) {\n      setSelectedPath(newPath);\n      setIsOpen(false);\n      setHoveredPath([]);\n      setHoveredOptionRefs(new Map());\n\n      // Build labels array\n      const labels: string[] = [];\n      let currentOptions = options;\n      for (const val of newPath) {\n        const opt = currentOptions.find((o) => o.value === val);\n        if (opt) {\n          labels.push(opt.label);\n          currentOptions = opt.children || [];\n        }\n      }\n\n      onChange?.(newPath, labels);\n    } else {\n      // If has children, just update hover state (already done by hover handler)\n      setHoveredPath(newPath);\n    }\n  };\n\n  // Check if option is in selected path\n  const isSelected = (optionValue: string, level: number): boolean => {\n    return selectedPath[level] === optionValue;\n  };\n\n  // Check if option is in hovered path\n  const isActive = (optionValue: string, level: number): boolean => {\n    return hoveredPath[level] === optionValue;\n  };\n\n  const containerClasses = [\n    styles['cascade-select'],\n    isOpen && styles.open,\n    disabled && styles.disabled,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const triggerClasses = [\n    styles['cascade-trigger'],\n    selectedPath.length === 0 && styles.placeholder,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const visibleLevels = isOpen ? getVisibleLevels() : 0;\n\n  return (\n    <div ref={containerRef} className={containerClasses} {...rest}>\n      {/* Trigger Button */}\n      <button\n        type=\"button\"\n        className={triggerClasses}\n        onClick={() => !disabled && setIsOpen(!isOpen)}\n        disabled={disabled}\n        aria-haspopup=\"listbox\"\n        aria-expanded={isOpen}\n      >\n        {getDisplayText()}\n        <ChevronDown className={styles['select-icon']} size={18} />\n      </button>\n\n      {/* Dropdown Panel */}\n      {isOpen && (\n        <div className={styles['cascade-panel']}>\n          {Array.from({ length: visibleLevels }).map((_, level) => {\n            const levelOptions = getOptionsForLevel(level);\n            if (levelOptions.length === 0) return null;\n\n            const subpanelClasses = [\n              styles['cascade-subpanel'],\n              level > 0 && styles.nested,\n              level > 0 && styles.show,\n            ]\n              .filter(Boolean)\n              .join(' ');\n\n            // Calculate top position based on the hovered option in the previous level\n            let topOffset = 0;\n            if (level > 0) {\n              const hoveredElement = hoveredOptionRefs.get(level - 1);\n              if (hoveredElement) {\n                topOffset = hoveredElement.offsetTop;\n              }\n            }\n\n            const subpanelStyle: React.CSSProperties =\n              level > 0\n                ? {\n                    position: 'absolute',\n                    left: `${level * 100}%`,\n                    top: topOffset,\n                  }\n                : {};\n\n            return (\n              <div key={level} className={subpanelClasses} style={subpanelStyle}>\n                {levelOptions.map((option) => {\n                  const hasChildren = option.children && option.children.length > 0;\n                  const optionClasses = [\n                    styles['cascade-option'],\n                    isSelected(option.value, level) && styles.selected,\n                    isActive(option.value, level) && styles.active,\n                    option.disabled && styles.disabled,\n                  ]\n                    .filter(Boolean)\n                    .join(' ');\n\n                  return (\n                    <div\n                      key={option.value}\n                      className={optionClasses}\n                      onClick={() => handleOptionClick(option, level)}\n                      onMouseEnter={(e) => handleOptionHover(option, level, e.currentTarget)}\n                      role=\"option\"\n                      aria-selected={isSelected(option.value, level)}\n                      aria-disabled={option.disabled}\n                    >\n                      <span>{option.label}</span>\n                      {hasChildren && <ChevronRight className={styles['option-arrow']} size={16} />}\n                    </div>\n                  );\n                })}\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nCascadeSelect.displayName = 'CascadeSelect';\n\nexport default CascadeSelect;\n","import type { ReactNode } from 'react';\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { Search, X, SearchX, Loader2 } from 'lucide-react';\nimport styles from './Autocomplete.module.css';\n\nexport interface AutocompleteOption {\n  /** Unique value for the option */\n  value: string;\n  /** Display label */\n  label: string;\n  /** Optional icon */\n  icon?: ReactNode;\n  /** Optional description */\n  description?: string;\n  /** Optional category */\n  category?: string;\n  /** Disabled state */\n  disabled?: boolean;\n}\n\nexport type AutocompleteSize = 'sm' | 'md' | 'lg';\n\nexport interface AutocompleteProps {\n  /** Available options */\n  options: AutocompleteOption[];\n  /** Selected value (controlled) */\n  value?: string | string[];\n  /** Default value (uncontrolled) */\n  defaultValue?: string | string[];\n  /** Change handler */\n  onChange?: (value: string | string[]) => void;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Loading state */\n  loading?: boolean;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Size variant */\n  size?: AutocompleteSize;\n  /** Allow multiple selection */\n  multiple?: boolean;\n  /** Empty state message */\n  emptyMessage?: string;\n  /** Minimum characters before showing suggestions */\n  minChars?: number;\n  /** Filter function (default: case-insensitive includes) */\n  filterFn?: (option: AutocompleteOption, query: string) => boolean;\n  /** Additional CSS class */\n  className?: string;\n  /** ARIA label */\n  'aria-label'?: string;\n}\n\nconst defaultFilterFn = (option: AutocompleteOption, query: string): boolean => {\n  const lowerQuery = query.toLowerCase();\n  return (\n    option.label.toLowerCase().includes(lowerQuery) ||\n    option.value.toLowerCase().includes(lowerQuery) ||\n    (option.description?.toLowerCase().includes(lowerQuery) ?? false)\n  );\n};\n\n/**\n * Autocomplete Component\n *\n * Input field with suggestions and search functionality.\n * Supports single/multiple selection, categories, loading states, and keyboard navigation.\n *\n * @example\n * ```tsx\n * <Autocomplete\n *   options={devices}\n *   placeholder=\"Search devices...\"\n *   onChange={(value) => console.log(value)}\n * />\n * ```\n *\n * @example\n * ```tsx\n * // Multiple selection\n * <Autocomplete\n *   options={sensors}\n *   multiple\n *   placeholder=\"Select sensors...\"\n *   onChange={(values) => console.log(values)}\n * />\n * ```\n */\nexport const Autocomplete = ({\n  options,\n  value: controlledValue,\n  defaultValue,\n  onChange,\n  placeholder = 'Search...',\n  loading = false,\n  disabled = false,\n  size = 'md',\n  multiple = false,\n  emptyMessage = 'No results found',\n  minChars = 0,\n  filterFn = defaultFilterFn,\n  className = '',\n  'aria-label': ariaLabel = 'Autocomplete',\n}: AutocompleteProps) => {\n  // Controlled/uncontrolled value management\n  const isControlled = controlledValue !== undefined;\n  const [uncontrolledValue, setUncontrolledValue] = useState<string | string[]>(\n    defaultValue || (multiple ? [] : '')\n  );\n  const currentValue = isControlled ? controlledValue : uncontrolledValue;\n\n  // Component state\n  const [inputValue, setInputValue] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [highlightedIndex, setHighlightedIndex] = useState(-1);\n\n  // Refs\n  const containerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Filtered options\n  const filteredOptions = inputValue.length >= minChars\n    ? options.filter(option => filterFn(option, inputValue))\n    : options;\n\n  // Group options by category\n  const groupedOptions: Record<string, AutocompleteOption[]> = {};\n  filteredOptions.forEach(option => {\n    const category = option.category || '';\n    if (!groupedOptions[category]) {\n      groupedOptions[category] = [];\n    }\n    groupedOptions[category].push(option);\n  });\n\n  // Selected values as array\n  const selectedValues = Array.isArray(currentValue) ? currentValue : currentValue ? [currentValue] : [];\n\n  // Handle selection\n  const handleSelect = useCallback((option: AutocompleteOption) => {\n    if (option.disabled) return;\n\n    let newValue: string | string[];\n\n    if (multiple) {\n      const values = Array.isArray(currentValue) ? currentValue : [];\n      if (values.includes(option.value)) {\n        newValue = values.filter(v => v !== option.value);\n      } else {\n        newValue = [...values, option.value];\n      }\n    } else {\n      newValue = option.value;\n      setInputValue('');\n      setIsOpen(false);\n    }\n\n    if (!isControlled) {\n      setUncontrolledValue(newValue);\n    }\n\n    onChange?.(newValue);\n  }, [currentValue, multiple, isControlled, onChange]);\n\n  // Handle remove (for multiple selection)\n  const handleRemove = useCallback((valueToRemove: string) => {\n    if (!multiple) return;\n\n    const values = Array.isArray(currentValue) ? currentValue : [];\n    const newValue = values.filter(v => v !== valueToRemove);\n\n    if (!isControlled) {\n      setUncontrolledValue(newValue);\n    }\n\n    onChange?.(newValue);\n  }, [currentValue, multiple, isControlled, onChange]);\n\n  // Handle input change\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    setInputValue(newValue);\n    setIsOpen(true);\n    setHighlightedIndex(-1);\n  };\n\n  // Handle input focus\n  const handleInputFocus = () => {\n    if (!disabled) {\n      setIsOpen(true);\n    }\n  };\n\n  // Handle keyboard navigation\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (!isOpen && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {\n      setIsOpen(true);\n      e.preventDefault();\n      return;\n    }\n\n    if (!isOpen) return;\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setHighlightedIndex(prev =>\n          prev < filteredOptions.length - 1 ? prev + 1 : prev\n        );\n        break;\n\n      case 'ArrowUp':\n        e.preventDefault();\n        setHighlightedIndex(prev => (prev > 0 ? prev - 1 : 0));\n        break;\n\n      case 'Enter':\n        e.preventDefault();\n        if (highlightedIndex >= 0 && highlightedIndex < filteredOptions.length) {\n          handleSelect(filteredOptions[highlightedIndex]);\n        }\n        break;\n\n      case 'Escape':\n        e.preventDefault();\n        setIsOpen(false);\n        setHighlightedIndex(-1);\n        break;\n\n      case 'Tab':\n        setIsOpen(false);\n        break;\n    }\n  };\n\n  // Click outside to close\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Scroll highlighted item into view\n  useEffect(() => {\n    if (highlightedIndex >= 0 && dropdownRef.current) {\n      const highlightedItem = dropdownRef.current.children[highlightedIndex] as HTMLElement;\n      if (highlightedItem && highlightedItem.scrollIntoView) {\n        highlightedItem.scrollIntoView({ block: 'nearest' });\n      }\n    }\n  }, [highlightedIndex]);\n\n  // Get selected options for display\n  const selectedOptions = options.filter(opt => selectedValues.includes(opt.value));\n\n  const sizeClass = size !== 'md' ? styles[`autocomplete${size.charAt(0).toUpperCase() + size.slice(1)}`] : '';\n  const multipleClass = multiple ? styles.autocompleteMultiple : '';\n\n  return (\n    <div\n      ref={containerRef}\n      className={`${styles.autocomplete} ${sizeClass} ${multipleClass} ${className}`}\n      role=\"combobox\"\n      aria-expanded={isOpen}\n      aria-haspopup=\"listbox\"\n      aria-owns=\"autocomplete-listbox\"\n      aria-label={ariaLabel}\n    >\n      <div className={`${styles.autocompleteInputWrapper} ${loading ? styles.autocompleteLoading : ''}`}>\n        {multiple && selectedOptions.length > 0 && (\n          <div className={styles.autocompleteTags}>\n            {selectedOptions.map(option => (\n              <span key={option.value} className=\"tag tag-sm tag-primary\">\n                {option.label}\n                <button\n                  type=\"button\"\n                  className=\"tag-remove\"\n                  onClick={() => handleRemove(option.value)}\n                  aria-label={`Remove ${option.label}`}\n                >\n                  <X size={14} />\n                </button>\n              </span>\n            ))}\n            <input\n              ref={inputRef}\n              type=\"text\"\n              className={`${styles.autocompleteInput} ${styles.autocompleteInputInline}`}\n              value={inputValue}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n              onKeyDown={handleKeyDown}\n              placeholder={selectedOptions.length > 0 ? 'Add more...' : placeholder}\n              disabled={disabled}\n              aria-autocomplete=\"list\"\n              aria-controls=\"autocomplete-listbox\"\n              aria-activedescendant={\n                highlightedIndex >= 0 ? `autocomplete-option-${highlightedIndex}` : undefined\n              }\n            />\n          </div>\n        )}\n\n        {!multiple && (\n          <>\n            <input\n              ref={inputRef}\n              type=\"text\"\n              className={styles.autocompleteInput}\n              value={inputValue}\n              onChange={handleInputChange}\n              onFocus={handleInputFocus}\n              onKeyDown={handleKeyDown}\n              placeholder={placeholder}\n              disabled={disabled}\n              aria-autocomplete=\"list\"\n              aria-controls=\"autocomplete-listbox\"\n              aria-activedescendant={\n                highlightedIndex >= 0 ? `autocomplete-option-${highlightedIndex}` : undefined\n              }\n            />\n            {loading ? (\n              <Loader2 className={styles.autocompleteSpinner} size={20} />\n            ) : (\n              <Search className={styles.autocompleteIcon} size={20} />\n            )}\n          </>\n        )}\n      </div>\n\n      {isOpen && (\n        <div\n          ref={dropdownRef}\n          className={styles.autocompleteDropdown}\n          role=\"listbox\"\n          id=\"autocomplete-listbox\"\n          aria-label=\"Suggestions\"\n        >\n          {loading ? (\n            <div className={styles.autocompleteLoadingText}>Loading results...</div>\n          ) : filteredOptions.length === 0 ? (\n            <div className={styles.autocompleteEmpty}>\n              <SearchX size={48} />\n              <p>{emptyMessage}</p>\n              <span>Try adjusting your search terms</span>\n            </div>\n          ) : (\n            Object.entries(groupedOptions).map(([category, categoryOptions]) => (\n              <div key={category}>\n                {category && <div className={styles.autocompleteCategory}>{category}</div>}\n                {categoryOptions.map((option) => {\n                  const globalIndex = filteredOptions.indexOf(option);\n                  const isHighlighted = globalIndex === highlightedIndex;\n                  const isSelected = selectedValues.includes(option.value);\n\n                  return (\n                    <div\n                      key={option.value}\n                      id={`autocomplete-option-${globalIndex}`}\n                      role=\"option\"\n                      aria-selected={isSelected}\n                      aria-disabled={option.disabled}\n                      className={`${styles.autocompleteItem} ${\n                        option.description ? styles.autocompleteItemWithDesc : ''\n                      } ${isHighlighted ? styles.autocompleteItemActive : ''} ${\n                        option.disabled ? styles.autocompleteItemDisabled : ''\n                      }`}\n                      onClick={() => handleSelect(option)}\n                      onMouseEnter={() => setHighlightedIndex(globalIndex)}\n                    >\n                      {option.description ? (\n                        <>\n                          {option.icon && (\n                            <div className={styles.autocompleteItemIcon}>{option.icon}</div>\n                          )}\n                          <div className={styles.autocompleteItemContent}>\n                            <div className={styles.autocompleteItemTitle}>{option.label}</div>\n                            <div className={styles.autocompleteItemDescription}>\n                              {option.description}\n                            </div>\n                          </div>\n                        </>\n                      ) : (\n                        <>\n                          {option.icon}\n                          <span>{option.label}</span>\n                        </>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nAutocomplete.displayName = 'Autocomplete';\n","import { useState, useRef, useEffect, useCallback } from 'react';\nimport styles from './Knob.module.css';\n\nexport type KnobSize = 'sm' | 'md' | 'lg';\nexport type KnobVariant = 'primary' | 'success' | 'warning' | 'error';\n\nexport interface KnobProps {\n  /** Current value */\n  value?: number;\n  /** Default value (uncontrolled) */\n  defaultValue?: number;\n  /** Minimum value */\n  min?: number;\n  /** Maximum value */\n  max?: number;\n  /** Step increment */\n  step?: number;\n  /** Value label (e.g., \"C\", \"%\") */\n  label?: string;\n  /** Show min/max labels */\n  showLabels?: boolean;\n  /** Show position indicator/marker */\n  showIndicator?: boolean;\n  /** Size variant */\n  size?: KnobSize;\n  /** Color variant */\n  variant?: KnobVariant;\n  /** Disabled state */\n  disabled?: boolean;\n  /** Read only state */\n  readOnly?: boolean;\n  /** Callback when value changes */\n  onChange?: (value: number) => void;\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * Knob - Circular dial input for adjusting values\n *\n * Features:\n * - Drag to adjust value\n * - Multiple sizes and colors\n * - Min/max range\n * - Step increments\n * - Label support\n *\n * @example\n * ```tsx\n * <Knob\n *   value={temperature}\n *   onChange={setTemperature}\n *   min={15}\n *   max={30}\n *   label=\"C\"\n * />\n * ```\n */\nexport const Knob = ({\n  value: controlledValue,\n  defaultValue = 0,\n  min = 0,\n  max = 100,\n  step = 1,\n  label,\n  showLabels = false,\n  showIndicator = true,\n  size = 'md',\n  variant = 'primary',\n  disabled = false,\n  readOnly = false,\n  onChange,\n  className = '',\n}: KnobProps) => {\n  const [uncontrolledValue, setUncontrolledValue] = useState(defaultValue);\n  const [isDragging, setIsDragging] = useState(false);\n  const knobRef = useRef<HTMLDivElement>(null);\n  const startAngleRef = useRef(0);\n  const startValueRef = useRef(0);\n\n  const value = controlledValue !== undefined ? controlledValue : uncontrolledValue;\n\n  // Clamp value\n  const clampValue = useCallback((val: number): number => {\n    return Math.max(min, Math.min(max, val));\n  }, [min, max]);\n\n  // Round to step\n  const roundToStep = useCallback((val: number): number => {\n    return Math.round(val / step) * step;\n  }, [step]);\n\n  // Format value for display\n  const formatValue = useCallback((val: number): string => {\n    // Determine decimal places from step\n    const decimals = step.toString().includes('.')\n      ? step.toString().split('.')[1].length\n      : 0;\n    return val.toFixed(decimals);\n  }, [step]);\n\n  // Handle value change\n  const handleChange = useCallback((newValue: number) => {\n    const clamped = clampValue(roundToStep(newValue));\n    if (controlledValue === undefined) {\n      setUncontrolledValue(clamped);\n    }\n    onChange?.(clamped);\n  }, [clampValue, roundToStep, controlledValue, onChange]);\n\n  // Calculate angle from mouse position\n  const calculateAngle = (clientX: number, clientY: number): number => {\n    if (!knobRef.current) return 0;\n\n    const rect = knobRef.current.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n\n    const dx = clientX - centerX;\n    const dy = clientY - centerY;\n\n    let angle = Math.atan2(dy, dx) * (180 / Math.PI);\n    angle = (angle + 360) % 360;\n\n    return angle;\n  };\n\n  // Mouse down handler\n  const handleMouseDown = (e: React.MouseEvent) => {\n    if (disabled || readOnly) return;\n    e.preventDefault();\n\n    setIsDragging(true);\n    startAngleRef.current = calculateAngle(e.clientX, e.clientY);\n    startValueRef.current = value;\n  };\n\n  // Touch start handler\n  const handleTouchStart = (e: React.TouchEvent) => {\n    if (disabled || readOnly) return;\n    e.preventDefault();\n\n    const touch = e.touches[0];\n    setIsDragging(true);\n    startAngleRef.current = calculateAngle(touch.clientX, touch.clientY);\n    startValueRef.current = value;\n  };\n\n  // Keyboard handler\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (disabled || readOnly) return;\n\n    const valueRange = max - min;\n    const pageStep = valueRange * 0.1; // 10% of range\n\n    let newValue = value;\n\n    switch (e.key) {\n      case 'ArrowUp':\n      case 'ArrowRight':\n        e.preventDefault();\n        newValue = value + step;\n        break;\n      case 'ArrowDown':\n      case 'ArrowLeft':\n        e.preventDefault();\n        newValue = value - step;\n        break;\n      case 'PageUp':\n        e.preventDefault();\n        newValue = value + pageStep;\n        break;\n      case 'PageDown':\n        e.preventDefault();\n        newValue = value - pageStep;\n        break;\n      case 'Home':\n        e.preventDefault();\n        newValue = min;\n        break;\n      case 'End':\n        e.preventDefault();\n        newValue = max;\n        break;\n      default:\n        return;\n    }\n\n    handleChange(newValue);\n  };\n\n  // Handle drag\n  useEffect(() => {\n    if (!isDragging) return;\n\n    const handleMove = (clientX: number, clientY: number) => {\n      const currentAngle = calculateAngle(clientX, clientY);\n      let angleDiff = currentAngle - startAngleRef.current;\n\n      // Handle wrapping\n      if (angleDiff > 180) angleDiff -= 360;\n      if (angleDiff < -180) angleDiff += 360;\n\n      const valueRange = max - min;\n      const valueChange = (angleDiff / 360) * valueRange;\n      const newValue = startValueRef.current + valueChange;\n\n      handleChange(newValue);\n    };\n\n    const handleMouseMove = (e: MouseEvent) => {\n      handleMove(e.clientX, e.clientY);\n    };\n\n    const handleTouchMove = (e: TouchEvent) => {\n      e.preventDefault();\n      const touch = e.touches[0];\n      handleMove(touch.clientX, touch.clientY);\n    };\n\n    const handleEnd = () => {\n      setIsDragging(false);\n    };\n\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleEnd);\n    document.addEventListener('touchmove', handleTouchMove, { passive: false });\n    document.addEventListener('touchend', handleEnd);\n\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleEnd);\n      document.removeEventListener('touchmove', handleTouchMove);\n      document.removeEventListener('touchend', handleEnd);\n    };\n  }, [isDragging, max, min, handleChange]);\n\n  // Calculate SVG properties\n  const radius = 85;\n  const circumference = 2 * Math.PI * radius;\n  const percentage = (value - min) / (max - min);\n\n  // Configuration (matching original)\n  const startAngle = 135; // 7:30 position\n  const angleRange = 270; // 270 degrees rotation\n\n  // Calculate angle in degrees\n  const angleDeg = startAngle + (percentage * angleRange);\n\n  // Calculate progress arc\n  const maxArcLength = (angleRange / 360) * circumference;\n  const currentArcLength = maxArcLength * percentage;\n  const strokeDashoffset = circumference - currentArcLength;\n\n  // Calculate handle position using trigonometry (not transform)\n  const angleRad = (angleDeg * Math.PI) / 180;\n  const handleX = 100 + radius * Math.cos(angleRad);\n  const handleY = 100 + radius * Math.sin(angleRad);\n\n  const knobClasses = [\n    styles.knob,\n    size === 'sm' && styles['knob--sm'],\n    size === 'lg' && styles['knob--lg'],\n    styles[`knob--${variant}`],\n    disabled && styles['knob--disabled'],\n    readOnly && styles['knob--readonly'],\n    isDragging && styles['knob-dragging'],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div\n      ref={knobRef}\n      className={knobClasses}\n      onMouseDown={handleMouseDown}\n      onTouchStart={handleTouchStart}\n      onKeyDown={handleKeyDown}\n      role=\"slider\"\n      aria-valuenow={value}\n      aria-valuemin={min}\n      aria-valuemax={max}\n      aria-disabled={disabled}\n      aria-readonly={readOnly}\n      aria-label={label ? `${label} control` : 'Value control'}\n      tabIndex={disabled || readOnly ? -1 : 0}\n    >\n      <svg className={styles['knob-svg']} viewBox=\"0 0 200 200\">\n        {/* Track */}\n        <circle\n          className={styles['knob-track']}\n          cx=\"100\"\n          cy=\"100\"\n          r={radius}\n          fill=\"none\"\n          strokeWidth=\"12\"\n        />\n\n        {/* Progress */}\n        <circle\n          className={styles['knob-progress']}\n          cx=\"100\"\n          cy=\"100\"\n          r={radius}\n          fill=\"none\"\n          strokeWidth=\"12\"\n          strokeLinecap=\"round\"\n          strokeDasharray={`${circumference} ${circumference}`}\n          strokeDashoffset={strokeDashoffset}\n          style={{\n            transformOrigin: 'center',\n            transform: `rotate(${startAngle}deg)`\n          }}\n        />\n\n        {/* Handle (draggable pointer) */}\n        {showIndicator && (\n          <circle\n            className={styles['knob-handle']}\n            cx={handleX}\n            cy={handleY}\n            r=\"8\"\n          />\n        )}\n\n        {/* Value */}\n        <text\n          className={styles['knob-value']}\n          x=\"100\"\n          y={label ? \"95\" : \"100\"}\n          textAnchor=\"middle\"\n          dominantBaseline=\"middle\"\n        >\n          {formatValue(value)}\n        </text>\n\n        {/* Label */}\n        {label && (\n          <text\n            className={styles['knob-label']}\n            x=\"100\"\n            y=\"120\"\n            textAnchor=\"middle\"\n            dominantBaseline=\"middle\"\n          >\n            {label}\n          </text>\n        )}\n\n        {/* Min/Max Labels */}\n        {showLabels && (\n          <>\n            <text\n              className={styles['knob-min-label']}\n              x=\"30\"\n              y=\"175\"\n              textAnchor=\"middle\"\n            >\n              {min}\n            </text>\n            <text\n              className={styles['knob-max-label']}\n              x=\"170\"\n              y=\"175\"\n              textAnchor=\"middle\"\n            >\n              {max}\n            </text>\n          </>\n        )}\n      </svg>\n    </div>\n  );\n};\n","import React from 'react';\nimport styles from './Card.module.css';\n\n// ===== Types =====\n\nexport interface CardProps {\n  children: React.ReactNode;\n  variant?: 'default' | 'elevated' | 'outlined';\n  hoverable?: boolean;\n  selectable?: boolean;\n  selected?: boolean;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface CardHeaderProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface CardTitleProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface CardMediaProps {\n  children?: React.ReactNode;\n  image?: string;\n  alt?: string;\n  height?: string | number;\n  className?: string;\n}\n\nexport interface CardContentProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface CardFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\n// ===== Card Header =====\n\nconst CardHeader: React.FC<CardHeaderProps> = ({ children, className = '' }) => {\n  return <div className={`${styles.cardHeader} ${className}`}>{children}</div>;\n};\n\n// ===== Card Title =====\n\nconst CardTitle: React.FC<CardTitleProps> = ({ children, className = '' }) => {\n  return <h3 className={`${styles.cardTitle} ${className}`}>{children}</h3>;\n};\n\n// ===== Card Media =====\n\nconst CardMedia: React.FC<CardMediaProps> = ({\n  children,\n  image,\n  alt = '',\n  height = '160px',\n  className = '',\n}) => {\n  const mediaStyle = {\n    height: typeof height === 'number' ? `${height}px` : height,\n  };\n\n  return (\n    <div className={`${styles.cardMedia} ${className}`} style={mediaStyle}>\n      {image ? <img src={image} alt={alt} /> : children}\n    </div>\n  );\n};\n\n// ===== Card Content =====\n\nconst CardContent: React.FC<CardContentProps> = ({ children, className = '' }) => {\n  return <div className={`${styles.cardContent} ${className}`}>{children}</div>;\n};\n\n// ===== Card Footer =====\n\nconst CardFooter: React.FC<CardFooterProps> = ({ children, className = '' }) => {\n  return <div className={`${styles.cardFooter} ${className}`}>{children}</div>;\n};\n\n// ===== Main Card Component =====\n\nconst Card: React.FC<CardProps> & {\n  Header: typeof CardHeader;\n  Title: typeof CardTitle;\n  Media: typeof CardMedia;\n  Content: typeof CardContent;\n  Footer: typeof CardFooter;\n} = ({\n  children,\n  variant = 'default',\n  hoverable = false,\n  selectable = false,\n  selected = false,\n  onClick,\n  className = '',\n}) => {\n  const cardClasses = [\n    styles.card,\n    variant === 'elevated' && styles.cardElevated,\n    variant === 'outlined' && styles.cardOutlined,\n    hoverable && styles.cardHoverable,\n    selectable && styles.cardSelectable,\n    selected && styles.cardSelected,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const handleClick = () => {\n    if ((selectable || hoverable) && onClick) {\n      onClick();\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if ((selectable || hoverable) && onClick && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault();\n      onClick();\n    }\n  };\n\n  return (\n    <div\n      className={cardClasses}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      tabIndex={(selectable || hoverable) && onClick ? 0 : undefined}\n      role={(selectable || hoverable) && onClick ? 'button' : undefined}\n      aria-pressed={selectable ? selected : undefined}\n    >\n      {children}\n    </div>\n  );\n};\n\n// Attach sub-components\nCard.Header = CardHeader;\nCard.Title = CardTitle;\nCard.Media = CardMedia;\nCard.Content = CardContent;\nCard.Footer = CardFooter;\n\nexport { Card };\n","import React from 'react';\nimport { Inbox } from 'lucide-react';\nimport styles from './List.module.css';\n\n// ===== Types =====\n\nexport interface ListProps {\n  children: React.ReactNode;\n  variant?: 'default' | 'compact' | 'divided';\n  className?: string;\n}\n\nexport interface ListItemProps {\n  children: React.ReactNode;\n  interactive?: boolean;\n  onClick?: () => void;\n  href?: string;\n  className?: string;\n}\n\nexport interface ListEmptyStateProps {\n  icon?: React.ReactNode;\n  title: string;\n  description?: string;\n  action?: React.ReactNode;\n  className?: string;\n}\n\n// ===== List Item =====\n\nconst ListItem: React.FC<ListItemProps> = ({\n  children,\n  interactive = false,\n  onClick,\n  href,\n  className = '',\n}) => {\n  const classes = [\n    styles.listItem,\n    interactive && styles.listItemInteractive,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (onClick && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault();\n      onClick();\n    }\n  };\n\n  // Render as link if href is provided\n  if (href) {\n    return (\n      <a\n        href={href}\n        className={classes}\n        onClick={onClick}\n        onKeyDown={handleKeyDown}\n      >\n        {children}\n      </a>\n    );\n  }\n\n  // Render as button if onClick is provided and no href\n  if (onClick) {\n    return (\n      <div\n        className={classes}\n        onClick={onClick}\n        onKeyDown={handleKeyDown}\n        role=\"button\"\n        tabIndex={0}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  // Render as plain div\n  return <div className={classes}>{children}</div>;\n};\n\n// ===== List Empty State =====\n\nconst ListEmptyState: React.FC<ListEmptyStateProps> = ({\n  icon = <Inbox size={48} />,\n  title,\n  description,\n  action,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.emptyState} ${className}`}>\n      <div className={styles.emptyStateIcon}>{icon}</div>\n      <div className={styles.emptyStateTitle}>{title}</div>\n      {description && (\n        <div className={styles.emptyStateDescription}>{description}</div>\n      )}\n      {action && <div className={styles.emptyStateAction}>{action}</div>}\n    </div>\n  );\n};\n\n// ===== Main List Component =====\n\nconst List: React.FC<ListProps> & {\n  Item: typeof ListItem;\n  EmptyState: typeof ListEmptyState;\n} = ({ children, variant = 'default', className = '' }) => {\n  const listClasses = [\n    styles.list,\n    variant === 'compact' && styles.listCompact,\n    variant === 'divided' && styles.listDivided,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return <div className={listClasses}>{children}</div>;\n};\n\n// Attach sub-components\nList.Item = ListItem;\nList.EmptyState = ListEmptyState;\n\nexport { List };\n","import React, { useState, createContext, useContext, memo, useMemo, useCallback, type ReactNode } from 'react';\nimport { ChevronRight } from 'lucide-react';\nimport styles from './Table.module.css';\n\n// ===== Types =====\n\nexport type SortDirection = 'asc' | 'desc' | null;\n\nexport interface TableContextValue {\n  striped?: boolean;\n  compact?: boolean;\n  stickyHeader?: boolean;\n  loading?: boolean;\n}\n\nexport interface TableProps {\n  children: ReactNode;\n  striped?: boolean;\n  compact?: boolean;\n  stickyHeader?: boolean;\n  loading?: boolean;\n  className?: string;\n}\n\nexport interface TableHeadProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport interface TableBodyProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport interface TableRowProps {\n  children: ReactNode;\n  selected?: boolean;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface TableCellProps {\n  children: ReactNode;\n  width?: string;\n  align?: 'left' | 'center' | 'right';\n  className?: string;\n}\n\nexport interface TableHeaderCellProps {\n  children: ReactNode;\n  sortable?: boolean;\n  sortDirection?: SortDirection;\n  onSort?: () => void;\n  width?: string;\n  align?: 'left' | 'center' | 'right';\n  className?: string;\n}\n\nexport interface ExpandableRowProps {\n  children: ReactNode;\n  expandedContent: ReactNode;\n  defaultExpanded?: boolean;\n  className?: string;\n}\n\nexport interface TableEmptyStateProps {\n  icon?: ReactNode;\n  title: string;\n  description?: string;\n  action?: ReactNode;\n}\n\n// ===== Context =====\n\nconst TableContext = createContext<TableContextValue>({});\n\nconst useTableContext = () => useContext(TableContext);\n\n// ===== Skeleton Row Component =====\n\nconst SkeletonRow = memo<{ cellCount: number }>(({ cellCount }) => (\n  <tr>\n    {Array.from({ length: cellCount }).map((_, cellIndex) => (\n      <td key={`skeleton-cell-${cellIndex}`}>\n        <div className={styles.skeleton}>\n          <div className={styles.skeletonText} />\n        </div>\n      </td>\n    ))}\n  </tr>\n));\n\nSkeletonRow.displayName = 'Table.SkeletonRow';\n\n// ===== Table Container =====\n\nconst TableContainer = memo<{ children: ReactNode; className?: string }>(({\n  children,\n  className = '',\n}) => {\n  return <div className={`${styles.tableContainer} ${className}`}>{children}</div>;\n});\n\nTableContainer.displayName = 'Table.Container';\n\n// ===== Table Wrapper =====\n\nconst TableWrapper = memo<{ children: ReactNode; className?: string }>(({\n  children,\n  className = '',\n}) => {\n  return <div className={`${styles.tableWrapper} ${className}`}>{children}</div>;\n});\n\nTableWrapper.displayName = 'Table.Wrapper';\n\n// ===== Table Head =====\n\nconst TableHead = memo<TableHeadProps>(({ children, className = '' }) => {\n  return <thead className={className}>{children}</thead>;\n});\n\nTableHead.displayName = 'Table.Head';\n\n// ===== Table Body =====\n\nconst TableBody = memo<TableBodyProps>(({ children, className = '' }) => {\n  const { loading } = useTableContext();\n\n  if (loading) {\n    return (\n      <tbody className={className}>\n        {Array.from({ length: 5 }).map((_, index) => (\n          <SkeletonRow key={`skeleton-row-${index}`} cellCount={5} />\n        ))}\n      </tbody>\n    );\n  }\n\n  return <tbody className={className}>{children}</tbody>;\n});\n\nTableBody.displayName = 'Table.Body';\n\n// ===== Table Row =====\n\nconst TableRow = memo<TableRowProps>(({\n  children,\n  selected = false,\n  onClick,\n  className = '',\n}) => {\n  const rowClasses = useMemo(() =>\n    [styles.row, selected && styles.selected, className]\n      .filter(Boolean)\n      .join(' '),\n    [selected, className]\n  );\n\n  return (\n    <tr className={rowClasses} onClick={onClick}>\n      {children}\n    </tr>\n  );\n});\n\nTableRow.displayName = 'Table.Row';\n\n// ===== Table Cell =====\n\nconst TableCell = memo<TableCellProps>(({\n  children,\n  width,\n  align = 'left',\n  className = '',\n}) => {\n  const style = useMemo(() => ({\n    width,\n    textAlign: align as React.CSSProperties['textAlign'],\n  }), [width, align]);\n\n  return (\n    <td className={className} style={style}>\n      {children}\n    </td>\n  );\n});\n\nTableCell.displayName = 'Table.Cell';\n\n// ===== Table Header Cell =====\n\nconst TableHeaderCell = memo<TableHeaderCellProps>(({\n  children,\n  sortable = false,\n  sortDirection = null,\n  onSort,\n  width,\n  align = 'left',\n  className = '',\n}) => {\n  const sortClass = sortDirection === 'asc' ? styles.asc : sortDirection === 'desc' ? styles.desc : '';\n\n  const headerClasses = useMemo(() =>\n    [sortable && styles.sortable, sortClass, className]\n      .filter(Boolean)\n      .join(' '),\n    [sortable, sortClass, className]\n  );\n\n  const style = useMemo(() => ({\n    width,\n    textAlign: align as React.CSSProperties['textAlign'],\n  }), [width, align]);\n\n  const handleClick = useCallback(() => {\n    if (sortable && onSort) {\n      onSort();\n    }\n  }, [sortable, onSort]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (sortable && onSort && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault();\n      onSort();\n    }\n  }, [sortable, onSort]);\n\n  return (\n    <th\n      className={headerClasses}\n      style={style}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      tabIndex={sortable ? 0 : undefined}\n      role={sortable ? 'button' : undefined}\n      aria-sort={\n        sortDirection === 'asc'\n          ? 'ascending'\n          : sortDirection === 'desc'\n          ? 'descending'\n          : undefined\n      }\n    >\n      {children}\n    </th>\n  );\n});\n\nTableHeaderCell.displayName = 'Table.HeaderCell';\n\n// ===== Expandable Row =====\n\nconst ExpandableRow = memo<ExpandableRowProps>(({\n  children,\n  expandedContent,\n  defaultExpanded = false,\n  className = '',\n}) => {\n  const [isExpanded, setIsExpanded] = useState(defaultExpanded);\n\n  const toggleExpand = useCallback(() => {\n    setIsExpanded(prev => !prev);\n  }, []);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      setIsExpanded(prev => !prev);\n    }\n  }, []);\n\n  const rowClassName = useMemo(() =>\n    `${styles.expandableRow} ${className}`,\n    [className]\n  );\n\n  return (\n    <>\n      <tr className={rowClassName}>\n        <td className={styles.expandBtnCell}>\n          <button\n            className={styles.expandBtn}\n            onClick={toggleExpand}\n            onKeyDown={handleKeyDown}\n            aria-label={isExpanded ? 'Collapse row' : 'Expand row'}\n            aria-expanded={isExpanded}\n          >\n            <ChevronRight size={16} className={styles.chevronIcon} />\n          </button>\n        </td>\n        {children}\n      </tr>\n      {isExpanded && (\n        <tr className={styles.expandedContent}>\n          <td colSpan={100}>\n            <div className={styles.expandedDetails}>{expandedContent}</div>\n          </td>\n        </tr>\n      )}\n    </>\n  );\n});\n\nExpandableRow.displayName = 'Table.ExpandableRow';\n\n// ===== Empty State =====\n\nconst TableEmptyState = memo<TableEmptyStateProps>(({ icon, title, description, action }) => {\n  return (\n    <div className={styles.tableEmptyState}>\n      <div className={styles.emptyStateContent}>\n        {icon && <div className={styles.emptyStateIcon}>{icon}</div>}\n        <h3 className={styles.emptyStateTitle}>{title}</h3>\n        {description && <p className={styles.emptyStateDescription}>{description}</p>}\n        {action && <div className={styles.emptyStateAction}>{action}</div>}\n      </div>\n    </div>\n  );\n});\n\nTableEmptyState.displayName = 'Table.EmptyState';\n\n// ===== Main Table =====\n\nconst Table: React.FC<TableProps> & {\n  Container: typeof TableContainer;\n  Wrapper: typeof TableWrapper;\n  Head: typeof TableHead;\n  Body: typeof TableBody;\n  Row: typeof TableRow;\n  Cell: typeof TableCell;\n  HeaderCell: typeof TableHeaderCell;\n  ExpandableRow: typeof ExpandableRow;\n  EmptyState: typeof TableEmptyState;\n} = ({\n  children,\n  striped = false,\n  compact = false,\n  stickyHeader = false,\n  loading = false,\n  className = '',\n}) => {\n  const tableClasses = useMemo(() =>\n    [\n      styles.table,\n      striped && styles.tableStriped,\n      compact && styles.tableCompact,\n      stickyHeader && styles.tableSticky,\n      loading && styles.tableLoading,\n      className,\n    ]\n      .filter(Boolean)\n      .join(' '),\n    [striped, compact, stickyHeader, loading, className]\n  );\n\n  const contextValue = useMemo(() => ({\n    striped,\n    compact,\n    stickyHeader,\n    loading,\n  }), [striped, compact, stickyHeader, loading]);\n\n  return (\n    <TableContext.Provider value={contextValue}>\n      <table className={tableClasses}>{children}</table>\n    </TableContext.Provider>\n  );\n};\n\n// Attach sub-components\nTable.Container = TableContainer;\nTable.Wrapper = TableWrapper;\nTable.Head = TableHead;\nTable.Body = TableBody;\nTable.Row = TableRow;\nTable.Cell = TableCell;\nTable.HeaderCell = TableHeaderCell;\nTable.ExpandableRow = ExpandableRow;\nTable.EmptyState = TableEmptyState;\n\nTable.displayName = 'Table';\n\nexport { Table };\n","/**\n   * table-core\n   *\n   * Copyright (c) TanStack\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE.md file in the root directory of this source tree.\n   *\n   * @license MIT\n   */\n// type Person = {\n//   firstName: string\n//   lastName: string\n//   age: number\n//   visits: number\n//   status: string\n//   progress: number\n//   createdAt: Date\n//   nested: {\n//     foo: [\n//       {\n//         bar: 'bar'\n//       }\n//     ]\n//     bar: { subBar: boolean }[]\n//     baz: {\n//       foo: 'foo'\n//       bar: {\n//         baz: 'baz'\n//       }\n//     }\n//   }\n// }\n\n// const test: DeepKeys<Person> = 'nested.foo.0.bar'\n// const test2: DeepKeys<Person> = 'nested.bar'\n\n// const helper = createColumnHelper<Person>()\n\n// helper.accessor('nested.foo', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.foo.0.bar', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.bar', {\n//   cell: info => info.getValue(),\n// })\n\nfunction createColumnHelper() {\n  return {\n    accessor: (accessor, column) => {\n      return typeof accessor === 'function' ? {\n        ...column,\n        accessorFn: accessor\n      } : {\n        ...column,\n        accessorKey: accessor\n      };\n    },\n    display: column => column,\n    group: column => column\n  };\n}\n\n// Is this type a tuple?\n\n// If this type is a tuple, what indices are allowed?\n\n///\n\nfunction functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nfunction noop() {\n  //\n}\nfunction makeStateUpdater(key, instance) {\n  return updater => {\n    instance.setState(old => {\n      return {\n        ...old,\n        [key]: functionalUpdate(updater, old[key])\n      };\n    });\n  };\n}\nfunction isFunction(d) {\n  return d instanceof Function;\n}\nfunction isNumberArray(d) {\n  return Array.isArray(d) && d.every(val => typeof val === 'number');\n}\nfunction flattenBy(arr, getChildren) {\n  const flat = [];\n  const recurse = subArr => {\n    subArr.forEach(item => {\n      flat.push(item);\n      const children = getChildren(item);\n      if (children != null && children.length) {\n        recurse(children);\n      }\n    });\n  };\n  recurse(arr);\n  return flat;\n}\nfunction memo(getDeps, fn, opts) {\n  let deps = [];\n  let result;\n  return depArgs => {\n    let depTime;\n    if (opts.key && opts.debug) depTime = Date.now();\n    const newDeps = getDeps(depArgs);\n    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    let resultTime;\n    if (opts.key && opts.debug) resultTime = Date.now();\n    result = fn(...newDeps);\n    opts == null || opts.onChange == null || opts.onChange(result);\n    if (opts.key && opts.debug) {\n      if (opts != null && opts.debug()) {\n        const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n        const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n        const resultFpsPercentage = resultEndTime / 16;\n        const pad = (str, num) => {\n          str = String(str);\n          while (str.length < num) {\n            str = ' ' + str;\n          }\n          return str;\n        };\n        console.info(`%c ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`, `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0, Math.min(120 - 120 * resultFpsPercentage, 120))}deg 100% 31%);`, opts == null ? void 0 : opts.key);\n      }\n    }\n    return result;\n  };\n}\nfunction getMemoOptions(tableOptions, debugLevel, key, onChange) {\n  return {\n    debug: () => {\n      var _tableOptions$debugAl;\n      return (_tableOptions$debugAl = tableOptions == null ? void 0 : tableOptions.debugAll) != null ? _tableOptions$debugAl : tableOptions[debugLevel];\n    },\n    key: process.env.NODE_ENV === 'development' && key,\n    onChange\n  };\n}\n\nfunction createCell(table, row, column, columnId) {\n  const getRenderValue = () => {\n    var _cell$getValue;\n    return (_cell$getValue = cell.getValue()) != null ? _cell$getValue : table.options.renderFallbackValue;\n  };\n  const cell = {\n    id: `${row.id}_${column.id}`,\n    row,\n    column,\n    getValue: () => row.getValue(columnId),\n    renderValue: getRenderValue,\n    getContext: memo(() => [table, column, row, cell], (table, column, row, cell) => ({\n      table,\n      column,\n      row,\n      cell: cell,\n      getValue: cell.getValue,\n      renderValue: cell.renderValue\n    }), getMemoOptions(table.options, 'debugCells', 'cell.getContext'))\n  };\n  table._features.forEach(feature => {\n    feature.createCell == null || feature.createCell(cell, column, row, table);\n  }, {});\n  return cell;\n}\n\nfunction createColumn(table, columnDef, depth, parent) {\n  var _ref, _resolvedColumnDef$id;\n  const defaultColumn = table._getDefaultColumnDef();\n  const resolvedColumnDef = {\n    ...defaultColumn,\n    ...columnDef\n  };\n  const accessorKey = resolvedColumnDef.accessorKey;\n  let id = (_ref = (_resolvedColumnDef$id = resolvedColumnDef.id) != null ? _resolvedColumnDef$id : accessorKey ? typeof String.prototype.replaceAll === 'function' ? accessorKey.replaceAll('.', '_') : accessorKey.replace(/\\./g, '_') : undefined) != null ? _ref : typeof resolvedColumnDef.header === 'string' ? resolvedColumnDef.header : undefined;\n  let accessorFn;\n  if (resolvedColumnDef.accessorFn) {\n    accessorFn = resolvedColumnDef.accessorFn;\n  } else if (accessorKey) {\n    // Support deep accessor keys\n    if (accessorKey.includes('.')) {\n      accessorFn = originalRow => {\n        let result = originalRow;\n        for (const key of accessorKey.split('.')) {\n          var _result;\n          result = (_result = result) == null ? void 0 : _result[key];\n          if (process.env.NODE_ENV !== 'production' && result === undefined) {\n            console.warn(`\"${key}\" in deeply nested key \"${accessorKey}\" returned undefined.`);\n          }\n        }\n        return result;\n      };\n    } else {\n      accessorFn = originalRow => originalRow[resolvedColumnDef.accessorKey];\n    }\n  }\n  if (!id) {\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error(resolvedColumnDef.accessorFn ? `Columns require an id when using an accessorFn` : `Columns require an id when using a non-string header`);\n    }\n    throw new Error();\n  }\n  let column = {\n    id: `${String(id)}`,\n    accessorFn,\n    parent: parent,\n    depth,\n    columnDef: resolvedColumnDef,\n    columns: [],\n    getFlatColumns: memo(() => [true], () => {\n      var _column$columns;\n      return [column, ...((_column$columns = column.columns) == null ? void 0 : _column$columns.flatMap(d => d.getFlatColumns()))];\n    }, getMemoOptions(table.options, 'debugColumns', 'column.getFlatColumns')),\n    getLeafColumns: memo(() => [table._getOrderColumnsFn()], orderColumns => {\n      var _column$columns2;\n      if ((_column$columns2 = column.columns) != null && _column$columns2.length) {\n        let leafColumns = column.columns.flatMap(column => column.getLeafColumns());\n        return orderColumns(leafColumns);\n      }\n      return [column];\n    }, getMemoOptions(table.options, 'debugColumns', 'column.getLeafColumns'))\n  };\n  for (const feature of table._features) {\n    feature.createColumn == null || feature.createColumn(column, table);\n  }\n\n  // Yes, we have to convert table to unknown, because we know more than the compiler here.\n  return column;\n}\n\nconst debug = 'debugHeaders';\n//\n\nfunction createHeader(table, column, options) {\n  var _options$id;\n  const id = (_options$id = options.id) != null ? _options$id : column.id;\n  let header = {\n    id,\n    column,\n    index: options.index,\n    isPlaceholder: !!options.isPlaceholder,\n    placeholderId: options.placeholderId,\n    depth: options.depth,\n    subHeaders: [],\n    colSpan: 0,\n    rowSpan: 0,\n    headerGroup: null,\n    getLeafHeaders: () => {\n      const leafHeaders = [];\n      const recurseHeader = h => {\n        if (h.subHeaders && h.subHeaders.length) {\n          h.subHeaders.map(recurseHeader);\n        }\n        leafHeaders.push(h);\n      };\n      recurseHeader(header);\n      return leafHeaders;\n    },\n    getContext: () => ({\n      table,\n      header: header,\n      column\n    })\n  };\n  table._features.forEach(feature => {\n    feature.createHeader == null || feature.createHeader(header, table);\n  });\n  return header;\n}\nconst Headers = {\n  createTable: table => {\n    // Header Groups\n\n    table.getHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {\n      var _left$map$filter, _right$map$filter;\n      const leftColumns = (_left$map$filter = left == null ? void 0 : left.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter : [];\n      const rightColumns = (_right$map$filter = right == null ? void 0 : right.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter : [];\n      const centerColumns = leafColumns.filter(column => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));\n      const headerGroups = buildHeaderGroups(allColumns, [...leftColumns, ...centerColumns, ...rightColumns], table);\n      return headerGroups;\n    }, getMemoOptions(table.options, debug, 'getHeaderGroups'));\n    table.getCenterHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {\n      leafColumns = leafColumns.filter(column => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));\n      return buildHeaderGroups(allColumns, leafColumns, table, 'center');\n    }, getMemoOptions(table.options, debug, 'getCenterHeaderGroups'));\n    table.getLeftHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left], (allColumns, leafColumns, left) => {\n      var _left$map$filter2;\n      const orderedLeafColumns = (_left$map$filter2 = left == null ? void 0 : left.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter2 : [];\n      return buildHeaderGroups(allColumns, orderedLeafColumns, table, 'left');\n    }, getMemoOptions(table.options, debug, 'getLeftHeaderGroups'));\n    table.getRightHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.right], (allColumns, leafColumns, right) => {\n      var _right$map$filter2;\n      const orderedLeafColumns = (_right$map$filter2 = right == null ? void 0 : right.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter2 : [];\n      return buildHeaderGroups(allColumns, orderedLeafColumns, table, 'right');\n    }, getMemoOptions(table.options, debug, 'getRightHeaderGroups'));\n\n    // Footer Groups\n\n    table.getFooterGroups = memo(() => [table.getHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getFooterGroups'));\n    table.getLeftFooterGroups = memo(() => [table.getLeftHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getLeftFooterGroups'));\n    table.getCenterFooterGroups = memo(() => [table.getCenterHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getCenterFooterGroups'));\n    table.getRightFooterGroups = memo(() => [table.getRightHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getRightFooterGroups'));\n\n    // Flat Headers\n\n    table.getFlatHeaders = memo(() => [table.getHeaderGroups()], headerGroups => {\n      return headerGroups.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getFlatHeaders'));\n    table.getLeftFlatHeaders = memo(() => [table.getLeftHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getLeftFlatHeaders'));\n    table.getCenterFlatHeaders = memo(() => [table.getCenterHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getCenterFlatHeaders'));\n    table.getRightFlatHeaders = memo(() => [table.getRightHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getRightFlatHeaders'));\n\n    // Leaf Headers\n\n    table.getCenterLeafHeaders = memo(() => [table.getCenterFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders;\n        return !((_header$subHeaders = header.subHeaders) != null && _header$subHeaders.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getCenterLeafHeaders'));\n    table.getLeftLeafHeaders = memo(() => [table.getLeftFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders2;\n        return !((_header$subHeaders2 = header.subHeaders) != null && _header$subHeaders2.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getLeftLeafHeaders'));\n    table.getRightLeafHeaders = memo(() => [table.getRightFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders3;\n        return !((_header$subHeaders3 = header.subHeaders) != null && _header$subHeaders3.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getRightLeafHeaders'));\n    table.getLeafHeaders = memo(() => [table.getLeftHeaderGroups(), table.getCenterHeaderGroups(), table.getRightHeaderGroups()], (left, center, right) => {\n      var _left$0$headers, _left$, _center$0$headers, _center$, _right$0$headers, _right$;\n      return [...((_left$0$headers = (_left$ = left[0]) == null ? void 0 : _left$.headers) != null ? _left$0$headers : []), ...((_center$0$headers = (_center$ = center[0]) == null ? void 0 : _center$.headers) != null ? _center$0$headers : []), ...((_right$0$headers = (_right$ = right[0]) == null ? void 0 : _right$.headers) != null ? _right$0$headers : [])].map(header => {\n        return header.getLeafHeaders();\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getLeafHeaders'));\n  }\n};\nfunction buildHeaderGroups(allColumns, columnsToGroup, table, headerFamily) {\n  var _headerGroups$0$heade, _headerGroups$;\n  // Find the max depth of the columns:\n  // build the leaf column row\n  // build each buffer row going up\n  //    placeholder for non-existent level\n  //    real column for existing level\n\n  let maxDepth = 0;\n  const findMaxDepth = function (columns, depth) {\n    if (depth === void 0) {\n      depth = 1;\n    }\n    maxDepth = Math.max(maxDepth, depth);\n    columns.filter(column => column.getIsVisible()).forEach(column => {\n      var _column$columns;\n      if ((_column$columns = column.columns) != null && _column$columns.length) {\n        findMaxDepth(column.columns, depth + 1);\n      }\n    }, 0);\n  };\n  findMaxDepth(allColumns);\n  let headerGroups = [];\n  const createHeaderGroup = (headersToGroup, depth) => {\n    // The header group we are creating\n    const headerGroup = {\n      depth,\n      id: [headerFamily, `${depth}`].filter(Boolean).join('_'),\n      headers: []\n    };\n\n    // The parent columns we're going to scan next\n    const pendingParentHeaders = [];\n\n    // Scan each column for parents\n    headersToGroup.forEach(headerToGroup => {\n      // What is the latest (last) parent column?\n\n      const latestPendingParentHeader = [...pendingParentHeaders].reverse()[0];\n      const isLeafHeader = headerToGroup.column.depth === headerGroup.depth;\n      let column;\n      let isPlaceholder = false;\n      if (isLeafHeader && headerToGroup.column.parent) {\n        // The parent header is new\n        column = headerToGroup.column.parent;\n      } else {\n        // The parent header is repeated\n        column = headerToGroup.column;\n        isPlaceholder = true;\n      }\n      if (latestPendingParentHeader && (latestPendingParentHeader == null ? void 0 : latestPendingParentHeader.column) === column) {\n        // This column is repeated. Add it as a sub header to the next batch\n        latestPendingParentHeader.subHeaders.push(headerToGroup);\n      } else {\n        // This is a new header. Let's create it\n        const header = createHeader(table, column, {\n          id: [headerFamily, depth, column.id, headerToGroup == null ? void 0 : headerToGroup.id].filter(Boolean).join('_'),\n          isPlaceholder,\n          placeholderId: isPlaceholder ? `${pendingParentHeaders.filter(d => d.column === column).length}` : undefined,\n          depth,\n          index: pendingParentHeaders.length\n        });\n\n        // Add the headerToGroup as a subHeader of the new header\n        header.subHeaders.push(headerToGroup);\n        // Add the new header to the pendingParentHeaders to get grouped\n        // in the next batch\n        pendingParentHeaders.push(header);\n      }\n      headerGroup.headers.push(headerToGroup);\n      headerToGroup.headerGroup = headerGroup;\n    });\n    headerGroups.push(headerGroup);\n    if (depth > 0) {\n      createHeaderGroup(pendingParentHeaders, depth - 1);\n    }\n  };\n  const bottomHeaders = columnsToGroup.map((column, index) => createHeader(table, column, {\n    depth: maxDepth,\n    index\n  }));\n  createHeaderGroup(bottomHeaders, maxDepth - 1);\n  headerGroups.reverse();\n\n  // headerGroups = headerGroups.filter(headerGroup => {\n  //   return !headerGroup.headers.every(header => header.isPlaceholder)\n  // })\n\n  const recurseHeadersForSpans = headers => {\n    const filteredHeaders = headers.filter(header => header.column.getIsVisible());\n    return filteredHeaders.map(header => {\n      let colSpan = 0;\n      let rowSpan = 0;\n      let childRowSpans = [0];\n      if (header.subHeaders && header.subHeaders.length) {\n        childRowSpans = [];\n        recurseHeadersForSpans(header.subHeaders).forEach(_ref => {\n          let {\n            colSpan: childColSpan,\n            rowSpan: childRowSpan\n          } = _ref;\n          colSpan += childColSpan;\n          childRowSpans.push(childRowSpan);\n        });\n      } else {\n        colSpan = 1;\n      }\n      const minChildRowSpan = Math.min(...childRowSpans);\n      rowSpan = rowSpan + minChildRowSpan;\n      header.colSpan = colSpan;\n      header.rowSpan = rowSpan;\n      return {\n        colSpan,\n        rowSpan\n      };\n    });\n  };\n  recurseHeadersForSpans((_headerGroups$0$heade = (_headerGroups$ = headerGroups[0]) == null ? void 0 : _headerGroups$.headers) != null ? _headerGroups$0$heade : []);\n  return headerGroups;\n}\n\nconst createRow = (table, id, original, rowIndex, depth, subRows, parentId) => {\n  let row = {\n    id,\n    index: rowIndex,\n    original,\n    depth,\n    parentId,\n    _valuesCache: {},\n    _uniqueValuesCache: {},\n    getValue: columnId => {\n      if (row._valuesCache.hasOwnProperty(columnId)) {\n        return row._valuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.accessorFn)) {\n        return undefined;\n      }\n      row._valuesCache[columnId] = column.accessorFn(row.original, rowIndex);\n      return row._valuesCache[columnId];\n    },\n    getUniqueValues: columnId => {\n      if (row._uniqueValuesCache.hasOwnProperty(columnId)) {\n        return row._uniqueValuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.accessorFn)) {\n        return undefined;\n      }\n      if (!column.columnDef.getUniqueValues) {\n        row._uniqueValuesCache[columnId] = [row.getValue(columnId)];\n        return row._uniqueValuesCache[columnId];\n      }\n      row._uniqueValuesCache[columnId] = column.columnDef.getUniqueValues(row.original, rowIndex);\n      return row._uniqueValuesCache[columnId];\n    },\n    renderValue: columnId => {\n      var _row$getValue;\n      return (_row$getValue = row.getValue(columnId)) != null ? _row$getValue : table.options.renderFallbackValue;\n    },\n    subRows: subRows != null ? subRows : [],\n    getLeafRows: () => flattenBy(row.subRows, d => d.subRows),\n    getParentRow: () => row.parentId ? table.getRow(row.parentId, true) : undefined,\n    getParentRows: () => {\n      let parentRows = [];\n      let currentRow = row;\n      while (true) {\n        const parentRow = currentRow.getParentRow();\n        if (!parentRow) break;\n        parentRows.push(parentRow);\n        currentRow = parentRow;\n      }\n      return parentRows.reverse();\n    },\n    getAllCells: memo(() => [table.getAllLeafColumns()], leafColumns => {\n      return leafColumns.map(column => {\n        return createCell(table, row, column, column.id);\n      });\n    }, getMemoOptions(table.options, 'debugRows', 'getAllCells')),\n    _getAllCellsByColumnId: memo(() => [row.getAllCells()], allCells => {\n      return allCells.reduce((acc, cell) => {\n        acc[cell.column.id] = cell;\n        return acc;\n      }, {});\n    }, getMemoOptions(table.options, 'debugRows', 'getAllCellsByColumnId'))\n  };\n  for (let i = 0; i < table._features.length; i++) {\n    const feature = table._features[i];\n    feature == null || feature.createRow == null || feature.createRow(row, table);\n  }\n  return row;\n};\n\n//\n\nconst ColumnFaceting = {\n  createColumn: (column, table) => {\n    column._getFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, column.id);\n    column.getFacetedRowModel = () => {\n      if (!column._getFacetedRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return column._getFacetedRowModel();\n    };\n    column._getFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, column.id);\n    column.getFacetedUniqueValues = () => {\n      if (!column._getFacetedUniqueValues) {\n        return new Map();\n      }\n      return column._getFacetedUniqueValues();\n    };\n    column._getFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, column.id);\n    column.getFacetedMinMaxValues = () => {\n      if (!column._getFacetedMinMaxValues) {\n        return undefined;\n      }\n      return column._getFacetedMinMaxValues();\n    };\n  }\n};\n\nconst includesString = (row, columnId, filterValue) => {\n  var _filterValue$toString, _row$getValue;\n  const search = filterValue == null || (_filterValue$toString = filterValue.toString()) == null ? void 0 : _filterValue$toString.toLowerCase();\n  return Boolean((_row$getValue = row.getValue(columnId)) == null || (_row$getValue = _row$getValue.toString()) == null || (_row$getValue = _row$getValue.toLowerCase()) == null ? void 0 : _row$getValue.includes(search));\n};\nincludesString.autoRemove = val => testFalsey(val);\nconst includesStringSensitive = (row, columnId, filterValue) => {\n  var _row$getValue2;\n  return Boolean((_row$getValue2 = row.getValue(columnId)) == null || (_row$getValue2 = _row$getValue2.toString()) == null ? void 0 : _row$getValue2.includes(filterValue));\n};\nincludesStringSensitive.autoRemove = val => testFalsey(val);\nconst equalsString = (row, columnId, filterValue) => {\n  var _row$getValue3;\n  return ((_row$getValue3 = row.getValue(columnId)) == null || (_row$getValue3 = _row$getValue3.toString()) == null ? void 0 : _row$getValue3.toLowerCase()) === (filterValue == null ? void 0 : filterValue.toLowerCase());\n};\nequalsString.autoRemove = val => testFalsey(val);\nconst arrIncludes = (row, columnId, filterValue) => {\n  var _row$getValue4;\n  return (_row$getValue4 = row.getValue(columnId)) == null ? void 0 : _row$getValue4.includes(filterValue);\n};\narrIncludes.autoRemove = val => testFalsey(val);\nconst arrIncludesAll = (row, columnId, filterValue) => {\n  return !filterValue.some(val => {\n    var _row$getValue5;\n    return !((_row$getValue5 = row.getValue(columnId)) != null && _row$getValue5.includes(val));\n  });\n};\narrIncludesAll.autoRemove = val => testFalsey(val) || !(val != null && val.length);\nconst arrIncludesSome = (row, columnId, filterValue) => {\n  return filterValue.some(val => {\n    var _row$getValue6;\n    return (_row$getValue6 = row.getValue(columnId)) == null ? void 0 : _row$getValue6.includes(val);\n  });\n};\narrIncludesSome.autoRemove = val => testFalsey(val) || !(val != null && val.length);\nconst equals = (row, columnId, filterValue) => {\n  return row.getValue(columnId) === filterValue;\n};\nequals.autoRemove = val => testFalsey(val);\nconst weakEquals = (row, columnId, filterValue) => {\n  return row.getValue(columnId) == filterValue;\n};\nweakEquals.autoRemove = val => testFalsey(val);\nconst inNumberRange = (row, columnId, filterValue) => {\n  let [min, max] = filterValue;\n  const rowValue = row.getValue(columnId);\n  return rowValue >= min && rowValue <= max;\n};\ninNumberRange.resolveFilterValue = val => {\n  let [unsafeMin, unsafeMax] = val;\n  let parsedMin = typeof unsafeMin !== 'number' ? parseFloat(unsafeMin) : unsafeMin;\n  let parsedMax = typeof unsafeMax !== 'number' ? parseFloat(unsafeMax) : unsafeMax;\n  let min = unsafeMin === null || Number.isNaN(parsedMin) ? -Infinity : parsedMin;\n  let max = unsafeMax === null || Number.isNaN(parsedMax) ? Infinity : parsedMax;\n  if (min > max) {\n    const temp = min;\n    min = max;\n    max = temp;\n  }\n  return [min, max];\n};\ninNumberRange.autoRemove = val => testFalsey(val) || testFalsey(val[0]) && testFalsey(val[1]);\n\n// Export\n\nconst filterFns = {\n  includesString,\n  includesStringSensitive,\n  equalsString,\n  arrIncludes,\n  arrIncludesAll,\n  arrIncludesSome,\n  equals,\n  weakEquals,\n  inNumberRange\n};\n// Utils\n\nfunction testFalsey(val) {\n  return val === undefined || val === null || val === '';\n}\n\n//\n\nconst ColumnFiltering = {\n  getDefaultColumnDef: () => {\n    return {\n      filterFn: 'auto'\n    };\n  },\n  getInitialState: state => {\n    return {\n      columnFilters: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnFiltersChange: makeStateUpdater('columnFilters', table),\n      filterFromLeafRows: false,\n      maxLeafRowFilterDepth: 100\n    };\n  },\n  createColumn: (column, table) => {\n    column.getAutoFilterFn = () => {\n      const firstRow = table.getCoreRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'string') {\n        return filterFns.includesString;\n      }\n      if (typeof value === 'number') {\n        return filterFns.inNumberRange;\n      }\n      if (typeof value === 'boolean') {\n        return filterFns.equals;\n      }\n      if (value !== null && typeof value === 'object') {\n        return filterFns.equals;\n      }\n      if (Array.isArray(value)) {\n        return filterFns.arrIncludes;\n      }\n      return filterFns.weakEquals;\n    };\n    column.getFilterFn = () => {\n      var _table$options$filter, _table$options$filter2;\n      return isFunction(column.columnDef.filterFn) ? column.columnDef.filterFn : column.columnDef.filterFn === 'auto' ? column.getAutoFilterFn() : // @ts-ignore\n      (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[column.columnDef.filterFn]) != null ? _table$options$filter : filterFns[column.columnDef.filterFn];\n    };\n    column.getCanFilter = () => {\n      var _column$columnDef$ena, _table$options$enable, _table$options$enable2;\n      return ((_column$columnDef$ena = column.columnDef.enableColumnFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnFilters) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && !!column.accessorFn;\n    };\n    column.getIsFiltered = () => column.getFilterIndex() > -1;\n    column.getFilterValue = () => {\n      var _table$getState$colum;\n      return (_table$getState$colum = table.getState().columnFilters) == null || (_table$getState$colum = _table$getState$colum.find(d => d.id === column.id)) == null ? void 0 : _table$getState$colum.value;\n    };\n    column.getFilterIndex = () => {\n      var _table$getState$colum2, _table$getState$colum3;\n      return (_table$getState$colum2 = (_table$getState$colum3 = table.getState().columnFilters) == null ? void 0 : _table$getState$colum3.findIndex(d => d.id === column.id)) != null ? _table$getState$colum2 : -1;\n    };\n    column.setFilterValue = value => {\n      table.setColumnFilters(old => {\n        const filterFn = column.getFilterFn();\n        const previousFilter = old == null ? void 0 : old.find(d => d.id === column.id);\n        const newFilter = functionalUpdate(value, previousFilter ? previousFilter.value : undefined);\n\n        //\n        if (shouldAutoRemoveFilter(filterFn, newFilter, column)) {\n          var _old$filter;\n          return (_old$filter = old == null ? void 0 : old.filter(d => d.id !== column.id)) != null ? _old$filter : [];\n        }\n        const newFilterObj = {\n          id: column.id,\n          value: newFilter\n        };\n        if (previousFilter) {\n          var _old$map;\n          return (_old$map = old == null ? void 0 : old.map(d => {\n            if (d.id === column.id) {\n              return newFilterObj;\n            }\n            return d;\n          })) != null ? _old$map : [];\n        }\n        if (old != null && old.length) {\n          return [...old, newFilterObj];\n        }\n        return [newFilterObj];\n      });\n    };\n  },\n  createRow: (row, _table) => {\n    row.columnFilters = {};\n    row.columnFiltersMeta = {};\n  },\n  createTable: table => {\n    table.setColumnFilters = updater => {\n      const leafColumns = table.getAllLeafColumns();\n      const updateFn = old => {\n        var _functionalUpdate;\n        return (_functionalUpdate = functionalUpdate(updater, old)) == null ? void 0 : _functionalUpdate.filter(filter => {\n          const column = leafColumns.find(d => d.id === filter.id);\n          if (column) {\n            const filterFn = column.getFilterFn();\n            if (shouldAutoRemoveFilter(filterFn, filter.value, column)) {\n              return false;\n            }\n          }\n          return true;\n        });\n      };\n      table.options.onColumnFiltersChange == null || table.options.onColumnFiltersChange(updateFn);\n    };\n    table.resetColumnFilters = defaultState => {\n      var _table$initialState$c, _table$initialState;\n      table.setColumnFilters(defaultState ? [] : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnFilters) != null ? _table$initialState$c : []);\n    };\n    table.getPreFilteredRowModel = () => table.getCoreRowModel();\n    table.getFilteredRowModel = () => {\n      if (!table._getFilteredRowModel && table.options.getFilteredRowModel) {\n        table._getFilteredRowModel = table.options.getFilteredRowModel(table);\n      }\n      if (table.options.manualFiltering || !table._getFilteredRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return table._getFilteredRowModel();\n    };\n  }\n};\nfunction shouldAutoRemoveFilter(filterFn, value, column) {\n  return (filterFn && filterFn.autoRemove ? filterFn.autoRemove(value, column) : false) || typeof value === 'undefined' || typeof value === 'string' && !value;\n}\n\nconst sum = (columnId, _leafRows, childRows) => {\n  // It's faster to just add the aggregations together instead of\n  // process leaf nodes individually\n  return childRows.reduce((sum, next) => {\n    const nextValue = next.getValue(columnId);\n    return sum + (typeof nextValue === 'number' ? nextValue : 0);\n  }, 0);\n};\nconst min = (columnId, _leafRows, childRows) => {\n  let min;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null && (min > value || min === undefined && value >= value)) {\n      min = value;\n    }\n  });\n  return min;\n};\nconst max = (columnId, _leafRows, childRows) => {\n  let max;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null && (max < value || max === undefined && value >= value)) {\n      max = value;\n    }\n  });\n  return max;\n};\nconst extent = (columnId, _leafRows, childRows) => {\n  let min;\n  let max;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null) {\n      if (min === undefined) {\n        if (value >= value) min = max = value;\n      } else {\n        if (min > value) min = value;\n        if (max < value) max = value;\n      }\n    }\n  });\n  return [min, max];\n};\nconst mean = (columnId, leafRows) => {\n  let count = 0;\n  let sum = 0;\n  leafRows.forEach(row => {\n    let value = row.getValue(columnId);\n    if (value != null && (value = +value) >= value) {\n      ++count, sum += value;\n    }\n  });\n  if (count) return sum / count;\n  return;\n};\nconst median = (columnId, leafRows) => {\n  if (!leafRows.length) {\n    return;\n  }\n  const values = leafRows.map(row => row.getValue(columnId));\n  if (!isNumberArray(values)) {\n    return;\n  }\n  if (values.length === 1) {\n    return values[0];\n  }\n  const mid = Math.floor(values.length / 2);\n  const nums = values.sort((a, b) => a - b);\n  return values.length % 2 !== 0 ? nums[mid] : (nums[mid - 1] + nums[mid]) / 2;\n};\nconst unique = (columnId, leafRows) => {\n  return Array.from(new Set(leafRows.map(d => d.getValue(columnId))).values());\n};\nconst uniqueCount = (columnId, leafRows) => {\n  return new Set(leafRows.map(d => d.getValue(columnId))).size;\n};\nconst count = (_columnId, leafRows) => {\n  return leafRows.length;\n};\nconst aggregationFns = {\n  sum,\n  min,\n  max,\n  extent,\n  mean,\n  median,\n  unique,\n  uniqueCount,\n  count\n};\n\n//\n\nconst ColumnGrouping = {\n  getDefaultColumnDef: () => {\n    return {\n      aggregatedCell: props => {\n        var _toString, _props$getValue;\n        return (_toString = (_props$getValue = props.getValue()) == null || _props$getValue.toString == null ? void 0 : _props$getValue.toString()) != null ? _toString : null;\n      },\n      aggregationFn: 'auto'\n    };\n  },\n  getInitialState: state => {\n    return {\n      grouping: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onGroupingChange: makeStateUpdater('grouping', table),\n      groupedColumnMode: 'reorder'\n    };\n  },\n  createColumn: (column, table) => {\n    column.toggleGrouping = () => {\n      table.setGrouping(old => {\n        // Find any existing grouping for this column\n        if (old != null && old.includes(column.id)) {\n          return old.filter(d => d !== column.id);\n        }\n        return [...(old != null ? old : []), column.id];\n      });\n    };\n    column.getCanGroup = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableGrouping) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGrouping) != null ? _table$options$enable : true) && (!!column.accessorFn || !!column.columnDef.getGroupingValue);\n    };\n    column.getIsGrouped = () => {\n      var _table$getState$group;\n      return (_table$getState$group = table.getState().grouping) == null ? void 0 : _table$getState$group.includes(column.id);\n    };\n    column.getGroupedIndex = () => {\n      var _table$getState$group2;\n      return (_table$getState$group2 = table.getState().grouping) == null ? void 0 : _table$getState$group2.indexOf(column.id);\n    };\n    column.getToggleGroupingHandler = () => {\n      const canGroup = column.getCanGroup();\n      return () => {\n        if (!canGroup) return;\n        column.toggleGrouping();\n      };\n    };\n    column.getAutoAggregationFn = () => {\n      const firstRow = table.getCoreRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'number') {\n        return aggregationFns.sum;\n      }\n      if (Object.prototype.toString.call(value) === '[object Date]') {\n        return aggregationFns.extent;\n      }\n    };\n    column.getAggregationFn = () => {\n      var _table$options$aggreg, _table$options$aggreg2;\n      if (!column) {\n        throw new Error();\n      }\n      return isFunction(column.columnDef.aggregationFn) ? column.columnDef.aggregationFn : column.columnDef.aggregationFn === 'auto' ? column.getAutoAggregationFn() : (_table$options$aggreg = (_table$options$aggreg2 = table.options.aggregationFns) == null ? void 0 : _table$options$aggreg2[column.columnDef.aggregationFn]) != null ? _table$options$aggreg : aggregationFns[column.columnDef.aggregationFn];\n    };\n  },\n  createTable: table => {\n    table.setGrouping = updater => table.options.onGroupingChange == null ? void 0 : table.options.onGroupingChange(updater);\n    table.resetGrouping = defaultState => {\n      var _table$initialState$g, _table$initialState;\n      table.setGrouping(defaultState ? [] : (_table$initialState$g = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.grouping) != null ? _table$initialState$g : []);\n    };\n    table.getPreGroupedRowModel = () => table.getFilteredRowModel();\n    table.getGroupedRowModel = () => {\n      if (!table._getGroupedRowModel && table.options.getGroupedRowModel) {\n        table._getGroupedRowModel = table.options.getGroupedRowModel(table);\n      }\n      if (table.options.manualGrouping || !table._getGroupedRowModel) {\n        return table.getPreGroupedRowModel();\n      }\n      return table._getGroupedRowModel();\n    };\n  },\n  createRow: (row, table) => {\n    row.getIsGrouped = () => !!row.groupingColumnId;\n    row.getGroupingValue = columnId => {\n      if (row._groupingValuesCache.hasOwnProperty(columnId)) {\n        return row._groupingValuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.columnDef.getGroupingValue)) {\n        return row.getValue(columnId);\n      }\n      row._groupingValuesCache[columnId] = column.columnDef.getGroupingValue(row.original);\n      return row._groupingValuesCache[columnId];\n    };\n    row._groupingValuesCache = {};\n  },\n  createCell: (cell, column, row, table) => {\n    cell.getIsGrouped = () => column.getIsGrouped() && column.id === row.groupingColumnId;\n    cell.getIsPlaceholder = () => !cell.getIsGrouped() && column.getIsGrouped();\n    cell.getIsAggregated = () => {\n      var _row$subRows;\n      return !cell.getIsGrouped() && !cell.getIsPlaceholder() && !!((_row$subRows = row.subRows) != null && _row$subRows.length);\n    };\n  }\n};\nfunction orderColumns(leafColumns, grouping, groupedColumnMode) {\n  if (!(grouping != null && grouping.length) || !groupedColumnMode) {\n    return leafColumns;\n  }\n  const nonGroupingColumns = leafColumns.filter(col => !grouping.includes(col.id));\n  if (groupedColumnMode === 'remove') {\n    return nonGroupingColumns;\n  }\n  const groupingColumns = grouping.map(g => leafColumns.find(col => col.id === g)).filter(Boolean);\n  return [...groupingColumns, ...nonGroupingColumns];\n}\n\n//\n\nconst ColumnOrdering = {\n  getInitialState: state => {\n    return {\n      columnOrder: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnOrderChange: makeStateUpdater('columnOrder', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.getIndex = memo(position => [_getVisibleLeafColumns(table, position)], columns => columns.findIndex(d => d.id === column.id), getMemoOptions(table.options, 'debugColumns', 'getIndex'));\n    column.getIsFirstColumn = position => {\n      var _columns$;\n      const columns = _getVisibleLeafColumns(table, position);\n      return ((_columns$ = columns[0]) == null ? void 0 : _columns$.id) === column.id;\n    };\n    column.getIsLastColumn = position => {\n      var _columns;\n      const columns = _getVisibleLeafColumns(table, position);\n      return ((_columns = columns[columns.length - 1]) == null ? void 0 : _columns.id) === column.id;\n    };\n  },\n  createTable: table => {\n    table.setColumnOrder = updater => table.options.onColumnOrderChange == null ? void 0 : table.options.onColumnOrderChange(updater);\n    table.resetColumnOrder = defaultState => {\n      var _table$initialState$c;\n      table.setColumnOrder(defaultState ? [] : (_table$initialState$c = table.initialState.columnOrder) != null ? _table$initialState$c : []);\n    };\n    table._getOrderColumnsFn = memo(() => [table.getState().columnOrder, table.getState().grouping, table.options.groupedColumnMode], (columnOrder, grouping, groupedColumnMode) => columns => {\n      // Sort grouped columns to the start of the column list\n      // before the headers are built\n      let orderedColumns = [];\n\n      // If there is no order, return the normal columns\n      if (!(columnOrder != null && columnOrder.length)) {\n        orderedColumns = columns;\n      } else {\n        const columnOrderCopy = [...columnOrder];\n\n        // If there is an order, make a copy of the columns\n        const columnsCopy = [...columns];\n\n        // And make a new ordered array of the columns\n\n        // Loop over the columns and place them in order into the new array\n        while (columnsCopy.length && columnOrderCopy.length) {\n          const targetColumnId = columnOrderCopy.shift();\n          const foundIndex = columnsCopy.findIndex(d => d.id === targetColumnId);\n          if (foundIndex > -1) {\n            orderedColumns.push(columnsCopy.splice(foundIndex, 1)[0]);\n          }\n        }\n\n        // If there are any columns left, add them to the end\n        orderedColumns = [...orderedColumns, ...columnsCopy];\n      }\n      return orderColumns(orderedColumns, grouping, groupedColumnMode);\n    }, getMemoOptions(table.options, 'debugTable', '_getOrderColumnsFn'));\n  }\n};\n\n//\n\nconst getDefaultColumnPinningState = () => ({\n  left: [],\n  right: []\n});\nconst ColumnPinning = {\n  getInitialState: state => {\n    return {\n      columnPinning: getDefaultColumnPinningState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnPinningChange: makeStateUpdater('columnPinning', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.pin = position => {\n      const columnIds = column.getLeafColumns().map(d => d.id).filter(Boolean);\n      table.setColumnPinning(old => {\n        var _old$left3, _old$right3;\n        if (position === 'right') {\n          var _old$left, _old$right;\n          return {\n            left: ((_old$left = old == null ? void 0 : old.left) != null ? _old$left : []).filter(d => !(columnIds != null && columnIds.includes(d))),\n            right: [...((_old$right = old == null ? void 0 : old.right) != null ? _old$right : []).filter(d => !(columnIds != null && columnIds.includes(d))), ...columnIds]\n          };\n        }\n        if (position === 'left') {\n          var _old$left2, _old$right2;\n          return {\n            left: [...((_old$left2 = old == null ? void 0 : old.left) != null ? _old$left2 : []).filter(d => !(columnIds != null && columnIds.includes(d))), ...columnIds],\n            right: ((_old$right2 = old == null ? void 0 : old.right) != null ? _old$right2 : []).filter(d => !(columnIds != null && columnIds.includes(d)))\n          };\n        }\n        return {\n          left: ((_old$left3 = old == null ? void 0 : old.left) != null ? _old$left3 : []).filter(d => !(columnIds != null && columnIds.includes(d))),\n          right: ((_old$right3 = old == null ? void 0 : old.right) != null ? _old$right3 : []).filter(d => !(columnIds != null && columnIds.includes(d)))\n        };\n      });\n    };\n    column.getCanPin = () => {\n      const leafColumns = column.getLeafColumns();\n      return leafColumns.some(d => {\n        var _d$columnDef$enablePi, _ref, _table$options$enable;\n        return ((_d$columnDef$enablePi = d.columnDef.enablePinning) != null ? _d$columnDef$enablePi : true) && ((_ref = (_table$options$enable = table.options.enableColumnPinning) != null ? _table$options$enable : table.options.enablePinning) != null ? _ref : true);\n      });\n    };\n    column.getIsPinned = () => {\n      const leafColumnIds = column.getLeafColumns().map(d => d.id);\n      const {\n        left,\n        right\n      } = table.getState().columnPinning;\n      const isLeft = leafColumnIds.some(d => left == null ? void 0 : left.includes(d));\n      const isRight = leafColumnIds.some(d => right == null ? void 0 : right.includes(d));\n      return isLeft ? 'left' : isRight ? 'right' : false;\n    };\n    column.getPinnedIndex = () => {\n      var _table$getState$colum, _table$getState$colum2;\n      const position = column.getIsPinned();\n      return position ? (_table$getState$colum = (_table$getState$colum2 = table.getState().columnPinning) == null || (_table$getState$colum2 = _table$getState$colum2[position]) == null ? void 0 : _table$getState$colum2.indexOf(column.id)) != null ? _table$getState$colum : -1 : 0;\n    };\n  },\n  createRow: (row, table) => {\n    row.getCenterVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allCells, left, right) => {\n      const leftAndRight = [...(left != null ? left : []), ...(right != null ? right : [])];\n      return allCells.filter(d => !leftAndRight.includes(d.column.id));\n    }, getMemoOptions(table.options, 'debugRows', 'getCenterVisibleCells'));\n    row.getLeftVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left], (allCells, left) => {\n      const cells = (left != null ? left : []).map(columnId => allCells.find(cell => cell.column.id === columnId)).filter(Boolean).map(d => ({\n        ...d,\n        position: 'left'\n      }));\n      return cells;\n    }, getMemoOptions(table.options, 'debugRows', 'getLeftVisibleCells'));\n    row.getRightVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.right], (allCells, right) => {\n      const cells = (right != null ? right : []).map(columnId => allCells.find(cell => cell.column.id === columnId)).filter(Boolean).map(d => ({\n        ...d,\n        position: 'right'\n      }));\n      return cells;\n    }, getMemoOptions(table.options, 'debugRows', 'getRightVisibleCells'));\n  },\n  createTable: table => {\n    table.setColumnPinning = updater => table.options.onColumnPinningChange == null ? void 0 : table.options.onColumnPinningChange(updater);\n    table.resetColumnPinning = defaultState => {\n      var _table$initialState$c, _table$initialState;\n      return table.setColumnPinning(defaultState ? getDefaultColumnPinningState() : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnPinning) != null ? _table$initialState$c : getDefaultColumnPinningState());\n    };\n    table.getIsSomeColumnsPinned = position => {\n      var _pinningState$positio;\n      const pinningState = table.getState().columnPinning;\n      if (!position) {\n        var _pinningState$left, _pinningState$right;\n        return Boolean(((_pinningState$left = pinningState.left) == null ? void 0 : _pinningState$left.length) || ((_pinningState$right = pinningState.right) == null ? void 0 : _pinningState$right.length));\n      }\n      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);\n    };\n    table.getLeftLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left], (allColumns, left) => {\n      return (left != null ? left : []).map(columnId => allColumns.find(column => column.id === columnId)).filter(Boolean);\n    }, getMemoOptions(table.options, 'debugColumns', 'getLeftLeafColumns'));\n    table.getRightLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.right], (allColumns, right) => {\n      return (right != null ? right : []).map(columnId => allColumns.find(column => column.id === columnId)).filter(Boolean);\n    }, getMemoOptions(table.options, 'debugColumns', 'getRightLeafColumns'));\n    table.getCenterLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, left, right) => {\n      const leftAndRight = [...(left != null ? left : []), ...(right != null ? right : [])];\n      return allColumns.filter(d => !leftAndRight.includes(d.id));\n    }, getMemoOptions(table.options, 'debugColumns', 'getCenterLeafColumns'));\n  }\n};\n\nfunction safelyAccessDocument(_document) {\n  return _document || (typeof document !== 'undefined' ? document : null);\n}\n\n//\n\n//\n\nconst defaultColumnSizing = {\n  size: 150,\n  minSize: 20,\n  maxSize: Number.MAX_SAFE_INTEGER\n};\nconst getDefaultColumnSizingInfoState = () => ({\n  startOffset: null,\n  startSize: null,\n  deltaOffset: null,\n  deltaPercentage: null,\n  isResizingColumn: false,\n  columnSizingStart: []\n});\nconst ColumnSizing = {\n  getDefaultColumnDef: () => {\n    return defaultColumnSizing;\n  },\n  getInitialState: state => {\n    return {\n      columnSizing: {},\n      columnSizingInfo: getDefaultColumnSizingInfoState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      columnResizeMode: 'onEnd',\n      columnResizeDirection: 'ltr',\n      onColumnSizingChange: makeStateUpdater('columnSizing', table),\n      onColumnSizingInfoChange: makeStateUpdater('columnSizingInfo', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.getSize = () => {\n      var _column$columnDef$min, _ref, _column$columnDef$max;\n      const columnSize = table.getState().columnSizing[column.id];\n      return Math.min(Math.max((_column$columnDef$min = column.columnDef.minSize) != null ? _column$columnDef$min : defaultColumnSizing.minSize, (_ref = columnSize != null ? columnSize : column.columnDef.size) != null ? _ref : defaultColumnSizing.size), (_column$columnDef$max = column.columnDef.maxSize) != null ? _column$columnDef$max : defaultColumnSizing.maxSize);\n    };\n    column.getStart = memo(position => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(0, column.getIndex(position)).reduce((sum, column) => sum + column.getSize(), 0), getMemoOptions(table.options, 'debugColumns', 'getStart'));\n    column.getAfter = memo(position => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(column.getIndex(position) + 1).reduce((sum, column) => sum + column.getSize(), 0), getMemoOptions(table.options, 'debugColumns', 'getAfter'));\n    column.resetSize = () => {\n      table.setColumnSizing(_ref2 => {\n        let {\n          [column.id]: _,\n          ...rest\n        } = _ref2;\n        return rest;\n      });\n    };\n    column.getCanResize = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableResizing) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnResizing) != null ? _table$options$enable : true);\n    };\n    column.getIsResizing = () => {\n      return table.getState().columnSizingInfo.isResizingColumn === column.id;\n    };\n  },\n  createHeader: (header, table) => {\n    header.getSize = () => {\n      let sum = 0;\n      const recurse = header => {\n        if (header.subHeaders.length) {\n          header.subHeaders.forEach(recurse);\n        } else {\n          var _header$column$getSiz;\n          sum += (_header$column$getSiz = header.column.getSize()) != null ? _header$column$getSiz : 0;\n        }\n      };\n      recurse(header);\n      return sum;\n    };\n    header.getStart = () => {\n      if (header.index > 0) {\n        const prevSiblingHeader = header.headerGroup.headers[header.index - 1];\n        return prevSiblingHeader.getStart() + prevSiblingHeader.getSize();\n      }\n      return 0;\n    };\n    header.getResizeHandler = _contextDocument => {\n      const column = table.getColumn(header.column.id);\n      const canResize = column == null ? void 0 : column.getCanResize();\n      return e => {\n        if (!column || !canResize) {\n          return;\n        }\n        e.persist == null || e.persist();\n        if (isTouchStartEvent(e)) {\n          // lets not respond to multiple touches (e.g. 2 or 3 fingers)\n          if (e.touches && e.touches.length > 1) {\n            return;\n          }\n        }\n        const startSize = header.getSize();\n        const columnSizingStart = header ? header.getLeafHeaders().map(d => [d.column.id, d.column.getSize()]) : [[column.id, column.getSize()]];\n        const clientX = isTouchStartEvent(e) ? Math.round(e.touches[0].clientX) : e.clientX;\n        const newColumnSizing = {};\n        const updateOffset = (eventType, clientXPos) => {\n          if (typeof clientXPos !== 'number') {\n            return;\n          }\n          table.setColumnSizingInfo(old => {\n            var _old$startOffset, _old$startSize;\n            const deltaDirection = table.options.columnResizeDirection === 'rtl' ? -1 : 1;\n            const deltaOffset = (clientXPos - ((_old$startOffset = old == null ? void 0 : old.startOffset) != null ? _old$startOffset : 0)) * deltaDirection;\n            const deltaPercentage = Math.max(deltaOffset / ((_old$startSize = old == null ? void 0 : old.startSize) != null ? _old$startSize : 0), -0.999999);\n            old.columnSizingStart.forEach(_ref3 => {\n              let [columnId, headerSize] = _ref3;\n              newColumnSizing[columnId] = Math.round(Math.max(headerSize + headerSize * deltaPercentage, 0) * 100) / 100;\n            });\n            return {\n              ...old,\n              deltaOffset,\n              deltaPercentage\n            };\n          });\n          if (table.options.columnResizeMode === 'onChange' || eventType === 'end') {\n            table.setColumnSizing(old => ({\n              ...old,\n              ...newColumnSizing\n            }));\n          }\n        };\n        const onMove = clientXPos => updateOffset('move', clientXPos);\n        const onEnd = clientXPos => {\n          updateOffset('end', clientXPos);\n          table.setColumnSizingInfo(old => ({\n            ...old,\n            isResizingColumn: false,\n            startOffset: null,\n            startSize: null,\n            deltaOffset: null,\n            deltaPercentage: null,\n            columnSizingStart: []\n          }));\n        };\n        const contextDocument = safelyAccessDocument(_contextDocument);\n        const mouseEvents = {\n          moveHandler: e => onMove(e.clientX),\n          upHandler: e => {\n            contextDocument == null || contextDocument.removeEventListener('mousemove', mouseEvents.moveHandler);\n            contextDocument == null || contextDocument.removeEventListener('mouseup', mouseEvents.upHandler);\n            onEnd(e.clientX);\n          }\n        };\n        const touchEvents = {\n          moveHandler: e => {\n            if (e.cancelable) {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n            onMove(e.touches[0].clientX);\n            return false;\n          },\n          upHandler: e => {\n            var _e$touches$;\n            contextDocument == null || contextDocument.removeEventListener('touchmove', touchEvents.moveHandler);\n            contextDocument == null || contextDocument.removeEventListener('touchend', touchEvents.upHandler);\n            if (e.cancelable) {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n            onEnd((_e$touches$ = e.touches[0]) == null ? void 0 : _e$touches$.clientX);\n          }\n        };\n        const passiveIfSupported = passiveEventSupported() ? {\n          passive: false\n        } : false;\n        if (isTouchStartEvent(e)) {\n          contextDocument == null || contextDocument.addEventListener('touchmove', touchEvents.moveHandler, passiveIfSupported);\n          contextDocument == null || contextDocument.addEventListener('touchend', touchEvents.upHandler, passiveIfSupported);\n        } else {\n          contextDocument == null || contextDocument.addEventListener('mousemove', mouseEvents.moveHandler, passiveIfSupported);\n          contextDocument == null || contextDocument.addEventListener('mouseup', mouseEvents.upHandler, passiveIfSupported);\n        }\n        table.setColumnSizingInfo(old => ({\n          ...old,\n          startOffset: clientX,\n          startSize,\n          deltaOffset: 0,\n          deltaPercentage: 0,\n          columnSizingStart,\n          isResizingColumn: column.id\n        }));\n      };\n    };\n  },\n  createTable: table => {\n    table.setColumnSizing = updater => table.options.onColumnSizingChange == null ? void 0 : table.options.onColumnSizingChange(updater);\n    table.setColumnSizingInfo = updater => table.options.onColumnSizingInfoChange == null ? void 0 : table.options.onColumnSizingInfoChange(updater);\n    table.resetColumnSizing = defaultState => {\n      var _table$initialState$c;\n      table.setColumnSizing(defaultState ? {} : (_table$initialState$c = table.initialState.columnSizing) != null ? _table$initialState$c : {});\n    };\n    table.resetHeaderSizeInfo = defaultState => {\n      var _table$initialState$c2;\n      table.setColumnSizingInfo(defaultState ? getDefaultColumnSizingInfoState() : (_table$initialState$c2 = table.initialState.columnSizingInfo) != null ? _table$initialState$c2 : getDefaultColumnSizingInfoState());\n    };\n    table.getTotalSize = () => {\n      var _table$getHeaderGroup, _table$getHeaderGroup2;\n      return (_table$getHeaderGroup = (_table$getHeaderGroup2 = table.getHeaderGroups()[0]) == null ? void 0 : _table$getHeaderGroup2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getHeaderGroup : 0;\n    };\n    table.getLeftTotalSize = () => {\n      var _table$getLeftHeaderG, _table$getLeftHeaderG2;\n      return (_table$getLeftHeaderG = (_table$getLeftHeaderG2 = table.getLeftHeaderGroups()[0]) == null ? void 0 : _table$getLeftHeaderG2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getLeftHeaderG : 0;\n    };\n    table.getCenterTotalSize = () => {\n      var _table$getCenterHeade, _table$getCenterHeade2;\n      return (_table$getCenterHeade = (_table$getCenterHeade2 = table.getCenterHeaderGroups()[0]) == null ? void 0 : _table$getCenterHeade2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getCenterHeade : 0;\n    };\n    table.getRightTotalSize = () => {\n      var _table$getRightHeader, _table$getRightHeader2;\n      return (_table$getRightHeader = (_table$getRightHeader2 = table.getRightHeaderGroups()[0]) == null ? void 0 : _table$getRightHeader2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getRightHeader : 0;\n    };\n  }\n};\nlet passiveSupported = null;\nfunction passiveEventSupported() {\n  if (typeof passiveSupported === 'boolean') return passiveSupported;\n  let supported = false;\n  try {\n    const options = {\n      get passive() {\n        supported = true;\n        return false;\n      }\n    };\n    const noop = () => {};\n    window.addEventListener('test', noop, options);\n    window.removeEventListener('test', noop);\n  } catch (err) {\n    supported = false;\n  }\n  passiveSupported = supported;\n  return passiveSupported;\n}\nfunction isTouchStartEvent(e) {\n  return e.type === 'touchstart';\n}\n\n//\n\nconst ColumnVisibility = {\n  getInitialState: state => {\n    return {\n      columnVisibility: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnVisibilityChange: makeStateUpdater('columnVisibility', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.toggleVisibility = value => {\n      if (column.getCanHide()) {\n        table.setColumnVisibility(old => ({\n          ...old,\n          [column.id]: value != null ? value : !column.getIsVisible()\n        }));\n      }\n    };\n    column.getIsVisible = () => {\n      var _ref, _table$getState$colum;\n      const childColumns = column.columns;\n      return (_ref = childColumns.length ? childColumns.some(c => c.getIsVisible()) : (_table$getState$colum = table.getState().columnVisibility) == null ? void 0 : _table$getState$colum[column.id]) != null ? _ref : true;\n    };\n    column.getCanHide = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableHiding) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableHiding) != null ? _table$options$enable : true);\n    };\n    column.getToggleVisibilityHandler = () => {\n      return e => {\n        column.toggleVisibility == null || column.toggleVisibility(e.target.checked);\n      };\n    };\n  },\n  createRow: (row, table) => {\n    row._getAllVisibleCells = memo(() => [row.getAllCells(), table.getState().columnVisibility], cells => {\n      return cells.filter(cell => cell.column.getIsVisible());\n    }, getMemoOptions(table.options, 'debugRows', '_getAllVisibleCells'));\n    row.getVisibleCells = memo(() => [row.getLeftVisibleCells(), row.getCenterVisibleCells(), row.getRightVisibleCells()], (left, center, right) => [...left, ...center, ...right], getMemoOptions(table.options, 'debugRows', 'getVisibleCells'));\n  },\n  createTable: table => {\n    const makeVisibleColumnsMethod = (key, getColumns) => {\n      return memo(() => [getColumns(), getColumns().filter(d => d.getIsVisible()).map(d => d.id).join('_')], columns => {\n        return columns.filter(d => d.getIsVisible == null ? void 0 : d.getIsVisible());\n      }, getMemoOptions(table.options, 'debugColumns', key));\n    };\n    table.getVisibleFlatColumns = makeVisibleColumnsMethod('getVisibleFlatColumns', () => table.getAllFlatColumns());\n    table.getVisibleLeafColumns = makeVisibleColumnsMethod('getVisibleLeafColumns', () => table.getAllLeafColumns());\n    table.getLeftVisibleLeafColumns = makeVisibleColumnsMethod('getLeftVisibleLeafColumns', () => table.getLeftLeafColumns());\n    table.getRightVisibleLeafColumns = makeVisibleColumnsMethod('getRightVisibleLeafColumns', () => table.getRightLeafColumns());\n    table.getCenterVisibleLeafColumns = makeVisibleColumnsMethod('getCenterVisibleLeafColumns', () => table.getCenterLeafColumns());\n    table.setColumnVisibility = updater => table.options.onColumnVisibilityChange == null ? void 0 : table.options.onColumnVisibilityChange(updater);\n    table.resetColumnVisibility = defaultState => {\n      var _table$initialState$c;\n      table.setColumnVisibility(defaultState ? {} : (_table$initialState$c = table.initialState.columnVisibility) != null ? _table$initialState$c : {});\n    };\n    table.toggleAllColumnsVisible = value => {\n      var _value;\n      value = (_value = value) != null ? _value : !table.getIsAllColumnsVisible();\n      table.setColumnVisibility(table.getAllLeafColumns().reduce((obj, column) => ({\n        ...obj,\n        [column.id]: !value ? !(column.getCanHide != null && column.getCanHide()) : value\n      }), {}));\n    };\n    table.getIsAllColumnsVisible = () => !table.getAllLeafColumns().some(column => !(column.getIsVisible != null && column.getIsVisible()));\n    table.getIsSomeColumnsVisible = () => table.getAllLeafColumns().some(column => column.getIsVisible == null ? void 0 : column.getIsVisible());\n    table.getToggleAllColumnsVisibilityHandler = () => {\n      return e => {\n        var _target;\n        table.toggleAllColumnsVisible((_target = e.target) == null ? void 0 : _target.checked);\n      };\n    };\n  }\n};\nfunction _getVisibleLeafColumns(table, position) {\n  return !position ? table.getVisibleLeafColumns() : position === 'center' ? table.getCenterVisibleLeafColumns() : position === 'left' ? table.getLeftVisibleLeafColumns() : table.getRightVisibleLeafColumns();\n}\n\n//\n\nconst GlobalFaceting = {\n  createTable: table => {\n    table._getGlobalFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, '__global__');\n    table.getGlobalFacetedRowModel = () => {\n      if (table.options.manualFiltering || !table._getGlobalFacetedRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return table._getGlobalFacetedRowModel();\n    };\n    table._getGlobalFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, '__global__');\n    table.getGlobalFacetedUniqueValues = () => {\n      if (!table._getGlobalFacetedUniqueValues) {\n        return new Map();\n      }\n      return table._getGlobalFacetedUniqueValues();\n    };\n    table._getGlobalFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, '__global__');\n    table.getGlobalFacetedMinMaxValues = () => {\n      if (!table._getGlobalFacetedMinMaxValues) {\n        return;\n      }\n      return table._getGlobalFacetedMinMaxValues();\n    };\n  }\n};\n\n//\n\nconst GlobalFiltering = {\n  getInitialState: state => {\n    return {\n      globalFilter: undefined,\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onGlobalFilterChange: makeStateUpdater('globalFilter', table),\n      globalFilterFn: 'auto',\n      getColumnCanGlobalFilter: column => {\n        var _table$getCoreRowMode;\n        const value = (_table$getCoreRowMode = table.getCoreRowModel().flatRows[0]) == null || (_table$getCoreRowMode = _table$getCoreRowMode._getAllCellsByColumnId()[column.id]) == null ? void 0 : _table$getCoreRowMode.getValue();\n        return typeof value === 'string' || typeof value === 'number';\n      }\n    };\n  },\n  createColumn: (column, table) => {\n    column.getCanGlobalFilter = () => {\n      var _column$columnDef$ena, _table$options$enable, _table$options$enable2, _table$options$getCol;\n      return ((_column$columnDef$ena = column.columnDef.enableGlobalFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGlobalFilter) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && ((_table$options$getCol = table.options.getColumnCanGlobalFilter == null ? void 0 : table.options.getColumnCanGlobalFilter(column)) != null ? _table$options$getCol : true) && !!column.accessorFn;\n    };\n  },\n  createTable: table => {\n    table.getGlobalAutoFilterFn = () => {\n      return filterFns.includesString;\n    };\n    table.getGlobalFilterFn = () => {\n      var _table$options$filter, _table$options$filter2;\n      const {\n        globalFilterFn: globalFilterFn\n      } = table.options;\n      return isFunction(globalFilterFn) ? globalFilterFn : globalFilterFn === 'auto' ? table.getGlobalAutoFilterFn() : (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[globalFilterFn]) != null ? _table$options$filter : filterFns[globalFilterFn];\n    };\n    table.setGlobalFilter = updater => {\n      table.options.onGlobalFilterChange == null || table.options.onGlobalFilterChange(updater);\n    };\n    table.resetGlobalFilter = defaultState => {\n      table.setGlobalFilter(defaultState ? undefined : table.initialState.globalFilter);\n    };\n  }\n};\n\n//\n\nconst RowExpanding = {\n  getInitialState: state => {\n    return {\n      expanded: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onExpandedChange: makeStateUpdater('expanded', table),\n      paginateExpandedRows: true\n    };\n  },\n  createTable: table => {\n    let registered = false;\n    let queued = false;\n    table._autoResetExpanded = () => {\n      var _ref, _table$options$autoRe;\n      if (!registered) {\n        table._queue(() => {\n          registered = true;\n        });\n        return;\n      }\n      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetExpanded) != null ? _ref : !table.options.manualExpanding) {\n        if (queued) return;\n        queued = true;\n        table._queue(() => {\n          table.resetExpanded();\n          queued = false;\n        });\n      }\n    };\n    table.setExpanded = updater => table.options.onExpandedChange == null ? void 0 : table.options.onExpandedChange(updater);\n    table.toggleAllRowsExpanded = expanded => {\n      if (expanded != null ? expanded : !table.getIsAllRowsExpanded()) {\n        table.setExpanded(true);\n      } else {\n        table.setExpanded({});\n      }\n    };\n    table.resetExpanded = defaultState => {\n      var _table$initialState$e, _table$initialState;\n      table.setExpanded(defaultState ? {} : (_table$initialState$e = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.expanded) != null ? _table$initialState$e : {});\n    };\n    table.getCanSomeRowsExpand = () => {\n      return table.getPrePaginationRowModel().flatRows.some(row => row.getCanExpand());\n    };\n    table.getToggleAllRowsExpandedHandler = () => {\n      return e => {\n        e.persist == null || e.persist();\n        table.toggleAllRowsExpanded();\n      };\n    };\n    table.getIsSomeRowsExpanded = () => {\n      const expanded = table.getState().expanded;\n      return expanded === true || Object.values(expanded).some(Boolean);\n    };\n    table.getIsAllRowsExpanded = () => {\n      const expanded = table.getState().expanded;\n\n      // If expanded is true, save some cycles and return true\n      if (typeof expanded === 'boolean') {\n        return expanded === true;\n      }\n      if (!Object.keys(expanded).length) {\n        return false;\n      }\n\n      // If any row is not expanded, return false\n      if (table.getRowModel().flatRows.some(row => !row.getIsExpanded())) {\n        return false;\n      }\n\n      // They must all be expanded :shrug:\n      return true;\n    };\n    table.getExpandedDepth = () => {\n      let maxDepth = 0;\n      const rowIds = table.getState().expanded === true ? Object.keys(table.getRowModel().rowsById) : Object.keys(table.getState().expanded);\n      rowIds.forEach(id => {\n        const splitId = id.split('.');\n        maxDepth = Math.max(maxDepth, splitId.length);\n      });\n      return maxDepth;\n    };\n    table.getPreExpandedRowModel = () => table.getSortedRowModel();\n    table.getExpandedRowModel = () => {\n      if (!table._getExpandedRowModel && table.options.getExpandedRowModel) {\n        table._getExpandedRowModel = table.options.getExpandedRowModel(table);\n      }\n      if (table.options.manualExpanding || !table._getExpandedRowModel) {\n        return table.getPreExpandedRowModel();\n      }\n      return table._getExpandedRowModel();\n    };\n  },\n  createRow: (row, table) => {\n    row.toggleExpanded = expanded => {\n      table.setExpanded(old => {\n        var _expanded;\n        const exists = old === true ? true : !!(old != null && old[row.id]);\n        let oldExpanded = {};\n        if (old === true) {\n          Object.keys(table.getRowModel().rowsById).forEach(rowId => {\n            oldExpanded[rowId] = true;\n          });\n        } else {\n          oldExpanded = old;\n        }\n        expanded = (_expanded = expanded) != null ? _expanded : !exists;\n        if (!exists && expanded) {\n          return {\n            ...oldExpanded,\n            [row.id]: true\n          };\n        }\n        if (exists && !expanded) {\n          const {\n            [row.id]: _,\n            ...rest\n          } = oldExpanded;\n          return rest;\n        }\n        return old;\n      });\n    };\n    row.getIsExpanded = () => {\n      var _table$options$getIsR;\n      const expanded = table.getState().expanded;\n      return !!((_table$options$getIsR = table.options.getIsRowExpanded == null ? void 0 : table.options.getIsRowExpanded(row)) != null ? _table$options$getIsR : expanded === true || (expanded == null ? void 0 : expanded[row.id]));\n    };\n    row.getCanExpand = () => {\n      var _table$options$getRow, _table$options$enable, _row$subRows;\n      return (_table$options$getRow = table.options.getRowCanExpand == null ? void 0 : table.options.getRowCanExpand(row)) != null ? _table$options$getRow : ((_table$options$enable = table.options.enableExpanding) != null ? _table$options$enable : true) && !!((_row$subRows = row.subRows) != null && _row$subRows.length);\n    };\n    row.getIsAllParentsExpanded = () => {\n      let isFullyExpanded = true;\n      let currentRow = row;\n      while (isFullyExpanded && currentRow.parentId) {\n        currentRow = table.getRow(currentRow.parentId, true);\n        isFullyExpanded = currentRow.getIsExpanded();\n      }\n      return isFullyExpanded;\n    };\n    row.getToggleExpandedHandler = () => {\n      const canExpand = row.getCanExpand();\n      return () => {\n        if (!canExpand) return;\n        row.toggleExpanded();\n      };\n    };\n  }\n};\n\n//\n\nconst defaultPageIndex = 0;\nconst defaultPageSize = 10;\nconst getDefaultPaginationState = () => ({\n  pageIndex: defaultPageIndex,\n  pageSize: defaultPageSize\n});\nconst RowPagination = {\n  getInitialState: state => {\n    return {\n      ...state,\n      pagination: {\n        ...getDefaultPaginationState(),\n        ...(state == null ? void 0 : state.pagination)\n      }\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onPaginationChange: makeStateUpdater('pagination', table)\n    };\n  },\n  createTable: table => {\n    let registered = false;\n    let queued = false;\n    table._autoResetPageIndex = () => {\n      var _ref, _table$options$autoRe;\n      if (!registered) {\n        table._queue(() => {\n          registered = true;\n        });\n        return;\n      }\n      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetPageIndex) != null ? _ref : !table.options.manualPagination) {\n        if (queued) return;\n        queued = true;\n        table._queue(() => {\n          table.resetPageIndex();\n          queued = false;\n        });\n      }\n    };\n    table.setPagination = updater => {\n      const safeUpdater = old => {\n        let newState = functionalUpdate(updater, old);\n        return newState;\n      };\n      return table.options.onPaginationChange == null ? void 0 : table.options.onPaginationChange(safeUpdater);\n    };\n    table.resetPagination = defaultState => {\n      var _table$initialState$p;\n      table.setPagination(defaultState ? getDefaultPaginationState() : (_table$initialState$p = table.initialState.pagination) != null ? _table$initialState$p : getDefaultPaginationState());\n    };\n    table.setPageIndex = updater => {\n      table.setPagination(old => {\n        let pageIndex = functionalUpdate(updater, old.pageIndex);\n        const maxPageIndex = typeof table.options.pageCount === 'undefined' || table.options.pageCount === -1 ? Number.MAX_SAFE_INTEGER : table.options.pageCount - 1;\n        pageIndex = Math.max(0, Math.min(pageIndex, maxPageIndex));\n        return {\n          ...old,\n          pageIndex\n        };\n      });\n    };\n    table.resetPageIndex = defaultState => {\n      var _table$initialState$p2, _table$initialState;\n      table.setPageIndex(defaultState ? defaultPageIndex : (_table$initialState$p2 = (_table$initialState = table.initialState) == null || (_table$initialState = _table$initialState.pagination) == null ? void 0 : _table$initialState.pageIndex) != null ? _table$initialState$p2 : defaultPageIndex);\n    };\n    table.resetPageSize = defaultState => {\n      var _table$initialState$p3, _table$initialState2;\n      table.setPageSize(defaultState ? defaultPageSize : (_table$initialState$p3 = (_table$initialState2 = table.initialState) == null || (_table$initialState2 = _table$initialState2.pagination) == null ? void 0 : _table$initialState2.pageSize) != null ? _table$initialState$p3 : defaultPageSize);\n    };\n    table.setPageSize = updater => {\n      table.setPagination(old => {\n        const pageSize = Math.max(1, functionalUpdate(updater, old.pageSize));\n        const topRowIndex = old.pageSize * old.pageIndex;\n        const pageIndex = Math.floor(topRowIndex / pageSize);\n        return {\n          ...old,\n          pageIndex,\n          pageSize\n        };\n      });\n    };\n    //deprecated\n    table.setPageCount = updater => table.setPagination(old => {\n      var _table$options$pageCo;\n      let newPageCount = functionalUpdate(updater, (_table$options$pageCo = table.options.pageCount) != null ? _table$options$pageCo : -1);\n      if (typeof newPageCount === 'number') {\n        newPageCount = Math.max(-1, newPageCount);\n      }\n      return {\n        ...old,\n        pageCount: newPageCount\n      };\n    });\n    table.getPageOptions = memo(() => [table.getPageCount()], pageCount => {\n      let pageOptions = [];\n      if (pageCount && pageCount > 0) {\n        pageOptions = [...new Array(pageCount)].fill(null).map((_, i) => i);\n      }\n      return pageOptions;\n    }, getMemoOptions(table.options, 'debugTable', 'getPageOptions'));\n    table.getCanPreviousPage = () => table.getState().pagination.pageIndex > 0;\n    table.getCanNextPage = () => {\n      const {\n        pageIndex\n      } = table.getState().pagination;\n      const pageCount = table.getPageCount();\n      if (pageCount === -1) {\n        return true;\n      }\n      if (pageCount === 0) {\n        return false;\n      }\n      return pageIndex < pageCount - 1;\n    };\n    table.previousPage = () => {\n      return table.setPageIndex(old => old - 1);\n    };\n    table.nextPage = () => {\n      return table.setPageIndex(old => {\n        return old + 1;\n      });\n    };\n    table.firstPage = () => {\n      return table.setPageIndex(0);\n    };\n    table.lastPage = () => {\n      return table.setPageIndex(table.getPageCount() - 1);\n    };\n    table.getPrePaginationRowModel = () => table.getExpandedRowModel();\n    table.getPaginationRowModel = () => {\n      if (!table._getPaginationRowModel && table.options.getPaginationRowModel) {\n        table._getPaginationRowModel = table.options.getPaginationRowModel(table);\n      }\n      if (table.options.manualPagination || !table._getPaginationRowModel) {\n        return table.getPrePaginationRowModel();\n      }\n      return table._getPaginationRowModel();\n    };\n    table.getPageCount = () => {\n      var _table$options$pageCo2;\n      return (_table$options$pageCo2 = table.options.pageCount) != null ? _table$options$pageCo2 : Math.ceil(table.getRowCount() / table.getState().pagination.pageSize);\n    };\n    table.getRowCount = () => {\n      var _table$options$rowCou;\n      return (_table$options$rowCou = table.options.rowCount) != null ? _table$options$rowCou : table.getPrePaginationRowModel().rows.length;\n    };\n  }\n};\n\n//\n\nconst getDefaultRowPinningState = () => ({\n  top: [],\n  bottom: []\n});\nconst RowPinning = {\n  getInitialState: state => {\n    return {\n      rowPinning: getDefaultRowPinningState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onRowPinningChange: makeStateUpdater('rowPinning', table)\n    };\n  },\n  createRow: (row, table) => {\n    row.pin = (position, includeLeafRows, includeParentRows) => {\n      const leafRowIds = includeLeafRows ? row.getLeafRows().map(_ref => {\n        let {\n          id\n        } = _ref;\n        return id;\n      }) : [];\n      const parentRowIds = includeParentRows ? row.getParentRows().map(_ref2 => {\n        let {\n          id\n        } = _ref2;\n        return id;\n      }) : [];\n      const rowIds = new Set([...parentRowIds, row.id, ...leafRowIds]);\n      table.setRowPinning(old => {\n        var _old$top3, _old$bottom3;\n        if (position === 'bottom') {\n          var _old$top, _old$bottom;\n          return {\n            top: ((_old$top = old == null ? void 0 : old.top) != null ? _old$top : []).filter(d => !(rowIds != null && rowIds.has(d))),\n            bottom: [...((_old$bottom = old == null ? void 0 : old.bottom) != null ? _old$bottom : []).filter(d => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)]\n          };\n        }\n        if (position === 'top') {\n          var _old$top2, _old$bottom2;\n          return {\n            top: [...((_old$top2 = old == null ? void 0 : old.top) != null ? _old$top2 : []).filter(d => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)],\n            bottom: ((_old$bottom2 = old == null ? void 0 : old.bottom) != null ? _old$bottom2 : []).filter(d => !(rowIds != null && rowIds.has(d)))\n          };\n        }\n        return {\n          top: ((_old$top3 = old == null ? void 0 : old.top) != null ? _old$top3 : []).filter(d => !(rowIds != null && rowIds.has(d))),\n          bottom: ((_old$bottom3 = old == null ? void 0 : old.bottom) != null ? _old$bottom3 : []).filter(d => !(rowIds != null && rowIds.has(d)))\n        };\n      });\n    };\n    row.getCanPin = () => {\n      var _ref3;\n      const {\n        enableRowPinning,\n        enablePinning\n      } = table.options;\n      if (typeof enableRowPinning === 'function') {\n        return enableRowPinning(row);\n      }\n      return (_ref3 = enableRowPinning != null ? enableRowPinning : enablePinning) != null ? _ref3 : true;\n    };\n    row.getIsPinned = () => {\n      const rowIds = [row.id];\n      const {\n        top,\n        bottom\n      } = table.getState().rowPinning;\n      const isTop = rowIds.some(d => top == null ? void 0 : top.includes(d));\n      const isBottom = rowIds.some(d => bottom == null ? void 0 : bottom.includes(d));\n      return isTop ? 'top' : isBottom ? 'bottom' : false;\n    };\n    row.getPinnedIndex = () => {\n      var _ref4, _visiblePinnedRowIds$;\n      const position = row.getIsPinned();\n      if (!position) return -1;\n      const visiblePinnedRowIds = (_ref4 = position === 'top' ? table.getTopRows() : table.getBottomRows()) == null ? void 0 : _ref4.map(_ref5 => {\n        let {\n          id\n        } = _ref5;\n        return id;\n      });\n      return (_visiblePinnedRowIds$ = visiblePinnedRowIds == null ? void 0 : visiblePinnedRowIds.indexOf(row.id)) != null ? _visiblePinnedRowIds$ : -1;\n    };\n  },\n  createTable: table => {\n    table.setRowPinning = updater => table.options.onRowPinningChange == null ? void 0 : table.options.onRowPinningChange(updater);\n    table.resetRowPinning = defaultState => {\n      var _table$initialState$r, _table$initialState;\n      return table.setRowPinning(defaultState ? getDefaultRowPinningState() : (_table$initialState$r = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.rowPinning) != null ? _table$initialState$r : getDefaultRowPinningState());\n    };\n    table.getIsSomeRowsPinned = position => {\n      var _pinningState$positio;\n      const pinningState = table.getState().rowPinning;\n      if (!position) {\n        var _pinningState$top, _pinningState$bottom;\n        return Boolean(((_pinningState$top = pinningState.top) == null ? void 0 : _pinningState$top.length) || ((_pinningState$bottom = pinningState.bottom) == null ? void 0 : _pinningState$bottom.length));\n      }\n      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);\n    };\n    table._getPinnedRows = (visibleRows, pinnedRowIds, position) => {\n      var _table$options$keepPi;\n      const rows = ((_table$options$keepPi = table.options.keepPinnedRows) != null ? _table$options$keepPi : true) ?\n      //get all rows that are pinned even if they would not be otherwise visible\n      //account for expanded parent rows, but not pagination or filtering\n      (pinnedRowIds != null ? pinnedRowIds : []).map(rowId => {\n        const row = table.getRow(rowId, true);\n        return row.getIsAllParentsExpanded() ? row : null;\n      }) :\n      //else get only visible rows that are pinned\n      (pinnedRowIds != null ? pinnedRowIds : []).map(rowId => visibleRows.find(row => row.id === rowId));\n      return rows.filter(Boolean).map(d => ({\n        ...d,\n        position\n      }));\n    };\n    table.getTopRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top], (allRows, topPinnedRowIds) => table._getPinnedRows(allRows, topPinnedRowIds, 'top'), getMemoOptions(table.options, 'debugRows', 'getTopRows'));\n    table.getBottomRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.bottom], (allRows, bottomPinnedRowIds) => table._getPinnedRows(allRows, bottomPinnedRowIds, 'bottom'), getMemoOptions(table.options, 'debugRows', 'getBottomRows'));\n    table.getCenterRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top, table.getState().rowPinning.bottom], (allRows, top, bottom) => {\n      const topAndBottom = new Set([...(top != null ? top : []), ...(bottom != null ? bottom : [])]);\n      return allRows.filter(d => !topAndBottom.has(d.id));\n    }, getMemoOptions(table.options, 'debugRows', 'getCenterRows'));\n  }\n};\n\n//\n\nconst RowSelection = {\n  getInitialState: state => {\n    return {\n      rowSelection: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onRowSelectionChange: makeStateUpdater('rowSelection', table),\n      enableRowSelection: true,\n      enableMultiRowSelection: true,\n      enableSubRowSelection: true\n      // enableGroupingRowSelection: false,\n      // isAdditiveSelectEvent: (e: unknown) => !!e.metaKey,\n      // isInclusiveSelectEvent: (e: unknown) => !!e.shiftKey,\n    };\n  },\n  createTable: table => {\n    table.setRowSelection = updater => table.options.onRowSelectionChange == null ? void 0 : table.options.onRowSelectionChange(updater);\n    table.resetRowSelection = defaultState => {\n      var _table$initialState$r;\n      return table.setRowSelection(defaultState ? {} : (_table$initialState$r = table.initialState.rowSelection) != null ? _table$initialState$r : {});\n    };\n    table.toggleAllRowsSelected = value => {\n      table.setRowSelection(old => {\n        value = typeof value !== 'undefined' ? value : !table.getIsAllRowsSelected();\n        const rowSelection = {\n          ...old\n        };\n        const preGroupedFlatRows = table.getPreGroupedRowModel().flatRows;\n\n        // We don't use `mutateRowIsSelected` here for performance reasons.\n        // All of the rows are flat already, so it wouldn't be worth it\n        if (value) {\n          preGroupedFlatRows.forEach(row => {\n            if (!row.getCanSelect()) {\n              return;\n            }\n            rowSelection[row.id] = true;\n          });\n        } else {\n          preGroupedFlatRows.forEach(row => {\n            delete rowSelection[row.id];\n          });\n        }\n        return rowSelection;\n      });\n    };\n    table.toggleAllPageRowsSelected = value => table.setRowSelection(old => {\n      const resolvedValue = typeof value !== 'undefined' ? value : !table.getIsAllPageRowsSelected();\n      const rowSelection = {\n        ...old\n      };\n      table.getRowModel().rows.forEach(row => {\n        mutateRowIsSelected(rowSelection, row.id, resolvedValue, true, table);\n      });\n      return rowSelection;\n    });\n\n    // addRowSelectionRange: rowId => {\n    //   const {\n    //     rows,\n    //     rowsById,\n    //     options: { selectGroupingRows, selectSubRows },\n    //   } = table\n\n    //   const findSelectedRow = (rows: Row[]) => {\n    //     let found\n    //     rows.find(d => {\n    //       if (d.getIsSelected()) {\n    //         found = d\n    //         return true\n    //       }\n    //       const subFound = findSelectedRow(d.subRows || [])\n    //       if (subFound) {\n    //         found = subFound\n    //         return true\n    //       }\n    //       return false\n    //     })\n    //     return found\n    //   }\n\n    //   const firstRow = findSelectedRow(rows) || rows[0]\n    //   const lastRow = rowsById[rowId]\n\n    //   let include = false\n    //   const selectedRowIds = {}\n\n    //   const addRow = (row: Row) => {\n    //     mutateRowIsSelected(selectedRowIds, row.id, true, {\n    //       rowsById,\n    //       selectGroupingRows: selectGroupingRows!,\n    //       selectSubRows: selectSubRows!,\n    //     })\n    //   }\n\n    //   table.rows.forEach(row => {\n    //     const isFirstRow = row.id === firstRow.id\n    //     const isLastRow = row.id === lastRow.id\n\n    //     if (isFirstRow || isLastRow) {\n    //       if (!include) {\n    //         include = true\n    //       } else if (include) {\n    //         addRow(row)\n    //         include = false\n    //       }\n    //     }\n\n    //     if (include) {\n    //       addRow(row)\n    //     }\n    //   })\n\n    //   table.setRowSelection(selectedRowIds)\n    // },\n    table.getPreSelectedRowModel = () => table.getCoreRowModel();\n    table.getSelectedRowModel = memo(() => [table.getState().rowSelection, table.getCoreRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getSelectedRowModel'));\n    table.getFilteredSelectedRowModel = memo(() => [table.getState().rowSelection, table.getFilteredRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getFilteredSelectedRowModel'));\n    table.getGroupedSelectedRowModel = memo(() => [table.getState().rowSelection, table.getSortedRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getGroupedSelectedRowModel'));\n\n    ///\n\n    // getGroupingRowCanSelect: rowId => {\n    //   const row = table.getRow(rowId)\n\n    //   if (!row) {\n    //     throw new Error()\n    //   }\n\n    //   if (typeof table.options.enableGroupingRowSelection === 'function') {\n    //     return table.options.enableGroupingRowSelection(row)\n    //   }\n\n    //   return table.options.enableGroupingRowSelection ?? false\n    // },\n\n    table.getIsAllRowsSelected = () => {\n      const preGroupedFlatRows = table.getFilteredRowModel().flatRows;\n      const {\n        rowSelection\n      } = table.getState();\n      let isAllRowsSelected = Boolean(preGroupedFlatRows.length && Object.keys(rowSelection).length);\n      if (isAllRowsSelected) {\n        if (preGroupedFlatRows.some(row => row.getCanSelect() && !rowSelection[row.id])) {\n          isAllRowsSelected = false;\n        }\n      }\n      return isAllRowsSelected;\n    };\n    table.getIsAllPageRowsSelected = () => {\n      const paginationFlatRows = table.getPaginationRowModel().flatRows.filter(row => row.getCanSelect());\n      const {\n        rowSelection\n      } = table.getState();\n      let isAllPageRowsSelected = !!paginationFlatRows.length;\n      if (isAllPageRowsSelected && paginationFlatRows.some(row => !rowSelection[row.id])) {\n        isAllPageRowsSelected = false;\n      }\n      return isAllPageRowsSelected;\n    };\n    table.getIsSomeRowsSelected = () => {\n      var _table$getState$rowSe;\n      const totalSelected = Object.keys((_table$getState$rowSe = table.getState().rowSelection) != null ? _table$getState$rowSe : {}).length;\n      return totalSelected > 0 && totalSelected < table.getFilteredRowModel().flatRows.length;\n    };\n    table.getIsSomePageRowsSelected = () => {\n      const paginationFlatRows = table.getPaginationRowModel().flatRows;\n      return table.getIsAllPageRowsSelected() ? false : paginationFlatRows.filter(row => row.getCanSelect()).some(d => d.getIsSelected() || d.getIsSomeSelected());\n    };\n    table.getToggleAllRowsSelectedHandler = () => {\n      return e => {\n        table.toggleAllRowsSelected(e.target.checked);\n      };\n    };\n    table.getToggleAllPageRowsSelectedHandler = () => {\n      return e => {\n        table.toggleAllPageRowsSelected(e.target.checked);\n      };\n    };\n  },\n  createRow: (row, table) => {\n    row.toggleSelected = (value, opts) => {\n      const isSelected = row.getIsSelected();\n      table.setRowSelection(old => {\n        var _opts$selectChildren;\n        value = typeof value !== 'undefined' ? value : !isSelected;\n        if (row.getCanSelect() && isSelected === value) {\n          return old;\n        }\n        const selectedRowIds = {\n          ...old\n        };\n        mutateRowIsSelected(selectedRowIds, row.id, value, (_opts$selectChildren = opts == null ? void 0 : opts.selectChildren) != null ? _opts$selectChildren : true, table);\n        return selectedRowIds;\n      });\n    };\n    row.getIsSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isRowSelected(row, rowSelection);\n    };\n    row.getIsSomeSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isSubRowSelected(row, rowSelection) === 'some';\n    };\n    row.getIsAllSubRowsSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isSubRowSelected(row, rowSelection) === 'all';\n    };\n    row.getCanSelect = () => {\n      var _table$options$enable;\n      if (typeof table.options.enableRowSelection === 'function') {\n        return table.options.enableRowSelection(row);\n      }\n      return (_table$options$enable = table.options.enableRowSelection) != null ? _table$options$enable : true;\n    };\n    row.getCanSelectSubRows = () => {\n      var _table$options$enable2;\n      if (typeof table.options.enableSubRowSelection === 'function') {\n        return table.options.enableSubRowSelection(row);\n      }\n      return (_table$options$enable2 = table.options.enableSubRowSelection) != null ? _table$options$enable2 : true;\n    };\n    row.getCanMultiSelect = () => {\n      var _table$options$enable3;\n      if (typeof table.options.enableMultiRowSelection === 'function') {\n        return table.options.enableMultiRowSelection(row);\n      }\n      return (_table$options$enable3 = table.options.enableMultiRowSelection) != null ? _table$options$enable3 : true;\n    };\n    row.getToggleSelectedHandler = () => {\n      const canSelect = row.getCanSelect();\n      return e => {\n        var _target;\n        if (!canSelect) return;\n        row.toggleSelected((_target = e.target) == null ? void 0 : _target.checked);\n      };\n    };\n  }\n};\nconst mutateRowIsSelected = (selectedRowIds, id, value, includeChildren, table) => {\n  var _row$subRows;\n  const row = table.getRow(id, true);\n\n  // const isGrouped = row.getIsGrouped()\n\n  // if ( // TODO: enforce grouping row selection rules\n  //   !isGrouped ||\n  //   (isGrouped && table.options.enableGroupingRowSelection)\n  // ) {\n  if (value) {\n    if (!row.getCanMultiSelect()) {\n      Object.keys(selectedRowIds).forEach(key => delete selectedRowIds[key]);\n    }\n    if (row.getCanSelect()) {\n      selectedRowIds[id] = true;\n    }\n  } else {\n    delete selectedRowIds[id];\n  }\n  // }\n\n  if (includeChildren && (_row$subRows = row.subRows) != null && _row$subRows.length && row.getCanSelectSubRows()) {\n    row.subRows.forEach(row => mutateRowIsSelected(selectedRowIds, row.id, value, includeChildren, table));\n  }\n};\nfunction selectRowsFn(table, rowModel) {\n  const rowSelection = table.getState().rowSelection;\n  const newSelectedFlatRows = [];\n  const newSelectedRowsById = {};\n\n  // Filters top level and nested rows\n  const recurseRows = function (rows, depth) {\n    return rows.map(row => {\n      var _row$subRows2;\n      const isSelected = isRowSelected(row, rowSelection);\n      if (isSelected) {\n        newSelectedFlatRows.push(row);\n        newSelectedRowsById[row.id] = row;\n      }\n      if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length) {\n        row = {\n          ...row,\n          subRows: recurseRows(row.subRows)\n        };\n      }\n      if (isSelected) {\n        return row;\n      }\n    }).filter(Boolean);\n  };\n  return {\n    rows: recurseRows(rowModel.rows),\n    flatRows: newSelectedFlatRows,\n    rowsById: newSelectedRowsById\n  };\n}\nfunction isRowSelected(row, selection) {\n  var _selection$row$id;\n  return (_selection$row$id = selection[row.id]) != null ? _selection$row$id : false;\n}\nfunction isSubRowSelected(row, selection, table) {\n  var _row$subRows3;\n  if (!((_row$subRows3 = row.subRows) != null && _row$subRows3.length)) return false;\n  let allChildrenSelected = true;\n  let someSelected = false;\n  row.subRows.forEach(subRow => {\n    // Bail out early if we know both of these\n    if (someSelected && !allChildrenSelected) {\n      return;\n    }\n    if (subRow.getCanSelect()) {\n      if (isRowSelected(subRow, selection)) {\n        someSelected = true;\n      } else {\n        allChildrenSelected = false;\n      }\n    }\n\n    // Check row selection of nested subrows\n    if (subRow.subRows && subRow.subRows.length) {\n      const subRowChildrenSelected = isSubRowSelected(subRow, selection);\n      if (subRowChildrenSelected === 'all') {\n        someSelected = true;\n      } else if (subRowChildrenSelected === 'some') {\n        someSelected = true;\n        allChildrenSelected = false;\n      } else {\n        allChildrenSelected = false;\n      }\n    }\n  });\n  return allChildrenSelected ? 'all' : someSelected ? 'some' : false;\n}\n\nconst reSplitAlphaNumeric = /([0-9]+)/gm;\nconst alphanumeric = (rowA, rowB, columnId) => {\n  return compareAlphanumeric(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());\n};\nconst alphanumericCaseSensitive = (rowA, rowB, columnId) => {\n  return compareAlphanumeric(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));\n};\n\n// The text filter is more basic (less numeric support)\n// but is much faster\nconst text = (rowA, rowB, columnId) => {\n  return compareBasic(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());\n};\n\n// The text filter is more basic (less numeric support)\n// but is much faster\nconst textCaseSensitive = (rowA, rowB, columnId) => {\n  return compareBasic(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));\n};\nconst datetime = (rowA, rowB, columnId) => {\n  const a = rowA.getValue(columnId);\n  const b = rowB.getValue(columnId);\n\n  // Can handle nullish values\n  // Use > and < because == (and ===) doesn't work with\n  // Date objects (would require calling getTime()).\n  return a > b ? 1 : a < b ? -1 : 0;\n};\nconst basic = (rowA, rowB, columnId) => {\n  return compareBasic(rowA.getValue(columnId), rowB.getValue(columnId));\n};\n\n// Utils\n\nfunction compareBasic(a, b) {\n  return a === b ? 0 : a > b ? 1 : -1;\n}\nfunction toString(a) {\n  if (typeof a === 'number') {\n    if (isNaN(a) || a === Infinity || a === -Infinity) {\n      return '';\n    }\n    return String(a);\n  }\n  if (typeof a === 'string') {\n    return a;\n  }\n  return '';\n}\n\n// Mixed sorting is slow, but very inclusive of many edge cases.\n// It handles numbers, mixed alphanumeric combinations, and even\n// null, undefined, and Infinity\nfunction compareAlphanumeric(aStr, bStr) {\n  // Split on number groups, but keep the delimiter\n  // Then remove falsey split values\n  const a = aStr.split(reSplitAlphaNumeric).filter(Boolean);\n  const b = bStr.split(reSplitAlphaNumeric).filter(Boolean);\n\n  // While\n  while (a.length && b.length) {\n    const aa = a.shift();\n    const bb = b.shift();\n    const an = parseInt(aa, 10);\n    const bn = parseInt(bb, 10);\n    const combo = [an, bn].sort();\n\n    // Both are string\n    if (isNaN(combo[0])) {\n      if (aa > bb) {\n        return 1;\n      }\n      if (bb > aa) {\n        return -1;\n      }\n      continue;\n    }\n\n    // One is a string, one is a number\n    if (isNaN(combo[1])) {\n      return isNaN(an) ? -1 : 1;\n    }\n\n    // Both are numbers\n    if (an > bn) {\n      return 1;\n    }\n    if (bn > an) {\n      return -1;\n    }\n  }\n  return a.length - b.length;\n}\n\n// Exports\n\nconst sortingFns = {\n  alphanumeric,\n  alphanumericCaseSensitive,\n  text,\n  textCaseSensitive,\n  datetime,\n  basic\n};\n\n//\n\nconst RowSorting = {\n  getInitialState: state => {\n    return {\n      sorting: [],\n      ...state\n    };\n  },\n  getDefaultColumnDef: () => {\n    return {\n      sortingFn: 'auto',\n      sortUndefined: 1\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onSortingChange: makeStateUpdater('sorting', table),\n      isMultiSortEvent: e => {\n        return e.shiftKey;\n      }\n    };\n  },\n  createColumn: (column, table) => {\n    column.getAutoSortingFn = () => {\n      const firstRows = table.getFilteredRowModel().flatRows.slice(10);\n      let isString = false;\n      for (const row of firstRows) {\n        const value = row == null ? void 0 : row.getValue(column.id);\n        if (Object.prototype.toString.call(value) === '[object Date]') {\n          return sortingFns.datetime;\n        }\n        if (typeof value === 'string') {\n          isString = true;\n          if (value.split(reSplitAlphaNumeric).length > 1) {\n            return sortingFns.alphanumeric;\n          }\n        }\n      }\n      if (isString) {\n        return sortingFns.text;\n      }\n      return sortingFns.basic;\n    };\n    column.getAutoSortDir = () => {\n      const firstRow = table.getFilteredRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'string') {\n        return 'asc';\n      }\n      return 'desc';\n    };\n    column.getSortingFn = () => {\n      var _table$options$sortin, _table$options$sortin2;\n      if (!column) {\n        throw new Error();\n      }\n      return isFunction(column.columnDef.sortingFn) ? column.columnDef.sortingFn : column.columnDef.sortingFn === 'auto' ? column.getAutoSortingFn() : (_table$options$sortin = (_table$options$sortin2 = table.options.sortingFns) == null ? void 0 : _table$options$sortin2[column.columnDef.sortingFn]) != null ? _table$options$sortin : sortingFns[column.columnDef.sortingFn];\n    };\n    column.toggleSorting = (desc, multi) => {\n      // if (column.columns.length) {\n      //   column.columns.forEach((c, i) => {\n      //     if (c.id) {\n      //       table.toggleColumnSorting(c.id, undefined, multi || !!i)\n      //     }\n      //   })\n      //   return\n      // }\n\n      // this needs to be outside of table.setSorting to be in sync with rerender\n      const nextSortingOrder = column.getNextSortingOrder();\n      const hasManualValue = typeof desc !== 'undefined' && desc !== null;\n      table.setSorting(old => {\n        // Find any existing sorting for this column\n        const existingSorting = old == null ? void 0 : old.find(d => d.id === column.id);\n        const existingIndex = old == null ? void 0 : old.findIndex(d => d.id === column.id);\n        let newSorting = [];\n\n        // What should we do with this sort action?\n        let sortAction;\n        let nextDesc = hasManualValue ? desc : nextSortingOrder === 'desc';\n\n        // Multi-mode\n        if (old != null && old.length && column.getCanMultiSort() && multi) {\n          if (existingSorting) {\n            sortAction = 'toggle';\n          } else {\n            sortAction = 'add';\n          }\n        } else {\n          // Normal mode\n          if (old != null && old.length && existingIndex !== old.length - 1) {\n            sortAction = 'replace';\n          } else if (existingSorting) {\n            sortAction = 'toggle';\n          } else {\n            sortAction = 'replace';\n          }\n        }\n\n        // Handle toggle states that will remove the sorting\n        if (sortAction === 'toggle') {\n          // If we are \"actually\" toggling (not a manual set value), should we remove the sorting?\n          if (!hasManualValue) {\n            // Is our intention to remove?\n            if (!nextSortingOrder) {\n              sortAction = 'remove';\n            }\n          }\n        }\n        if (sortAction === 'add') {\n          var _table$options$maxMul;\n          newSorting = [...old, {\n            id: column.id,\n            desc: nextDesc\n          }];\n          // Take latest n columns\n          newSorting.splice(0, newSorting.length - ((_table$options$maxMul = table.options.maxMultiSortColCount) != null ? _table$options$maxMul : Number.MAX_SAFE_INTEGER));\n        } else if (sortAction === 'toggle') {\n          // This flips (or sets) the\n          newSorting = old.map(d => {\n            if (d.id === column.id) {\n              return {\n                ...d,\n                desc: nextDesc\n              };\n            }\n            return d;\n          });\n        } else if (sortAction === 'remove') {\n          newSorting = old.filter(d => d.id !== column.id);\n        } else {\n          newSorting = [{\n            id: column.id,\n            desc: nextDesc\n          }];\n        }\n        return newSorting;\n      });\n    };\n    column.getFirstSortDir = () => {\n      var _ref, _column$columnDef$sor;\n      const sortDescFirst = (_ref = (_column$columnDef$sor = column.columnDef.sortDescFirst) != null ? _column$columnDef$sor : table.options.sortDescFirst) != null ? _ref : column.getAutoSortDir() === 'desc';\n      return sortDescFirst ? 'desc' : 'asc';\n    };\n    column.getNextSortingOrder = multi => {\n      var _table$options$enable, _table$options$enable2;\n      const firstSortDirection = column.getFirstSortDir();\n      const isSorted = column.getIsSorted();\n      if (!isSorted) {\n        return firstSortDirection;\n      }\n      if (isSorted !== firstSortDirection && ((_table$options$enable = table.options.enableSortingRemoval) != null ? _table$options$enable : true) && (\n      // If enableSortRemove, enable in general\n      multi ? (_table$options$enable2 = table.options.enableMultiRemove) != null ? _table$options$enable2 : true : true) // If multi, don't allow if enableMultiRemove))\n      ) {\n        return false;\n      }\n      return isSorted === 'desc' ? 'asc' : 'desc';\n    };\n    column.getCanSort = () => {\n      var _column$columnDef$ena, _table$options$enable3;\n      return ((_column$columnDef$ena = column.columnDef.enableSorting) != null ? _column$columnDef$ena : true) && ((_table$options$enable3 = table.options.enableSorting) != null ? _table$options$enable3 : true) && !!column.accessorFn;\n    };\n    column.getCanMultiSort = () => {\n      var _ref2, _column$columnDef$ena2;\n      return (_ref2 = (_column$columnDef$ena2 = column.columnDef.enableMultiSort) != null ? _column$columnDef$ena2 : table.options.enableMultiSort) != null ? _ref2 : !!column.accessorFn;\n    };\n    column.getIsSorted = () => {\n      var _table$getState$sorti;\n      const columnSort = (_table$getState$sorti = table.getState().sorting) == null ? void 0 : _table$getState$sorti.find(d => d.id === column.id);\n      return !columnSort ? false : columnSort.desc ? 'desc' : 'asc';\n    };\n    column.getSortIndex = () => {\n      var _table$getState$sorti2, _table$getState$sorti3;\n      return (_table$getState$sorti2 = (_table$getState$sorti3 = table.getState().sorting) == null ? void 0 : _table$getState$sorti3.findIndex(d => d.id === column.id)) != null ? _table$getState$sorti2 : -1;\n    };\n    column.clearSorting = () => {\n      //clear sorting for just 1 column\n      table.setSorting(old => old != null && old.length ? old.filter(d => d.id !== column.id) : []);\n    };\n    column.getToggleSortingHandler = () => {\n      const canSort = column.getCanSort();\n      return e => {\n        if (!canSort) return;\n        e.persist == null || e.persist();\n        column.toggleSorting == null || column.toggleSorting(undefined, column.getCanMultiSort() ? table.options.isMultiSortEvent == null ? void 0 : table.options.isMultiSortEvent(e) : false);\n      };\n    };\n  },\n  createTable: table => {\n    table.setSorting = updater => table.options.onSortingChange == null ? void 0 : table.options.onSortingChange(updater);\n    table.resetSorting = defaultState => {\n      var _table$initialState$s, _table$initialState;\n      table.setSorting(defaultState ? [] : (_table$initialState$s = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.sorting) != null ? _table$initialState$s : []);\n    };\n    table.getPreSortedRowModel = () => table.getGroupedRowModel();\n    table.getSortedRowModel = () => {\n      if (!table._getSortedRowModel && table.options.getSortedRowModel) {\n        table._getSortedRowModel = table.options.getSortedRowModel(table);\n      }\n      if (table.options.manualSorting || !table._getSortedRowModel) {\n        return table.getPreSortedRowModel();\n      }\n      return table._getSortedRowModel();\n    };\n  }\n};\n\nconst builtInFeatures = [Headers, ColumnVisibility, ColumnOrdering, ColumnPinning, ColumnFaceting, ColumnFiltering, GlobalFaceting,\n//depends on ColumnFaceting\nGlobalFiltering,\n//depends on ColumnFiltering\nRowSorting, ColumnGrouping,\n//depends on RowSorting\nRowExpanding, RowPagination, RowPinning, RowSelection, ColumnSizing];\n\n//\n\nfunction createTable(options) {\n  var _options$_features, _options$initialState;\n  if (process.env.NODE_ENV !== 'production' && (options.debugAll || options.debugTable)) {\n    console.info('Creating Table Instance...');\n  }\n  const _features = [...builtInFeatures, ...((_options$_features = options._features) != null ? _options$_features : [])];\n  let table = {\n    _features\n  };\n  const defaultOptions = table._features.reduce((obj, feature) => {\n    return Object.assign(obj, feature.getDefaultOptions == null ? void 0 : feature.getDefaultOptions(table));\n  }, {});\n  const mergeOptions = options => {\n    if (table.options.mergeOptions) {\n      return table.options.mergeOptions(defaultOptions, options);\n    }\n    return {\n      ...defaultOptions,\n      ...options\n    };\n  };\n  const coreInitialState = {};\n  let initialState = {\n    ...coreInitialState,\n    ...((_options$initialState = options.initialState) != null ? _options$initialState : {})\n  };\n  table._features.forEach(feature => {\n    var _feature$getInitialSt;\n    initialState = (_feature$getInitialSt = feature.getInitialState == null ? void 0 : feature.getInitialState(initialState)) != null ? _feature$getInitialSt : initialState;\n  });\n  const queued = [];\n  let queuedTimeout = false;\n  const coreInstance = {\n    _features,\n    options: {\n      ...defaultOptions,\n      ...options\n    },\n    initialState,\n    _queue: cb => {\n      queued.push(cb);\n      if (!queuedTimeout) {\n        queuedTimeout = true;\n\n        // Schedule a microtask to run the queued callbacks after\n        // the current call stack (render, etc) has finished.\n        Promise.resolve().then(() => {\n          while (queued.length) {\n            queued.shift()();\n          }\n          queuedTimeout = false;\n        }).catch(error => setTimeout(() => {\n          throw error;\n        }));\n      }\n    },\n    reset: () => {\n      table.setState(table.initialState);\n    },\n    setOptions: updater => {\n      const newOptions = functionalUpdate(updater, table.options);\n      table.options = mergeOptions(newOptions);\n    },\n    getState: () => {\n      return table.options.state;\n    },\n    setState: updater => {\n      table.options.onStateChange == null || table.options.onStateChange(updater);\n    },\n    _getRowId: (row, index, parent) => {\n      var _table$options$getRow;\n      return (_table$options$getRow = table.options.getRowId == null ? void 0 : table.options.getRowId(row, index, parent)) != null ? _table$options$getRow : `${parent ? [parent.id, index].join('.') : index}`;\n    },\n    getCoreRowModel: () => {\n      if (!table._getCoreRowModel) {\n        table._getCoreRowModel = table.options.getCoreRowModel(table);\n      }\n      return table._getCoreRowModel();\n    },\n    // The final calls start at the bottom of the model,\n    // expanded rows, which then work their way up\n\n    getRowModel: () => {\n      return table.getPaginationRowModel();\n    },\n    //in next version, we should just pass in the row model as the optional 2nd arg\n    getRow: (id, searchAll) => {\n      let row = (searchAll ? table.getPrePaginationRowModel() : table.getRowModel()).rowsById[id];\n      if (!row) {\n        row = table.getCoreRowModel().rowsById[id];\n        if (!row) {\n          if (process.env.NODE_ENV !== 'production') {\n            throw new Error(`getRow could not find row with ID: ${id}`);\n          }\n          throw new Error();\n        }\n      }\n      return row;\n    },\n    _getDefaultColumnDef: memo(() => [table.options.defaultColumn], defaultColumn => {\n      var _defaultColumn;\n      defaultColumn = (_defaultColumn = defaultColumn) != null ? _defaultColumn : {};\n      return {\n        header: props => {\n          const resolvedColumnDef = props.header.column.columnDef;\n          if (resolvedColumnDef.accessorKey) {\n            return resolvedColumnDef.accessorKey;\n          }\n          if (resolvedColumnDef.accessorFn) {\n            return resolvedColumnDef.id;\n          }\n          return null;\n        },\n        // footer: props => props.header.column.id,\n        cell: props => {\n          var _props$renderValue$to, _props$renderValue;\n          return (_props$renderValue$to = (_props$renderValue = props.renderValue()) == null || _props$renderValue.toString == null ? void 0 : _props$renderValue.toString()) != null ? _props$renderValue$to : null;\n        },\n        ...table._features.reduce((obj, feature) => {\n          return Object.assign(obj, feature.getDefaultColumnDef == null ? void 0 : feature.getDefaultColumnDef());\n        }, {}),\n        ...defaultColumn\n      };\n    }, getMemoOptions(options, 'debugColumns', '_getDefaultColumnDef')),\n    _getColumnDefs: () => table.options.columns,\n    getAllColumns: memo(() => [table._getColumnDefs()], columnDefs => {\n      const recurseColumns = function (columnDefs, parent, depth) {\n        if (depth === void 0) {\n          depth = 0;\n        }\n        return columnDefs.map(columnDef => {\n          const column = createColumn(table, columnDef, depth, parent);\n          const groupingColumnDef = columnDef;\n          column.columns = groupingColumnDef.columns ? recurseColumns(groupingColumnDef.columns, column, depth + 1) : [];\n          return column;\n        });\n      };\n      return recurseColumns(columnDefs);\n    }, getMemoOptions(options, 'debugColumns', 'getAllColumns')),\n    getAllFlatColumns: memo(() => [table.getAllColumns()], allColumns => {\n      return allColumns.flatMap(column => {\n        return column.getFlatColumns();\n      });\n    }, getMemoOptions(options, 'debugColumns', 'getAllFlatColumns')),\n    _getAllFlatColumnsById: memo(() => [table.getAllFlatColumns()], flatColumns => {\n      return flatColumns.reduce((acc, column) => {\n        acc[column.id] = column;\n        return acc;\n      }, {});\n    }, getMemoOptions(options, 'debugColumns', 'getAllFlatColumnsById')),\n    getAllLeafColumns: memo(() => [table.getAllColumns(), table._getOrderColumnsFn()], (allColumns, orderColumns) => {\n      let leafColumns = allColumns.flatMap(column => column.getLeafColumns());\n      return orderColumns(leafColumns);\n    }, getMemoOptions(options, 'debugColumns', 'getAllLeafColumns')),\n    getColumn: columnId => {\n      const column = table._getAllFlatColumnsById()[columnId];\n      if (process.env.NODE_ENV !== 'production' && !column) {\n        console.error(`[Table] Column with id '${columnId}' does not exist.`);\n      }\n      return column;\n    }\n  };\n  Object.assign(table, coreInstance);\n  for (let index = 0; index < table._features.length; index++) {\n    const feature = table._features[index];\n    feature == null || feature.createTable == null || feature.createTable(table);\n  }\n  return table;\n}\n\nfunction getCoreRowModel() {\n  return table => memo(() => [table.options.data], data => {\n    const rowModel = {\n      rows: [],\n      flatRows: [],\n      rowsById: {}\n    };\n    const accessRows = function (originalRows, depth, parentRow) {\n      if (depth === void 0) {\n        depth = 0;\n      }\n      const rows = [];\n      for (let i = 0; i < originalRows.length; i++) {\n        // This could be an expensive check at scale, so we should move it somewhere else, but where?\n        // if (!id) {\n        //   if (process.env.NODE_ENV !== 'production') {\n        //     throw new Error(`getRowId expected an ID, but got ${id}`)\n        //   }\n        // }\n\n        // Make the row\n        const row = createRow(table, table._getRowId(originalRows[i], i, parentRow), originalRows[i], i, depth, undefined, parentRow == null ? void 0 : parentRow.id);\n\n        // Keep track of every row in a flat array\n        rowModel.flatRows.push(row);\n        // Also keep track of every row by its ID\n        rowModel.rowsById[row.id] = row;\n        // Push table row into parent\n        rows.push(row);\n\n        // Get the original subrows\n        if (table.options.getSubRows) {\n          var _row$originalSubRows;\n          row.originalSubRows = table.options.getSubRows(originalRows[i], i);\n\n          // Then recursively access them\n          if ((_row$originalSubRows = row.originalSubRows) != null && _row$originalSubRows.length) {\n            row.subRows = accessRows(row.originalSubRows, depth + 1, row);\n          }\n        }\n      }\n      return rows;\n    };\n    rowModel.rows = accessRows(data);\n    return rowModel;\n  }, getMemoOptions(table.options, 'debugTable', 'getRowModel', () => table._autoResetPageIndex()));\n}\n\nfunction getExpandedRowModel() {\n  return table => memo(() => [table.getState().expanded, table.getPreExpandedRowModel(), table.options.paginateExpandedRows], (expanded, rowModel, paginateExpandedRows) => {\n    if (!rowModel.rows.length || expanded !== true && !Object.keys(expanded != null ? expanded : {}).length) {\n      return rowModel;\n    }\n    if (!paginateExpandedRows) {\n      // Only expand rows at this point if they are being paginated\n      return rowModel;\n    }\n    return expandRows(rowModel);\n  }, getMemoOptions(table.options, 'debugTable', 'getExpandedRowModel'));\n}\nfunction expandRows(rowModel) {\n  const expandedRows = [];\n  const handleRow = row => {\n    var _row$subRows;\n    expandedRows.push(row);\n    if ((_row$subRows = row.subRows) != null && _row$subRows.length && row.getIsExpanded()) {\n      row.subRows.forEach(handleRow);\n    }\n  };\n  rowModel.rows.forEach(handleRow);\n  return {\n    rows: expandedRows,\n    flatRows: rowModel.flatRows,\n    rowsById: rowModel.rowsById\n  };\n}\n\nfunction getFacetedMinMaxValues() {\n  return (table, columnId) => memo(() => {\n    var _table$getColumn;\n    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];\n  }, facetedRowModel => {\n    if (!facetedRowModel) return undefined;\n    const uniqueValues = facetedRowModel.flatRows.flatMap(flatRow => {\n      var _flatRow$getUniqueVal;\n      return (_flatRow$getUniqueVal = flatRow.getUniqueValues(columnId)) != null ? _flatRow$getUniqueVal : [];\n    }).map(Number).filter(value => !Number.isNaN(value));\n    if (!uniqueValues.length) return;\n    let facetedMinValue = uniqueValues[0];\n    let facetedMaxValue = uniqueValues[uniqueValues.length - 1];\n    for (const value of uniqueValues) {\n      if (value < facetedMinValue) facetedMinValue = value;else if (value > facetedMaxValue) facetedMaxValue = value;\n    }\n    return [facetedMinValue, facetedMaxValue];\n  }, getMemoOptions(table.options, 'debugTable', 'getFacetedMinMaxValues'));\n}\n\nfunction filterRows(rows, filterRowImpl, table) {\n  if (table.options.filterFromLeafRows) {\n    return filterRowModelFromLeafs(rows, filterRowImpl, table);\n  }\n  return filterRowModelFromRoot(rows, filterRowImpl, table);\n}\nfunction filterRowModelFromLeafs(rowsToFilter, filterRow, table) {\n  var _table$options$maxLea;\n  const newFilteredFlatRows = [];\n  const newFilteredRowsById = {};\n  const maxDepth = (_table$options$maxLea = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea : 100;\n  const recurseFilterRows = function (rowsToFilter, depth) {\n    if (depth === void 0) {\n      depth = 0;\n    }\n    const rows = [];\n\n    // Filter from children up first\n    for (let i = 0; i < rowsToFilter.length; i++) {\n      var _row$subRows;\n      let row = rowsToFilter[i];\n      const newRow = createRow(table, row.id, row.original, row.index, row.depth, undefined, row.parentId);\n      newRow.columnFilters = row.columnFilters;\n      if ((_row$subRows = row.subRows) != null && _row$subRows.length && depth < maxDepth) {\n        newRow.subRows = recurseFilterRows(row.subRows, depth + 1);\n        row = newRow;\n        if (filterRow(row) && !newRow.subRows.length) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n          continue;\n        }\n        if (filterRow(row) || newRow.subRows.length) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n          continue;\n        }\n      } else {\n        row = newRow;\n        if (filterRow(row)) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n        }\n      }\n    }\n    return rows;\n  };\n  return {\n    rows: recurseFilterRows(rowsToFilter),\n    flatRows: newFilteredFlatRows,\n    rowsById: newFilteredRowsById\n  };\n}\nfunction filterRowModelFromRoot(rowsToFilter, filterRow, table) {\n  var _table$options$maxLea2;\n  const newFilteredFlatRows = [];\n  const newFilteredRowsById = {};\n  const maxDepth = (_table$options$maxLea2 = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea2 : 100;\n\n  // Filters top level and nested rows\n  const recurseFilterRows = function (rowsToFilter, depth) {\n    if (depth === void 0) {\n      depth = 0;\n    }\n    // Filter from parents downward first\n\n    const rows = [];\n\n    // Apply the filter to any subRows\n    for (let i = 0; i < rowsToFilter.length; i++) {\n      let row = rowsToFilter[i];\n      const pass = filterRow(row);\n      if (pass) {\n        var _row$subRows2;\n        if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length && depth < maxDepth) {\n          const newRow = createRow(table, row.id, row.original, row.index, row.depth, undefined, row.parentId);\n          newRow.subRows = recurseFilterRows(row.subRows, depth + 1);\n          row = newRow;\n        }\n        rows.push(row);\n        newFilteredFlatRows.push(row);\n        newFilteredRowsById[row.id] = row;\n      }\n    }\n    return rows;\n  };\n  return {\n    rows: recurseFilterRows(rowsToFilter),\n    flatRows: newFilteredFlatRows,\n    rowsById: newFilteredRowsById\n  };\n}\n\nfunction getFacetedRowModel() {\n  return (table, columnId) => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter, table.getFilteredRowModel()], (preRowModel, columnFilters, globalFilter) => {\n    if (!preRowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {\n      return preRowModel;\n    }\n    const filterableIds = [...columnFilters.map(d => d.id).filter(d => d !== columnId), globalFilter ? '__global__' : undefined].filter(Boolean);\n    const filterRowsImpl = row => {\n      // Horizontally filter rows through each column\n      for (let i = 0; i < filterableIds.length; i++) {\n        if (row.columnFilters[filterableIds[i]] === false) {\n          return false;\n        }\n      }\n      return true;\n    };\n    return filterRows(preRowModel.rows, filterRowsImpl, table);\n  }, getMemoOptions(table.options, 'debugTable', 'getFacetedRowModel'));\n}\n\nfunction getFacetedUniqueValues() {\n  return (table, columnId) => memo(() => {\n    var _table$getColumn;\n    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];\n  }, facetedRowModel => {\n    if (!facetedRowModel) return new Map();\n    let facetedUniqueValues = new Map();\n    for (let i = 0; i < facetedRowModel.flatRows.length; i++) {\n      const values = facetedRowModel.flatRows[i].getUniqueValues(columnId);\n      for (let j = 0; j < values.length; j++) {\n        const value = values[j];\n        if (facetedUniqueValues.has(value)) {\n          var _facetedUniqueValues$;\n          facetedUniqueValues.set(value, ((_facetedUniqueValues$ = facetedUniqueValues.get(value)) != null ? _facetedUniqueValues$ : 0) + 1);\n        } else {\n          facetedUniqueValues.set(value, 1);\n        }\n      }\n    }\n    return facetedUniqueValues;\n  }, getMemoOptions(table.options, 'debugTable', `getFacetedUniqueValues_${columnId}`));\n}\n\nfunction getFilteredRowModel() {\n  return table => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter], (rowModel, columnFilters, globalFilter) => {\n    if (!rowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {\n      for (let i = 0; i < rowModel.flatRows.length; i++) {\n        rowModel.flatRows[i].columnFilters = {};\n        rowModel.flatRows[i].columnFiltersMeta = {};\n      }\n      return rowModel;\n    }\n    const resolvedColumnFilters = [];\n    const resolvedGlobalFilters = [];\n    (columnFilters != null ? columnFilters : []).forEach(d => {\n      var _filterFn$resolveFilt;\n      const column = table.getColumn(d.id);\n      if (!column) {\n        return;\n      }\n      const filterFn = column.getFilterFn();\n      if (!filterFn) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(`Could not find a valid 'column.filterFn' for column with the ID: ${column.id}.`);\n        }\n        return;\n      }\n      resolvedColumnFilters.push({\n        id: d.id,\n        filterFn,\n        resolvedValue: (_filterFn$resolveFilt = filterFn.resolveFilterValue == null ? void 0 : filterFn.resolveFilterValue(d.value)) != null ? _filterFn$resolveFilt : d.value\n      });\n    });\n    const filterableIds = (columnFilters != null ? columnFilters : []).map(d => d.id);\n    const globalFilterFn = table.getGlobalFilterFn();\n    const globallyFilterableColumns = table.getAllLeafColumns().filter(column => column.getCanGlobalFilter());\n    if (globalFilter && globalFilterFn && globallyFilterableColumns.length) {\n      filterableIds.push('__global__');\n      globallyFilterableColumns.forEach(column => {\n        var _globalFilterFn$resol;\n        resolvedGlobalFilters.push({\n          id: column.id,\n          filterFn: globalFilterFn,\n          resolvedValue: (_globalFilterFn$resol = globalFilterFn.resolveFilterValue == null ? void 0 : globalFilterFn.resolveFilterValue(globalFilter)) != null ? _globalFilterFn$resol : globalFilter\n        });\n      });\n    }\n    let currentColumnFilter;\n    let currentGlobalFilter;\n\n    // Flag the prefiltered row model with each filter state\n    for (let j = 0; j < rowModel.flatRows.length; j++) {\n      const row = rowModel.flatRows[j];\n      row.columnFilters = {};\n      if (resolvedColumnFilters.length) {\n        for (let i = 0; i < resolvedColumnFilters.length; i++) {\n          currentColumnFilter = resolvedColumnFilters[i];\n          const id = currentColumnFilter.id;\n\n          // Tag the row with the column filter state\n          row.columnFilters[id] = currentColumnFilter.filterFn(row, id, currentColumnFilter.resolvedValue, filterMeta => {\n            row.columnFiltersMeta[id] = filterMeta;\n          });\n        }\n      }\n      if (resolvedGlobalFilters.length) {\n        for (let i = 0; i < resolvedGlobalFilters.length; i++) {\n          currentGlobalFilter = resolvedGlobalFilters[i];\n          const id = currentGlobalFilter.id;\n          // Tag the row with the first truthy global filter state\n          if (currentGlobalFilter.filterFn(row, id, currentGlobalFilter.resolvedValue, filterMeta => {\n            row.columnFiltersMeta[id] = filterMeta;\n          })) {\n            row.columnFilters.__global__ = true;\n            break;\n          }\n        }\n        if (row.columnFilters.__global__ !== true) {\n          row.columnFilters.__global__ = false;\n        }\n      }\n    }\n    const filterRowsImpl = row => {\n      // Horizontally filter rows through each column\n      for (let i = 0; i < filterableIds.length; i++) {\n        if (row.columnFilters[filterableIds[i]] === false) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    // Filter final rows using all of the active filters\n    return filterRows(rowModel.rows, filterRowsImpl, table);\n  }, getMemoOptions(table.options, 'debugTable', 'getFilteredRowModel', () => table._autoResetPageIndex()));\n}\n\nfunction getGroupedRowModel() {\n  return table => memo(() => [table.getState().grouping, table.getPreGroupedRowModel()], (grouping, rowModel) => {\n    if (!rowModel.rows.length || !grouping.length) {\n      rowModel.rows.forEach(row => {\n        row.depth = 0;\n        row.parentId = undefined;\n      });\n      return rowModel;\n    }\n\n    // Filter the grouping list down to columns that exist\n    const existingGrouping = grouping.filter(columnId => table.getColumn(columnId));\n    const groupedFlatRows = [];\n    const groupedRowsById = {};\n    // const onlyGroupedFlatRows: Row[] = [];\n    // const onlyGroupedRowsById: Record<RowId, Row> = {};\n    // const nonGroupedFlatRows: Row[] = [];\n    // const nonGroupedRowsById: Record<RowId, Row> = {};\n\n    // Recursively group the data\n    const groupUpRecursively = function (rows, depth, parentId) {\n      if (depth === void 0) {\n        depth = 0;\n      }\n      // Grouping depth has been been met\n      // Stop grouping and simply rewrite thd depth and row relationships\n      if (depth >= existingGrouping.length) {\n        return rows.map(row => {\n          row.depth = depth;\n          groupedFlatRows.push(row);\n          groupedRowsById[row.id] = row;\n          if (row.subRows) {\n            row.subRows = groupUpRecursively(row.subRows, depth + 1, row.id);\n          }\n          return row;\n        });\n      }\n      const columnId = existingGrouping[depth];\n\n      // Group the rows together for this level\n      const rowGroupsMap = groupBy(rows, columnId);\n\n      // Perform aggregations for each group\n      const aggregatedGroupedRows = Array.from(rowGroupsMap.entries()).map((_ref, index) => {\n        let [groupingValue, groupedRows] = _ref;\n        let id = `${columnId}:${groupingValue}`;\n        id = parentId ? `${parentId}>${id}` : id;\n\n        // First, Recurse to group sub rows before aggregation\n        const subRows = groupUpRecursively(groupedRows, depth + 1, id);\n        subRows.forEach(subRow => {\n          subRow.parentId = id;\n        });\n\n        // Flatten the leaf rows of the rows in this group\n        const leafRows = depth ? flattenBy(groupedRows, row => row.subRows) : groupedRows;\n        const row = createRow(table, id, leafRows[0].original, index, depth, undefined, parentId);\n        Object.assign(row, {\n          groupingColumnId: columnId,\n          groupingValue,\n          subRows,\n          leafRows,\n          getValue: columnId => {\n            // Don't aggregate columns that are in the grouping\n            if (existingGrouping.includes(columnId)) {\n              if (row._valuesCache.hasOwnProperty(columnId)) {\n                return row._valuesCache[columnId];\n              }\n              if (groupedRows[0]) {\n                var _groupedRows$0$getVal;\n                row._valuesCache[columnId] = (_groupedRows$0$getVal = groupedRows[0].getValue(columnId)) != null ? _groupedRows$0$getVal : undefined;\n              }\n              return row._valuesCache[columnId];\n            }\n            if (row._groupingValuesCache.hasOwnProperty(columnId)) {\n              return row._groupingValuesCache[columnId];\n            }\n\n            // Aggregate the values\n            const column = table.getColumn(columnId);\n            const aggregateFn = column == null ? void 0 : column.getAggregationFn();\n            if (aggregateFn) {\n              row._groupingValuesCache[columnId] = aggregateFn(columnId, leafRows, groupedRows);\n              return row._groupingValuesCache[columnId];\n            }\n          }\n        });\n        subRows.forEach(subRow => {\n          groupedFlatRows.push(subRow);\n          groupedRowsById[subRow.id] = subRow;\n          // if (subRow.getIsGrouped?.()) {\n          //   onlyGroupedFlatRows.push(subRow);\n          //   onlyGroupedRowsById[subRow.id] = subRow;\n          // } else {\n          //   nonGroupedFlatRows.push(subRow);\n          //   nonGroupedRowsById[subRow.id] = subRow;\n          // }\n        });\n        return row;\n      });\n      return aggregatedGroupedRows;\n    };\n    const groupedRows = groupUpRecursively(rowModel.rows, 0);\n    groupedRows.forEach(subRow => {\n      groupedFlatRows.push(subRow);\n      groupedRowsById[subRow.id] = subRow;\n      // if (subRow.getIsGrouped?.()) {\n      //   onlyGroupedFlatRows.push(subRow);\n      //   onlyGroupedRowsById[subRow.id] = subRow;\n      // } else {\n      //   nonGroupedFlatRows.push(subRow);\n      //   nonGroupedRowsById[subRow.id] = subRow;\n      // }\n    });\n    return {\n      rows: groupedRows,\n      flatRows: groupedFlatRows,\n      rowsById: groupedRowsById\n    };\n  }, getMemoOptions(table.options, 'debugTable', 'getGroupedRowModel', () => {\n    table._queue(() => {\n      table._autoResetExpanded();\n      table._autoResetPageIndex();\n    });\n  }));\n}\nfunction groupBy(rows, columnId) {\n  const groupMap = new Map();\n  return rows.reduce((map, row) => {\n    const resKey = `${row.getGroupingValue(columnId)}`;\n    const previous = map.get(resKey);\n    if (!previous) {\n      map.set(resKey, [row]);\n    } else {\n      previous.push(row);\n    }\n    return map;\n  }, groupMap);\n}\n\nfunction getPaginationRowModel(opts) {\n  return table => memo(() => [table.getState().pagination, table.getPrePaginationRowModel(), table.options.paginateExpandedRows ? undefined : table.getState().expanded], (pagination, rowModel) => {\n    if (!rowModel.rows.length) {\n      return rowModel;\n    }\n    const {\n      pageSize,\n      pageIndex\n    } = pagination;\n    let {\n      rows,\n      flatRows,\n      rowsById\n    } = rowModel;\n    const pageStart = pageSize * pageIndex;\n    const pageEnd = pageStart + pageSize;\n    rows = rows.slice(pageStart, pageEnd);\n    let paginatedRowModel;\n    if (!table.options.paginateExpandedRows) {\n      paginatedRowModel = expandRows({\n        rows,\n        flatRows,\n        rowsById\n      });\n    } else {\n      paginatedRowModel = {\n        rows,\n        flatRows,\n        rowsById\n      };\n    }\n    paginatedRowModel.flatRows = [];\n    const handleRow = row => {\n      paginatedRowModel.flatRows.push(row);\n      if (row.subRows.length) {\n        row.subRows.forEach(handleRow);\n      }\n    };\n    paginatedRowModel.rows.forEach(handleRow);\n    return paginatedRowModel;\n  }, getMemoOptions(table.options, 'debugTable', 'getPaginationRowModel'));\n}\n\nfunction getSortedRowModel() {\n  return table => memo(() => [table.getState().sorting, table.getPreSortedRowModel()], (sorting, rowModel) => {\n    if (!rowModel.rows.length || !(sorting != null && sorting.length)) {\n      return rowModel;\n    }\n    const sortingState = table.getState().sorting;\n    const sortedFlatRows = [];\n\n    // Filter out sortings that correspond to non existing columns\n    const availableSorting = sortingState.filter(sort => {\n      var _table$getColumn;\n      return (_table$getColumn = table.getColumn(sort.id)) == null ? void 0 : _table$getColumn.getCanSort();\n    });\n    const columnInfoById = {};\n    availableSorting.forEach(sortEntry => {\n      const column = table.getColumn(sortEntry.id);\n      if (!column) return;\n      columnInfoById[sortEntry.id] = {\n        sortUndefined: column.columnDef.sortUndefined,\n        invertSorting: column.columnDef.invertSorting,\n        sortingFn: column.getSortingFn()\n      };\n    });\n    const sortData = rows => {\n      // This will also perform a stable sorting using the row index\n      // if needed.\n      const sortedData = rows.map(row => ({\n        ...row\n      }));\n      sortedData.sort((rowA, rowB) => {\n        for (let i = 0; i < availableSorting.length; i += 1) {\n          var _sortEntry$desc;\n          const sortEntry = availableSorting[i];\n          const columnInfo = columnInfoById[sortEntry.id];\n          const sortUndefined = columnInfo.sortUndefined;\n          const isDesc = (_sortEntry$desc = sortEntry == null ? void 0 : sortEntry.desc) != null ? _sortEntry$desc : false;\n          let sortInt = 0;\n\n          // All sorting ints should always return in ascending order\n          if (sortUndefined) {\n            const aValue = rowA.getValue(sortEntry.id);\n            const bValue = rowB.getValue(sortEntry.id);\n            const aUndefined = aValue === undefined;\n            const bUndefined = bValue === undefined;\n            if (aUndefined || bUndefined) {\n              if (sortUndefined === 'first') return aUndefined ? -1 : 1;\n              if (sortUndefined === 'last') return aUndefined ? 1 : -1;\n              sortInt = aUndefined && bUndefined ? 0 : aUndefined ? sortUndefined : -sortUndefined;\n            }\n          }\n          if (sortInt === 0) {\n            sortInt = columnInfo.sortingFn(rowA, rowB, sortEntry.id);\n          }\n\n          // If sorting is non-zero, take care of desc and inversion\n          if (sortInt !== 0) {\n            if (isDesc) {\n              sortInt *= -1;\n            }\n            if (columnInfo.invertSorting) {\n              sortInt *= -1;\n            }\n            return sortInt;\n          }\n        }\n        return rowA.index - rowB.index;\n      });\n\n      // If there are sub-rows, sort them\n      sortedData.forEach(row => {\n        var _row$subRows;\n        sortedFlatRows.push(row);\n        if ((_row$subRows = row.subRows) != null && _row$subRows.length) {\n          row.subRows = sortData(row.subRows);\n        }\n      });\n      return sortedData;\n    };\n    return {\n      rows: sortData(rowModel.rows),\n      flatRows: sortedFlatRows,\n      rowsById: rowModel.rowsById\n    };\n  }, getMemoOptions(table.options, 'debugTable', 'getSortedRowModel', () => table._autoResetPageIndex()));\n}\n\nexport { ColumnFaceting, ColumnFiltering, ColumnGrouping, ColumnOrdering, ColumnPinning, ColumnSizing, ColumnVisibility, GlobalFaceting, GlobalFiltering, Headers, RowExpanding, RowPagination, RowPinning, RowSelection, RowSorting, _getVisibleLeafColumns, aggregationFns, buildHeaderGroups, createCell, createColumn, createColumnHelper, createRow, createTable, defaultColumnSizing, expandRows, filterFns, flattenBy, functionalUpdate, getCoreRowModel, getExpandedRowModel, getFacetedMinMaxValues, getFacetedRowModel, getFacetedUniqueValues, getFilteredRowModel, getGroupedRowModel, getMemoOptions, getPaginationRowModel, getSortedRowModel, isFunction, isNumberArray, isRowSelected, isSubRowSelected, makeStateUpdater, memo, noop, orderColumns, passiveEventSupported, reSplitAlphaNumeric, selectRowsFn, shouldAutoRemoveFilter, sortingFns };\n//# sourceMappingURL=index.mjs.map\n","/**\n   * react-table\n   *\n   * Copyright (c) TanStack\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE.md file in the root directory of this source tree.\n   *\n   * @license MIT\n   */\nimport * as React from 'react';\nimport { createTable } from '@tanstack/table-core';\nexport * from '@tanstack/table-core';\n\n//\n\n/**\n * If rendering headers, cells, or footers with custom markup, use flexRender instead of `cell.getValue()` or `cell.renderValue()`.\n */\nfunction flexRender(Comp, props) {\n  return !Comp ? null : isReactComponent(Comp) ? /*#__PURE__*/React.createElement(Comp, props) : Comp;\n}\nfunction isReactComponent(component) {\n  return isClassComponent(component) || typeof component === 'function' || isExoticComponent(component);\n}\nfunction isClassComponent(component) {\n  return typeof component === 'function' && (() => {\n    const proto = Object.getPrototypeOf(component);\n    return proto.prototype && proto.prototype.isReactComponent;\n  })();\n}\nfunction isExoticComponent(component) {\n  return typeof component === 'object' && typeof component.$$typeof === 'symbol' && ['react.memo', 'react.forward_ref'].includes(component.$$typeof.description);\n}\nfunction useReactTable(options) {\n  // Compose in the generic options to the user options\n  const resolvedOptions = {\n    state: {},\n    // Dummy state\n    onStateChange: () => {},\n    // noop\n    renderFallbackValue: null,\n    ...options\n  };\n\n  // Create a new table and store it in state\n  const [tableRef] = React.useState(() => ({\n    current: createTable(resolvedOptions)\n  }));\n\n  // By default, manage table state here using the table's initial state\n  const [state, setState] = React.useState(() => tableRef.current.initialState);\n\n  // Compose the default state above with any user state. This will allow the user\n  // to only control a subset of the state if desired.\n  tableRef.current.setOptions(prev => ({\n    ...prev,\n    ...options,\n    state: {\n      ...state,\n      ...options.state\n    },\n    // Similarly, we'll maintain both our internal state and any user-provided\n    // state.\n    onStateChange: updater => {\n      setState(updater);\n      options.onStateChange == null || options.onStateChange(updater);\n    }\n  }));\n  return tableRef.current;\n}\n\nexport { flexRender, useReactTable };\n//# sourceMappingURL=index.mjs.map\n","function memo(getDeps, fn, opts) {\n  let deps = opts.initialDeps ?? [];\n  let result;\n  let isInitial = true;\n  function memoizedFunction() {\n    var _a, _b, _c;\n    let depTime;\n    if (opts.key && ((_a = opts.debug) == null ? void 0 : _a.call(opts))) depTime = Date.now();\n    const newDeps = getDeps();\n    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    let resultTime;\n    if (opts.key && ((_b = opts.debug) == null ? void 0 : _b.call(opts))) resultTime = Date.now();\n    result = fn(...newDeps);\n    if (opts.key && ((_c = opts.debug) == null ? void 0 : _c.call(opts))) {\n      const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n      const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n      const resultFpsPercentage = resultEndTime / 16;\n      const pad = (str, num) => {\n        str = String(str);\n        while (str.length < num) {\n          str = \" \" + str;\n        }\n        return str;\n      };\n      console.info(\n        `%c ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n          0,\n          Math.min(120 - 120 * resultFpsPercentage, 120)\n        )}deg 100% 31%);`,\n        opts == null ? void 0 : opts.key\n      );\n    }\n    if ((opts == null ? void 0 : opts.onChange) && !(isInitial && opts.skipInitialOnChange)) {\n      opts.onChange(result);\n    }\n    isInitial = false;\n    return result;\n  }\n  memoizedFunction.updateDeps = (newDeps) => {\n    deps = newDeps;\n  };\n  return memoizedFunction;\n}\nfunction notUndefined(value, msg) {\n  if (value === void 0) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : \"\"}`);\n  } else {\n    return value;\n  }\n}\nconst approxEqual = (a, b) => Math.abs(a - b) < 1.01;\nconst debounce = (targetWindow, fn, ms) => {\n  let timeoutId;\n  return function(...args) {\n    targetWindow.clearTimeout(timeoutId);\n    timeoutId = targetWindow.setTimeout(() => fn.apply(this, args), ms);\n  };\n};\nexport {\n  approxEqual,\n  debounce,\n  memo,\n  notUndefined\n};\n//# sourceMappingURL=utils.js.map\n","import { debounce, memo, notUndefined, approxEqual } from \"./utils.js\";\nconst getRect = (element) => {\n  const { offsetWidth, offsetHeight } = element;\n  return { width: offsetWidth, height: offsetHeight };\n};\nconst defaultKeyExtractor = (index) => index;\nconst defaultRangeExtractor = (range) => {\n  const start = Math.max(range.startIndex - range.overscan, 0);\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1);\n  const arr = [];\n  for (let i = start; i <= end; i++) {\n    arr.push(i);\n  }\n  return arr;\n};\nconst observeElementRect = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  const handler = (rect) => {\n    const { width, height } = rect;\n    cb({ width: Math.round(width), height: Math.round(height) });\n  };\n  handler(getRect(element));\n  if (!targetWindow.ResizeObserver) {\n    return () => {\n    };\n  }\n  const observer = new targetWindow.ResizeObserver((entries) => {\n    const run = () => {\n      const entry = entries[0];\n      if (entry == null ? void 0 : entry.borderBoxSize) {\n        const box = entry.borderBoxSize[0];\n        if (box) {\n          handler({ width: box.inlineSize, height: box.blockSize });\n          return;\n        }\n      }\n      handler(getRect(element));\n    };\n    instance.options.useAnimationFrameWithResizeObserver ? requestAnimationFrame(run) : run();\n  });\n  observer.observe(element, { box: \"border-box\" });\n  return () => {\n    observer.unobserve(element);\n  };\n};\nconst addEventListenerOptions = {\n  passive: true\n};\nconst observeWindowRect = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const handler = () => {\n    cb({ width: element.innerWidth, height: element.innerHeight });\n  };\n  handler();\n  element.addEventListener(\"resize\", handler, addEventListenerOptions);\n  return () => {\n    element.removeEventListener(\"resize\", handler);\n  };\n};\nconst supportsScrollend = typeof window == \"undefined\" ? true : \"onscrollend\" in window;\nconst observeElementOffset = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  let offset = 0;\n  const fallback = instance.options.useScrollendEvent && supportsScrollend ? () => void 0 : debounce(\n    targetWindow,\n    () => {\n      cb(offset, false);\n    },\n    instance.options.isScrollingResetDelay\n  );\n  const createHandler = (isScrolling) => () => {\n    const { horizontal, isRtl } = instance.options;\n    offset = horizontal ? element[\"scrollLeft\"] * (isRtl && -1 || 1) : element[\"scrollTop\"];\n    fallback();\n    cb(offset, isScrolling);\n  };\n  const handler = createHandler(true);\n  const endHandler = createHandler(false);\n  endHandler();\n  element.addEventListener(\"scroll\", handler, addEventListenerOptions);\n  const registerScrollendEvent = instance.options.useScrollendEvent && supportsScrollend;\n  if (registerScrollendEvent) {\n    element.addEventListener(\"scrollend\", endHandler, addEventListenerOptions);\n  }\n  return () => {\n    element.removeEventListener(\"scroll\", handler);\n    if (registerScrollendEvent) {\n      element.removeEventListener(\"scrollend\", endHandler);\n    }\n  };\n};\nconst observeWindowOffset = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  let offset = 0;\n  const fallback = instance.options.useScrollendEvent && supportsScrollend ? () => void 0 : debounce(\n    targetWindow,\n    () => {\n      cb(offset, false);\n    },\n    instance.options.isScrollingResetDelay\n  );\n  const createHandler = (isScrolling) => () => {\n    offset = element[instance.options.horizontal ? \"scrollX\" : \"scrollY\"];\n    fallback();\n    cb(offset, isScrolling);\n  };\n  const handler = createHandler(true);\n  const endHandler = createHandler(false);\n  endHandler();\n  element.addEventListener(\"scroll\", handler, addEventListenerOptions);\n  const registerScrollendEvent = instance.options.useScrollendEvent && supportsScrollend;\n  if (registerScrollendEvent) {\n    element.addEventListener(\"scrollend\", endHandler, addEventListenerOptions);\n  }\n  return () => {\n    element.removeEventListener(\"scroll\", handler);\n    if (registerScrollendEvent) {\n      element.removeEventListener(\"scrollend\", endHandler);\n    }\n  };\n};\nconst measureElement = (element, entry, instance) => {\n  if (entry == null ? void 0 : entry.borderBoxSize) {\n    const box = entry.borderBoxSize[0];\n    if (box) {\n      const size = Math.round(\n        box[instance.options.horizontal ? \"inlineSize\" : \"blockSize\"]\n      );\n      return size;\n    }\n  }\n  return element[instance.options.horizontal ? \"offsetWidth\" : \"offsetHeight\"];\n};\nconst windowScroll = (offset, {\n  adjustments = 0,\n  behavior\n}, instance) => {\n  var _a, _b;\n  const toOffset = offset + adjustments;\n  (_b = (_a = instance.scrollElement) == null ? void 0 : _a.scrollTo) == null ? void 0 : _b.call(_a, {\n    [instance.options.horizontal ? \"left\" : \"top\"]: toOffset,\n    behavior\n  });\n};\nconst elementScroll = (offset, {\n  adjustments = 0,\n  behavior\n}, instance) => {\n  var _a, _b;\n  const toOffset = offset + adjustments;\n  (_b = (_a = instance.scrollElement) == null ? void 0 : _a.scrollTo) == null ? void 0 : _b.call(_a, {\n    [instance.options.horizontal ? \"left\" : \"top\"]: toOffset,\n    behavior\n  });\n};\nclass Virtualizer {\n  constructor(opts) {\n    this.unsubs = [];\n    this.scrollElement = null;\n    this.targetWindow = null;\n    this.isScrolling = false;\n    this.measurementsCache = [];\n    this.itemSizeCache = /* @__PURE__ */ new Map();\n    this.laneAssignments = /* @__PURE__ */ new Map();\n    this.pendingMeasuredCacheIndexes = [];\n    this.prevLanes = void 0;\n    this.lanesChangedFlag = false;\n    this.lanesSettling = false;\n    this.scrollRect = null;\n    this.scrollOffset = null;\n    this.scrollDirection = null;\n    this.scrollAdjustments = 0;\n    this.elementsCache = /* @__PURE__ */ new Map();\n    this.observer = /* @__PURE__ */ (() => {\n      let _ro = null;\n      const get = () => {\n        if (_ro) {\n          return _ro;\n        }\n        if (!this.targetWindow || !this.targetWindow.ResizeObserver) {\n          return null;\n        }\n        return _ro = new this.targetWindow.ResizeObserver((entries) => {\n          entries.forEach((entry) => {\n            const run = () => {\n              this._measureElement(entry.target, entry);\n            };\n            this.options.useAnimationFrameWithResizeObserver ? requestAnimationFrame(run) : run();\n          });\n        });\n      };\n      return {\n        disconnect: () => {\n          var _a;\n          (_a = get()) == null ? void 0 : _a.disconnect();\n          _ro = null;\n        },\n        observe: (target) => {\n          var _a;\n          return (_a = get()) == null ? void 0 : _a.observe(target, { box: \"border-box\" });\n        },\n        unobserve: (target) => {\n          var _a;\n          return (_a = get()) == null ? void 0 : _a.unobserve(target);\n        }\n      };\n    })();\n    this.range = null;\n    this.setOptions = (opts2) => {\n      Object.entries(opts2).forEach(([key, value]) => {\n        if (typeof value === \"undefined\") delete opts2[key];\n      });\n      this.options = {\n        debug: false,\n        initialOffset: 0,\n        overscan: 1,\n        paddingStart: 0,\n        paddingEnd: 0,\n        scrollPaddingStart: 0,\n        scrollPaddingEnd: 0,\n        horizontal: false,\n        getItemKey: defaultKeyExtractor,\n        rangeExtractor: defaultRangeExtractor,\n        onChange: () => {\n        },\n        measureElement,\n        initialRect: { width: 0, height: 0 },\n        scrollMargin: 0,\n        gap: 0,\n        indexAttribute: \"data-index\",\n        initialMeasurementsCache: [],\n        lanes: 1,\n        isScrollingResetDelay: 150,\n        enabled: true,\n        isRtl: false,\n        useScrollendEvent: false,\n        useAnimationFrameWithResizeObserver: false,\n        ...opts2\n      };\n    };\n    this.notify = (sync) => {\n      var _a, _b;\n      (_b = (_a = this.options).onChange) == null ? void 0 : _b.call(_a, this, sync);\n    };\n    this.maybeNotify = memo(\n      () => {\n        this.calculateRange();\n        return [\n          this.isScrolling,\n          this.range ? this.range.startIndex : null,\n          this.range ? this.range.endIndex : null\n        ];\n      },\n      (isScrolling) => {\n        this.notify(isScrolling);\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"maybeNotify\",\n        debug: () => this.options.debug,\n        initialDeps: [\n          this.isScrolling,\n          this.range ? this.range.startIndex : null,\n          this.range ? this.range.endIndex : null\n        ]\n      }\n    );\n    this.cleanup = () => {\n      this.unsubs.filter(Boolean).forEach((d) => d());\n      this.unsubs = [];\n      this.observer.disconnect();\n      this.scrollElement = null;\n      this.targetWindow = null;\n    };\n    this._didMount = () => {\n      return () => {\n        this.cleanup();\n      };\n    };\n    this._willUpdate = () => {\n      var _a;\n      const scrollElement = this.options.enabled ? this.options.getScrollElement() : null;\n      if (this.scrollElement !== scrollElement) {\n        this.cleanup();\n        if (!scrollElement) {\n          this.maybeNotify();\n          return;\n        }\n        this.scrollElement = scrollElement;\n        if (this.scrollElement && \"ownerDocument\" in this.scrollElement) {\n          this.targetWindow = this.scrollElement.ownerDocument.defaultView;\n        } else {\n          this.targetWindow = ((_a = this.scrollElement) == null ? void 0 : _a.window) ?? null;\n        }\n        this.elementsCache.forEach((cached) => {\n          this.observer.observe(cached);\n        });\n        this._scrollToOffset(this.getScrollOffset(), {\n          adjustments: void 0,\n          behavior: void 0\n        });\n        this.unsubs.push(\n          this.options.observeElementRect(this, (rect) => {\n            this.scrollRect = rect;\n            this.maybeNotify();\n          })\n        );\n        this.unsubs.push(\n          this.options.observeElementOffset(this, (offset, isScrolling) => {\n            this.scrollAdjustments = 0;\n            this.scrollDirection = isScrolling ? this.getScrollOffset() < offset ? \"forward\" : \"backward\" : null;\n            this.scrollOffset = offset;\n            this.isScrolling = isScrolling;\n            this.maybeNotify();\n          })\n        );\n      }\n    };\n    this.getSize = () => {\n      if (!this.options.enabled) {\n        this.scrollRect = null;\n        return 0;\n      }\n      this.scrollRect = this.scrollRect ?? this.options.initialRect;\n      return this.scrollRect[this.options.horizontal ? \"width\" : \"height\"];\n    };\n    this.getScrollOffset = () => {\n      if (!this.options.enabled) {\n        this.scrollOffset = null;\n        return 0;\n      }\n      this.scrollOffset = this.scrollOffset ?? (typeof this.options.initialOffset === \"function\" ? this.options.initialOffset() : this.options.initialOffset);\n      return this.scrollOffset;\n    };\n    this.getFurthestMeasurement = (measurements, index) => {\n      const furthestMeasurementsFound = /* @__PURE__ */ new Map();\n      const furthestMeasurements = /* @__PURE__ */ new Map();\n      for (let m = index - 1; m >= 0; m--) {\n        const measurement = measurements[m];\n        if (furthestMeasurementsFound.has(measurement.lane)) {\n          continue;\n        }\n        const previousFurthestMeasurement = furthestMeasurements.get(\n          measurement.lane\n        );\n        if (previousFurthestMeasurement == null || measurement.end > previousFurthestMeasurement.end) {\n          furthestMeasurements.set(measurement.lane, measurement);\n        } else if (measurement.end < previousFurthestMeasurement.end) {\n          furthestMeasurementsFound.set(measurement.lane, true);\n        }\n        if (furthestMeasurementsFound.size === this.options.lanes) {\n          break;\n        }\n      }\n      return furthestMeasurements.size === this.options.lanes ? Array.from(furthestMeasurements.values()).sort((a, b) => {\n        if (a.end === b.end) {\n          return a.index - b.index;\n        }\n        return a.end - b.end;\n      })[0] : void 0;\n    };\n    this.getMeasurementOptions = memo(\n      () => [\n        this.options.count,\n        this.options.paddingStart,\n        this.options.scrollMargin,\n        this.options.getItemKey,\n        this.options.enabled,\n        this.options.lanes\n      ],\n      (count, paddingStart, scrollMargin, getItemKey, enabled, lanes) => {\n        const lanesChanged = this.prevLanes !== void 0 && this.prevLanes !== lanes;\n        if (lanesChanged) {\n          this.lanesChangedFlag = true;\n        }\n        this.prevLanes = lanes;\n        this.pendingMeasuredCacheIndexes = [];\n        return {\n          count,\n          paddingStart,\n          scrollMargin,\n          getItemKey,\n          enabled,\n          lanes\n        };\n      },\n      {\n        key: false,\n        skipInitialOnChange: true,\n        onChange: () => {\n          this.notify(this.isScrolling);\n        }\n      }\n    );\n    this.getMeasurements = memo(\n      () => [this.getMeasurementOptions(), this.itemSizeCache],\n      ({ count, paddingStart, scrollMargin, getItemKey, enabled, lanes }, itemSizeCache) => {\n        if (!enabled) {\n          this.measurementsCache = [];\n          this.itemSizeCache.clear();\n          this.laneAssignments.clear();\n          return [];\n        }\n        if (this.laneAssignments.size > count) {\n          for (const index of this.laneAssignments.keys()) {\n            if (index >= count) {\n              this.laneAssignments.delete(index);\n            }\n          }\n        }\n        if (this.lanesChangedFlag) {\n          this.lanesChangedFlag = false;\n          this.lanesSettling = true;\n          this.measurementsCache = [];\n          this.itemSizeCache.clear();\n          this.laneAssignments.clear();\n          this.pendingMeasuredCacheIndexes = [];\n        }\n        if (this.measurementsCache.length === 0) {\n          this.measurementsCache = this.options.initialMeasurementsCache;\n          this.measurementsCache.forEach((item) => {\n            this.itemSizeCache.set(item.key, item.size);\n          });\n        }\n        const min = this.lanesSettling ? 0 : this.pendingMeasuredCacheIndexes.length > 0 ? Math.min(...this.pendingMeasuredCacheIndexes) : 0;\n        this.pendingMeasuredCacheIndexes = [];\n        if (this.lanesSettling && this.measurementsCache.length === count) {\n          this.lanesSettling = false;\n        }\n        const measurements = this.measurementsCache.slice(0, min);\n        const laneLastIndex = new Array(lanes).fill(\n          void 0\n        );\n        for (let m = 0; m < min; m++) {\n          const item = measurements[m];\n          if (item) {\n            laneLastIndex[item.lane] = m;\n          }\n        }\n        for (let i = min; i < count; i++) {\n          const key = getItemKey(i);\n          const cachedLane = this.laneAssignments.get(i);\n          let lane;\n          let start;\n          if (cachedLane !== void 0 && this.options.lanes > 1) {\n            lane = cachedLane;\n            const prevIndex = laneLastIndex[lane];\n            const prevInLane = prevIndex !== void 0 ? measurements[prevIndex] : void 0;\n            start = prevInLane ? prevInLane.end + this.options.gap : paddingStart + scrollMargin;\n          } else {\n            const furthestMeasurement = this.options.lanes === 1 ? measurements[i - 1] : this.getFurthestMeasurement(measurements, i);\n            start = furthestMeasurement ? furthestMeasurement.end + this.options.gap : paddingStart + scrollMargin;\n            lane = furthestMeasurement ? furthestMeasurement.lane : i % this.options.lanes;\n            if (this.options.lanes > 1) {\n              this.laneAssignments.set(i, lane);\n            }\n          }\n          const measuredSize = itemSizeCache.get(key);\n          const size = typeof measuredSize === \"number\" ? measuredSize : this.options.estimateSize(i);\n          const end = start + size;\n          measurements[i] = {\n            index: i,\n            start,\n            size,\n            end,\n            key,\n            lane\n          };\n          laneLastIndex[lane] = i;\n        }\n        this.measurementsCache = measurements;\n        return measurements;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getMeasurements\",\n        debug: () => this.options.debug\n      }\n    );\n    this.calculateRange = memo(\n      () => [\n        this.getMeasurements(),\n        this.getSize(),\n        this.getScrollOffset(),\n        this.options.lanes\n      ],\n      (measurements, outerSize, scrollOffset, lanes) => {\n        return this.range = measurements.length > 0 && outerSize > 0 ? calculateRange({\n          measurements,\n          outerSize,\n          scrollOffset,\n          lanes\n        }) : null;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"calculateRange\",\n        debug: () => this.options.debug\n      }\n    );\n    this.getVirtualIndexes = memo(\n      () => {\n        let startIndex = null;\n        let endIndex = null;\n        const range = this.calculateRange();\n        if (range) {\n          startIndex = range.startIndex;\n          endIndex = range.endIndex;\n        }\n        this.maybeNotify.updateDeps([this.isScrolling, startIndex, endIndex]);\n        return [\n          this.options.rangeExtractor,\n          this.options.overscan,\n          this.options.count,\n          startIndex,\n          endIndex\n        ];\n      },\n      (rangeExtractor, overscan, count, startIndex, endIndex) => {\n        return startIndex === null || endIndex === null ? [] : rangeExtractor({\n          startIndex,\n          endIndex,\n          overscan,\n          count\n        });\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getVirtualIndexes\",\n        debug: () => this.options.debug\n      }\n    );\n    this.indexFromElement = (node) => {\n      const attributeName = this.options.indexAttribute;\n      const indexStr = node.getAttribute(attributeName);\n      if (!indexStr) {\n        console.warn(\n          `Missing attribute name '${attributeName}={index}' on measured element.`\n        );\n        return -1;\n      }\n      return parseInt(indexStr, 10);\n    };\n    this._measureElement = (node, entry) => {\n      const index = this.indexFromElement(node);\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return;\n      }\n      const key = item.key;\n      const prevNode = this.elementsCache.get(key);\n      if (prevNode !== node) {\n        if (prevNode) {\n          this.observer.unobserve(prevNode);\n        }\n        this.observer.observe(node);\n        this.elementsCache.set(key, node);\n      }\n      if (node.isConnected) {\n        this.resizeItem(index, this.options.measureElement(node, entry, this));\n      }\n    };\n    this.resizeItem = (index, size) => {\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return;\n      }\n      const itemSize = this.itemSizeCache.get(item.key) ?? item.size;\n      const delta = size - itemSize;\n      if (delta !== 0) {\n        if (this.shouldAdjustScrollPositionOnItemSizeChange !== void 0 ? this.shouldAdjustScrollPositionOnItemSizeChange(item, delta, this) : item.start < this.getScrollOffset() + this.scrollAdjustments) {\n          if (process.env.NODE_ENV !== \"production\" && this.options.debug) {\n            console.info(\"correction\", delta);\n          }\n          this._scrollToOffset(this.getScrollOffset(), {\n            adjustments: this.scrollAdjustments += delta,\n            behavior: void 0\n          });\n        }\n        this.pendingMeasuredCacheIndexes.push(item.index);\n        this.itemSizeCache = new Map(this.itemSizeCache.set(item.key, size));\n        this.notify(false);\n      }\n    };\n    this.measureElement = (node) => {\n      if (!node) {\n        this.elementsCache.forEach((cached, key) => {\n          if (!cached.isConnected) {\n            this.observer.unobserve(cached);\n            this.elementsCache.delete(key);\n          }\n        });\n        return;\n      }\n      this._measureElement(node, void 0);\n    };\n    this.getVirtualItems = memo(\n      () => [this.getVirtualIndexes(), this.getMeasurements()],\n      (indexes, measurements) => {\n        const virtualItems = [];\n        for (let k = 0, len = indexes.length; k < len; k++) {\n          const i = indexes[k];\n          const measurement = measurements[i];\n          virtualItems.push(measurement);\n        }\n        return virtualItems;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getVirtualItems\",\n        debug: () => this.options.debug\n      }\n    );\n    this.getVirtualItemForOffset = (offset) => {\n      const measurements = this.getMeasurements();\n      if (measurements.length === 0) {\n        return void 0;\n      }\n      return notUndefined(\n        measurements[findNearestBinarySearch(\n          0,\n          measurements.length - 1,\n          (index) => notUndefined(measurements[index]).start,\n          offset\n        )]\n      );\n    };\n    this.getOffsetForAlignment = (toOffset, align, itemSize = 0) => {\n      const size = this.getSize();\n      const scrollOffset = this.getScrollOffset();\n      if (align === \"auto\") {\n        align = toOffset >= scrollOffset + size ? \"end\" : \"start\";\n      }\n      if (align === \"center\") {\n        toOffset += (itemSize - size) / 2;\n      } else if (align === \"end\") {\n        toOffset -= size;\n      }\n      const maxOffset = this.getTotalSize() + this.options.scrollMargin - size;\n      return Math.max(Math.min(maxOffset, toOffset), 0);\n    };\n    this.getOffsetForIndex = (index, align = \"auto\") => {\n      index = Math.max(0, Math.min(index, this.options.count - 1));\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return void 0;\n      }\n      const size = this.getSize();\n      const scrollOffset = this.getScrollOffset();\n      if (align === \"auto\") {\n        if (item.end >= scrollOffset + size - this.options.scrollPaddingEnd) {\n          align = \"end\";\n        } else if (item.start <= scrollOffset + this.options.scrollPaddingStart) {\n          align = \"start\";\n        } else {\n          return [scrollOffset, align];\n        }\n      }\n      const toOffset = align === \"end\" ? item.end + this.options.scrollPaddingEnd : item.start - this.options.scrollPaddingStart;\n      return [\n        this.getOffsetForAlignment(toOffset, align, item.size),\n        align\n      ];\n    };\n    this.isDynamicMode = () => this.elementsCache.size > 0;\n    this.scrollToOffset = (toOffset, { align = \"start\", behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      this._scrollToOffset(this.getOffsetForAlignment(toOffset, align), {\n        adjustments: void 0,\n        behavior\n      });\n    };\n    this.scrollToIndex = (index, { align: initialAlign = \"auto\", behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      index = Math.max(0, Math.min(index, this.options.count - 1));\n      let attempts = 0;\n      const maxAttempts = 10;\n      const tryScroll = (currentAlign) => {\n        if (!this.targetWindow) return;\n        const offsetInfo = this.getOffsetForIndex(index, currentAlign);\n        if (!offsetInfo) {\n          console.warn(\"Failed to get offset for index:\", index);\n          return;\n        }\n        const [offset, align] = offsetInfo;\n        this._scrollToOffset(offset, { adjustments: void 0, behavior });\n        this.targetWindow.requestAnimationFrame(() => {\n          const currentOffset = this.getScrollOffset();\n          const afterInfo = this.getOffsetForIndex(index, align);\n          if (!afterInfo) {\n            console.warn(\"Failed to get offset for index:\", index);\n            return;\n          }\n          if (!approxEqual(afterInfo[0], currentOffset)) {\n            scheduleRetry(align);\n          }\n        });\n      };\n      const scheduleRetry = (align) => {\n        if (!this.targetWindow) return;\n        attempts++;\n        if (attempts < maxAttempts) {\n          if (process.env.NODE_ENV !== \"production\" && this.options.debug) {\n            console.info(\"Schedule retry\", attempts, maxAttempts);\n          }\n          this.targetWindow.requestAnimationFrame(() => tryScroll(align));\n        } else {\n          console.warn(\n            `Failed to scroll to index ${index} after ${maxAttempts} attempts.`\n          );\n        }\n      };\n      tryScroll(initialAlign);\n    };\n    this.scrollBy = (delta, { behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      this._scrollToOffset(this.getScrollOffset() + delta, {\n        adjustments: void 0,\n        behavior\n      });\n    };\n    this.getTotalSize = () => {\n      var _a;\n      const measurements = this.getMeasurements();\n      let end;\n      if (measurements.length === 0) {\n        end = this.options.paddingStart;\n      } else if (this.options.lanes === 1) {\n        end = ((_a = measurements[measurements.length - 1]) == null ? void 0 : _a.end) ?? 0;\n      } else {\n        const endByLane = Array(this.options.lanes).fill(null);\n        let endIndex = measurements.length - 1;\n        while (endIndex >= 0 && endByLane.some((val) => val === null)) {\n          const item = measurements[endIndex];\n          if (endByLane[item.lane] === null) {\n            endByLane[item.lane] = item.end;\n          }\n          endIndex--;\n        }\n        end = Math.max(...endByLane.filter((val) => val !== null));\n      }\n      return Math.max(\n        end - this.options.scrollMargin + this.options.paddingEnd,\n        0\n      );\n    };\n    this._scrollToOffset = (offset, {\n      adjustments,\n      behavior\n    }) => {\n      this.options.scrollToFn(offset, { behavior, adjustments }, this);\n    };\n    this.measure = () => {\n      this.itemSizeCache = /* @__PURE__ */ new Map();\n      this.laneAssignments = /* @__PURE__ */ new Map();\n      this.notify(false);\n    };\n    this.setOptions(opts);\n  }\n}\nconst findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    const middle = (low + high) / 2 | 0;\n    const currentValue = getCurrentValue(middle);\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\nfunction calculateRange({\n  measurements,\n  outerSize,\n  scrollOffset,\n  lanes\n}) {\n  const lastIndex = measurements.length - 1;\n  const getOffset = (index) => measurements[index].start;\n  if (measurements.length <= lanes) {\n    return {\n      startIndex: 0,\n      endIndex: lastIndex\n    };\n  }\n  let startIndex = findNearestBinarySearch(\n    0,\n    lastIndex,\n    getOffset,\n    scrollOffset\n  );\n  let endIndex = startIndex;\n  if (lanes === 1) {\n    while (endIndex < lastIndex && measurements[endIndex].end < scrollOffset + outerSize) {\n      endIndex++;\n    }\n  } else if (lanes > 1) {\n    const endPerLane = Array(lanes).fill(0);\n    while (endIndex < lastIndex && endPerLane.some((pos) => pos < scrollOffset + outerSize)) {\n      const item = measurements[endIndex];\n      endPerLane[item.lane] = item.end;\n      endIndex++;\n    }\n    const startPerLane = Array(lanes).fill(scrollOffset + outerSize);\n    while (startIndex >= 0 && startPerLane.some((pos) => pos >= scrollOffset)) {\n      const item = measurements[startIndex];\n      startPerLane[item.lane] = item.start;\n      startIndex--;\n    }\n    startIndex = Math.max(0, startIndex - startIndex % lanes);\n    endIndex = Math.min(lastIndex, endIndex + (lanes - 1 - endIndex % lanes));\n  }\n  return { startIndex, endIndex };\n}\nexport {\n  Virtualizer,\n  approxEqual,\n  debounce,\n  defaultKeyExtractor,\n  defaultRangeExtractor,\n  elementScroll,\n  measureElement,\n  memo,\n  notUndefined,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  windowScroll\n};\n//# sourceMappingURL=index.js.map\n","import * as React from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { Virtualizer, elementScroll, observeElementOffset, observeElementRect, windowScroll, observeWindowOffset, observeWindowRect } from \"@tanstack/virtual-core\";\nexport * from \"@tanstack/virtual-core\";\nconst useIsomorphicLayoutEffect = typeof document !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nfunction useVirtualizerBase(options) {\n  const rerender = React.useReducer(() => ({}), {})[1];\n  const resolvedOptions = {\n    ...options,\n    onChange: (instance2, sync) => {\n      var _a;\n      if (sync) {\n        flushSync(rerender);\n      } else {\n        rerender();\n      }\n      (_a = options.onChange) == null ? void 0 : _a.call(options, instance2, sync);\n    }\n  };\n  const [instance] = React.useState(\n    () => new Virtualizer(resolvedOptions)\n  );\n  instance.setOptions(resolvedOptions);\n  useIsomorphicLayoutEffect(() => {\n    return instance._didMount();\n  }, []);\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate();\n  });\n  return instance;\n}\nfunction useVirtualizer(options) {\n  return useVirtualizerBase({\n    observeElementRect,\n    observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options\n  });\n}\nfunction useWindowVirtualizer(options) {\n  return useVirtualizerBase({\n    getScrollElement: () => typeof document !== \"undefined\" ? window : null,\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    initialOffset: () => typeof document !== \"undefined\" ? window.scrollY : 0,\n    ...options\n  });\n}\nexport {\n  useVirtualizer,\n  useWindowVirtualizer\n};\n//# sourceMappingURL=index.js.map\n","/**\n   * match-sorter-utils\n   *\n   * Copyright (c) TanStack\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE.md file in the root directory of this source tree.\n   *\n   * @license MIT\n   */\nconst characterMap = {\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'AE',\n  : 'A',\n  : 'A',\n  : 'A',\n  : 'C',\n  : 'C',\n  : 'E',\n  : 'E',\n  : 'E',\n  : 'E',\n  : 'E',\n  : 'E',\n  : 'E',\n  : 'E',\n  : 'E',\n  : 'E',\n  : 'I',\n  : 'I',\n  : 'I',\n  : 'I',\n  : 'I',\n  : 'I',\n  : 'D',\n  : 'N',\n  : 'O',\n  : 'O',\n  : 'O',\n  : 'O',\n  : 'O',\n  : 'O',\n  : 'O',\n  : 'O',\n  : 'O',\n  : 'O',\n  : 'U',\n  : 'U',\n  : 'U',\n  : 'U',\n  : 'Y',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'ae',\n  : 'a',\n  : 'a',\n  : 'a',\n  : 'c',\n  : 'c',\n  : 'e',\n  : 'e',\n  : 'e',\n  : 'e',\n  : 'e',\n  : 'e',\n  : 'e',\n  : 'e',\n  : 'e',\n  : 'e',\n  : 'i',\n  : 'i',\n  : 'i',\n  : 'i',\n  : 'i',\n  : 'i',\n  : 'd',\n  : 'n',\n  : 'o',\n  : 'o',\n  : 'o',\n  : 'o',\n  : 'o',\n  : 'o',\n  : 'o',\n  : 'o',\n  : 'o',\n  : 'o',\n  : 'u',\n  : 'u',\n  : 'u',\n  : 'u',\n  : 'y',\n  : 'y',\n  : 'A',\n  : 'a',\n  : 'A',\n  : 'a',\n  : 'A',\n  : 'a',\n  : 'C',\n  : 'c',\n  : 'C',\n  : 'c',\n  : 'C',\n  : 'c',\n  : 'C',\n  : 'c',\n  C: 'C',\n  c: 'c',\n  : 'D',\n  : 'd',\n  : 'D',\n  : 'd',\n  : 'E',\n  : 'e',\n  : 'E',\n  : 'e',\n  : 'E',\n  : 'e',\n  : 'E',\n  : 'e',\n  : 'E',\n  : 'e',\n  : 'G',\n  : 'G',\n  : 'g',\n  : 'g',\n  : 'G',\n  : 'g',\n  : 'G',\n  : 'g',\n  : 'G',\n  : 'g',\n  : 'H',\n  : 'h',\n  : 'H',\n  : 'h',\n  : 'H',\n  : 'h',\n  : 'I',\n  : 'i',\n  : 'I',\n  : 'i',\n  : 'I',\n  : 'i',\n  : 'I',\n  : 'i',\n  : 'I',\n  : 'i',\n  : 'IJ',\n  : 'ij',\n  : 'J',\n  : 'j',\n  : 'K',\n  : 'k',\n  : 'K',\n  : 'k',\n  K: 'K',\n  k: 'k',\n  : 'L',\n  : 'l',\n  : 'L',\n  : 'l',\n  : 'L',\n  : 'l',\n  : 'L',\n  : 'l',\n  : 'l',\n  : 'l',\n  : 'M',\n  : 'm',\n  M: 'M',\n  m: 'm',\n  : 'N',\n  : 'n',\n  : 'N',\n  : 'n',\n  : 'N',\n  : 'n',\n  : 'n',\n  N: 'N',\n  n: 'n',\n  : 'O',\n  : 'o',\n  : 'O',\n  : 'o',\n  : 'O',\n  : 'o',\n  : 'OE',\n  : 'oe',\n  P: 'P',\n  p: 'p',\n  : 'R',\n  : 'r',\n  : 'R',\n  : 'r',\n  : 'R',\n  : 'r',\n  R: 'R',\n  r: 'r',\n  : 'R',\n  : 'r',\n  : 'S',\n  : 's',\n  : 'S',\n  : 's',\n  : 'S',\n  : 'S',\n  : 's',\n  : 's',\n  : 'S',\n  : 's',\n  : 'T',\n  : 't',\n  : 't',\n  : 'T',\n  : 'T',\n  : 't',\n  : 'T',\n  : 't',\n  T: 'T',\n  t: 't',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  V: 'V',\n  v: 'v',\n  : 'W',\n  : 'w',\n  : 'W',\n  : 'w',\n  X: 'X',\n  x: 'x',\n  : 'Y',\n  : 'y',\n  : 'Y',\n  Y: 'Y',\n  y: 'y',\n  : 'Z',\n  : 'z',\n  : 'Z',\n  : 'z',\n  : 'Z',\n  : 'z',\n  : 's',\n  : 'f',\n  : 'O',\n  : 'o',\n  : 'U',\n  : 'u',\n  : 'A',\n  : 'a',\n  : 'I',\n  : 'i',\n  : 'O',\n  : 'o',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'U',\n  : 'u',\n  : 'A',\n  : 'a',\n  : 'AE',\n  : 'ae',\n  : 'O',\n  : 'o',\n  : 'TH',\n  : 'th',\n  : 'P',\n  : 'p',\n  : 'S',\n  : 's',\n  X: 'X',\n  x: 'x',\n  : '',\n  : '',\n  : '',\n  : '',\n  A: 'A',\n  a: 'a',\n  E: 'E',\n  e: 'e',\n  I: 'I',\n  i: 'i',\n  : 'N',\n  : 'n',\n  : 'O',\n  : 'o',\n  : 'O',\n  : 'o',\n  : 'U',\n  : 'u',\n  : 'W',\n  : 'w',\n  : 'Y',\n  : 'y',\n  : 'A',\n  : 'a',\n  : 'E',\n  : 'e',\n  : 'I',\n  : 'i',\n  : 'O',\n  : 'o',\n  : 'R',\n  : 'r',\n  : 'U',\n  : 'u',\n  B: 'B',\n  b: 'b',\n  : 'C',\n  : 'c',\n  : 'E',\n  : 'e',\n  F: 'F',\n  f: 'f',\n  : 'G',\n  : 'g',\n  : 'H',\n  : 'h',\n  J: 'J',\n  : 'j',\n  : 'K',\n  : 'k',\n  M: 'M',\n  m: 'm',\n  P: 'P',\n  p: 'p',\n  Q: 'Q',\n  q: 'q',\n  : 'R',\n  : 'r',\n  : 'S',\n  : 's',\n  V: 'V',\n  v: 'v',\n  W: 'W',\n  w: 'w',\n  X: 'X',\n  x: 'x',\n  Y: 'Y',\n  y: 'y',\n  A: 'A',\n  a: 'a',\n  B: 'B',\n  b: 'b',\n  : 'D',\n  : 'd',\n  : 'E',\n  : 'e',\n  : 'E',\n  : 'e',\n  : 'H',\n  : 'h',\n  I: 'I',\n  i: 'i',\n  : 'I',\n  : 'i',\n  M: 'M',\n  m: 'm',\n  O: 'O',\n  o: 'o',\n  Q: 'Q',\n  q: 'q',\n  U: 'U',\n  u: 'u',\n  X: 'X',\n  x: 'x',\n  Z: 'Z',\n  z: 'z'\n};\nconst chars = Object.keys(characterMap).join('|');\nconst allAccents = new RegExp(chars, 'g');\nfunction removeAccents(str) {\n  return str.replace(allAccents, match => {\n    return characterMap[match];\n  });\n}\n\n/**\n * @name match-sorter\n * @license MIT license.\n * @copyright (c) 2099 Kent C. Dodds\n * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)\n */\n\nconst rankings = {\n  CASE_SENSITIVE_EQUAL: 7,\n  EQUAL: 6,\n  STARTS_WITH: 5,\n  WORD_STARTS_WITH: 4,\n  CONTAINS: 3,\n  ACRONYM: 2,\n  MATCHES: 1,\n  NO_MATCH: 0\n};\n/**\n * Gets the highest ranking for value for the given item based on its values for the given keys\n * @param {*} item - the item to rank\n * @param {String} value - the value to rank against\n * @param {Object} options - options to control the ranking\n * @return {{rank: Number, accessorIndex: Number, accessorThreshold: Number}} - the highest ranking\n */\nfunction rankItem(item, value, options) {\n  var _options$threshold;\n  options = options || {};\n  options.threshold = (_options$threshold = options.threshold) != null ? _options$threshold : rankings.MATCHES;\n  if (!options.accessors) {\n    // if keys is not specified, then we assume the item given is ready to be matched\n    const rank = getMatchRanking(item, value, options);\n    return {\n      // ends up being duplicate of 'item' in matches but consistent\n      rankedValue: item,\n      rank,\n      accessorIndex: -1,\n      accessorThreshold: options.threshold,\n      passed: rank >= options.threshold\n    };\n  }\n  const valuesToRank = getAllValuesToRank(item, options.accessors);\n  const rankingInfo = {\n    rankedValue: item,\n    rank: rankings.NO_MATCH,\n    accessorIndex: -1,\n    accessorThreshold: options.threshold,\n    passed: false\n  };\n  for (let i = 0; i < valuesToRank.length; i++) {\n    const rankValue = valuesToRank[i];\n    let newRank = getMatchRanking(rankValue.itemValue, value, options);\n    const {\n      minRanking,\n      maxRanking,\n      threshold = options.threshold\n    } = rankValue.attributes;\n    if (newRank < minRanking && newRank >= rankings.MATCHES) {\n      newRank = minRanking;\n    } else if (newRank > maxRanking) {\n      newRank = maxRanking;\n    }\n    newRank = Math.min(newRank, maxRanking);\n    if (newRank >= threshold && newRank > rankingInfo.rank) {\n      rankingInfo.rank = newRank;\n      rankingInfo.passed = true;\n      rankingInfo.accessorIndex = i;\n      rankingInfo.accessorThreshold = threshold;\n      rankingInfo.rankedValue = rankValue.itemValue;\n    }\n  }\n  return rankingInfo;\n}\n\n/**\n * Gives a rankings score based on how well the two strings match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @param {Object} options - options for the match (like keepDiacritics for comparison)\n * @returns {Number} the ranking for how well stringToRank matches testString\n */\nfunction getMatchRanking(testString, stringToRank, options) {\n  testString = prepareValueForComparison(testString, options);\n  stringToRank = prepareValueForComparison(stringToRank, options);\n\n  // too long\n  if (stringToRank.length > testString.length) {\n    return rankings.NO_MATCH;\n  }\n\n  // case sensitive equals\n  if (testString === stringToRank) {\n    return rankings.CASE_SENSITIVE_EQUAL;\n  }\n\n  // Lower casing before further comparison\n  testString = testString.toLowerCase();\n  stringToRank = stringToRank.toLowerCase();\n\n  // case insensitive equals\n  if (testString === stringToRank) {\n    return rankings.EQUAL;\n  }\n\n  // starts with\n  if (testString.startsWith(stringToRank)) {\n    return rankings.STARTS_WITH;\n  }\n\n  // word starts with\n  if (testString.includes(` ${stringToRank}`)) {\n    return rankings.WORD_STARTS_WITH;\n  }\n\n  // contains\n  if (testString.includes(stringToRank)) {\n    return rankings.CONTAINS;\n  } else if (stringToRank.length === 1) {\n    // If the only character in the given stringToRank\n    //   isn't even contained in the testString, then\n    //   it's definitely not a match.\n    return rankings.NO_MATCH;\n  }\n\n  // acronym\n  if (getAcronym(testString).includes(stringToRank)) {\n    return rankings.ACRONYM;\n  }\n\n  // will return a number between rankings.MATCHES and\n  // rankings.MATCHES + 1 depending  on how close of a match it is.\n  return getClosenessRanking(testString, stringToRank);\n}\n\n/**\n * Generates an acronym for a string.\n *\n * @param {String} string the string for which to produce the acronym\n * @returns {String} the acronym\n */\nfunction getAcronym(string) {\n  let acronym = '';\n  const wordsInString = string.split(' ');\n  wordsInString.forEach(wordInString => {\n    const splitByHyphenWords = wordInString.split('-');\n    splitByHyphenWords.forEach(splitByHyphenWord => {\n      acronym += splitByHyphenWord.substr(0, 1);\n    });\n  });\n  return acronym;\n}\n\n/**\n * Returns a score based on how spread apart the\n * characters from the stringToRank are within the testString.\n * A number close to rankings.MATCHES represents a loose match. A number close\n * to rankings.MATCHES + 1 represents a tighter match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @returns {Number} the number between rankings.MATCHES and\n * rankings.MATCHES + 1 for how well stringToRank matches testString\n */\nfunction getClosenessRanking(testString, stringToRank) {\n  let matchingInOrderCharCount = 0;\n  let charNumber = 0;\n  function findMatchingCharacter(matchChar, string, index) {\n    for (let j = index, J = string.length; j < J; j++) {\n      const stringChar = string[j];\n      if (stringChar === matchChar) {\n        matchingInOrderCharCount += 1;\n        return j + 1;\n      }\n    }\n    return -1;\n  }\n  function getRanking(spread) {\n    const spreadPercentage = 1 / spread;\n    const inOrderPercentage = matchingInOrderCharCount / stringToRank.length;\n    const ranking = rankings.MATCHES + inOrderPercentage * spreadPercentage;\n    return ranking;\n  }\n  const firstIndex = findMatchingCharacter(stringToRank[0], testString, 0);\n  if (firstIndex < 0) {\n    return rankings.NO_MATCH;\n  }\n  charNumber = firstIndex;\n  for (let i = 1, I = stringToRank.length; i < I; i++) {\n    const matchChar = stringToRank[i];\n    charNumber = findMatchingCharacter(matchChar, testString, charNumber);\n    const found = charNumber > -1;\n    if (!found) {\n      return rankings.NO_MATCH;\n    }\n  }\n  const spread = charNumber - firstIndex;\n  return getRanking(spread);\n}\n\n/**\n * Sorts items that have a rank, index, and accessorIndex\n * @param {Object} a - the first item to sort\n * @param {Object} b - the second item to sort\n * @return {Number} -1 if a should come first, 1 if b should come first, 0 if equal\n */\nfunction compareItems(a, b) {\n  return a.rank === b.rank ? 0 : a.rank > b.rank ? -1 : 1;\n}\n\n/**\n * Prepares value for comparison by stringifying it, removing diacritics (if specified)\n * @param {String} value - the value to clean\n * @param {Object} options - {keepDiacritics: whether to remove diacritics}\n * @return {String} the prepared value\n */\nfunction prepareValueForComparison(value, _ref) {\n  let {\n    keepDiacritics\n  } = _ref;\n  // value might not actually be a string at this point (we don't get to choose)\n  // so part of preparing the value for comparison is ensure that it is a string\n  value = `${value}`; // toString\n  if (!keepDiacritics) {\n    value = removeAccents(value);\n  }\n  return value;\n}\n\n/**\n * Gets value for key in item at arbitrarily nested keypath\n * @param {Object} item - the item\n * @param {Object|Function} key - the potentially nested keypath or property callback\n * @return {Array} - an array containing the value(s) at the nested keypath\n */\nfunction getItemValues(item, accessor) {\n  let accessorFn = accessor;\n  if (typeof accessor === 'object') {\n    accessorFn = accessor.accessor;\n  }\n  const value = accessorFn(item);\n\n  // because `value` can also be undefined\n  if (value == null) {\n    return [];\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  return [String(value)];\n}\n\n/**\n * Gets all the values for the given keys in the given item and returns an array of those values\n * @param item - the item from which the values will be retrieved\n * @param keys - the keys to use to retrieve the values\n * @return objects with {itemValue, attributes}\n */\nfunction getAllValuesToRank(item, accessors) {\n  const allValues = [];\n  for (let j = 0, J = accessors.length; j < J; j++) {\n    const accessor = accessors[j];\n    const attributes = getAccessorAttributes(accessor);\n    const itemValues = getItemValues(item, accessor);\n    for (let i = 0, I = itemValues.length; i < I; i++) {\n      allValues.push({\n        itemValue: itemValues[i],\n        attributes\n      });\n    }\n  }\n  return allValues;\n}\nconst defaultKeyAttributes = {\n  maxRanking: Infinity,\n  minRanking: -Infinity\n};\n/**\n * Gets all the attributes for the given accessor\n * @param accessor - the accessor from which the attributes will be retrieved\n * @return object containing the accessor's attributes\n */\nfunction getAccessorAttributes(accessor) {\n  if (typeof accessor === 'function') {\n    return defaultKeyAttributes;\n  }\n  return {\n    ...defaultKeyAttributes,\n    ...accessor\n  };\n}\n\nexport { compareItems, rankItem, rankings };\n//# sourceMappingURL=index.mjs.map\n","import { useMemo, useLayoutEffect, useEffect, useRef, useCallback } from 'react';\n\nfunction useCombinedRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return useMemo(() => node => {\n    refs.forEach(ref => ref(node));\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  refs);\n}\n\n// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nconst canUseDOM = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n\nfunction isWindow(element) {\n  const elementString = Object.prototype.toString.call(element);\n  return elementString === '[object Window]' || // In Electron context the Window object serializes to [object global]\n  elementString === '[object global]';\n}\n\nfunction isNode(node) {\n  return 'nodeType' in node;\n}\n\nfunction getWindow(target) {\n  var _target$ownerDocument, _target$ownerDocument2;\n\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  return (_target$ownerDocument = (_target$ownerDocument2 = target.ownerDocument) == null ? void 0 : _target$ownerDocument2.defaultView) != null ? _target$ownerDocument : window;\n}\n\nfunction isDocument(node) {\n  const {\n    Document\n  } = getWindow(node);\n  return node instanceof Document;\n}\n\nfunction isHTMLElement(node) {\n  if (isWindow(node)) {\n    return false;\n  }\n\n  return node instanceof getWindow(node).HTMLElement;\n}\n\nfunction isSVGElement(node) {\n  return node instanceof getWindow(node).SVGElement;\n}\n\nfunction getOwnerDocument(target) {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n\n/**\r\n * A hook that resolves to useEffect on the server and useLayoutEffect on the client\r\n * @param callback {function} Callback function that is invoked when the dependencies of the hook change\r\n */\n\nconst useIsomorphicLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;\n\nfunction useEvent(handler) {\n  const handlerRef = useRef(handler);\n  useIsomorphicLayoutEffect(() => {\n    handlerRef.current = handler;\n  });\n  return useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return handlerRef.current == null ? void 0 : handlerRef.current(...args);\n  }, []);\n}\n\nfunction useInterval() {\n  const intervalRef = useRef(null);\n  const set = useCallback((listener, duration) => {\n    intervalRef.current = setInterval(listener, duration);\n  }, []);\n  const clear = useCallback(() => {\n    if (intervalRef.current !== null) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, []);\n  return [set, clear];\n}\n\nfunction useLatestValue(value, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [value];\n  }\n\n  const valueRef = useRef(value);\n  useIsomorphicLayoutEffect(() => {\n    if (valueRef.current !== value) {\n      valueRef.current = value;\n    }\n  }, dependencies);\n  return valueRef;\n}\n\nfunction useLazyMemo(callback, dependencies) {\n  const valueRef = useRef();\n  return useMemo(() => {\n    const newValue = callback(valueRef.current);\n    valueRef.current = newValue;\n    return newValue;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [...dependencies]);\n}\n\nfunction useNodeRef(onChange) {\n  const onChangeHandler = useEvent(onChange);\n  const node = useRef(null);\n  const setNodeRef = useCallback(element => {\n    if (element !== node.current) {\n      onChangeHandler == null ? void 0 : onChangeHandler(element, node.current);\n    }\n\n    node.current = element;\n  }, //eslint-disable-next-line\n  []);\n  return [node, setNodeRef];\n}\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\nlet ids = {};\nfunction useUniqueId(prefix, value) {\n  return useMemo(() => {\n    if (value) {\n      return value;\n    }\n\n    const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n    ids[prefix] = id;\n    return prefix + \"-\" + id;\n  }, [prefix, value]);\n}\n\nfunction createAdjustmentFn(modifier) {\n  return function (object) {\n    for (var _len = arguments.length, adjustments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      adjustments[_key - 1] = arguments[_key];\n    }\n\n    return adjustments.reduce((accumulator, adjustment) => {\n      const entries = Object.entries(adjustment);\n\n      for (const [key, valueAdjustment] of entries) {\n        const value = accumulator[key];\n\n        if (value != null) {\n          accumulator[key] = value + modifier * valueAdjustment;\n        }\n      }\n\n      return accumulator;\n    }, { ...object\n    });\n  };\n}\n\nconst add = /*#__PURE__*/createAdjustmentFn(1);\nconst subtract = /*#__PURE__*/createAdjustmentFn(-1);\n\nfunction hasViewportRelativeCoordinates(event) {\n  return 'clientX' in event && 'clientY' in event;\n}\n\nfunction isKeyboardEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    KeyboardEvent\n  } = getWindow(event.target);\n  return KeyboardEvent && event instanceof KeyboardEvent;\n}\n\nfunction isTouchEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    TouchEvent\n  } = getWindow(event.target);\n  return TouchEvent && event instanceof TouchEvent;\n}\n\n/**\r\n * Returns the normalized x and y coordinates for mouse and touch events.\r\n */\n\nfunction getEventCoordinates(event) {\n  if (isTouchEvent(event)) {\n    if (event.touches && event.touches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.touches[0];\n      return {\n        x,\n        y\n      };\n    } else if (event.changedTouches && event.changedTouches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.changedTouches[0];\n      return {\n        x,\n        y\n      };\n    }\n  }\n\n  if (hasViewportRelativeCoordinates(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY\n    };\n  }\n\n  return null;\n}\n\nconst CSS = /*#__PURE__*/Object.freeze({\n  Translate: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        x,\n        y\n      } = transform;\n      return \"translate3d(\" + (x ? Math.round(x) : 0) + \"px, \" + (y ? Math.round(y) : 0) + \"px, 0)\";\n    }\n\n  },\n  Scale: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        scaleX,\n        scaleY\n      } = transform;\n      return \"scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\";\n    }\n\n  },\n  Transform: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      return [CSS.Translate.toString(transform), CSS.Scale.toString(transform)].join(' ');\n    }\n\n  },\n  Transition: {\n    toString(_ref) {\n      let {\n        property,\n        duration,\n        easing\n      } = _ref;\n      return property + \" \" + duration + \"ms \" + easing;\n    }\n\n  }\n});\n\nconst SELECTOR = 'a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]';\nfunction findFirstFocusableNode(element) {\n  if (element.matches(SELECTOR)) {\n    return element;\n  }\n\n  return element.querySelector(SELECTOR);\n}\n\nexport { CSS, add, canUseDOM, findFirstFocusableNode, getEventCoordinates, getOwnerDocument, getWindow, hasViewportRelativeCoordinates, isDocument, isHTMLElement, isKeyboardEvent, isNode, isSVGElement, isTouchEvent, isWindow, subtract, useCombinedRefs, useEvent, useInterval, useIsomorphicLayoutEffect, useLatestValue, useLazyMemo, useNodeRef, usePrevious, useUniqueId };\n//# sourceMappingURL=utilities.esm.js.map\n","import React, { useState, useCallback } from 'react';\n\nconst hiddenStyles = {\n  display: 'none'\n};\nfunction HiddenText(_ref) {\n  let {\n    id,\n    value\n  } = _ref;\n  return React.createElement(\"div\", {\n    id: id,\n    style: hiddenStyles\n  }, value);\n}\n\nfunction LiveRegion(_ref) {\n  let {\n    id,\n    announcement,\n    ariaLiveType = \"assertive\"\n  } = _ref;\n  // Hide element visually but keep it readable by screen readers\n  const visuallyHidden = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0 0 0 0)',\n    clipPath: 'inset(100%)',\n    whiteSpace: 'nowrap'\n  };\n  return React.createElement(\"div\", {\n    id: id,\n    style: visuallyHidden,\n    role: \"status\",\n    \"aria-live\": ariaLiveType,\n    \"aria-atomic\": true\n  }, announcement);\n}\n\nfunction useAnnouncement() {\n  const [announcement, setAnnouncement] = useState('');\n  const announce = useCallback(value => {\n    if (value != null) {\n      setAnnouncement(value);\n    }\n  }, []);\n  return {\n    announce,\n    announcement\n  };\n}\n\nexport { HiddenText, LiveRegion, useAnnouncement };\n//# sourceMappingURL=accessibility.esm.js.map\n","import React, { createContext, useContext, useEffect, useState, useCallback, useMemo, useRef, memo, useReducer, cloneElement, forwardRef } from 'react';\nimport { createPortal, unstable_batchedUpdates } from 'react-dom';\nimport { useUniqueId, getEventCoordinates, getWindow, isDocument, isHTMLElement, isSVGElement, canUseDOM, isWindow, isNode, getOwnerDocument, add, isKeyboardEvent, subtract, useLazyMemo, useInterval, usePrevious, useLatestValue, useEvent, useIsomorphicLayoutEffect, useNodeRef, findFirstFocusableNode, CSS } from '@dnd-kit/utilities';\nimport { useAnnouncement, HiddenText, LiveRegion } from '@dnd-kit/accessibility';\n\nconst DndMonitorContext = /*#__PURE__*/createContext(null);\n\nfunction useDndMonitor(listener) {\n  const registerListener = useContext(DndMonitorContext);\n  useEffect(() => {\n    if (!registerListener) {\n      throw new Error('useDndMonitor must be used within a children of <DndContext>');\n    }\n\n    const unsubscribe = registerListener(listener);\n    return unsubscribe;\n  }, [listener, registerListener]);\n}\n\nfunction useDndMonitorProvider() {\n  const [listeners] = useState(() => new Set());\n  const registerListener = useCallback(listener => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  }, [listeners]);\n  const dispatch = useCallback(_ref => {\n    let {\n      type,\n      event\n    } = _ref;\n    listeners.forEach(listener => {\n      var _listener$type;\n\n      return (_listener$type = listener[type]) == null ? void 0 : _listener$type.call(listener, event);\n    });\n  }, [listeners]);\n  return [dispatch, registerListener];\n}\n\nconst defaultScreenReaderInstructions = {\n  draggable: \"\\n    To pick up a draggable item, press the space bar.\\n    While dragging, use the arrow keys to move the item.\\n    Press space again to drop the item in its new position, or press escape to cancel.\\n  \"\n};\nconst defaultAnnouncements = {\n  onDragStart(_ref) {\n    let {\n      active\n    } = _ref;\n    return \"Picked up draggable item \" + active.id + \".\";\n  },\n\n  onDragOver(_ref2) {\n    let {\n      active,\n      over\n    } = _ref2;\n\n    if (over) {\n      return \"Draggable item \" + active.id + \" was moved over droppable area \" + over.id + \".\";\n    }\n\n    return \"Draggable item \" + active.id + \" is no longer over a droppable area.\";\n  },\n\n  onDragEnd(_ref3) {\n    let {\n      active,\n      over\n    } = _ref3;\n\n    if (over) {\n      return \"Draggable item \" + active.id + \" was dropped over droppable area \" + over.id;\n    }\n\n    return \"Draggable item \" + active.id + \" was dropped.\";\n  },\n\n  onDragCancel(_ref4) {\n    let {\n      active\n    } = _ref4;\n    return \"Dragging was cancelled. Draggable item \" + active.id + \" was dropped.\";\n  }\n\n};\n\nfunction Accessibility(_ref) {\n  let {\n    announcements = defaultAnnouncements,\n    container,\n    hiddenTextDescribedById,\n    screenReaderInstructions = defaultScreenReaderInstructions\n  } = _ref;\n  const {\n    announce,\n    announcement\n  } = useAnnouncement();\n  const liveRegionId = useUniqueId(\"DndLiveRegion\");\n  const [mounted, setMounted] = useState(false);\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n  useDndMonitor(useMemo(() => ({\n    onDragStart(_ref2) {\n      let {\n        active\n      } = _ref2;\n      announce(announcements.onDragStart({\n        active\n      }));\n    },\n\n    onDragMove(_ref3) {\n      let {\n        active,\n        over\n      } = _ref3;\n\n      if (announcements.onDragMove) {\n        announce(announcements.onDragMove({\n          active,\n          over\n        }));\n      }\n    },\n\n    onDragOver(_ref4) {\n      let {\n        active,\n        over\n      } = _ref4;\n      announce(announcements.onDragOver({\n        active,\n        over\n      }));\n    },\n\n    onDragEnd(_ref5) {\n      let {\n        active,\n        over\n      } = _ref5;\n      announce(announcements.onDragEnd({\n        active,\n        over\n      }));\n    },\n\n    onDragCancel(_ref6) {\n      let {\n        active,\n        over\n      } = _ref6;\n      announce(announcements.onDragCancel({\n        active,\n        over\n      }));\n    }\n\n  }), [announce, announcements]));\n\n  if (!mounted) {\n    return null;\n  }\n\n  const markup = React.createElement(React.Fragment, null, React.createElement(HiddenText, {\n    id: hiddenTextDescribedById,\n    value: screenReaderInstructions.draggable\n  }), React.createElement(LiveRegion, {\n    id: liveRegionId,\n    announcement: announcement\n  }));\n  return container ? createPortal(markup, container) : markup;\n}\n\nvar Action;\n\n(function (Action) {\n  Action[\"DragStart\"] = \"dragStart\";\n  Action[\"DragMove\"] = \"dragMove\";\n  Action[\"DragEnd\"] = \"dragEnd\";\n  Action[\"DragCancel\"] = \"dragCancel\";\n  Action[\"DragOver\"] = \"dragOver\";\n  Action[\"RegisterDroppable\"] = \"registerDroppable\";\n  Action[\"SetDroppableDisabled\"] = \"setDroppableDisabled\";\n  Action[\"UnregisterDroppable\"] = \"unregisterDroppable\";\n})(Action || (Action = {}));\n\nfunction noop() {}\n\nfunction useSensor(sensor, options) {\n  return useMemo(() => ({\n    sensor,\n    options: options != null ? options : {}\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [sensor, options]);\n}\n\nfunction useSensors() {\n  for (var _len = arguments.length, sensors = new Array(_len), _key = 0; _key < _len; _key++) {\n    sensors[_key] = arguments[_key];\n  }\n\n  return useMemo(() => [...sensors].filter(sensor => sensor != null), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [...sensors]);\n}\n\nconst defaultCoordinates = /*#__PURE__*/Object.freeze({\n  x: 0,\n  y: 0\n});\n\n/**\r\n * Returns the distance between two points\r\n */\nfunction distanceBetween(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n}\n\nfunction getRelativeTransformOrigin(event, rect) {\n  const eventCoordinates = getEventCoordinates(event);\n\n  if (!eventCoordinates) {\n    return '0 0';\n  }\n\n  const transformOrigin = {\n    x: (eventCoordinates.x - rect.left) / rect.width * 100,\n    y: (eventCoordinates.y - rect.top) / rect.height * 100\n  };\n  return transformOrigin.x + \"% \" + transformOrigin.y + \"%\";\n}\n\n/**\r\n * Sort collisions from smallest to greatest value\r\n */\nfunction sortCollisionsAsc(_ref, _ref2) {\n  let {\n    data: {\n      value: a\n    }\n  } = _ref;\n  let {\n    data: {\n      value: b\n    }\n  } = _ref2;\n  return a - b;\n}\n/**\r\n * Sort collisions from greatest to smallest value\r\n */\n\nfunction sortCollisionsDesc(_ref3, _ref4) {\n  let {\n    data: {\n      value: a\n    }\n  } = _ref3;\n  let {\n    data: {\n      value: b\n    }\n  } = _ref4;\n  return b - a;\n}\n/**\r\n * Returns the coordinates of the corners of a given rectangle:\r\n * [TopLeft {x, y}, TopRight {x, y}, BottomLeft {x, y}, BottomRight {x, y}]\r\n */\n\nfunction cornersOfRectangle(_ref5) {\n  let {\n    left,\n    top,\n    height,\n    width\n  } = _ref5;\n  return [{\n    x: left,\n    y: top\n  }, {\n    x: left + width,\n    y: top\n  }, {\n    x: left,\n    y: top + height\n  }, {\n    x: left + width,\n    y: top + height\n  }];\n}\nfunction getFirstCollision(collisions, property) {\n  if (!collisions || collisions.length === 0) {\n    return null;\n  }\n\n  const [firstCollision] = collisions;\n  return property ? firstCollision[property] : firstCollision;\n}\n\n/**\r\n * Returns the coordinates of the center of a given ClientRect\r\n */\n\nfunction centerOfRectangle(rect, left, top) {\n  if (left === void 0) {\n    left = rect.left;\n  }\n\n  if (top === void 0) {\n    top = rect.top;\n  }\n\n  return {\n    x: left + rect.width * 0.5,\n    y: top + rect.height * 0.5\n  };\n}\n/**\r\n * Returns the closest rectangles from an array of rectangles to the center of a given\r\n * rectangle.\r\n */\n\n\nconst closestCenter = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const centerRect = centerOfRectangle(collisionRect, collisionRect.left, collisionRect.top);\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const distBetween = distanceBetween(centerOfRectangle(rect), centerRect);\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: distBetween\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\n/**\r\n * Returns the closest rectangles from an array of rectangles to the corners of\r\n * another rectangle.\r\n */\n\nconst closestCorners = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const corners = cornersOfRectangle(collisionRect);\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const rectCorners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner, index) => {\n        return accumulator + distanceBetween(rectCorners[index], corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: effectiveDistance\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\n/**\r\n * Returns the intersecting rectangle area between two rectangles\r\n */\n\nfunction getIntersectionRatio(entry, target) {\n  const top = Math.max(target.top, entry.top);\n  const left = Math.max(target.left, entry.left);\n  const right = Math.min(target.left + target.width, entry.left + entry.width);\n  const bottom = Math.min(target.top + target.height, entry.top + entry.height);\n  const width = right - left;\n  const height = bottom - top;\n\n  if (left < right && top < bottom) {\n    const targetArea = target.width * target.height;\n    const entryArea = entry.width * entry.height;\n    const intersectionArea = width * height;\n    const intersectionRatio = intersectionArea / (targetArea + entryArea - intersectionArea);\n    return Number(intersectionRatio.toFixed(4));\n  } // Rectangles do not overlap, or overlap has an area of zero (edge/corner overlap)\n\n\n  return 0;\n}\n/**\r\n * Returns the rectangles that has the greatest intersection area with a given\r\n * rectangle in an array of rectangles.\r\n */\n\nconst rectIntersection = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const intersectionRatio = getIntersectionRatio(rect, collisionRect);\n\n      if (intersectionRatio > 0) {\n        collisions.push({\n          id,\n          data: {\n            droppableContainer,\n            value: intersectionRatio\n          }\n        });\n      }\n    }\n  }\n\n  return collisions.sort(sortCollisionsDesc);\n};\n\n/**\r\n * Check if a given point is contained within a bounding rectangle\r\n */\n\nfunction isPointWithinRect(point, rect) {\n  const {\n    top,\n    left,\n    bottom,\n    right\n  } = rect;\n  return top <= point.y && point.y <= bottom && left <= point.x && point.x <= right;\n}\n/**\r\n * Returns the rectangles that the pointer is hovering over\r\n */\n\n\nconst pointerWithin = _ref => {\n  let {\n    droppableContainers,\n    droppableRects,\n    pointerCoordinates\n  } = _ref;\n\n  if (!pointerCoordinates) {\n    return [];\n  }\n\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect && isPointWithinRect(pointerCoordinates, rect)) {\n      /* There may be more than a single rectangle intersecting\r\n       * with the pointer coordinates. In order to sort the\r\n       * colliding rectangles, we measure the distance between\r\n       * the pointer and the corners of the intersecting rectangle\r\n       */\n      const corners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner) => {\n        return accumulator + distanceBetween(pointerCoordinates, corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: effectiveDistance\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\nfunction adjustScale(transform, rect1, rect2) {\n  return { ...transform,\n    scaleX: rect1 && rect2 ? rect1.width / rect2.width : 1,\n    scaleY: rect1 && rect2 ? rect1.height / rect2.height : 1\n  };\n}\n\nfunction getRectDelta(rect1, rect2) {\n  return rect1 && rect2 ? {\n    x: rect1.left - rect2.left,\n    y: rect1.top - rect2.top\n  } : defaultCoordinates;\n}\n\nfunction createRectAdjustmentFn(modifier) {\n  return function adjustClientRect(rect) {\n    for (var _len = arguments.length, adjustments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      adjustments[_key - 1] = arguments[_key];\n    }\n\n    return adjustments.reduce((acc, adjustment) => ({ ...acc,\n      top: acc.top + modifier * adjustment.y,\n      bottom: acc.bottom + modifier * adjustment.y,\n      left: acc.left + modifier * adjustment.x,\n      right: acc.right + modifier * adjustment.x\n    }), { ...rect\n    });\n  };\n}\nconst getAdjustedRect = /*#__PURE__*/createRectAdjustmentFn(1);\n\nfunction parseTransform(transform) {\n  if (transform.startsWith('matrix3d(')) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5]\n    };\n  } else if (transform.startsWith('matrix(')) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3]\n    };\n  }\n\n  return null;\n}\n\nfunction inverseTransform(rect, transform, transformOrigin) {\n  const parsedTransform = parseTransform(transform);\n\n  if (!parsedTransform) {\n    return rect;\n  }\n\n  const {\n    scaleX,\n    scaleY,\n    x: translateX,\n    y: translateY\n  } = parsedTransform;\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y = rect.top - translateY - (1 - scaleY) * parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x\n  };\n}\n\nconst defaultOptions = {\n  ignoreTransform: false\n};\n/**\r\n * Returns the bounding client rect of an element relative to the viewport.\r\n */\n\nfunction getClientRect(element, options) {\n  if (options === void 0) {\n    options = defaultOptions;\n  }\n\n  let rect = element.getBoundingClientRect();\n\n  if (options.ignoreTransform) {\n    const {\n      transform,\n      transformOrigin\n    } = getWindow(element).getComputedStyle(element);\n\n    if (transform) {\n      rect = inverseTransform(rect, transform, transformOrigin);\n    }\n  }\n\n  const {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right\n  } = rect;\n  return {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right\n  };\n}\n/**\r\n * Returns the bounding client rect of an element relative to the viewport.\r\n *\r\n * @remarks\r\n * The ClientRect returned by this method does not take into account transforms\r\n * applied to the element it measures.\r\n *\r\n */\n\nfunction getTransformAgnosticClientRect(element) {\n  return getClientRect(element, {\n    ignoreTransform: true\n  });\n}\n\nfunction getWindowClientRect(element) {\n  const width = element.innerWidth;\n  const height = element.innerHeight;\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height\n  };\n}\n\nfunction isFixed(node, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = getWindow(node).getComputedStyle(node);\n  }\n\n  return computedStyle.position === 'fixed';\n}\n\nfunction isScrollable(element, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = getWindow(element).getComputedStyle(element);\n  }\n\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.some(property => {\n    const value = computedStyle[property];\n    return typeof value === 'string' ? overflowRegex.test(value) : false;\n  });\n}\n\nfunction getScrollableAncestors(element, limit) {\n  const scrollParents = [];\n\n  function findScrollableAncestors(node) {\n    if (limit != null && scrollParents.length >= limit) {\n      return scrollParents;\n    }\n\n    if (!node) {\n      return scrollParents;\n    }\n\n    if (isDocument(node) && node.scrollingElement != null && !scrollParents.includes(node.scrollingElement)) {\n      scrollParents.push(node.scrollingElement);\n      return scrollParents;\n    }\n\n    if (!isHTMLElement(node) || isSVGElement(node)) {\n      return scrollParents;\n    }\n\n    if (scrollParents.includes(node)) {\n      return scrollParents;\n    }\n\n    const computedStyle = getWindow(element).getComputedStyle(node);\n\n    if (node !== element) {\n      if (isScrollable(node, computedStyle)) {\n        scrollParents.push(node);\n      }\n    }\n\n    if (isFixed(node, computedStyle)) {\n      return scrollParents;\n    }\n\n    return findScrollableAncestors(node.parentNode);\n  }\n\n  if (!element) {\n    return scrollParents;\n  }\n\n  return findScrollableAncestors(element);\n}\nfunction getFirstScrollableAncestor(node) {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, 1);\n  return firstScrollableAncestor != null ? firstScrollableAncestor : null;\n}\n\nfunction getScrollableElement(element) {\n  if (!canUseDOM || !element) {\n    return null;\n  }\n\n  if (isWindow(element)) {\n    return element;\n  }\n\n  if (!isNode(element)) {\n    return null;\n  }\n\n  if (isDocument(element) || element === getOwnerDocument(element).scrollingElement) {\n    return window;\n  }\n\n  if (isHTMLElement(element)) {\n    return element;\n  }\n\n  return null;\n}\n\nfunction getScrollXCoordinate(element) {\n  if (isWindow(element)) {\n    return element.scrollX;\n  }\n\n  return element.scrollLeft;\n}\nfunction getScrollYCoordinate(element) {\n  if (isWindow(element)) {\n    return element.scrollY;\n  }\n\n  return element.scrollTop;\n}\nfunction getScrollCoordinates(element) {\n  return {\n    x: getScrollXCoordinate(element),\n    y: getScrollYCoordinate(element)\n  };\n}\n\nvar Direction;\n\n(function (Direction) {\n  Direction[Direction[\"Forward\"] = 1] = \"Forward\";\n  Direction[Direction[\"Backward\"] = -1] = \"Backward\";\n})(Direction || (Direction = {}));\n\nfunction isDocumentScrollingElement(element) {\n  if (!canUseDOM || !element) {\n    return false;\n  }\n\n  return element === document.scrollingElement;\n}\n\nfunction getScrollPosition(scrollingContainer) {\n  const minScroll = {\n    x: 0,\n    y: 0\n  };\n  const dimensions = isDocumentScrollingElement(scrollingContainer) ? {\n    height: window.innerHeight,\n    width: window.innerWidth\n  } : {\n    height: scrollingContainer.clientHeight,\n    width: scrollingContainer.clientWidth\n  };\n  const maxScroll = {\n    x: scrollingContainer.scrollWidth - dimensions.width,\n    y: scrollingContainer.scrollHeight - dimensions.height\n  };\n  const isTop = scrollingContainer.scrollTop <= minScroll.y;\n  const isLeft = scrollingContainer.scrollLeft <= minScroll.x;\n  const isBottom = scrollingContainer.scrollTop >= maxScroll.y;\n  const isRight = scrollingContainer.scrollLeft >= maxScroll.x;\n  return {\n    isTop,\n    isLeft,\n    isBottom,\n    isRight,\n    maxScroll,\n    minScroll\n  };\n}\n\nconst defaultThreshold = {\n  x: 0.2,\n  y: 0.2\n};\nfunction getScrollDirectionAndSpeed(scrollContainer, scrollContainerRect, _ref, acceleration, thresholdPercentage) {\n  let {\n    top,\n    left,\n    right,\n    bottom\n  } = _ref;\n\n  if (acceleration === void 0) {\n    acceleration = 10;\n  }\n\n  if (thresholdPercentage === void 0) {\n    thresholdPercentage = defaultThreshold;\n  }\n\n  const {\n    isTop,\n    isBottom,\n    isLeft,\n    isRight\n  } = getScrollPosition(scrollContainer);\n  const direction = {\n    x: 0,\n    y: 0\n  };\n  const speed = {\n    x: 0,\n    y: 0\n  };\n  const threshold = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x\n  };\n\n  if (!isTop && top <= scrollContainerRect.top + threshold.height) {\n    // Scroll Up\n    direction.y = Direction.Backward;\n    speed.y = acceleration * Math.abs((scrollContainerRect.top + threshold.height - top) / threshold.height);\n  } else if (!isBottom && bottom >= scrollContainerRect.bottom - threshold.height) {\n    // Scroll Down\n    direction.y = Direction.Forward;\n    speed.y = acceleration * Math.abs((scrollContainerRect.bottom - threshold.height - bottom) / threshold.height);\n  }\n\n  if (!isRight && right >= scrollContainerRect.right - threshold.width) {\n    // Scroll Right\n    direction.x = Direction.Forward;\n    speed.x = acceleration * Math.abs((scrollContainerRect.right - threshold.width - right) / threshold.width);\n  } else if (!isLeft && left <= scrollContainerRect.left + threshold.width) {\n    // Scroll Left\n    direction.x = Direction.Backward;\n    speed.x = acceleration * Math.abs((scrollContainerRect.left + threshold.width - left) / threshold.width);\n  }\n\n  return {\n    direction,\n    speed\n  };\n}\n\nfunction getScrollElementRect(element) {\n  if (element === document.scrollingElement) {\n    const {\n      innerWidth,\n      innerHeight\n    } = window;\n    return {\n      top: 0,\n      left: 0,\n      right: innerWidth,\n      bottom: innerHeight,\n      width: innerWidth,\n      height: innerHeight\n    };\n  }\n\n  const {\n    top,\n    left,\n    right,\n    bottom\n  } = element.getBoundingClientRect();\n  return {\n    top,\n    left,\n    right,\n    bottom,\n    width: element.clientWidth,\n    height: element.clientHeight\n  };\n}\n\nfunction getScrollOffsets(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return add(acc, getScrollCoordinates(node));\n  }, defaultCoordinates);\n}\nfunction getScrollXOffset(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return acc + getScrollXCoordinate(node);\n  }, 0);\n}\nfunction getScrollYOffset(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return acc + getScrollYCoordinate(node);\n  }, 0);\n}\n\nfunction scrollIntoViewIfNeeded(element, measure) {\n  if (measure === void 0) {\n    measure = getClientRect;\n  }\n\n  if (!element) {\n    return;\n  }\n\n  const {\n    top,\n    left,\n    bottom,\n    right\n  } = measure(element);\n  const firstScrollableAncestor = getFirstScrollableAncestor(element);\n\n  if (!firstScrollableAncestor) {\n    return;\n  }\n\n  if (bottom <= 0 || right <= 0 || top >= window.innerHeight || left >= window.innerWidth) {\n    element.scrollIntoView({\n      block: 'center',\n      inline: 'center'\n    });\n  }\n}\n\nconst properties = [['x', ['left', 'right'], getScrollXOffset], ['y', ['top', 'bottom'], getScrollYOffset]];\nclass Rect {\n  constructor(rect, element) {\n    this.rect = void 0;\n    this.width = void 0;\n    this.height = void 0;\n    this.top = void 0;\n    this.bottom = void 0;\n    this.right = void 0;\n    this.left = void 0;\n    const scrollableAncestors = getScrollableAncestors(element);\n    const scrollOffsets = getScrollOffsets(scrollableAncestors);\n    this.rect = { ...rect\n    };\n    this.width = rect.width;\n    this.height = rect.height;\n\n    for (const [axis, keys, getScrollOffset] of properties) {\n      for (const key of keys) {\n        Object.defineProperty(this, key, {\n          get: () => {\n            const currentOffsets = getScrollOffset(scrollableAncestors);\n            const scrollOffsetsDeltla = scrollOffsets[axis] - currentOffsets;\n            return this.rect[key] + scrollOffsetsDeltla;\n          },\n          enumerable: true\n        });\n      }\n    }\n\n    Object.defineProperty(this, 'rect', {\n      enumerable: false\n    });\n  }\n\n}\n\nclass Listeners {\n  constructor(target) {\n    this.target = void 0;\n    this.listeners = [];\n\n    this.removeAll = () => {\n      this.listeners.forEach(listener => {\n        var _this$target;\n\n        return (_this$target = this.target) == null ? void 0 : _this$target.removeEventListener(...listener);\n      });\n    };\n\n    this.target = target;\n  }\n\n  add(eventName, handler, options) {\n    var _this$target2;\n\n    (_this$target2 = this.target) == null ? void 0 : _this$target2.addEventListener(eventName, handler, options);\n    this.listeners.push([eventName, handler, options]);\n  }\n\n}\n\nfunction getEventListenerTarget(target) {\n  // If the `event.target` element is removed from the document events will still be targeted\n  // at it, and hence won't always bubble up to the window or document anymore.\n  // If there is any risk of an element being removed while it is being dragged,\n  // the best practice is to attach the event listeners directly to the target.\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n  const {\n    EventTarget\n  } = getWindow(target);\n  return target instanceof EventTarget ? target : getOwnerDocument(target);\n}\n\nfunction hasExceededDistance(delta, measurement) {\n  const dx = Math.abs(delta.x);\n  const dy = Math.abs(delta.y);\n\n  if (typeof measurement === 'number') {\n    return Math.sqrt(dx ** 2 + dy ** 2) > measurement;\n  }\n\n  if ('x' in measurement && 'y' in measurement) {\n    return dx > measurement.x && dy > measurement.y;\n  }\n\n  if ('x' in measurement) {\n    return dx > measurement.x;\n  }\n\n  if ('y' in measurement) {\n    return dy > measurement.y;\n  }\n\n  return false;\n}\n\nvar EventName;\n\n(function (EventName) {\n  EventName[\"Click\"] = \"click\";\n  EventName[\"DragStart\"] = \"dragstart\";\n  EventName[\"Keydown\"] = \"keydown\";\n  EventName[\"ContextMenu\"] = \"contextmenu\";\n  EventName[\"Resize\"] = \"resize\";\n  EventName[\"SelectionChange\"] = \"selectionchange\";\n  EventName[\"VisibilityChange\"] = \"visibilitychange\";\n})(EventName || (EventName = {}));\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nvar KeyboardCode;\n\n(function (KeyboardCode) {\n  KeyboardCode[\"Space\"] = \"Space\";\n  KeyboardCode[\"Down\"] = \"ArrowDown\";\n  KeyboardCode[\"Right\"] = \"ArrowRight\";\n  KeyboardCode[\"Left\"] = \"ArrowLeft\";\n  KeyboardCode[\"Up\"] = \"ArrowUp\";\n  KeyboardCode[\"Esc\"] = \"Escape\";\n  KeyboardCode[\"Enter\"] = \"Enter\";\n  KeyboardCode[\"Tab\"] = \"Tab\";\n})(KeyboardCode || (KeyboardCode = {}));\n\nconst defaultKeyboardCodes = {\n  start: [KeyboardCode.Space, KeyboardCode.Enter],\n  cancel: [KeyboardCode.Esc],\n  end: [KeyboardCode.Space, KeyboardCode.Enter, KeyboardCode.Tab]\n};\nconst defaultKeyboardCoordinateGetter = (event, _ref) => {\n  let {\n    currentCoordinates\n  } = _ref;\n\n  switch (event.code) {\n    case KeyboardCode.Right:\n      return { ...currentCoordinates,\n        x: currentCoordinates.x + 25\n      };\n\n    case KeyboardCode.Left:\n      return { ...currentCoordinates,\n        x: currentCoordinates.x - 25\n      };\n\n    case KeyboardCode.Down:\n      return { ...currentCoordinates,\n        y: currentCoordinates.y + 25\n      };\n\n    case KeyboardCode.Up:\n      return { ...currentCoordinates,\n        y: currentCoordinates.y - 25\n      };\n  }\n\n  return undefined;\n};\n\nclass KeyboardSensor {\n  constructor(props) {\n    this.props = void 0;\n    this.autoScrollEnabled = false;\n    this.referenceCoordinates = void 0;\n    this.listeners = void 0;\n    this.windowListeners = void 0;\n    this.props = props;\n    const {\n      event: {\n        target\n      }\n    } = props;\n    this.props = props;\n    this.listeners = new Listeners(getOwnerDocument(target));\n    this.windowListeners = new Listeners(getWindow(target));\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.attach();\n  }\n\n  attach() {\n    this.handleStart();\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    setTimeout(() => this.listeners.add(EventName.Keydown, this.handleKeyDown));\n  }\n\n  handleStart() {\n    const {\n      activeNode,\n      onStart\n    } = this.props;\n    const node = activeNode.node.current;\n\n    if (node) {\n      scrollIntoViewIfNeeded(node);\n    }\n\n    onStart(defaultCoordinates);\n  }\n\n  handleKeyDown(event) {\n    if (isKeyboardEvent(event)) {\n      const {\n        active,\n        context,\n        options\n      } = this.props;\n      const {\n        keyboardCodes = defaultKeyboardCodes,\n        coordinateGetter = defaultKeyboardCoordinateGetter,\n        scrollBehavior = 'smooth'\n      } = options;\n      const {\n        code\n      } = event;\n\n      if (keyboardCodes.end.includes(code)) {\n        this.handleEnd(event);\n        return;\n      }\n\n      if (keyboardCodes.cancel.includes(code)) {\n        this.handleCancel(event);\n        return;\n      }\n\n      const {\n        collisionRect\n      } = context.current;\n      const currentCoordinates = collisionRect ? {\n        x: collisionRect.left,\n        y: collisionRect.top\n      } : defaultCoordinates;\n\n      if (!this.referenceCoordinates) {\n        this.referenceCoordinates = currentCoordinates;\n      }\n\n      const newCoordinates = coordinateGetter(event, {\n        active,\n        context: context.current,\n        currentCoordinates\n      });\n\n      if (newCoordinates) {\n        const coordinatesDelta = subtract(newCoordinates, currentCoordinates);\n        const scrollDelta = {\n          x: 0,\n          y: 0\n        };\n        const {\n          scrollableAncestors\n        } = context.current;\n\n        for (const scrollContainer of scrollableAncestors) {\n          const direction = event.code;\n          const {\n            isTop,\n            isRight,\n            isLeft,\n            isBottom,\n            maxScroll,\n            minScroll\n          } = getScrollPosition(scrollContainer);\n          const scrollElementRect = getScrollElementRect(scrollContainer);\n          const clampedCoordinates = {\n            x: Math.min(direction === KeyboardCode.Right ? scrollElementRect.right - scrollElementRect.width / 2 : scrollElementRect.right, Math.max(direction === KeyboardCode.Right ? scrollElementRect.left : scrollElementRect.left + scrollElementRect.width / 2, newCoordinates.x)),\n            y: Math.min(direction === KeyboardCode.Down ? scrollElementRect.bottom - scrollElementRect.height / 2 : scrollElementRect.bottom, Math.max(direction === KeyboardCode.Down ? scrollElementRect.top : scrollElementRect.top + scrollElementRect.height / 2, newCoordinates.y))\n          };\n          const canScrollX = direction === KeyboardCode.Right && !isRight || direction === KeyboardCode.Left && !isLeft;\n          const canScrollY = direction === KeyboardCode.Down && !isBottom || direction === KeyboardCode.Up && !isTop;\n\n          if (canScrollX && clampedCoordinates.x !== newCoordinates.x) {\n            const newScrollCoordinates = scrollContainer.scrollLeft + coordinatesDelta.x;\n            const canScrollToNewCoordinates = direction === KeyboardCode.Right && newScrollCoordinates <= maxScroll.x || direction === KeyboardCode.Left && newScrollCoordinates >= minScroll.x;\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.y) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                left: newScrollCoordinates,\n                behavior: scrollBehavior\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.x = scrollContainer.scrollLeft - newScrollCoordinates;\n            } else {\n              scrollDelta.x = direction === KeyboardCode.Right ? scrollContainer.scrollLeft - maxScroll.x : scrollContainer.scrollLeft - minScroll.x;\n            }\n\n            if (scrollDelta.x) {\n              scrollContainer.scrollBy({\n                left: -scrollDelta.x,\n                behavior: scrollBehavior\n              });\n            }\n\n            break;\n          } else if (canScrollY && clampedCoordinates.y !== newCoordinates.y) {\n            const newScrollCoordinates = scrollContainer.scrollTop + coordinatesDelta.y;\n            const canScrollToNewCoordinates = direction === KeyboardCode.Down && newScrollCoordinates <= maxScroll.y || direction === KeyboardCode.Up && newScrollCoordinates >= minScroll.y;\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.x) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                top: newScrollCoordinates,\n                behavior: scrollBehavior\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.y = scrollContainer.scrollTop - newScrollCoordinates;\n            } else {\n              scrollDelta.y = direction === KeyboardCode.Down ? scrollContainer.scrollTop - maxScroll.y : scrollContainer.scrollTop - minScroll.y;\n            }\n\n            if (scrollDelta.y) {\n              scrollContainer.scrollBy({\n                top: -scrollDelta.y,\n                behavior: scrollBehavior\n              });\n            }\n\n            break;\n          }\n        }\n\n        this.handleMove(event, add(subtract(newCoordinates, this.referenceCoordinates), scrollDelta));\n      }\n    }\n  }\n\n  handleMove(event, coordinates) {\n    const {\n      onMove\n    } = this.props;\n    event.preventDefault();\n    onMove(coordinates);\n  }\n\n  handleEnd(event) {\n    const {\n      onEnd\n    } = this.props;\n    event.preventDefault();\n    this.detach();\n    onEnd();\n  }\n\n  handleCancel(event) {\n    const {\n      onCancel\n    } = this.props;\n    event.preventDefault();\n    this.detach();\n    onCancel();\n  }\n\n  detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n  }\n\n}\nKeyboardSensor.activators = [{\n  eventName: 'onKeyDown',\n  handler: (event, _ref, _ref2) => {\n    let {\n      keyboardCodes = defaultKeyboardCodes,\n      onActivation\n    } = _ref;\n    let {\n      active\n    } = _ref2;\n    const {\n      code\n    } = event.nativeEvent;\n\n    if (keyboardCodes.start.includes(code)) {\n      const activator = active.activatorNode.current;\n\n      if (activator && event.target !== activator) {\n        return false;\n      }\n\n      event.preventDefault();\n      onActivation == null ? void 0 : onActivation({\n        event: event.nativeEvent\n      });\n      return true;\n    }\n\n    return false;\n  }\n}];\n\nfunction isDistanceConstraint(constraint) {\n  return Boolean(constraint && 'distance' in constraint);\n}\n\nfunction isDelayConstraint(constraint) {\n  return Boolean(constraint && 'delay' in constraint);\n}\n\nclass AbstractPointerSensor {\n  constructor(props, events, listenerTarget) {\n    var _getEventCoordinates;\n\n    if (listenerTarget === void 0) {\n      listenerTarget = getEventListenerTarget(props.event.target);\n    }\n\n    this.props = void 0;\n    this.events = void 0;\n    this.autoScrollEnabled = true;\n    this.document = void 0;\n    this.activated = false;\n    this.initialCoordinates = void 0;\n    this.timeoutId = null;\n    this.listeners = void 0;\n    this.documentListeners = void 0;\n    this.windowListeners = void 0;\n    this.props = props;\n    this.events = events;\n    const {\n      event\n    } = props;\n    const {\n      target\n    } = event;\n    this.props = props;\n    this.events = events;\n    this.document = getOwnerDocument(target);\n    this.documentListeners = new Listeners(this.document);\n    this.listeners = new Listeners(listenerTarget);\n    this.windowListeners = new Listeners(getWindow(target));\n    this.initialCoordinates = (_getEventCoordinates = getEventCoordinates(event)) != null ? _getEventCoordinates : defaultCoordinates;\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n    this.removeTextSelection = this.removeTextSelection.bind(this);\n    this.attach();\n  }\n\n  attach() {\n    const {\n      events,\n      props: {\n        options: {\n          activationConstraint,\n          bypassActivationConstraint\n        }\n      }\n    } = this;\n    this.listeners.add(events.move.name, this.handleMove, {\n      passive: false\n    });\n    this.listeners.add(events.end.name, this.handleEnd);\n\n    if (events.cancel) {\n      this.listeners.add(events.cancel.name, this.handleCancel);\n    }\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.DragStart, preventDefault);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    this.windowListeners.add(EventName.ContextMenu, preventDefault);\n    this.documentListeners.add(EventName.Keydown, this.handleKeydown);\n\n    if (activationConstraint) {\n      if (bypassActivationConstraint != null && bypassActivationConstraint({\n        event: this.props.event,\n        activeNode: this.props.activeNode,\n        options: this.props.options\n      })) {\n        return this.handleStart();\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        this.timeoutId = setTimeout(this.handleStart, activationConstraint.delay);\n        this.handlePending(activationConstraint);\n        return;\n      }\n\n      if (isDistanceConstraint(activationConstraint)) {\n        this.handlePending(activationConstraint);\n        return;\n      }\n    }\n\n    this.handleStart();\n  }\n\n  detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll(); // Wait until the next event loop before removing document listeners\n    // This is necessary because we listen for `click` and `selection` events on the document\n\n    setTimeout(this.documentListeners.removeAll, 50);\n\n    if (this.timeoutId !== null) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n  }\n\n  handlePending(constraint, offset) {\n    const {\n      active,\n      onPending\n    } = this.props;\n    onPending(active, constraint, this.initialCoordinates, offset);\n  }\n\n  handleStart() {\n    const {\n      initialCoordinates\n    } = this;\n    const {\n      onStart\n    } = this.props;\n\n    if (initialCoordinates) {\n      this.activated = true; // Stop propagation of click events once activation constraints are met\n\n      this.documentListeners.add(EventName.Click, stopPropagation, {\n        capture: true\n      }); // Remove any text selection from the document\n\n      this.removeTextSelection(); // Prevent further text selection while dragging\n\n      this.documentListeners.add(EventName.SelectionChange, this.removeTextSelection);\n      onStart(initialCoordinates);\n    }\n  }\n\n  handleMove(event) {\n    var _getEventCoordinates2;\n\n    const {\n      activated,\n      initialCoordinates,\n      props\n    } = this;\n    const {\n      onMove,\n      options: {\n        activationConstraint\n      }\n    } = props;\n\n    if (!initialCoordinates) {\n      return;\n    }\n\n    const coordinates = (_getEventCoordinates2 = getEventCoordinates(event)) != null ? _getEventCoordinates2 : defaultCoordinates;\n    const delta = subtract(initialCoordinates, coordinates); // Constraint validation\n\n    if (!activated && activationConstraint) {\n      if (isDistanceConstraint(activationConstraint)) {\n        if (activationConstraint.tolerance != null && hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n\n        if (hasExceededDistance(delta, activationConstraint.distance)) {\n          return this.handleStart();\n        }\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        if (hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n      }\n\n      this.handlePending(activationConstraint, delta);\n      return;\n    }\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    onMove(coordinates);\n  }\n\n  handleEnd() {\n    const {\n      onAbort,\n      onEnd\n    } = this.props;\n    this.detach();\n\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n\n    onEnd();\n  }\n\n  handleCancel() {\n    const {\n      onAbort,\n      onCancel\n    } = this.props;\n    this.detach();\n\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n\n    onCancel();\n  }\n\n  handleKeydown(event) {\n    if (event.code === KeyboardCode.Esc) {\n      this.handleCancel();\n    }\n  }\n\n  removeTextSelection() {\n    var _this$document$getSel;\n\n    (_this$document$getSel = this.document.getSelection()) == null ? void 0 : _this$document$getSel.removeAllRanges();\n  }\n\n}\n\nconst events = {\n  cancel: {\n    name: 'pointercancel'\n  },\n  move: {\n    name: 'pointermove'\n  },\n  end: {\n    name: 'pointerup'\n  }\n};\nclass PointerSensor extends AbstractPointerSensor {\n  constructor(props) {\n    const {\n      event\n    } = props; // Pointer events stop firing if the target is unmounted while dragging\n    // Therefore we attach listeners to the owner document instead\n\n    const listenerTarget = getOwnerDocument(event.target);\n    super(props, events, listenerTarget);\n  }\n\n}\nPointerSensor.activators = [{\n  eventName: 'onPointerDown',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n\n    if (!event.isPrimary || event.button !== 0) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nconst events$1 = {\n  move: {\n    name: 'mousemove'\n  },\n  end: {\n    name: 'mouseup'\n  }\n};\nvar MouseButton;\n\n(function (MouseButton) {\n  MouseButton[MouseButton[\"RightClick\"] = 2] = \"RightClick\";\n})(MouseButton || (MouseButton = {}));\n\nclass MouseSensor extends AbstractPointerSensor {\n  constructor(props) {\n    super(props, events$1, getOwnerDocument(props.event.target));\n  }\n\n}\nMouseSensor.activators = [{\n  eventName: 'onMouseDown',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n\n    if (event.button === MouseButton.RightClick) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nconst events$2 = {\n  cancel: {\n    name: 'touchcancel'\n  },\n  move: {\n    name: 'touchmove'\n  },\n  end: {\n    name: 'touchend'\n  }\n};\nclass TouchSensor extends AbstractPointerSensor {\n  constructor(props) {\n    super(props, events$2);\n  }\n\n  static setup() {\n    // Adding a non-capture and non-passive `touchmove` listener in order\n    // to force `event.preventDefault()` calls to work in dynamically added\n    // touchmove event handlers. This is required for iOS Safari.\n    window.addEventListener(events$2.move.name, noop, {\n      capture: false,\n      passive: false\n    });\n    return function teardown() {\n      window.removeEventListener(events$2.move.name, noop);\n    }; // We create a new handler because the teardown function of another sensor\n    // could remove our event listener if we use a referentially equal listener.\n\n    function noop() {}\n  }\n\n}\nTouchSensor.activators = [{\n  eventName: 'onTouchStart',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n    const {\n      touches\n    } = event;\n\n    if (touches.length > 1) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nvar AutoScrollActivator;\n\n(function (AutoScrollActivator) {\n  AutoScrollActivator[AutoScrollActivator[\"Pointer\"] = 0] = \"Pointer\";\n  AutoScrollActivator[AutoScrollActivator[\"DraggableRect\"] = 1] = \"DraggableRect\";\n})(AutoScrollActivator || (AutoScrollActivator = {}));\n\nvar TraversalOrder;\n\n(function (TraversalOrder) {\n  TraversalOrder[TraversalOrder[\"TreeOrder\"] = 0] = \"TreeOrder\";\n  TraversalOrder[TraversalOrder[\"ReversedTreeOrder\"] = 1] = \"ReversedTreeOrder\";\n})(TraversalOrder || (TraversalOrder = {}));\n\nfunction useAutoScroller(_ref) {\n  let {\n    acceleration,\n    activator = AutoScrollActivator.Pointer,\n    canScroll,\n    draggingRect,\n    enabled,\n    interval = 5,\n    order = TraversalOrder.TreeOrder,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    delta,\n    threshold\n  } = _ref;\n  const scrollIntent = useScrollIntent({\n    delta,\n    disabled: !enabled\n  });\n  const [setAutoScrollInterval, clearAutoScrollInterval] = useInterval();\n  const scrollSpeed = useRef({\n    x: 0,\n    y: 0\n  });\n  const scrollDirection = useRef({\n    x: 0,\n    y: 0\n  });\n  const rect = useMemo(() => {\n    switch (activator) {\n      case AutoScrollActivator.Pointer:\n        return pointerCoordinates ? {\n          top: pointerCoordinates.y,\n          bottom: pointerCoordinates.y,\n          left: pointerCoordinates.x,\n          right: pointerCoordinates.x\n        } : null;\n\n      case AutoScrollActivator.DraggableRect:\n        return draggingRect;\n    }\n  }, [activator, draggingRect, pointerCoordinates]);\n  const scrollContainerRef = useRef(null);\n  const autoScroll = useCallback(() => {\n    const scrollContainer = scrollContainerRef.current;\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const scrollLeft = scrollSpeed.current.x * scrollDirection.current.x;\n    const scrollTop = scrollSpeed.current.y * scrollDirection.current.y;\n    scrollContainer.scrollBy(scrollLeft, scrollTop);\n  }, []);\n  const sortedScrollableAncestors = useMemo(() => order === TraversalOrder.TreeOrder ? [...scrollableAncestors].reverse() : scrollableAncestors, [order, scrollableAncestors]);\n  useEffect(() => {\n    if (!enabled || !scrollableAncestors.length || !rect) {\n      clearAutoScrollInterval();\n      return;\n    }\n\n    for (const scrollContainer of sortedScrollableAncestors) {\n      if ((canScroll == null ? void 0 : canScroll(scrollContainer)) === false) {\n        continue;\n      }\n\n      const index = scrollableAncestors.indexOf(scrollContainer);\n      const scrollContainerRect = scrollableAncestorRects[index];\n\n      if (!scrollContainerRect) {\n        continue;\n      }\n\n      const {\n        direction,\n        speed\n      } = getScrollDirectionAndSpeed(scrollContainer, scrollContainerRect, rect, acceleration, threshold);\n\n      for (const axis of ['x', 'y']) {\n        if (!scrollIntent[axis][direction[axis]]) {\n          speed[axis] = 0;\n          direction[axis] = 0;\n        }\n      }\n\n      if (speed.x > 0 || speed.y > 0) {\n        clearAutoScrollInterval();\n        scrollContainerRef.current = scrollContainer;\n        setAutoScrollInterval(autoScroll, interval);\n        scrollSpeed.current = speed;\n        scrollDirection.current = direction;\n        return;\n      }\n    }\n\n    scrollSpeed.current = {\n      x: 0,\n      y: 0\n    };\n    scrollDirection.current = {\n      x: 0,\n      y: 0\n    };\n    clearAutoScrollInterval();\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [acceleration, autoScroll, canScroll, clearAutoScrollInterval, enabled, interval, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(rect), // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(scrollIntent), setAutoScrollInterval, scrollableAncestors, sortedScrollableAncestors, scrollableAncestorRects, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(threshold)]);\n}\nconst defaultScrollIntent = {\n  x: {\n    [Direction.Backward]: false,\n    [Direction.Forward]: false\n  },\n  y: {\n    [Direction.Backward]: false,\n    [Direction.Forward]: false\n  }\n};\n\nfunction useScrollIntent(_ref2) {\n  let {\n    delta,\n    disabled\n  } = _ref2;\n  const previousDelta = usePrevious(delta);\n  return useLazyMemo(previousIntent => {\n    if (disabled || !previousDelta || !previousIntent) {\n      // Reset scroll intent tracking when auto-scrolling is disabled\n      return defaultScrollIntent;\n    }\n\n    const direction = {\n      x: Math.sign(delta.x - previousDelta.x),\n      y: Math.sign(delta.y - previousDelta.y)\n    }; // Keep track of the user intent to scroll in each direction for both axis\n\n    return {\n      x: {\n        [Direction.Backward]: previousIntent.x[Direction.Backward] || direction.x === -1,\n        [Direction.Forward]: previousIntent.x[Direction.Forward] || direction.x === 1\n      },\n      y: {\n        [Direction.Backward]: previousIntent.y[Direction.Backward] || direction.y === -1,\n        [Direction.Forward]: previousIntent.y[Direction.Forward] || direction.y === 1\n      }\n    };\n  }, [disabled, delta, previousDelta]);\n}\n\nfunction useCachedNode(draggableNodes, id) {\n  const draggableNode = id != null ? draggableNodes.get(id) : undefined;\n  const node = draggableNode ? draggableNode.node.current : null;\n  return useLazyMemo(cachedNode => {\n    var _ref;\n\n    if (id == null) {\n      return null;\n    } // In some cases, the draggable node can unmount while dragging\n    // This is the case for virtualized lists. In those situations,\n    // we fall back to the last known value for that node.\n\n\n    return (_ref = node != null ? node : cachedNode) != null ? _ref : null;\n  }, [node, id]);\n}\n\nfunction useCombineActivators(sensors, getSyntheticHandler) {\n  return useMemo(() => sensors.reduce((accumulator, sensor) => {\n    const {\n      sensor: Sensor\n    } = sensor;\n    const sensorActivators = Sensor.activators.map(activator => ({\n      eventName: activator.eventName,\n      handler: getSyntheticHandler(activator.handler, sensor)\n    }));\n    return [...accumulator, ...sensorActivators];\n  }, []), [sensors, getSyntheticHandler]);\n}\n\nvar MeasuringStrategy;\n\n(function (MeasuringStrategy) {\n  MeasuringStrategy[MeasuringStrategy[\"Always\"] = 0] = \"Always\";\n  MeasuringStrategy[MeasuringStrategy[\"BeforeDragging\"] = 1] = \"BeforeDragging\";\n  MeasuringStrategy[MeasuringStrategy[\"WhileDragging\"] = 2] = \"WhileDragging\";\n})(MeasuringStrategy || (MeasuringStrategy = {}));\n\nvar MeasuringFrequency;\n\n(function (MeasuringFrequency) {\n  MeasuringFrequency[\"Optimized\"] = \"optimized\";\n})(MeasuringFrequency || (MeasuringFrequency = {}));\n\nconst defaultValue = /*#__PURE__*/new Map();\nfunction useDroppableMeasuring(containers, _ref) {\n  let {\n    dragging,\n    dependencies,\n    config\n  } = _ref;\n  const [queue, setQueue] = useState(null);\n  const {\n    frequency,\n    measure,\n    strategy\n  } = config;\n  const containersRef = useRef(containers);\n  const disabled = isDisabled();\n  const disabledRef = useLatestValue(disabled);\n  const measureDroppableContainers = useCallback(function (ids) {\n    if (ids === void 0) {\n      ids = [];\n    }\n\n    if (disabledRef.current) {\n      return;\n    }\n\n    setQueue(value => {\n      if (value === null) {\n        return ids;\n      }\n\n      return value.concat(ids.filter(id => !value.includes(id)));\n    });\n  }, [disabledRef]);\n  const timeoutId = useRef(null);\n  const droppableRects = useLazyMemo(previousValue => {\n    if (disabled && !dragging) {\n      return defaultValue;\n    }\n\n    if (!previousValue || previousValue === defaultValue || containersRef.current !== containers || queue != null) {\n      const map = new Map();\n\n      for (let container of containers) {\n        if (!container) {\n          continue;\n        }\n\n        if (queue && queue.length > 0 && !queue.includes(container.id) && container.rect.current) {\n          // This container does not need to be re-measured\n          map.set(container.id, container.rect.current);\n          continue;\n        }\n\n        const node = container.node.current;\n        const rect = node ? new Rect(measure(node), node) : null;\n        container.rect.current = rect;\n\n        if (rect) {\n          map.set(container.id, rect);\n        }\n      }\n\n      return map;\n    }\n\n    return previousValue;\n  }, [containers, queue, dragging, disabled, measure]);\n  useEffect(() => {\n    containersRef.current = containers;\n  }, [containers]);\n  useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    measureDroppableContainers();\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [dragging, disabled]);\n  useEffect(() => {\n    if (queue && queue.length > 0) {\n      setQueue(null);\n    }\n  }, //eslint-disable-next-line react-hooks/exhaustive-deps\n  [JSON.stringify(queue)]);\n  useEffect(() => {\n    if (disabled || typeof frequency !== 'number' || timeoutId.current !== null) {\n      return;\n    }\n\n    timeoutId.current = setTimeout(() => {\n      measureDroppableContainers();\n      timeoutId.current = null;\n    }, frequency);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [frequency, disabled, measureDroppableContainers, ...dependencies]);\n  return {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled: queue != null\n  };\n\n  function isDisabled() {\n    switch (strategy) {\n      case MeasuringStrategy.Always:\n        return false;\n\n      case MeasuringStrategy.BeforeDragging:\n        return dragging;\n\n      default:\n        return !dragging;\n    }\n  }\n}\n\nfunction useInitialValue(value, computeFn) {\n  return useLazyMemo(previousValue => {\n    if (!value) {\n      return null;\n    }\n\n    if (previousValue) {\n      return previousValue;\n    }\n\n    return typeof computeFn === 'function' ? computeFn(value) : value;\n  }, [computeFn, value]);\n}\n\nfunction useInitialRect(node, measure) {\n  return useInitialValue(node, measure);\n}\n\n/**\r\n * Returns a new MutationObserver instance.\r\n * If `MutationObserver` is undefined in the execution environment, returns `undefined`.\r\n */\n\nfunction useMutationObserver(_ref) {\n  let {\n    callback,\n    disabled\n  } = _ref;\n  const handleMutations = useEvent(callback);\n  const mutationObserver = useMemo(() => {\n    if (disabled || typeof window === 'undefined' || typeof window.MutationObserver === 'undefined') {\n      return undefined;\n    }\n\n    const {\n      MutationObserver\n    } = window;\n    return new MutationObserver(handleMutations);\n  }, [handleMutations, disabled]);\n  useEffect(() => {\n    return () => mutationObserver == null ? void 0 : mutationObserver.disconnect();\n  }, [mutationObserver]);\n  return mutationObserver;\n}\n\n/**\r\n * Returns a new ResizeObserver instance bound to the `onResize` callback.\r\n * If `ResizeObserver` is undefined in the execution environment, returns `undefined`.\r\n */\n\nfunction useResizeObserver(_ref) {\n  let {\n    callback,\n    disabled\n  } = _ref;\n  const handleResize = useEvent(callback);\n  const resizeObserver = useMemo(() => {\n    if (disabled || typeof window === 'undefined' || typeof window.ResizeObserver === 'undefined') {\n      return undefined;\n    }\n\n    const {\n      ResizeObserver\n    } = window;\n    return new ResizeObserver(handleResize);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [disabled]);\n  useEffect(() => {\n    return () => resizeObserver == null ? void 0 : resizeObserver.disconnect();\n  }, [resizeObserver]);\n  return resizeObserver;\n}\n\nfunction defaultMeasure(element) {\n  return new Rect(getClientRect(element), element);\n}\n\nfunction useRect(element, measure, fallbackRect) {\n  if (measure === void 0) {\n    measure = defaultMeasure;\n  }\n\n  const [rect, setRect] = useState(null);\n\n  function measureRect() {\n    setRect(currentRect => {\n      if (!element) {\n        return null;\n      }\n\n      if (element.isConnected === false) {\n        var _ref;\n\n        // Fall back to last rect we measured if the element is\n        // no longer connected to the DOM.\n        return (_ref = currentRect != null ? currentRect : fallbackRect) != null ? _ref : null;\n      }\n\n      const newRect = measure(element);\n\n      if (JSON.stringify(currentRect) === JSON.stringify(newRect)) {\n        return currentRect;\n      }\n\n      return newRect;\n    });\n  }\n\n  const mutationObserver = useMutationObserver({\n    callback(records) {\n      if (!element) {\n        return;\n      }\n\n      for (const record of records) {\n        const {\n          type,\n          target\n        } = record;\n\n        if (type === 'childList' && target instanceof HTMLElement && target.contains(element)) {\n          measureRect();\n          break;\n        }\n      }\n    }\n\n  });\n  const resizeObserver = useResizeObserver({\n    callback: measureRect\n  });\n  useIsomorphicLayoutEffect(() => {\n    measureRect();\n\n    if (element) {\n      resizeObserver == null ? void 0 : resizeObserver.observe(element);\n      mutationObserver == null ? void 0 : mutationObserver.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    } else {\n      resizeObserver == null ? void 0 : resizeObserver.disconnect();\n      mutationObserver == null ? void 0 : mutationObserver.disconnect();\n    }\n  }, [element]);\n  return rect;\n}\n\nfunction useRectDelta(rect) {\n  const initialRect = useInitialValue(rect);\n  return getRectDelta(rect, initialRect);\n}\n\nconst defaultValue$1 = [];\nfunction useScrollableAncestors(node) {\n  const previousNode = useRef(node);\n  const ancestors = useLazyMemo(previousValue => {\n    if (!node) {\n      return defaultValue$1;\n    }\n\n    if (previousValue && previousValue !== defaultValue$1 && node && previousNode.current && node.parentNode === previousNode.current.parentNode) {\n      return previousValue;\n    }\n\n    return getScrollableAncestors(node);\n  }, [node]);\n  useEffect(() => {\n    previousNode.current = node;\n  }, [node]);\n  return ancestors;\n}\n\nfunction useScrollOffsets(elements) {\n  const [scrollCoordinates, setScrollCoordinates] = useState(null);\n  const prevElements = useRef(elements); // To-do: Throttle the handleScroll callback\n\n  const handleScroll = useCallback(event => {\n    const scrollingElement = getScrollableElement(event.target);\n\n    if (!scrollingElement) {\n      return;\n    }\n\n    setScrollCoordinates(scrollCoordinates => {\n      if (!scrollCoordinates) {\n        return null;\n      }\n\n      scrollCoordinates.set(scrollingElement, getScrollCoordinates(scrollingElement));\n      return new Map(scrollCoordinates);\n    });\n  }, []);\n  useEffect(() => {\n    const previousElements = prevElements.current;\n\n    if (elements !== previousElements) {\n      cleanup(previousElements);\n      const entries = elements.map(element => {\n        const scrollableElement = getScrollableElement(element);\n\n        if (scrollableElement) {\n          scrollableElement.addEventListener('scroll', handleScroll, {\n            passive: true\n          });\n          return [scrollableElement, getScrollCoordinates(scrollableElement)];\n        }\n\n        return null;\n      }).filter(entry => entry != null);\n      setScrollCoordinates(entries.length ? new Map(entries) : null);\n      prevElements.current = elements;\n    }\n\n    return () => {\n      cleanup(elements);\n      cleanup(previousElements);\n    };\n\n    function cleanup(elements) {\n      elements.forEach(element => {\n        const scrollableElement = getScrollableElement(element);\n        scrollableElement == null ? void 0 : scrollableElement.removeEventListener('scroll', handleScroll);\n      });\n    }\n  }, [handleScroll, elements]);\n  return useMemo(() => {\n    if (elements.length) {\n      return scrollCoordinates ? Array.from(scrollCoordinates.values()).reduce((acc, coordinates) => add(acc, coordinates), defaultCoordinates) : getScrollOffsets(elements);\n    }\n\n    return defaultCoordinates;\n  }, [elements, scrollCoordinates]);\n}\n\nfunction useScrollOffsetsDelta(scrollOffsets, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n\n  const initialScrollOffsets = useRef(null);\n  useEffect(() => {\n    initialScrollOffsets.current = null;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  dependencies);\n  useEffect(() => {\n    const hasScrollOffsets = scrollOffsets !== defaultCoordinates;\n\n    if (hasScrollOffsets && !initialScrollOffsets.current) {\n      initialScrollOffsets.current = scrollOffsets;\n    }\n\n    if (!hasScrollOffsets && initialScrollOffsets.current) {\n      initialScrollOffsets.current = null;\n    }\n  }, [scrollOffsets]);\n  return initialScrollOffsets.current ? subtract(scrollOffsets, initialScrollOffsets.current) : defaultCoordinates;\n}\n\nfunction useSensorSetup(sensors) {\n  useEffect(() => {\n    if (!canUseDOM) {\n      return;\n    }\n\n    const teardownFns = sensors.map(_ref => {\n      let {\n        sensor\n      } = _ref;\n      return sensor.setup == null ? void 0 : sensor.setup();\n    });\n    return () => {\n      for (const teardown of teardownFns) {\n        teardown == null ? void 0 : teardown();\n      }\n    };\n  }, // TO-DO: Sensors length could theoretically change which would not be a valid dependency\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  sensors.map(_ref2 => {\n    let {\n      sensor\n    } = _ref2;\n    return sensor;\n  }));\n}\n\nfunction useSyntheticListeners(listeners, id) {\n  return useMemo(() => {\n    return listeners.reduce((acc, _ref) => {\n      let {\n        eventName,\n        handler\n      } = _ref;\n\n      acc[eventName] = event => {\n        handler(event, id);\n      };\n\n      return acc;\n    }, {});\n  }, [listeners, id]);\n}\n\nfunction useWindowRect(element) {\n  return useMemo(() => element ? getWindowClientRect(element) : null, [element]);\n}\n\nconst defaultValue$2 = [];\nfunction useRects(elements, measure) {\n  if (measure === void 0) {\n    measure = getClientRect;\n  }\n\n  const [firstElement] = elements;\n  const windowRect = useWindowRect(firstElement ? getWindow(firstElement) : null);\n  const [rects, setRects] = useState(defaultValue$2);\n\n  function measureRects() {\n    setRects(() => {\n      if (!elements.length) {\n        return defaultValue$2;\n      }\n\n      return elements.map(element => isDocumentScrollingElement(element) ? windowRect : new Rect(measure(element), element));\n    });\n  }\n\n  const resizeObserver = useResizeObserver({\n    callback: measureRects\n  });\n  useIsomorphicLayoutEffect(() => {\n    resizeObserver == null ? void 0 : resizeObserver.disconnect();\n    measureRects();\n    elements.forEach(element => resizeObserver == null ? void 0 : resizeObserver.observe(element));\n  }, [elements]);\n  return rects;\n}\n\nfunction getMeasurableNode(node) {\n  if (!node) {\n    return null;\n  }\n\n  if (node.children.length > 1) {\n    return node;\n  }\n\n  const firstChild = node.children[0];\n  return isHTMLElement(firstChild) ? firstChild : node;\n}\n\nfunction useDragOverlayMeasuring(_ref) {\n  let {\n    measure\n  } = _ref;\n  const [rect, setRect] = useState(null);\n  const handleResize = useCallback(entries => {\n    for (const {\n      target\n    } of entries) {\n      if (isHTMLElement(target)) {\n        setRect(rect => {\n          const newRect = measure(target);\n          return rect ? { ...rect,\n            width: newRect.width,\n            height: newRect.height\n          } : newRect;\n        });\n        break;\n      }\n    }\n  }, [measure]);\n  const resizeObserver = useResizeObserver({\n    callback: handleResize\n  });\n  const handleNodeChange = useCallback(element => {\n    const node = getMeasurableNode(element);\n    resizeObserver == null ? void 0 : resizeObserver.disconnect();\n\n    if (node) {\n      resizeObserver == null ? void 0 : resizeObserver.observe(node);\n    }\n\n    setRect(node ? measure(node) : null);\n  }, [measure, resizeObserver]);\n  const [nodeRef, setRef] = useNodeRef(handleNodeChange);\n  return useMemo(() => ({\n    nodeRef,\n    rect,\n    setRef\n  }), [rect, nodeRef, setRef]);\n}\n\nconst defaultSensors = [{\n  sensor: PointerSensor,\n  options: {}\n}, {\n  sensor: KeyboardSensor,\n  options: {}\n}];\nconst defaultData = {\n  current: {}\n};\nconst defaultMeasuringConfiguration = {\n  draggable: {\n    measure: getTransformAgnosticClientRect\n  },\n  droppable: {\n    measure: getTransformAgnosticClientRect,\n    strategy: MeasuringStrategy.WhileDragging,\n    frequency: MeasuringFrequency.Optimized\n  },\n  dragOverlay: {\n    measure: getClientRect\n  }\n};\n\nclass DroppableContainersMap extends Map {\n  get(id) {\n    var _super$get;\n\n    return id != null ? (_super$get = super.get(id)) != null ? _super$get : undefined : undefined;\n  }\n\n  toArray() {\n    return Array.from(this.values());\n  }\n\n  getEnabled() {\n    return this.toArray().filter(_ref => {\n      let {\n        disabled\n      } = _ref;\n      return !disabled;\n    });\n  }\n\n  getNodeFor(id) {\n    var _this$get$node$curren, _this$get;\n\n    return (_this$get$node$curren = (_this$get = this.get(id)) == null ? void 0 : _this$get.node.current) != null ? _this$get$node$curren : undefined;\n  }\n\n}\n\nconst defaultPublicContext = {\n  activatorEvent: null,\n  active: null,\n  activeNode: null,\n  activeNodeRect: null,\n  collisions: null,\n  containerNodeRect: null,\n  draggableNodes: /*#__PURE__*/new Map(),\n  droppableRects: /*#__PURE__*/new Map(),\n  droppableContainers: /*#__PURE__*/new DroppableContainersMap(),\n  over: null,\n  dragOverlay: {\n    nodeRef: {\n      current: null\n    },\n    rect: null,\n    setRef: noop\n  },\n  scrollableAncestors: [],\n  scrollableAncestorRects: [],\n  measuringConfiguration: defaultMeasuringConfiguration,\n  measureDroppableContainers: noop,\n  windowRect: null,\n  measuringScheduled: false\n};\nconst defaultInternalContext = {\n  activatorEvent: null,\n  activators: [],\n  active: null,\n  activeNodeRect: null,\n  ariaDescribedById: {\n    draggable: ''\n  },\n  dispatch: noop,\n  draggableNodes: /*#__PURE__*/new Map(),\n  over: null,\n  measureDroppableContainers: noop\n};\nconst InternalContext = /*#__PURE__*/createContext(defaultInternalContext);\nconst PublicContext = /*#__PURE__*/createContext(defaultPublicContext);\n\nfunction getInitialState() {\n  return {\n    draggable: {\n      active: null,\n      initialCoordinates: {\n        x: 0,\n        y: 0\n      },\n      nodes: new Map(),\n      translate: {\n        x: 0,\n        y: 0\n      }\n    },\n    droppable: {\n      containers: new DroppableContainersMap()\n    }\n  };\n}\nfunction reducer(state, action) {\n  switch (action.type) {\n    case Action.DragStart:\n      return { ...state,\n        draggable: { ...state.draggable,\n          initialCoordinates: action.initialCoordinates,\n          active: action.active\n        }\n      };\n\n    case Action.DragMove:\n      if (state.draggable.active == null) {\n        return state;\n      }\n\n      return { ...state,\n        draggable: { ...state.draggable,\n          translate: {\n            x: action.coordinates.x - state.draggable.initialCoordinates.x,\n            y: action.coordinates.y - state.draggable.initialCoordinates.y\n          }\n        }\n      };\n\n    case Action.DragEnd:\n    case Action.DragCancel:\n      return { ...state,\n        draggable: { ...state.draggable,\n          active: null,\n          initialCoordinates: {\n            x: 0,\n            y: 0\n          },\n          translate: {\n            x: 0,\n            y: 0\n          }\n        }\n      };\n\n    case Action.RegisterDroppable:\n      {\n        const {\n          element\n        } = action;\n        const {\n          id\n        } = element;\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.set(id, element);\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    case Action.SetDroppableDisabled:\n      {\n        const {\n          id,\n          key,\n          disabled\n        } = action;\n        const element = state.droppable.containers.get(id);\n\n        if (!element || key !== element.key) {\n          return state;\n        }\n\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.set(id, { ...element,\n          disabled\n        });\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    case Action.UnregisterDroppable:\n      {\n        const {\n          id,\n          key\n        } = action;\n        const element = state.droppable.containers.get(id);\n\n        if (!element || key !== element.key) {\n          return state;\n        }\n\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.delete(id);\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nfunction RestoreFocus(_ref) {\n  let {\n    disabled\n  } = _ref;\n  const {\n    active,\n    activatorEvent,\n    draggableNodes\n  } = useContext(InternalContext);\n  const previousActivatorEvent = usePrevious(activatorEvent);\n  const previousActiveId = usePrevious(active == null ? void 0 : active.id); // Restore keyboard focus on the activator node\n\n  useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    if (!activatorEvent && previousActivatorEvent && previousActiveId != null) {\n      if (!isKeyboardEvent(previousActivatorEvent)) {\n        return;\n      }\n\n      if (document.activeElement === previousActivatorEvent.target) {\n        // No need to restore focus\n        return;\n      }\n\n      const draggableNode = draggableNodes.get(previousActiveId);\n\n      if (!draggableNode) {\n        return;\n      }\n\n      const {\n        activatorNode,\n        node\n      } = draggableNode;\n\n      if (!activatorNode.current && !node.current) {\n        return;\n      }\n\n      requestAnimationFrame(() => {\n        for (const element of [activatorNode.current, node.current]) {\n          if (!element) {\n            continue;\n          }\n\n          const focusableNode = findFirstFocusableNode(element);\n\n          if (focusableNode) {\n            focusableNode.focus();\n            break;\n          }\n        }\n      });\n    }\n  }, [activatorEvent, disabled, draggableNodes, previousActiveId, previousActivatorEvent]);\n  return null;\n}\n\nfunction applyModifiers(modifiers, _ref) {\n  let {\n    transform,\n    ...args\n  } = _ref;\n  return modifiers != null && modifiers.length ? modifiers.reduce((accumulator, modifier) => {\n    return modifier({\n      transform: accumulator,\n      ...args\n    });\n  }, transform) : transform;\n}\n\nfunction useMeasuringConfiguration(config) {\n  return useMemo(() => ({\n    draggable: { ...defaultMeasuringConfiguration.draggable,\n      ...(config == null ? void 0 : config.draggable)\n    },\n    droppable: { ...defaultMeasuringConfiguration.droppable,\n      ...(config == null ? void 0 : config.droppable)\n    },\n    dragOverlay: { ...defaultMeasuringConfiguration.dragOverlay,\n      ...(config == null ? void 0 : config.dragOverlay)\n    }\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [config == null ? void 0 : config.draggable, config == null ? void 0 : config.droppable, config == null ? void 0 : config.dragOverlay]);\n}\n\nfunction useLayoutShiftScrollCompensation(_ref) {\n  let {\n    activeNode,\n    measure,\n    initialRect,\n    config = true\n  } = _ref;\n  const initialized = useRef(false);\n  const {\n    x,\n    y\n  } = typeof config === 'boolean' ? {\n    x: config,\n    y: config\n  } : config;\n  useIsomorphicLayoutEffect(() => {\n    const disabled = !x && !y;\n\n    if (disabled || !activeNode) {\n      initialized.current = false;\n      return;\n    }\n\n    if (initialized.current || !initialRect) {\n      // Return early if layout shift scroll compensation was already attempted\n      // or if there is no initialRect to compare to.\n      return;\n    } // Get the most up to date node ref for the active draggable\n\n\n    const node = activeNode == null ? void 0 : activeNode.node.current;\n\n    if (!node || node.isConnected === false) {\n      // Return early if there is no attached node ref or if the node is\n      // disconnected from the document.\n      return;\n    }\n\n    const rect = measure(node);\n    const rectDelta = getRectDelta(rect, initialRect);\n\n    if (!x) {\n      rectDelta.x = 0;\n    }\n\n    if (!y) {\n      rectDelta.y = 0;\n    } // Only perform layout shift scroll compensation once\n\n\n    initialized.current = true;\n\n    if (Math.abs(rectDelta.x) > 0 || Math.abs(rectDelta.y) > 0) {\n      const firstScrollableAncestor = getFirstScrollableAncestor(node);\n\n      if (firstScrollableAncestor) {\n        firstScrollableAncestor.scrollBy({\n          top: rectDelta.y,\n          left: rectDelta.x\n        });\n      }\n    }\n  }, [activeNode, x, y, initialRect, measure]);\n}\n\nconst ActiveDraggableContext = /*#__PURE__*/createContext({ ...defaultCoordinates,\n  scaleX: 1,\n  scaleY: 1\n});\nvar Status;\n\n(function (Status) {\n  Status[Status[\"Uninitialized\"] = 0] = \"Uninitialized\";\n  Status[Status[\"Initializing\"] = 1] = \"Initializing\";\n  Status[Status[\"Initialized\"] = 2] = \"Initialized\";\n})(Status || (Status = {}));\n\nconst DndContext = /*#__PURE__*/memo(function DndContext(_ref) {\n  var _sensorContext$curren, _dragOverlay$nodeRef$, _dragOverlay$rect, _over$rect;\n\n  let {\n    id,\n    accessibility,\n    autoScroll = true,\n    children,\n    sensors = defaultSensors,\n    collisionDetection = rectIntersection,\n    measuring,\n    modifiers,\n    ...props\n  } = _ref;\n  const store = useReducer(reducer, undefined, getInitialState);\n  const [state, dispatch] = store;\n  const [dispatchMonitorEvent, registerMonitorListener] = useDndMonitorProvider();\n  const [status, setStatus] = useState(Status.Uninitialized);\n  const isInitialized = status === Status.Initialized;\n  const {\n    draggable: {\n      active: activeId,\n      nodes: draggableNodes,\n      translate\n    },\n    droppable: {\n      containers: droppableContainers\n    }\n  } = state;\n  const node = activeId != null ? draggableNodes.get(activeId) : null;\n  const activeRects = useRef({\n    initial: null,\n    translated: null\n  });\n  const active = useMemo(() => {\n    var _node$data;\n\n    return activeId != null ? {\n      id: activeId,\n      // It's possible for the active node to unmount while dragging\n      data: (_node$data = node == null ? void 0 : node.data) != null ? _node$data : defaultData,\n      rect: activeRects\n    } : null;\n  }, [activeId, node]);\n  const activeRef = useRef(null);\n  const [activeSensor, setActiveSensor] = useState(null);\n  const [activatorEvent, setActivatorEvent] = useState(null);\n  const latestProps = useLatestValue(props, Object.values(props));\n  const draggableDescribedById = useUniqueId(\"DndDescribedBy\", id);\n  const enabledDroppableContainers = useMemo(() => droppableContainers.getEnabled(), [droppableContainers]);\n  const measuringConfiguration = useMeasuringConfiguration(measuring);\n  const {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled\n  } = useDroppableMeasuring(enabledDroppableContainers, {\n    dragging: isInitialized,\n    dependencies: [translate.x, translate.y],\n    config: measuringConfiguration.droppable\n  });\n  const activeNode = useCachedNode(draggableNodes, activeId);\n  const activationCoordinates = useMemo(() => activatorEvent ? getEventCoordinates(activatorEvent) : null, [activatorEvent]);\n  const autoScrollOptions = getAutoScrollerOptions();\n  const initialActiveNodeRect = useInitialRect(activeNode, measuringConfiguration.draggable.measure);\n  useLayoutShiftScrollCompensation({\n    activeNode: activeId != null ? draggableNodes.get(activeId) : null,\n    config: autoScrollOptions.layoutShiftCompensation,\n    initialRect: initialActiveNodeRect,\n    measure: measuringConfiguration.draggable.measure\n  });\n  const activeNodeRect = useRect(activeNode, measuringConfiguration.draggable.measure, initialActiveNodeRect);\n  const containerNodeRect = useRect(activeNode ? activeNode.parentElement : null);\n  const sensorContext = useRef({\n    activatorEvent: null,\n    active: null,\n    activeNode,\n    collisionRect: null,\n    collisions: null,\n    droppableRects,\n    draggableNodes,\n    draggingNode: null,\n    draggingNodeRect: null,\n    droppableContainers,\n    over: null,\n    scrollableAncestors: [],\n    scrollAdjustedTranslate: null\n  });\n  const overNode = droppableContainers.getNodeFor((_sensorContext$curren = sensorContext.current.over) == null ? void 0 : _sensorContext$curren.id);\n  const dragOverlay = useDragOverlayMeasuring({\n    measure: measuringConfiguration.dragOverlay.measure\n  }); // Use the rect of the drag overlay if it is mounted\n\n  const draggingNode = (_dragOverlay$nodeRef$ = dragOverlay.nodeRef.current) != null ? _dragOverlay$nodeRef$ : activeNode;\n  const draggingNodeRect = isInitialized ? (_dragOverlay$rect = dragOverlay.rect) != null ? _dragOverlay$rect : activeNodeRect : null;\n  const usesDragOverlay = Boolean(dragOverlay.nodeRef.current && dragOverlay.rect); // The delta between the previous and new position of the draggable node\n  // is only relevant when there is no drag overlay\n\n  const nodeRectDelta = useRectDelta(usesDragOverlay ? null : activeNodeRect); // Get the window rect of the dragging node\n\n  const windowRect = useWindowRect(draggingNode ? getWindow(draggingNode) : null); // Get scrollable ancestors of the dragging node\n\n  const scrollableAncestors = useScrollableAncestors(isInitialized ? overNode != null ? overNode : activeNode : null);\n  const scrollableAncestorRects = useRects(scrollableAncestors); // Apply modifiers\n\n  const modifiedTranslate = applyModifiers(modifiers, {\n    transform: {\n      x: translate.x - nodeRectDelta.x,\n      y: translate.y - nodeRectDelta.y,\n      scaleX: 1,\n      scaleY: 1\n    },\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect,\n    over: sensorContext.current.over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect\n  });\n  const pointerCoordinates = activationCoordinates ? add(activationCoordinates, translate) : null;\n  const scrollOffsets = useScrollOffsets(scrollableAncestors); // Represents the scroll delta since dragging was initiated\n\n  const scrollAdjustment = useScrollOffsetsDelta(scrollOffsets); // Represents the scroll delta since the last time the active node rect was measured\n\n  const activeNodeScrollDelta = useScrollOffsetsDelta(scrollOffsets, [activeNodeRect]);\n  const scrollAdjustedTranslate = add(modifiedTranslate, scrollAdjustment);\n  const collisionRect = draggingNodeRect ? getAdjustedRect(draggingNodeRect, modifiedTranslate) : null;\n  const collisions = active && collisionRect ? collisionDetection({\n    active,\n    collisionRect,\n    droppableRects,\n    droppableContainers: enabledDroppableContainers,\n    pointerCoordinates\n  }) : null;\n  const overId = getFirstCollision(collisions, 'id');\n  const [over, setOver] = useState(null); // When there is no drag overlay used, we need to account for the\n  // window scroll delta\n\n  const appliedTranslate = usesDragOverlay ? modifiedTranslate : add(modifiedTranslate, activeNodeScrollDelta);\n  const transform = adjustScale(appliedTranslate, (_over$rect = over == null ? void 0 : over.rect) != null ? _over$rect : null, activeNodeRect);\n  const activeSensorRef = useRef(null);\n  const instantiateSensor = useCallback((event, _ref2) => {\n    let {\n      sensor: Sensor,\n      options\n    } = _ref2;\n\n    if (activeRef.current == null) {\n      return;\n    }\n\n    const activeNode = draggableNodes.get(activeRef.current);\n\n    if (!activeNode) {\n      return;\n    }\n\n    const activatorEvent = event.nativeEvent;\n    const sensorInstance = new Sensor({\n      active: activeRef.current,\n      activeNode,\n      event: activatorEvent,\n      options,\n      // Sensors need to be instantiated with refs for arguments that change over time\n      // otherwise they are frozen in time with the stale arguments\n      context: sensorContext,\n\n      onAbort(id) {\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragAbort\n        } = latestProps.current;\n        const event = {\n          id\n        };\n        onDragAbort == null ? void 0 : onDragAbort(event);\n        dispatchMonitorEvent({\n          type: 'onDragAbort',\n          event\n        });\n      },\n\n      onPending(id, constraint, initialCoordinates, offset) {\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragPending\n        } = latestProps.current;\n        const event = {\n          id,\n          constraint,\n          initialCoordinates,\n          offset\n        };\n        onDragPending == null ? void 0 : onDragPending(event);\n        dispatchMonitorEvent({\n          type: 'onDragPending',\n          event\n        });\n      },\n\n      onStart(initialCoordinates) {\n        const id = activeRef.current;\n\n        if (id == null) {\n          return;\n        }\n\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragStart\n        } = latestProps.current;\n        const event = {\n          activatorEvent,\n          active: {\n            id,\n            data: draggableNode.data,\n            rect: activeRects\n          }\n        };\n        unstable_batchedUpdates(() => {\n          onDragStart == null ? void 0 : onDragStart(event);\n          setStatus(Status.Initializing);\n          dispatch({\n            type: Action.DragStart,\n            initialCoordinates,\n            active: id\n          });\n          dispatchMonitorEvent({\n            type: 'onDragStart',\n            event\n          });\n          setActiveSensor(activeSensorRef.current);\n          setActivatorEvent(activatorEvent);\n        });\n      },\n\n      onMove(coordinates) {\n        dispatch({\n          type: Action.DragMove,\n          coordinates\n        });\n      },\n\n      onEnd: createHandler(Action.DragEnd),\n      onCancel: createHandler(Action.DragCancel)\n    });\n    activeSensorRef.current = sensorInstance;\n\n    function createHandler(type) {\n      return async function handler() {\n        const {\n          active,\n          collisions,\n          over,\n          scrollAdjustedTranslate\n        } = sensorContext.current;\n        let event = null;\n\n        if (active && scrollAdjustedTranslate) {\n          const {\n            cancelDrop\n          } = latestProps.current;\n          event = {\n            activatorEvent,\n            active: active,\n            collisions,\n            delta: scrollAdjustedTranslate,\n            over\n          };\n\n          if (type === Action.DragEnd && typeof cancelDrop === 'function') {\n            const shouldCancel = await Promise.resolve(cancelDrop(event));\n\n            if (shouldCancel) {\n              type = Action.DragCancel;\n            }\n          }\n        }\n\n        activeRef.current = null;\n        unstable_batchedUpdates(() => {\n          dispatch({\n            type\n          });\n          setStatus(Status.Uninitialized);\n          setOver(null);\n          setActiveSensor(null);\n          setActivatorEvent(null);\n          activeSensorRef.current = null;\n          const eventName = type === Action.DragEnd ? 'onDragEnd' : 'onDragCancel';\n\n          if (event) {\n            const handler = latestProps.current[eventName];\n            handler == null ? void 0 : handler(event);\n            dispatchMonitorEvent({\n              type: eventName,\n              event\n            });\n          }\n        });\n      };\n    }\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [draggableNodes]);\n  const bindActivatorToSensorInstantiator = useCallback((handler, sensor) => {\n    return (event, active) => {\n      const nativeEvent = event.nativeEvent;\n      const activeDraggableNode = draggableNodes.get(active);\n\n      if ( // Another sensor is already instantiating\n      activeRef.current !== null || // No active draggable\n      !activeDraggableNode || // Event has already been captured\n      nativeEvent.dndKit || nativeEvent.defaultPrevented) {\n        return;\n      }\n\n      const activationContext = {\n        active: activeDraggableNode\n      };\n      const shouldActivate = handler(event, sensor.options, activationContext);\n\n      if (shouldActivate === true) {\n        nativeEvent.dndKit = {\n          capturedBy: sensor.sensor\n        };\n        activeRef.current = active;\n        instantiateSensor(event, sensor);\n      }\n    };\n  }, [draggableNodes, instantiateSensor]);\n  const activators = useCombineActivators(sensors, bindActivatorToSensorInstantiator);\n  useSensorSetup(sensors);\n  useIsomorphicLayoutEffect(() => {\n    if (activeNodeRect && status === Status.Initializing) {\n      setStatus(Status.Initialized);\n    }\n  }, [activeNodeRect, status]);\n  useEffect(() => {\n    const {\n      onDragMove\n    } = latestProps.current;\n    const {\n      active,\n      activatorEvent,\n      collisions,\n      over\n    } = sensorContext.current;\n\n    if (!active || !activatorEvent) {\n      return;\n    }\n\n    const event = {\n      active,\n      activatorEvent,\n      collisions,\n      delta: {\n        x: scrollAdjustedTranslate.x,\n        y: scrollAdjustedTranslate.y\n      },\n      over\n    };\n    unstable_batchedUpdates(() => {\n      onDragMove == null ? void 0 : onDragMove(event);\n      dispatchMonitorEvent({\n        type: 'onDragMove',\n        event\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [scrollAdjustedTranslate.x, scrollAdjustedTranslate.y]);\n  useEffect(() => {\n    const {\n      active,\n      activatorEvent,\n      collisions,\n      droppableContainers,\n      scrollAdjustedTranslate\n    } = sensorContext.current;\n\n    if (!active || activeRef.current == null || !activatorEvent || !scrollAdjustedTranslate) {\n      return;\n    }\n\n    const {\n      onDragOver\n    } = latestProps.current;\n    const overContainer = droppableContainers.get(overId);\n    const over = overContainer && overContainer.rect.current ? {\n      id: overContainer.id,\n      rect: overContainer.rect.current,\n      data: overContainer.data,\n      disabled: overContainer.disabled\n    } : null;\n    const event = {\n      active,\n      activatorEvent,\n      collisions,\n      delta: {\n        x: scrollAdjustedTranslate.x,\n        y: scrollAdjustedTranslate.y\n      },\n      over\n    };\n    unstable_batchedUpdates(() => {\n      setOver(over);\n      onDragOver == null ? void 0 : onDragOver(event);\n      dispatchMonitorEvent({\n        type: 'onDragOver',\n        event\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [overId]);\n  useIsomorphicLayoutEffect(() => {\n    sensorContext.current = {\n      activatorEvent,\n      active,\n      activeNode,\n      collisionRect,\n      collisions,\n      droppableRects,\n      draggableNodes,\n      draggingNode,\n      draggingNodeRect,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n      scrollAdjustedTranslate\n    };\n    activeRects.current = {\n      initial: draggingNodeRect,\n      translated: collisionRect\n    };\n  }, [active, activeNode, collisions, collisionRect, draggableNodes, draggingNode, draggingNodeRect, droppableRects, droppableContainers, over, scrollableAncestors, scrollAdjustedTranslate]);\n  useAutoScroller({ ...autoScrollOptions,\n    delta: translate,\n    draggingRect: collisionRect,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects\n  });\n  const publicContext = useMemo(() => {\n    const context = {\n      active,\n      activeNode,\n      activeNodeRect,\n      activatorEvent,\n      collisions,\n      containerNodeRect,\n      dragOverlay,\n      draggableNodes,\n      droppableContainers,\n      droppableRects,\n      over,\n      measureDroppableContainers,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      measuringConfiguration,\n      measuringScheduled,\n      windowRect\n    };\n    return context;\n  }, [active, activeNode, activeNodeRect, activatorEvent, collisions, containerNodeRect, dragOverlay, draggableNodes, droppableContainers, droppableRects, over, measureDroppableContainers, scrollableAncestors, scrollableAncestorRects, measuringConfiguration, measuringScheduled, windowRect]);\n  const internalContext = useMemo(() => {\n    const context = {\n      activatorEvent,\n      activators,\n      active,\n      activeNodeRect,\n      ariaDescribedById: {\n        draggable: draggableDescribedById\n      },\n      dispatch,\n      draggableNodes,\n      over,\n      measureDroppableContainers\n    };\n    return context;\n  }, [activatorEvent, activators, active, activeNodeRect, dispatch, draggableDescribedById, draggableNodes, over, measureDroppableContainers]);\n  return React.createElement(DndMonitorContext.Provider, {\n    value: registerMonitorListener\n  }, React.createElement(InternalContext.Provider, {\n    value: internalContext\n  }, React.createElement(PublicContext.Provider, {\n    value: publicContext\n  }, React.createElement(ActiveDraggableContext.Provider, {\n    value: transform\n  }, children)), React.createElement(RestoreFocus, {\n    disabled: (accessibility == null ? void 0 : accessibility.restoreFocus) === false\n  })), React.createElement(Accessibility, { ...accessibility,\n    hiddenTextDescribedById: draggableDescribedById\n  }));\n\n  function getAutoScrollerOptions() {\n    const activeSensorDisablesAutoscroll = (activeSensor == null ? void 0 : activeSensor.autoScrollEnabled) === false;\n    const autoScrollGloballyDisabled = typeof autoScroll === 'object' ? autoScroll.enabled === false : autoScroll === false;\n    const enabled = isInitialized && !activeSensorDisablesAutoscroll && !autoScrollGloballyDisabled;\n\n    if (typeof autoScroll === 'object') {\n      return { ...autoScroll,\n        enabled\n      };\n    }\n\n    return {\n      enabled\n    };\n  }\n});\n\nconst NullContext = /*#__PURE__*/createContext(null);\nconst defaultRole = 'button';\nconst ID_PREFIX = 'Draggable';\nfunction useDraggable(_ref) {\n  let {\n    id,\n    data,\n    disabled = false,\n    attributes\n  } = _ref;\n  const key = useUniqueId(ID_PREFIX);\n  const {\n    activators,\n    activatorEvent,\n    active,\n    activeNodeRect,\n    ariaDescribedById,\n    draggableNodes,\n    over\n  } = useContext(InternalContext);\n  const {\n    role = defaultRole,\n    roleDescription = 'draggable',\n    tabIndex = 0\n  } = attributes != null ? attributes : {};\n  const isDragging = (active == null ? void 0 : active.id) === id;\n  const transform = useContext(isDragging ? ActiveDraggableContext : NullContext);\n  const [node, setNodeRef] = useNodeRef();\n  const [activatorNode, setActivatorNodeRef] = useNodeRef();\n  const listeners = useSyntheticListeners(activators, id);\n  const dataRef = useLatestValue(data);\n  useIsomorphicLayoutEffect(() => {\n    draggableNodes.set(id, {\n      id,\n      key,\n      node,\n      activatorNode,\n      data: dataRef\n    });\n    return () => {\n      const node = draggableNodes.get(id);\n\n      if (node && node.key === key) {\n        draggableNodes.delete(id);\n      }\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [draggableNodes, id]);\n  const memoizedAttributes = useMemo(() => ({\n    role,\n    tabIndex,\n    'aria-disabled': disabled,\n    'aria-pressed': isDragging && role === defaultRole ? true : undefined,\n    'aria-roledescription': roleDescription,\n    'aria-describedby': ariaDescribedById.draggable\n  }), [disabled, role, tabIndex, isDragging, roleDescription, ariaDescribedById.draggable]);\n  return {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes: memoizedAttributes,\n    isDragging,\n    listeners: disabled ? undefined : listeners,\n    node,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    transform\n  };\n}\n\nfunction useDndContext() {\n  return useContext(PublicContext);\n}\n\nconst ID_PREFIX$1 = 'Droppable';\nconst defaultResizeObserverConfig = {\n  timeout: 25\n};\nfunction useDroppable(_ref) {\n  let {\n    data,\n    disabled = false,\n    id,\n    resizeObserverConfig\n  } = _ref;\n  const key = useUniqueId(ID_PREFIX$1);\n  const {\n    active,\n    dispatch,\n    over,\n    measureDroppableContainers\n  } = useContext(InternalContext);\n  const previous = useRef({\n    disabled\n  });\n  const resizeObserverConnected = useRef(false);\n  const rect = useRef(null);\n  const callbackId = useRef(null);\n  const {\n    disabled: resizeObserverDisabled,\n    updateMeasurementsFor,\n    timeout: resizeObserverTimeout\n  } = { ...defaultResizeObserverConfig,\n    ...resizeObserverConfig\n  };\n  const ids = useLatestValue(updateMeasurementsFor != null ? updateMeasurementsFor : id);\n  const handleResize = useCallback(() => {\n    if (!resizeObserverConnected.current) {\n      // ResizeObserver invokes the `handleResize` callback as soon as `observe` is called,\n      // assuming the element is rendered and displayed.\n      resizeObserverConnected.current = true;\n      return;\n    }\n\n    if (callbackId.current != null) {\n      clearTimeout(callbackId.current);\n    }\n\n    callbackId.current = setTimeout(() => {\n      measureDroppableContainers(Array.isArray(ids.current) ? ids.current : [ids.current]);\n      callbackId.current = null;\n    }, resizeObserverTimeout);\n  }, //eslint-disable-next-line react-hooks/exhaustive-deps\n  [resizeObserverTimeout]);\n  const resizeObserver = useResizeObserver({\n    callback: handleResize,\n    disabled: resizeObserverDisabled || !active\n  });\n  const handleNodeChange = useCallback((newElement, previousElement) => {\n    if (!resizeObserver) {\n      return;\n    }\n\n    if (previousElement) {\n      resizeObserver.unobserve(previousElement);\n      resizeObserverConnected.current = false;\n    }\n\n    if (newElement) {\n      resizeObserver.observe(newElement);\n    }\n  }, [resizeObserver]);\n  const [nodeRef, setNodeRef] = useNodeRef(handleNodeChange);\n  const dataRef = useLatestValue(data);\n  useEffect(() => {\n    if (!resizeObserver || !nodeRef.current) {\n      return;\n    }\n\n    resizeObserver.disconnect();\n    resizeObserverConnected.current = false;\n    resizeObserver.observe(nodeRef.current);\n  }, [nodeRef, resizeObserver]);\n  useEffect(() => {\n    dispatch({\n      type: Action.RegisterDroppable,\n      element: {\n        id,\n        key,\n        disabled,\n        node: nodeRef,\n        rect,\n        data: dataRef\n      }\n    });\n    return () => dispatch({\n      type: Action.UnregisterDroppable,\n      key,\n      id\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [id]);\n  useEffect(() => {\n    if (disabled !== previous.current.disabled) {\n      dispatch({\n        type: Action.SetDroppableDisabled,\n        id,\n        key,\n        disabled\n      });\n      previous.current.disabled = disabled;\n    }\n  }, [id, key, disabled, dispatch]);\n  return {\n    active,\n    rect,\n    isOver: (over == null ? void 0 : over.id) === id,\n    node: nodeRef,\n    over,\n    setNodeRef\n  };\n}\n\nfunction AnimationManager(_ref) {\n  let {\n    animation,\n    children\n  } = _ref;\n  const [clonedChildren, setClonedChildren] = useState(null);\n  const [element, setElement] = useState(null);\n  const previousChildren = usePrevious(children);\n\n  if (!children && !clonedChildren && previousChildren) {\n    setClonedChildren(previousChildren);\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) {\n      return;\n    }\n\n    const key = clonedChildren == null ? void 0 : clonedChildren.key;\n    const id = clonedChildren == null ? void 0 : clonedChildren.props.id;\n\n    if (key == null || id == null) {\n      setClonedChildren(null);\n      return;\n    }\n\n    Promise.resolve(animation(id, element)).then(() => {\n      setClonedChildren(null);\n    });\n  }, [animation, clonedChildren, element]);\n  return React.createElement(React.Fragment, null, children, clonedChildren ? cloneElement(clonedChildren, {\n    ref: setElement\n  }) : null);\n}\n\nconst defaultTransform = {\n  x: 0,\n  y: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction NullifiedContextProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  return React.createElement(InternalContext.Provider, {\n    value: defaultInternalContext\n  }, React.createElement(ActiveDraggableContext.Provider, {\n    value: defaultTransform\n  }, children));\n}\n\nconst baseStyles = {\n  position: 'fixed',\n  touchAction: 'none'\n};\n\nconst defaultTransition = activatorEvent => {\n  const isKeyboardActivator = isKeyboardEvent(activatorEvent);\n  return isKeyboardActivator ? 'transform 250ms ease' : undefined;\n};\n\nconst PositionedOverlay = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    as,\n    activatorEvent,\n    adjustScale,\n    children,\n    className,\n    rect,\n    style,\n    transform,\n    transition = defaultTransition\n  } = _ref;\n\n  if (!rect) {\n    return null;\n  }\n\n  const scaleAdjustedTransform = adjustScale ? transform : { ...transform,\n    scaleX: 1,\n    scaleY: 1\n  };\n  const styles = { ...baseStyles,\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    left: rect.left,\n    transform: CSS.Transform.toString(scaleAdjustedTransform),\n    transformOrigin: adjustScale && activatorEvent ? getRelativeTransformOrigin(activatorEvent, rect) : undefined,\n    transition: typeof transition === 'function' ? transition(activatorEvent) : transition,\n    ...style\n  };\n  return React.createElement(as, {\n    className,\n    style: styles,\n    ref\n  }, children);\n});\n\nconst defaultDropAnimationSideEffects = options => _ref => {\n  let {\n    active,\n    dragOverlay\n  } = _ref;\n  const originalStyles = {};\n  const {\n    styles,\n    className\n  } = options;\n\n  if (styles != null && styles.active) {\n    for (const [key, value] of Object.entries(styles.active)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      originalStyles[key] = active.node.style.getPropertyValue(key);\n      active.node.style.setProperty(key, value);\n    }\n  }\n\n  if (styles != null && styles.dragOverlay) {\n    for (const [key, value] of Object.entries(styles.dragOverlay)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      dragOverlay.node.style.setProperty(key, value);\n    }\n  }\n\n  if (className != null && className.active) {\n    active.node.classList.add(className.active);\n  }\n\n  if (className != null && className.dragOverlay) {\n    dragOverlay.node.classList.add(className.dragOverlay);\n  }\n\n  return function cleanup() {\n    for (const [key, value] of Object.entries(originalStyles)) {\n      active.node.style.setProperty(key, value);\n    }\n\n    if (className != null && className.active) {\n      active.node.classList.remove(className.active);\n    }\n  };\n};\n\nconst defaultKeyframeResolver = _ref2 => {\n  let {\n    transform: {\n      initial,\n      final\n    }\n  } = _ref2;\n  return [{\n    transform: CSS.Transform.toString(initial)\n  }, {\n    transform: CSS.Transform.toString(final)\n  }];\n};\n\nconst defaultDropAnimationConfiguration = {\n  duration: 250,\n  easing: 'ease',\n  keyframes: defaultKeyframeResolver,\n  sideEffects: /*#__PURE__*/defaultDropAnimationSideEffects({\n    styles: {\n      active: {\n        opacity: '0'\n      }\n    }\n  })\n};\nfunction useDropAnimation(_ref3) {\n  let {\n    config,\n    draggableNodes,\n    droppableContainers,\n    measuringConfiguration\n  } = _ref3;\n  return useEvent((id, node) => {\n    if (config === null) {\n      return;\n    }\n\n    const activeDraggable = draggableNodes.get(id);\n\n    if (!activeDraggable) {\n      return;\n    }\n\n    const activeNode = activeDraggable.node.current;\n\n    if (!activeNode) {\n      return;\n    }\n\n    const measurableNode = getMeasurableNode(node);\n\n    if (!measurableNode) {\n      return;\n    }\n\n    const {\n      transform\n    } = getWindow(node).getComputedStyle(node);\n    const parsedTransform = parseTransform(transform);\n\n    if (!parsedTransform) {\n      return;\n    }\n\n    const animation = typeof config === 'function' ? config : createDefaultDropAnimation(config);\n    scrollIntoViewIfNeeded(activeNode, measuringConfiguration.draggable.measure);\n    return animation({\n      active: {\n        id,\n        data: activeDraggable.data,\n        node: activeNode,\n        rect: measuringConfiguration.draggable.measure(activeNode)\n      },\n      draggableNodes,\n      dragOverlay: {\n        node,\n        rect: measuringConfiguration.dragOverlay.measure(measurableNode)\n      },\n      droppableContainers,\n      measuringConfiguration,\n      transform: parsedTransform\n    });\n  });\n}\n\nfunction createDefaultDropAnimation(options) {\n  const {\n    duration,\n    easing,\n    sideEffects,\n    keyframes\n  } = { ...defaultDropAnimationConfiguration,\n    ...options\n  };\n  return _ref4 => {\n    let {\n      active,\n      dragOverlay,\n      transform,\n      ...rest\n    } = _ref4;\n\n    if (!duration) {\n      // Do not animate if animation duration is zero.\n      return;\n    }\n\n    const delta = {\n      x: dragOverlay.rect.left - active.rect.left,\n      y: dragOverlay.rect.top - active.rect.top\n    };\n    const scale = {\n      scaleX: transform.scaleX !== 1 ? active.rect.width * transform.scaleX / dragOverlay.rect.width : 1,\n      scaleY: transform.scaleY !== 1 ? active.rect.height * transform.scaleY / dragOverlay.rect.height : 1\n    };\n    const finalTransform = {\n      x: transform.x - delta.x,\n      y: transform.y - delta.y,\n      ...scale\n    };\n    const animationKeyframes = keyframes({ ...rest,\n      active,\n      dragOverlay,\n      transform: {\n        initial: transform,\n        final: finalTransform\n      }\n    });\n    const [firstKeyframe] = animationKeyframes;\n    const lastKeyframe = animationKeyframes[animationKeyframes.length - 1];\n\n    if (JSON.stringify(firstKeyframe) === JSON.stringify(lastKeyframe)) {\n      // The start and end keyframes are the same, infer that there is no animation needed.\n      return;\n    }\n\n    const cleanup = sideEffects == null ? void 0 : sideEffects({\n      active,\n      dragOverlay,\n      ...rest\n    });\n    const animation = dragOverlay.node.animate(animationKeyframes, {\n      duration,\n      easing,\n      fill: 'forwards'\n    });\n    return new Promise(resolve => {\n      animation.onfinish = () => {\n        cleanup == null ? void 0 : cleanup();\n        resolve();\n      };\n    });\n  };\n}\n\nlet key = 0;\nfunction useKey(id) {\n  return useMemo(() => {\n    if (id == null) {\n      return;\n    }\n\n    key++;\n    return key;\n  }, [id]);\n}\n\nconst DragOverlay = /*#__PURE__*/React.memo(_ref => {\n  let {\n    adjustScale = false,\n    children,\n    dropAnimation: dropAnimationConfig,\n    style,\n    transition,\n    modifiers,\n    wrapperElement = 'div',\n    className,\n    zIndex = 999\n  } = _ref;\n  const {\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggableNodes,\n    droppableContainers,\n    dragOverlay,\n    over,\n    measuringConfiguration,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect\n  } = useDndContext();\n  const transform = useContext(ActiveDraggableContext);\n  const key = useKey(active == null ? void 0 : active.id);\n  const modifiedTransform = applyModifiers(modifiers, {\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect: dragOverlay.rect,\n    over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    transform,\n    windowRect\n  });\n  const initialRect = useInitialValue(activeNodeRect);\n  const dropAnimation = useDropAnimation({\n    config: dropAnimationConfig,\n    draggableNodes,\n    droppableContainers,\n    measuringConfiguration\n  }); // We need to wait for the active node to be measured before connecting the drag overlay ref\n  // otherwise collisions can be computed against a mispositioned drag overlay\n\n  const ref = initialRect ? dragOverlay.setRef : undefined;\n  return React.createElement(NullifiedContextProvider, null, React.createElement(AnimationManager, {\n    animation: dropAnimation\n  }, active && key ? React.createElement(PositionedOverlay, {\n    key: key,\n    id: active.id,\n    ref: ref,\n    as: wrapperElement,\n    activatorEvent: activatorEvent,\n    adjustScale: adjustScale,\n    className: className,\n    transition: transition,\n    rect: initialRect,\n    style: {\n      zIndex,\n      ...style\n    },\n    transform: modifiedTransform\n  }, children) : null));\n});\n\nexport { AutoScrollActivator, DndContext, DragOverlay, KeyboardCode, KeyboardSensor, MeasuringFrequency, MeasuringStrategy, MouseSensor, PointerSensor, TouchSensor, TraversalOrder, applyModifiers, closestCenter, closestCorners, defaultAnnouncements, defaultCoordinates, defaultDropAnimationConfiguration as defaultDropAnimation, defaultDropAnimationSideEffects, defaultKeyboardCoordinateGetter, defaultScreenReaderInstructions, getClientRect, getFirstCollision, getScrollableAncestors, pointerWithin, rectIntersection, useDndContext, useDndMonitor, useDraggable, useDroppable, useSensor, useSensors };\n//# sourceMappingURL=core.esm.js.map\n","import React, { useMemo, useRef, useEffect, useState, useContext } from 'react';\nimport { useDndContext, getClientRect, useDroppable, useDraggable, closestCorners, getFirstCollision, getScrollableAncestors, KeyboardCode } from '@dnd-kit/core';\nimport { useUniqueId, useIsomorphicLayoutEffect, CSS, useCombinedRefs, isKeyboardEvent, subtract } from '@dnd-kit/utilities';\n\n/**\r\n * Move an array item to a different position. Returns a new array with the item moved to the new position.\r\n */\nfunction arrayMove(array, from, to) {\n  const newArray = array.slice();\n  newArray.splice(to < 0 ? newArray.length + to : to, 0, newArray.splice(from, 1)[0]);\n  return newArray;\n}\n\n/**\r\n * Swap an array item to a different position. Returns a new array with the item swapped to the new position.\r\n */\nfunction arraySwap(array, from, to) {\n  const newArray = array.slice();\n  newArray[from] = array[to];\n  newArray[to] = array[from];\n  return newArray;\n}\n\nfunction getSortedRects(items, rects) {\n  return items.reduce((accumulator, id, index) => {\n    const rect = rects.get(id);\n\n    if (rect) {\n      accumulator[index] = rect;\n    }\n\n    return accumulator;\n  }, Array(items.length));\n}\n\nfunction isValidIndex(index) {\n  return index !== null && index >= 0;\n}\n\nfunction itemsEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction normalizeDisabled(disabled) {\n  if (typeof disabled === 'boolean') {\n    return {\n      draggable: disabled,\n      droppable: disabled\n    };\n  }\n\n  return disabled;\n}\n\n// To-do: We should be calculating scale transformation\nconst defaultScale = {\n  scaleX: 1,\n  scaleY: 1\n};\nconst horizontalListSortingStrategy = _ref => {\n  var _rects$activeIndex;\n\n  let {\n    rects,\n    activeNodeRect: fallbackActiveRect,\n    activeIndex,\n    overIndex,\n    index\n  } = _ref;\n  const activeNodeRect = (_rects$activeIndex = rects[activeIndex]) != null ? _rects$activeIndex : fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  const itemGap = getItemGap(rects, index, activeIndex);\n\n  if (index === activeIndex) {\n    const newIndexRect = rects[overIndex];\n\n    if (!newIndexRect) {\n      return null;\n    }\n\n    return {\n      x: activeIndex < overIndex ? newIndexRect.left + newIndexRect.width - (activeNodeRect.left + activeNodeRect.width) : newIndexRect.left - activeNodeRect.left,\n      y: 0,\n      ...defaultScale\n    };\n  }\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: -activeNodeRect.width - itemGap,\n      y: 0,\n      ...defaultScale\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: activeNodeRect.width + itemGap,\n      y: 0,\n      ...defaultScale\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale\n  };\n};\n\nfunction getItemGap(rects, index, activeIndex) {\n  const currentRect = rects[index];\n  const previousRect = rects[index - 1];\n  const nextRect = rects[index + 1];\n\n  if (!currentRect || !previousRect && !nextRect) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect ? currentRect.left - (previousRect.left + previousRect.width) : nextRect.left - (currentRect.left + currentRect.width);\n  }\n\n  return nextRect ? nextRect.left - (currentRect.left + currentRect.width) : currentRect.left - (previousRect.left + previousRect.width);\n}\n\nconst rectSortingStrategy = _ref => {\n  let {\n    rects,\n    activeIndex,\n    overIndex,\n    index\n  } = _ref;\n  const newRects = arrayMove(rects, overIndex, activeIndex);\n  const oldRect = rects[index];\n  const newRect = newRects[index];\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height\n  };\n};\n\nconst rectSwappingStrategy = _ref => {\n  let {\n    activeIndex,\n    index,\n    rects,\n    overIndex\n  } = _ref;\n  let oldRect;\n  let newRect;\n\n  if (index === activeIndex) {\n    oldRect = rects[index];\n    newRect = rects[overIndex];\n  }\n\n  if (index === overIndex) {\n    oldRect = rects[index];\n    newRect = rects[activeIndex];\n  }\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height\n  };\n};\n\n// To-do: We should be calculating scale transformation\nconst defaultScale$1 = {\n  scaleX: 1,\n  scaleY: 1\n};\nconst verticalListSortingStrategy = _ref => {\n  var _rects$activeIndex;\n\n  let {\n    activeIndex,\n    activeNodeRect: fallbackActiveRect,\n    index,\n    rects,\n    overIndex\n  } = _ref;\n  const activeNodeRect = (_rects$activeIndex = rects[activeIndex]) != null ? _rects$activeIndex : fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  if (index === activeIndex) {\n    const overIndexRect = rects[overIndex];\n\n    if (!overIndexRect) {\n      return null;\n    }\n\n    return {\n      x: 0,\n      y: activeIndex < overIndex ? overIndexRect.top + overIndexRect.height - (activeNodeRect.top + activeNodeRect.height) : overIndexRect.top - activeNodeRect.top,\n      ...defaultScale$1\n    };\n  }\n\n  const itemGap = getItemGap$1(rects, index, activeIndex);\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: 0,\n      y: -activeNodeRect.height - itemGap,\n      ...defaultScale$1\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: 0,\n      y: activeNodeRect.height + itemGap,\n      ...defaultScale$1\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale$1\n  };\n};\n\nfunction getItemGap$1(clientRects, index, activeIndex) {\n  const currentRect = clientRects[index];\n  const previousRect = clientRects[index - 1];\n  const nextRect = clientRects[index + 1];\n\n  if (!currentRect) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect ? currentRect.top - (previousRect.top + previousRect.height) : nextRect ? nextRect.top - (currentRect.top + currentRect.height) : 0;\n  }\n\n  return nextRect ? nextRect.top - (currentRect.top + currentRect.height) : previousRect ? currentRect.top - (previousRect.top + previousRect.height) : 0;\n}\n\nconst ID_PREFIX = 'Sortable';\nconst Context = /*#__PURE__*/React.createContext({\n  activeIndex: -1,\n  containerId: ID_PREFIX,\n  disableTransforms: false,\n  items: [],\n  overIndex: -1,\n  useDragOverlay: false,\n  sortedRects: [],\n  strategy: rectSortingStrategy,\n  disabled: {\n    draggable: false,\n    droppable: false\n  }\n});\nfunction SortableContext(_ref) {\n  let {\n    children,\n    id,\n    items: userDefinedItems,\n    strategy = rectSortingStrategy,\n    disabled: disabledProp = false\n  } = _ref;\n  const {\n    active,\n    dragOverlay,\n    droppableRects,\n    over,\n    measureDroppableContainers\n  } = useDndContext();\n  const containerId = useUniqueId(ID_PREFIX, id);\n  const useDragOverlay = Boolean(dragOverlay.rect !== null);\n  const items = useMemo(() => userDefinedItems.map(item => typeof item === 'object' && 'id' in item ? item.id : item), [userDefinedItems]);\n  const isDragging = active != null;\n  const activeIndex = active ? items.indexOf(active.id) : -1;\n  const overIndex = over ? items.indexOf(over.id) : -1;\n  const previousItemsRef = useRef(items);\n  const itemsHaveChanged = !itemsEqual(items, previousItemsRef.current);\n  const disableTransforms = overIndex !== -1 && activeIndex === -1 || itemsHaveChanged;\n  const disabled = normalizeDisabled(disabledProp);\n  useIsomorphicLayoutEffect(() => {\n    if (itemsHaveChanged && isDragging) {\n      measureDroppableContainers(items);\n    }\n  }, [itemsHaveChanged, items, isDragging, measureDroppableContainers]);\n  useEffect(() => {\n    previousItemsRef.current = items;\n  }, [items]);\n  const contextValue = useMemo(() => ({\n    activeIndex,\n    containerId,\n    disabled,\n    disableTransforms,\n    items,\n    overIndex,\n    useDragOverlay,\n    sortedRects: getSortedRects(items, droppableRects),\n    strategy\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [activeIndex, containerId, disabled.draggable, disabled.droppable, disableTransforms, items, overIndex, droppableRects, useDragOverlay, strategy]);\n  return React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nconst defaultNewIndexGetter = _ref => {\n  let {\n    id,\n    items,\n    activeIndex,\n    overIndex\n  } = _ref;\n  return arrayMove(items, activeIndex, overIndex).indexOf(id);\n};\nconst defaultAnimateLayoutChanges = _ref2 => {\n  let {\n    containerId,\n    isSorting,\n    wasDragging,\n    index,\n    items,\n    newIndex,\n    previousItems,\n    previousContainerId,\n    transition\n  } = _ref2;\n\n  if (!transition || !wasDragging) {\n    return false;\n  }\n\n  if (previousItems !== items && index === newIndex) {\n    return false;\n  }\n\n  if (isSorting) {\n    return true;\n  }\n\n  return newIndex !== index && containerId === previousContainerId;\n};\nconst defaultTransition = {\n  duration: 200,\n  easing: 'ease'\n};\nconst transitionProperty = 'transform';\nconst disabledTransition = /*#__PURE__*/CSS.Transition.toString({\n  property: transitionProperty,\n  duration: 0,\n  easing: 'linear'\n});\nconst defaultAttributes = {\n  roleDescription: 'sortable'\n};\n\n/*\r\n * When the index of an item changes while sorting,\r\n * we need to temporarily disable the transforms\r\n */\n\nfunction useDerivedTransform(_ref) {\n  let {\n    disabled,\n    index,\n    node,\n    rect\n  } = _ref;\n  const [derivedTransform, setDerivedtransform] = useState(null);\n  const previousIndex = useRef(index);\n  useIsomorphicLayoutEffect(() => {\n    if (!disabled && index !== previousIndex.current && node.current) {\n      const initial = rect.current;\n\n      if (initial) {\n        const current = getClientRect(node.current, {\n          ignoreTransform: true\n        });\n        const delta = {\n          x: initial.left - current.left,\n          y: initial.top - current.top,\n          scaleX: initial.width / current.width,\n          scaleY: initial.height / current.height\n        };\n\n        if (delta.x || delta.y) {\n          setDerivedtransform(delta);\n        }\n      }\n    }\n\n    if (index !== previousIndex.current) {\n      previousIndex.current = index;\n    }\n  }, [disabled, index, node, rect]);\n  useEffect(() => {\n    if (derivedTransform) {\n      setDerivedtransform(null);\n    }\n  }, [derivedTransform]);\n  return derivedTransform;\n}\n\nfunction useSortable(_ref) {\n  let {\n    animateLayoutChanges = defaultAnimateLayoutChanges,\n    attributes: userDefinedAttributes,\n    disabled: localDisabled,\n    data: customData,\n    getNewIndex = defaultNewIndexGetter,\n    id,\n    strategy: localStrategy,\n    resizeObserverConfig,\n    transition = defaultTransition\n  } = _ref;\n  const {\n    items,\n    containerId,\n    activeIndex,\n    disabled: globalDisabled,\n    disableTransforms,\n    sortedRects,\n    overIndex,\n    useDragOverlay,\n    strategy: globalStrategy\n  } = useContext(Context);\n  const disabled = normalizeLocalDisabled(localDisabled, globalDisabled);\n  const index = items.indexOf(id);\n  const data = useMemo(() => ({\n    sortable: {\n      containerId,\n      index,\n      items\n    },\n    ...customData\n  }), [containerId, customData, index, items]);\n  const itemsAfterCurrentSortable = useMemo(() => items.slice(items.indexOf(id)), [items, id]);\n  const {\n    rect,\n    node,\n    isOver,\n    setNodeRef: setDroppableNodeRef\n  } = useDroppable({\n    id,\n    data,\n    disabled: disabled.droppable,\n    resizeObserverConfig: {\n      updateMeasurementsFor: itemsAfterCurrentSortable,\n      ...resizeObserverConfig\n    }\n  });\n  const {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes,\n    setNodeRef: setDraggableNodeRef,\n    listeners,\n    isDragging,\n    over,\n    setActivatorNodeRef,\n    transform\n  } = useDraggable({\n    id,\n    data,\n    attributes: { ...defaultAttributes,\n      ...userDefinedAttributes\n    },\n    disabled: disabled.draggable\n  });\n  const setNodeRef = useCombinedRefs(setDroppableNodeRef, setDraggableNodeRef);\n  const isSorting = Boolean(active);\n  const displaceItem = isSorting && !disableTransforms && isValidIndex(activeIndex) && isValidIndex(overIndex);\n  const shouldDisplaceDragSource = !useDragOverlay && isDragging;\n  const dragSourceDisplacement = shouldDisplaceDragSource && displaceItem ? transform : null;\n  const strategy = localStrategy != null ? localStrategy : globalStrategy;\n  const finalTransform = displaceItem ? dragSourceDisplacement != null ? dragSourceDisplacement : strategy({\n    rects: sortedRects,\n    activeNodeRect,\n    activeIndex,\n    overIndex,\n    index\n  }) : null;\n  const newIndex = isValidIndex(activeIndex) && isValidIndex(overIndex) ? getNewIndex({\n    id,\n    items,\n    activeIndex,\n    overIndex\n  }) : index;\n  const activeId = active == null ? void 0 : active.id;\n  const previous = useRef({\n    activeId,\n    items,\n    newIndex,\n    containerId\n  });\n  const itemsHaveChanged = items !== previous.current.items;\n  const shouldAnimateLayoutChanges = animateLayoutChanges({\n    active,\n    containerId,\n    isDragging,\n    isSorting,\n    id,\n    index,\n    items,\n    newIndex: previous.current.newIndex,\n    previousItems: previous.current.items,\n    previousContainerId: previous.current.containerId,\n    transition,\n    wasDragging: previous.current.activeId != null\n  });\n  const derivedTransform = useDerivedTransform({\n    disabled: !shouldAnimateLayoutChanges,\n    index,\n    node,\n    rect\n  });\n  useEffect(() => {\n    if (isSorting && previous.current.newIndex !== newIndex) {\n      previous.current.newIndex = newIndex;\n    }\n\n    if (containerId !== previous.current.containerId) {\n      previous.current.containerId = containerId;\n    }\n\n    if (items !== previous.current.items) {\n      previous.current.items = items;\n    }\n  }, [isSorting, newIndex, containerId, items]);\n  useEffect(() => {\n    if (activeId === previous.current.activeId) {\n      return;\n    }\n\n    if (activeId != null && previous.current.activeId == null) {\n      previous.current.activeId = activeId;\n      return;\n    }\n\n    const timeoutId = setTimeout(() => {\n      previous.current.activeId = activeId;\n    }, 50);\n    return () => clearTimeout(timeoutId);\n  }, [activeId]);\n  return {\n    active,\n    activeIndex,\n    attributes,\n    data,\n    rect,\n    index,\n    newIndex,\n    items,\n    isOver,\n    isSorting,\n    isDragging,\n    listeners,\n    node,\n    overIndex,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    setDroppableNodeRef,\n    setDraggableNodeRef,\n    transform: derivedTransform != null ? derivedTransform : finalTransform,\n    transition: getTransition()\n  };\n\n  function getTransition() {\n    if ( // Temporarily disable transitions for a single frame to set up derived transforms\n    derivedTransform || // Or to prevent items jumping to back to their \"new\" position when items change\n    itemsHaveChanged && previous.current.newIndex === index) {\n      return disabledTransition;\n    }\n\n    if (shouldDisplaceDragSource && !isKeyboardEvent(activatorEvent) || !transition) {\n      return undefined;\n    }\n\n    if (isSorting || shouldAnimateLayoutChanges) {\n      return CSS.Transition.toString({ ...transition,\n        property: transitionProperty\n      });\n    }\n\n    return undefined;\n  }\n}\n\nfunction normalizeLocalDisabled(localDisabled, globalDisabled) {\n  var _localDisabled$dragga, _localDisabled$droppa;\n\n  if (typeof localDisabled === 'boolean') {\n    return {\n      draggable: localDisabled,\n      // Backwards compatibility\n      droppable: false\n    };\n  }\n\n  return {\n    draggable: (_localDisabled$dragga = localDisabled == null ? void 0 : localDisabled.draggable) != null ? _localDisabled$dragga : globalDisabled.draggable,\n    droppable: (_localDisabled$droppa = localDisabled == null ? void 0 : localDisabled.droppable) != null ? _localDisabled$droppa : globalDisabled.droppable\n  };\n}\n\nfunction hasSortableData(entry) {\n  if (!entry) {\n    return false;\n  }\n\n  const data = entry.data.current;\n\n  if (data && 'sortable' in data && typeof data.sortable === 'object' && 'containerId' in data.sortable && 'items' in data.sortable && 'index' in data.sortable) {\n    return true;\n  }\n\n  return false;\n}\n\nconst directions = [KeyboardCode.Down, KeyboardCode.Right, KeyboardCode.Up, KeyboardCode.Left];\nconst sortableKeyboardCoordinates = (event, _ref) => {\n  let {\n    context: {\n      active,\n      collisionRect,\n      droppableRects,\n      droppableContainers,\n      over,\n      scrollableAncestors\n    }\n  } = _ref;\n\n  if (directions.includes(event.code)) {\n    event.preventDefault();\n\n    if (!active || !collisionRect) {\n      return;\n    }\n\n    const filteredContainers = [];\n    droppableContainers.getEnabled().forEach(entry => {\n      if (!entry || entry != null && entry.disabled) {\n        return;\n      }\n\n      const rect = droppableRects.get(entry.id);\n\n      if (!rect) {\n        return;\n      }\n\n      switch (event.code) {\n        case KeyboardCode.Down:\n          if (collisionRect.top < rect.top) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n\n        case KeyboardCode.Up:\n          if (collisionRect.top > rect.top) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n\n        case KeyboardCode.Left:\n          if (collisionRect.left > rect.left) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n\n        case KeyboardCode.Right:\n          if (collisionRect.left < rect.left) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n      }\n    });\n    const collisions = closestCorners({\n      active,\n      collisionRect: collisionRect,\n      droppableRects,\n      droppableContainers: filteredContainers,\n      pointerCoordinates: null\n    });\n    let closestId = getFirstCollision(collisions, 'id');\n\n    if (closestId === (over == null ? void 0 : over.id) && collisions.length > 1) {\n      closestId = collisions[1].id;\n    }\n\n    if (closestId != null) {\n      const activeDroppable = droppableContainers.get(active.id);\n      const newDroppable = droppableContainers.get(closestId);\n      const newRect = newDroppable ? droppableRects.get(newDroppable.id) : null;\n      const newNode = newDroppable == null ? void 0 : newDroppable.node.current;\n\n      if (newNode && newRect && activeDroppable && newDroppable) {\n        const newScrollAncestors = getScrollableAncestors(newNode);\n        const hasDifferentScrollAncestors = newScrollAncestors.some((element, index) => scrollableAncestors[index] !== element);\n        const hasSameContainer = isSameContainer(activeDroppable, newDroppable);\n        const isAfterActive = isAfter(activeDroppable, newDroppable);\n        const offset = hasDifferentScrollAncestors || !hasSameContainer ? {\n          x: 0,\n          y: 0\n        } : {\n          x: isAfterActive ? collisionRect.width - newRect.width : 0,\n          y: isAfterActive ? collisionRect.height - newRect.height : 0\n        };\n        const rectCoordinates = {\n          x: newRect.left,\n          y: newRect.top\n        };\n        const newCoordinates = offset.x && offset.y ? rectCoordinates : subtract(rectCoordinates, offset);\n        return newCoordinates;\n      }\n    }\n  }\n\n  return undefined;\n};\n\nfunction isSameContainer(a, b) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.containerId === b.data.current.sortable.containerId;\n}\n\nfunction isAfter(a, b) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  if (!isSameContainer(a, b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.index < b.data.current.sortable.index;\n}\n\nexport { SortableContext, arrayMove, arraySwap, defaultAnimateLayoutChanges, defaultNewIndexGetter, hasSortableData, horizontalListSortingStrategy, rectSortingStrategy, rectSwappingStrategy, sortableKeyboardCoordinates, useSortable, verticalListSortingStrategy };\n//# sourceMappingURL=sortable.esm.js.map\n","/**\n * DataGrid Component\n * Enterprise-grade data grid built on TanStack Table\n * Features: sorting, filtering, pagination, column resizing/pinning/reordering,\n *           row selection, expansion, grouping, cell editing, virtualization\n */\n\nimport React, {\n  useState,\n  useMemo,\n  useCallback,\n  useRef,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n  memo,\n} from 'react';\nimport {\n  useReactTable,\n  getCoreRowModel,\n  getSortedRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getExpandedRowModel,\n  getGroupedRowModel,\n  getFacetedRowModel,\n  getFacetedUniqueValues,\n  getFacetedMinMaxValues,\n  flexRender,\n  ColumnDef,\n  SortingState,\n  ColumnFiltersState,\n  VisibilityState,\n  RowSelectionState,\n  ExpandedState,\n  GroupingState,\n  ColumnOrderState,\n  ColumnPinningState,\n  ColumnSizingState,\n  PaginationState,\n  RowPinningState,\n  Row,\n  Header,\n  Table as TanStackTable,\n  ColumnResizeMode,\n  Updater,\n} from '@tanstack/react-table';\nimport { useVirtualizer } from '@tanstack/react-virtual';\nimport { rankItem } from '@tanstack/match-sorter-utils';\nimport {\n  DndContext,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n  KeyboardSensor,\n  MouseSensor,\n  TouchSensor,\n  closestCenter,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  SortableContext,\n  arrayMove,\n  horizontalListSortingStrategy,\n  useSortable,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport {\n  ChevronDown,\n  ChevronUp,\n  ChevronsUpDown,\n  ChevronRight,\n  ChevronLeft,\n  ChevronsLeft,\n  ChevronsRight,\n  Search,\n  X,\n  Filter,\n  Columns,\n  Pin,\n  PinOff,\n  Check,\n  Minus,\n  Expand,\n  Shrink,\n  GripVertical,\n  Copy,\n  Trash2,\n  ArrowUpDown,\n  Eye,\n  EyeOff,\n  CheckSquare,\n  Square,\n  MoreHorizontal,\n} from 'lucide-react';\nimport styles from './DataGrid.module.css';\n\n// ============================================\n// Constants - Default Props\n// ============================================\n\nconst DEFAULT_PAGE_SIZE_OPTIONS = [10, 25, 50, 100] as const;\nconst DEFAULT_ESTIMATE_ROW_HEIGHT = 40;\nconst DEFAULT_ESTIMATE_COLUMN_WIDTH = 150;\nconst DEFAULT_OVERSCAN = 10;\nconst DEFAULT_HEIGHT = 600;\nconst DEFAULT_EMPTY_MESSAGE = 'No data available';\n\n// ============================================\n// Types\n// ============================================\n\nexport type FilterType = 'text' | 'number' | 'select' | 'multi-select' | 'date' | 'date-range';\n\nexport interface FilterOption {\n  value: string;\n  label: string;\n}\n\nexport type EditorType = 'text' | 'number' | 'select' | 'date';\n\nexport interface EditorOption {\n  value: string;\n  label: string;\n}\n\n// Context Menu Types\nexport interface ContextMenuItem {\n  id: string;\n  label: string;\n  icon?: React.ReactNode;\n  disabled?: boolean;\n  divider?: boolean;\n  shortcut?: string;\n}\n\nexport interface ContextMenuContext<TData = unknown> {\n  type: 'cell' | 'row' | 'header';\n  rowData?: TData;\n  rowIndex?: number;\n  columnId?: string;\n  cellValue?: unknown;\n}\n\nexport interface DataGridColumn<TData> {\n  id: string;\n  header: string;\n  accessorKey?: string;\n  accessorFn?: (row: TData) => unknown;\n  cell?: (info: { getValue: () => unknown; row: Row<TData>; column: unknown }) => React.ReactNode;\n  footer?: string | ((info: { column: unknown }) => React.ReactNode);\n  enableSorting?: boolean;\n  enableFiltering?: boolean;\n  enableResizing?: boolean;\n  enablePinning?: boolean;\n  enableGrouping?: boolean;\n  enableHiding?: boolean;\n  aggregationFn?: 'sum' | 'min' | 'max' | 'mean' | 'median' | 'unique' | 'count';\n  aggregatedCell?: (info: { getValue: () => unknown }) => React.ReactNode;\n  size?: number;\n  minSize?: number;\n  maxSize?: number;\n  align?: 'left' | 'center' | 'right';\n  editable?: boolean;\n  /** Custom edit component - takes precedence over editorType */\n  editComponent?: React.ComponentType<{\n    value: unknown;\n    onChange: (value: unknown) => void;\n    onBlur: () => void;\n    onKeyDown: (e: React.KeyboardEvent) => void;\n  }>;\n  /** Editor type for built-in editors */\n  editorType?: EditorType;\n  /** Options for select editor */\n  editorOptions?: EditorOption[];\n  /** Validation function - returns error message or null if valid */\n  validateCell?: (value: unknown, row: TData) => string | null;\n  /** Filter type for this column */\n  filterType?: FilterType;\n  /** Custom filter options for select/multi-select filters */\n  filterOptions?: FilterOption[];\n  /** Custom filter component */\n  filterComponent?: React.ComponentType<{\n    column: any;\n    table: TanStackTable<any>;\n  }>;\n}\n\nexport interface DataGridProps<TData> {\n  /** Data array */\n  data: TData[];\n  /** Column definitions */\n  columns: DataGridColumn<TData>[];\n  /** Unique row ID accessor */\n  getRowId?: (row: TData) => string;\n\n  // Sorting\n  /** Enable sorting */\n  enableSorting?: boolean;\n  /** Enable multi-column sorting */\n  enableMultiSort?: boolean;\n  /** Controlled sorting state */\n  sorting?: SortingState;\n  /** Sorting change handler */\n  onSortingChange?: (updater: Updater<SortingState>) => void;\n  /** Manual sorting mode - disable client-side sorting, handle in server */\n  manualSorting?: boolean;\n\n  // Filtering\n  /** Enable column filtering */\n  enableFiltering?: boolean;\n  /** Enable global filtering */\n  enableGlobalFilter?: boolean;\n  /** Global filter value */\n  globalFilter?: string;\n  /** Global filter change handler */\n  onGlobalFilterChange?: (value: string) => void;\n  /** Column filters state */\n  columnFilters?: ColumnFiltersState;\n  /** Column filters change handler */\n  onColumnFiltersChange?: (updater: Updater<ColumnFiltersState>) => void;\n  /** Manual filtering mode - disable client-side filtering, handle in server */\n  manualFiltering?: boolean;\n  /** Enable fuzzy filtering for global search (uses match-sorter-utils) */\n  enableFuzzyFilter?: boolean;\n\n  // Pagination\n  /** Enable pagination */\n  enablePagination?: boolean;\n  /** Page size options */\n  pageSizeOptions?: number[];\n  /** Controlled pagination state */\n  pagination?: PaginationState;\n  /** Pagination change handler */\n  onPaginationChange?: (updater: Updater<PaginationState>) => void;\n  /** Total row count for server-side pagination */\n  rowCount?: number;\n  /** Manual pagination mode */\n  manualPagination?: boolean;\n\n  // Row Selection\n  /** Enable row selection */\n  enableRowSelection?: boolean;\n  /** Enable multi-row selection */\n  enableMultiRowSelection?: boolean;\n  /** Selection mode: 'single' uses radio buttons, 'multiple' uses checkboxes */\n  selectionMode?: 'single' | 'multiple';\n  /** Function to determine if a row can be selected */\n  getRowCanSelect?: (row: TData) => boolean;\n  /** Enable sub-row selection (when parent is selected, children are also selected) */\n  enableSubRowSelection?: boolean;\n  /** Select all mode: 'all' selects all rows, 'page' selects current page only */\n  selectAllMode?: 'all' | 'page';\n  /** Controlled selection state */\n  rowSelection?: RowSelectionState;\n  /** Selection change handler */\n  onRowSelectionChange?: (updater: Updater<RowSelectionState>) => void;\n  /** Row click handler */\n  onRowClick?: (row: TData) => void;\n  /** Row double click handler */\n  onRowDoubleClick?: (row: TData) => void;\n\n  // Row Expansion\n  /** Enable row expansion */\n  enableExpanding?: boolean;\n  /** Render expanded row content */\n  renderExpandedRow?: (row: TData) => React.ReactNode;\n  /** Get sub-rows for hierarchical data (tree structure) */\n  getSubRows?: (row: TData) => TData[] | undefined;\n  /** Initial expanded state - true expands all, object for specific rows */\n  defaultExpanded?: ExpandedState | true;\n  /** Show expand/collapse all button in toolbar */\n  enableExpandAll?: boolean;\n  /** Controlled expansion state */\n  expanded?: ExpandedState;\n  /** Expansion change handler */\n  onExpandedChange?: (updater: Updater<ExpandedState>) => void;\n\n  // Grouping\n  /** Enable row grouping */\n  enableGrouping?: boolean;\n  /** Grouped column display mode: 'reorder' moves to first, 'remove' hides column, false keeps in place */\n  groupedColumnMode?: 'reorder' | 'remove' | false;\n  /** Controlled grouping state */\n  grouping?: GroupingState;\n  /** Grouping change handler */\n  onGroupingChange?: (updater: Updater<GroupingState>) => void;\n\n  // Column Features\n  /** Enable column resizing */\n  enableColumnResizing?: boolean;\n  /** Column resize mode */\n  columnResizeMode?: ColumnResizeMode;\n  /** Enable column pinning */\n  enableColumnPinning?: boolean;\n  /** Enable column reordering */\n  enableColumnOrdering?: boolean;\n  /** Enable column visibility toggle */\n  enableColumnVisibility?: boolean;\n  /** Controlled column visibility state */\n  columnVisibility?: VisibilityState;\n  /** Column visibility change handler */\n  onColumnVisibilityChange?: (updater: Updater<VisibilityState>) => void;\n  /** Controlled column order state */\n  columnOrder?: ColumnOrderState;\n  /** Column order change handler */\n  onColumnOrderChange?: (updater: Updater<ColumnOrderState>) => void;\n  /** Controlled column pinning state */\n  columnPinning?: ColumnPinningState;\n  /** Column pinning change handler */\n  onColumnPinningChange?: (updater: Updater<ColumnPinningState>) => void;\n  /** Controlled column sizing state */\n  columnSizing?: ColumnSizingState;\n  /** Column sizing change handler */\n  onColumnSizingChange?: (updater: Updater<ColumnSizingState>) => void;\n\n  // Cell Editing\n  /** Enable cell editing */\n  enableCellEditing?: boolean;\n  /** Cell edit handler */\n  onCellEdit?: (rowId: string, columnId: string, value: unknown) => void;\n\n  // Row Pinning\n  /** Enable row pinning */\n  enableRowPinning?: boolean;\n  /** Controlled row pinning state */\n  rowPinning?: RowPinningState;\n  /** Row pinning change handler */\n  onRowPinningChange?: (updater: Updater<RowPinningState>) => void;\n  /** Keep pinned rows visible when scrolling */\n  keepPinnedRows?: boolean;\n\n  // Drag & Drop\n  /** Enable row drag and drop reordering */\n  enableRowOrdering?: boolean;\n  /** Row order change handler - receives new data array after reorder */\n  onRowOrderChange?: (fromIndex: number, toIndex: number, newData: TData[]) => void;\n  /** Enable column drag and drop reordering (UI enhancement for existing enableColumnOrdering) */\n  enableColumnDrag?: boolean;\n\n  // Context Menu\n  /** Enable context menu on right-click */\n  enableContextMenu?: boolean;\n  /** Custom cell context menu items (overrides default) */\n  cellContextMenuItems?: ContextMenuItem[];\n  /** Custom row context menu items (overrides default) */\n  rowContextMenuItems?: ContextMenuItem[];\n  /** Custom header context menu items (overrides default) */\n  headerContextMenuItems?: ContextMenuItem[];\n  /** Context menu action handler */\n  onContextMenuAction?: (actionId: string, context: ContextMenuContext<TData>) => void;\n\n  // Clipboard\n  /** Enable clipboard operations (Ctrl+C to copy, Ctrl+V to paste) */\n  enableClipboard?: boolean;\n  /** Enable range selection for clipboard operations */\n  enableRangeSelection?: boolean;\n  /** Paste handler - receives parsed data and start position */\n  onPaste?: (data: string[][], startRowIndex: number, startColumnId: string) => void;\n  /** Copy handler - called when data is copied */\n  onCopy?: (data: string[][], selectedCells: { rowIndex: number; columnId: string }[]) => void;\n\n  // Virtualization\n  /** Enable row virtualization for large datasets */\n  enableVirtualization?: boolean;\n  /** Enable column virtualization for many columns */\n  enableColumnVirtualization?: boolean;\n  /** Estimated row height for virtualization */\n  estimateRowHeight?: number;\n  /** Estimated column width for column virtualization */\n  estimateColumnWidth?: number;\n  /** Overscan count for virtualization */\n  overscan?: number;\n  /** Virtual page size - number of visible rows in virtualized view */\n  virtualPageSize?: number;\n  /** Virtual page size options for selector */\n  virtualPageSizeOptions?: number[];\n  /** Callback when virtual page size changes */\n  onVirtualPageSizeChange?: (size: number) => void;\n\n  // Appearance\n  /** Grid height */\n  height?: number | string;\n  /** Enable striped rows */\n  striped?: boolean;\n  /** Enable row hover effect */\n  hoverable?: boolean;\n  /** Enable borders */\n  bordered?: boolean;\n  /** Compact mode */\n  compact?: boolean;\n  /** Show header */\n  showHeader?: boolean;\n  /** Show footer */\n  showFooter?: boolean;\n  /** Loading state */\n  loading?: boolean;\n  /** Empty state message */\n  emptyMessage?: string;\n  /** Custom empty state renderer */\n  renderEmpty?: () => React.ReactNode;\n\n  // Toolbar\n  /** Show toolbar */\n  showToolbar?: boolean;\n  /** Custom toolbar content */\n  toolbarContent?: React.ReactNode;\n\n  // Keyboard Navigation\n  /** Enable keyboard navigation between cells */\n  enableKeyboardNavigation?: boolean;\n\n  // Additional\n  /** CSS class name */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n}\n\nexport interface ExportOptions {\n  /** Export only selected rows (if any selected) or all rows */\n  selectedOnly?: boolean;\n  /** Include headers in export */\n  includeHeaders?: boolean;\n  /** Custom column headers map */\n  headerMap?: Record<string, string>;\n  /** Columns to exclude from export */\n  excludeColumns?: string[];\n}\n\nexport interface DataGridRef<TData> {\n  /** Get table instance */\n  getTable: () => TanStackTable<TData>;\n  /** Get selected rows */\n  getSelectedRows: () => TData[];\n  /** Clear selection */\n  clearSelection: () => void;\n  /** Reset all filters */\n  resetFilters: () => void;\n  /** Reset sorting */\n  resetSorting: () => void;\n  /** Export to CSV */\n  exportToCSV: (filename?: string, options?: ExportOptions) => void;\n  /** Export to TSV (tab-separated) */\n  exportToTSV: (filename?: string, options?: ExportOptions) => void;\n  /** Export to JSON */\n  exportToJSON: (filename?: string, options?: ExportOptions) => void;\n  /** Export to Excel (requires xlsx library) */\n  exportToExcel: (filename?: string, options?: ExportOptions) => Promise<void>;\n  /** Get export data as 2D array */\n  getExportData: (options?: ExportOptions) => { headers: string[]; data: unknown[][] };\n  /** Scroll to row */\n  scrollToRow: (index: number) => void;\n  /** Copy selected cells/rows to clipboard */\n  copyToClipboard: () => void;\n  /** Get selected cell range */\n  getSelectedRange: () => { rowIndex: number; columnId: string }[];\n  /** Clear cell selection */\n  clearCellSelection: () => void;\n}\n\n// Cell position for range selection\nexport interface CellPosition {\n  rowIndex: number;\n  columnId: string;\n}\n\n// ============================================\n// Sub-components\n// ============================================\n\n// Checkbox component\nconst IndeterminateCheckbox = memo(({\n  indeterminate,\n  checked,\n  onChange,\n  disabled,\n  className,\n}: {\n  indeterminate?: boolean;\n  checked?: boolean;\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  disabled?: boolean;\n  className?: string;\n}) => {\n  const ref = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.indeterminate = indeterminate ?? false;\n    }\n  }, [indeterminate]);\n\n  return (\n    <label className={`${styles.checkbox} ${className || ''}`}>\n      <input\n        type=\"checkbox\"\n        ref={ref}\n        checked={checked}\n        onChange={onChange}\n        disabled={disabled}\n        className={styles.checkboxInput}\n      />\n      <span className={styles.checkboxMark}>\n        {indeterminate ? <Minus size={12} /> : checked ? <Check size={12} /> : null}\n      </span>\n    </label>\n  );\n});\n\nIndeterminateCheckbox.displayName = 'IndeterminateCheckbox';\n\n// Radio button component for single selection\nconst RadioButton = memo(({\n  checked,\n  onChange,\n  disabled,\n  className,\n}: {\n  checked?: boolean;\n  onChange?: () => void;\n  disabled?: boolean;\n  className?: string;\n}) => {\n  return (\n    <label className={`${styles.radio} ${className || ''}`}>\n      <input\n        type=\"radio\"\n        checked={checked}\n        onChange={onChange}\n        disabled={disabled}\n        className={styles.radioInput}\n      />\n      <span className={styles.radioMark}>\n        {checked && <span className={styles.radioInner} />}\n      </span>\n    </label>\n  );\n});\n\nRadioButton.displayName = 'RadioButton';\n\n// Draggable Header Cell for column reordering\ninterface DraggableHeaderCellProps {\n  id: string;\n  children: React.ReactNode;\n  disabled?: boolean;\n}\n\nconst DraggableHeaderCell = memo(({ id, children, disabled = false }: DraggableHeaderCellProps) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id, disabled });\n\n  const style: React.CSSProperties = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n    cursor: disabled ? 'default' : 'grab',\n    position: 'relative',\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className={`${styles.draggableHeader} ${isDragging ? styles.dragging : ''}`}\n      {...attributes}\n      {...listeners}\n    >\n      {!disabled && (\n        <span className={styles.dragHandle}>\n          <GripVertical size={14} />\n        </span>\n      )}\n      {children}\n    </div>\n  );\n});\n\nDraggableHeaderCell.displayName = 'DraggableHeaderCell';\n\n// Draggable Row for row reordering\ninterface DraggableRowProps {\n  id: string;\n  children: React.ReactNode;\n  disabled?: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nconst DraggableRow = memo(({ id, children, disabled = false, className = '', style: rowStyle = {} }: DraggableRowProps) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id, disabled });\n\n  const style: React.CSSProperties = {\n    ...rowStyle,\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n    position: 'relative',\n    zIndex: isDragging ? 1 : 0,\n  };\n\n  return (\n    <tr\n      ref={setNodeRef}\n      style={style}\n      className={`${className} ${isDragging ? styles.draggingRow : ''}`}\n      {...attributes}\n    >\n      {/* Drag handle cell */}\n      <td className={styles.dragHandleCell} {...listeners}>\n        <GripVertical size={16} className={styles.rowDragHandle} />\n      </td>\n      {children}\n    </tr>\n  );\n});\n\nDraggableRow.displayName = 'DraggableRow';\n\n// Sortable Row component using useSortable hook\ninterface SortableRowProps {\n  id: string;\n  children: React.ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n  'data-row-index'?: number;\n  onClick?: () => void;\n  onDoubleClick?: () => void;\n}\n\nconst SortableRow = memo(({ id, children, className = '', style: rowStyle = {}, ...props }: SortableRowProps) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id });\n\n  const style: React.CSSProperties = {\n    ...rowStyle,\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n    backgroundColor: isDragging ? 'var(--color-background-subtle)' : undefined,\n  };\n\n  return (\n    <tr\n      ref={setNodeRef}\n      style={style}\n      className={`${className} ${isDragging ? styles.draggingRow : ''}`}\n      {...attributes}\n      {...props}\n    >\n      {children}\n    </tr>\n  );\n});\n\nSortableRow.displayName = 'SortableRow';\n\n// Row Drag Handle component - just the handle cell\nconst RowDragHandle = memo(({ rowId }: { rowId: string }) => {\n  const { attributes, listeners } = useSortable({ id: rowId });\n\n  return (\n    <td className={styles.dragHandleCell} {...attributes} {...listeners}>\n      <GripVertical size={16} className={styles.rowDragHandle} />\n    </td>\n  );\n});\n\nRowDragHandle.displayName = 'RowDragHandle';\n\n// Context Menu Component\ninterface ContextMenuProps {\n  x: number;\n  y: number;\n  items: ContextMenuItem[];\n  onAction: (actionId: string) => void;\n  onClose: () => void;\n}\n\nconst ContextMenu = memo(({ x, y, items, onAction, onClose }: ContextMenuProps) => {\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(e.target as Node)) {\n        onClose();\n      }\n    };\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    document.addEventListener('keydown', handleEscape);\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [onClose]);\n\n  // Adjust position to stay within viewport\n  const [position, setPosition] = useState({ x, y });\n\n  useEffect(() => {\n    if (menuRef.current) {\n      const rect = menuRef.current.getBoundingClientRect();\n      const viewportWidth = window.innerWidth;\n      const viewportHeight = window.innerHeight;\n\n      let newX = x;\n      let newY = y;\n\n      if (x + rect.width > viewportWidth) {\n        newX = viewportWidth - rect.width - 10;\n      }\n      if (y + rect.height > viewportHeight) {\n        newY = viewportHeight - rect.height - 10;\n      }\n\n      setPosition({ x: newX, y: newY });\n    }\n  }, [x, y]);\n\n  return (\n    <div\n      ref={menuRef}\n      className={styles.contextMenu}\n      style={{\n        position: 'fixed',\n        left: position.x,\n        top: position.y,\n        zIndex: 1000,\n      }}\n    >\n      {items.map((item, index) => (\n        item.divider ? (\n          <div key={`divider-${index}`} className={styles.contextMenuDivider} />\n        ) : (\n          <button\n            key={item.id}\n            className={`${styles.contextMenuItem} ${item.disabled ? styles.contextMenuItemDisabled : ''}`}\n            onClick={() => {\n              if (!item.disabled) {\n                onAction(item.id);\n                onClose();\n              }\n            }}\n            disabled={item.disabled}\n          >\n            {item.icon && <span className={styles.contextMenuIcon}>{item.icon}</span>}\n            <span className={styles.contextMenuLabel}>{item.label}</span>\n            {item.shortcut && <span className={styles.contextMenuShortcut}>{item.shortcut}</span>}\n          </button>\n        )\n      ))}\n    </div>\n  );\n});\n\nContextMenu.displayName = 'ContextMenu';\n\n// Default context menu items\nconst getDefaultCellMenuItems = (): ContextMenuItem[] => [\n  { id: 'copy', label: 'Copy', icon: <Copy size={14} />, shortcut: 'Ctrl+C' },\n  { id: 'divider1', label: '', divider: true },\n  { id: 'filter', label: 'Filter by value', icon: <Filter size={14} /> },\n  { id: 'sort-asc', label: 'Sort A to Z', icon: <ArrowUpDown size={14} /> },\n  { id: 'sort-desc', label: 'Sort Z to A', icon: <ArrowUpDown size={14} /> },\n];\n\nconst getDefaultRowMenuItems = (isSelected: boolean): ContextMenuItem[] => [\n  { id: 'select', label: isSelected ? 'Deselect row' : 'Select row', icon: isSelected ? <Square size={14} /> : <CheckSquare size={14} /> },\n  { id: 'divider1', label: '', divider: true },\n  { id: 'expand', label: 'Expand row', icon: <Expand size={14} /> },\n  { id: 'pin-top', label: 'Pin to top', icon: <Pin size={14} /> },\n  { id: 'pin-bottom', label: 'Pin to bottom', icon: <Pin size={14} /> },\n  { id: 'unpin', label: 'Unpin row', icon: <PinOff size={14} /> },\n  { id: 'divider2', label: '', divider: true },\n  { id: 'delete', label: 'Delete row', icon: <Trash2 size={14} /> },\n];\n\nconst getDefaultHeaderMenuItems = (isPinned: string | false): ContextMenuItem[] => [\n  { id: 'sort-asc', label: 'Sort ascending', icon: <ChevronUp size={14} /> },\n  { id: 'sort-desc', label: 'Sort descending', icon: <ChevronDown size={14} /> },\n  { id: 'sort-clear', label: 'Clear sort', icon: <X size={14} /> },\n  { id: 'divider1', label: '', divider: true },\n  { id: 'pin-left', label: 'Pin to left', icon: <Pin size={14} />, disabled: isPinned === 'left' },\n  { id: 'pin-right', label: 'Pin to right', icon: <Pin size={14} />, disabled: isPinned === 'right' },\n  { id: 'unpin', label: 'Unpin column', icon: <PinOff size={14} />, disabled: !isPinned },\n  { id: 'divider2', label: '', divider: true },\n  { id: 'hide', label: 'Hide column', icon: <EyeOff size={14} /> },\n];\n\n// Select filter component for single/multi select\nconst SelectFilter = memo(({\n  column,\n  isMulti = false,\n  options: customOptions,\n}: {\n  column: any;\n  isMulti?: boolean;\n  options?: FilterOption[];\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const columnFilterValue = column.getFilterValue();\n  const facetedValues = column.getFacetedUniqueValues();\n\n  // Get options from faceted values or custom options\n  const options = useMemo(() => {\n    if (customOptions && customOptions.length > 0) {\n      return customOptions;\n    }\n    const uniqueValues = Array.from(facetedValues.keys());\n    return uniqueValues\n      .filter((v): v is string | number => v != null)\n      .map((value) => ({\n        value: String(value),\n        label: String(value),\n      }))\n      .sort((a, b) => a.label.localeCompare(b.label));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [facetedValues.size, column.id, customOptions]);\n\n  // Close dropdown on outside click\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const selectedValues = useMemo(() => {\n    if (!columnFilterValue) return [];\n    if (Array.isArray(columnFilterValue)) return columnFilterValue;\n    return [columnFilterValue];\n  }, [columnFilterValue]);\n\n  const handleSelect = useCallback((value: string) => {\n    if (isMulti) {\n      const newValues = selectedValues.includes(value)\n        ? selectedValues.filter((v) => v !== value)\n        : [...selectedValues, value];\n      column.setFilterValue(newValues.length > 0 ? newValues : undefined);\n    } else {\n      column.setFilterValue(selectedValues.includes(value) ? undefined : value);\n      setIsOpen(false);\n    }\n  }, [column, isMulti, selectedValues]);\n\n  const clearFilter = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    column.setFilterValue(undefined);\n  }, [column]);\n\n  const displayText = useMemo(() => {\n    if (selectedValues.length === 0) return isMulti ? 'Select...' : 'All';\n    if (selectedValues.length === 1) {\n      const opt = options.find((o) => o.value === selectedValues[0]);\n      return opt?.label ?? selectedValues[0];\n    }\n    return `${selectedValues.length} selected`;\n  }, [selectedValues, options, isMulti]);\n\n  return (\n    <div className={styles.selectFilter} ref={dropdownRef}>\n      <button\n        type=\"button\"\n        className={styles.selectFilterTrigger}\n        onClick={() => setIsOpen(!isOpen)}\n      >\n        <span className={styles.selectFilterText}>{displayText}</span>\n        {selectedValues.length > 0 && (\n          <span className={styles.selectFilterClear} onClick={clearFilter}>\n            <X size={12} />\n          </span>\n        )}\n        <ChevronDown size={14} className={styles.selectFilterIcon} />\n      </button>\n      {isOpen && (\n        <div className={styles.selectFilterDropdown}>\n          {options.length === 0 ? (\n            <div className={styles.selectFilterEmpty}>No options</div>\n          ) : (\n            options.map((option) => (\n              <label\n                key={option.value}\n                className={`${styles.selectFilterOption} ${selectedValues.includes(option.value) ? styles.selected : ''}`}\n              >\n                <input\n                  type={isMulti ? 'checkbox' : 'radio'}\n                  checked={selectedValues.includes(option.value)}\n                  onChange={() => handleSelect(option.value)}\n                  className={styles.selectFilterCheckbox}\n                />\n                <span>{option.label}</span>\n              </label>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n});\n\nSelectFilter.displayName = 'SelectFilter';\n\n// Date filter component\nconst DateFilter = memo(({\n  column,\n  isRange = false,\n}: {\n  column: any;\n  isRange?: boolean;\n}) => {\n  const columnFilterValue = column.getFilterValue();\n\n  const handleDateChange = useCallback((value: string, position?: 'start' | 'end') => {\n    if (isRange) {\n      const currentValue = (columnFilterValue as [string, string]) ?? ['', ''];\n      if (position === 'start') {\n        column.setFilterValue([value, currentValue[1]]);\n      } else {\n        column.setFilterValue([currentValue[0], value]);\n      }\n    } else {\n      column.setFilterValue(value || undefined);\n    }\n  }, [column, columnFilterValue, isRange]);\n\n  if (isRange) {\n    const [startDate, endDate] = (columnFilterValue as [string, string]) ?? ['', ''];\n    return (\n      <div className={styles.filterRange}>\n        <input\n          type=\"date\"\n          value={startDate}\n          onChange={(e) => handleDateChange(e.target.value, 'start')}\n          className={styles.filterInput}\n          placeholder=\"Start\"\n        />\n        <input\n          type=\"date\"\n          value={endDate}\n          onChange={(e) => handleDateChange(e.target.value, 'end')}\n          className={styles.filterInput}\n          placeholder=\"End\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.filterWrapper}>\n      <input\n        type=\"date\"\n        value={(columnFilterValue as string) ?? ''}\n        onChange={(e) => handleDateChange(e.target.value)}\n        className={styles.filterInput}\n      />\n    </div>\n  );\n});\n\nDateFilter.displayName = 'DateFilter';\n\n// Column filter component - main dispatcher\nconst ColumnFilter = memo(({\n  column,\n  table,\n}: {\n  column: any;\n  table: TanStackTable<any>;\n}) => {\n  const columnDef = column.columnDef;\n  const filterType: FilterType = columnDef.meta?.filterType ?? columnDef.filterType;\n  const filterOptions: FilterOption[] | undefined = columnDef.meta?.filterOptions ?? columnDef.filterOptions;\n  const FilterComponent = columnDef.meta?.filterComponent ?? columnDef.filterComponent;\n\n  // Custom filter component takes precedence\n  if (FilterComponent) {\n    return <FilterComponent column={column} table={table} />;\n  }\n\n  // Route to appropriate filter based on filterType\n  switch (filterType) {\n    case 'select':\n      return <SelectFilter column={column} isMulti={false} options={filterOptions} />;\n    case 'multi-select':\n      return <SelectFilter column={column} isMulti={true} options={filterOptions} />;\n    case 'date':\n      return <DateFilter column={column} isRange={false} />;\n    case 'date-range':\n      return <DateFilter column={column} isRange={true} />;\n    case 'number':\n      return <NumberRangeFilter column={column} />;\n    case 'text':\n    default:\n      // Auto-detect based on data type\n      const firstValue = table\n        .getPreFilteredRowModel()\n        .flatRows[0]?.getValue(column.id);\n\n      if (typeof firstValue === 'number') {\n        return <NumberRangeFilter column={column} />;\n      }\n\n      return <TextFilter column={column} />;\n  }\n});\n\nColumnFilter.displayName = 'ColumnFilter';\n\n// Number range filter component\nconst NumberRangeFilter = memo(({ column }: { column: any }) => {\n  const columnFilterValue = column.getFilterValue();\n  const [min, max] = column.getFacetedMinMaxValues() ?? [0, 0];\n\n  return (\n    <div className={styles.filterRange}>\n      <input\n        type=\"number\"\n        min={Number(min ?? '')}\n        max={Number(max ?? '')}\n        value={(columnFilterValue as [number, number])?.[0] ?? ''}\n        onChange={(e) =>\n          column.setFilterValue((old: [number, number]) => [\n            e.target.value,\n            old?.[1],\n          ])\n        }\n        placeholder=\"Min\"\n        className={styles.filterInput}\n      />\n      <input\n        type=\"number\"\n        min={Number(min ?? '')}\n        max={Number(max ?? '')}\n        value={(columnFilterValue as [number, number])?.[1] ?? ''}\n        onChange={(e) =>\n          column.setFilterValue((old: [number, number]) => [\n            old?.[0],\n            e.target.value,\n          ])\n        }\n        placeholder=\"Max\"\n        className={styles.filterInput}\n      />\n    </div>\n  );\n});\n\nNumberRangeFilter.displayName = 'NumberRangeFilter';\n\n// Text filter component\nconst TextFilter = memo(({ column }: { column: any }) => {\n  const columnFilterValue = column.getFilterValue();\n  const facetedValues = column.getFacetedUniqueValues();\n  const sortedUniqueValues = useMemo(\n    () => Array.from(facetedValues.keys()).sort(),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [facetedValues.size, column.id]\n  );\n\n  return (\n    <div className={styles.filterWrapper}>\n      <input\n        type=\"text\"\n        value={(columnFilterValue ?? '') as string}\n        onChange={(e) => column.setFilterValue(e.target.value)}\n        placeholder={`Search... (${facetedValues.size})`}\n        className={styles.filterInput}\n        list={column.id + 'list'}\n      />\n      <datalist id={column.id + 'list'}>\n        {sortedUniqueValues.slice(0, 5000).map((value: unknown) => (\n          <option value={String(value)} key={String(value)} />\n        ))}\n      </datalist>\n    </div>\n  );\n});\n\nTextFilter.displayName = 'TextFilter';\n\n// Editable cell component with validation and multiple editor types\nconst EditableCell = memo(({\n  value: initialValue,\n  row,\n  column,\n  onEdit,\n  editComponent: EditComponent,\n  editorType = 'text',\n  editorOptions,\n  validateCell,\n}: {\n  value: unknown;\n  row: Row<any>;\n  column: any;\n  onEdit?: (rowId: string, columnId: string, value: unknown) => void;\n  editComponent?: React.ComponentType<any>;\n  editorType?: EditorType;\n  editorOptions?: EditorOption[];\n  validateCell?: (value: unknown, row: any) => string | null;\n}) => {\n  const [value, setValue] = useState(initialValue);\n  const [isEditing, setIsEditing] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const selectRef = useRef<HTMLSelectElement>(null);\n\n  useEffect(() => {\n    setValue(initialValue);\n    setError(null);\n  }, [initialValue]);\n\n  useEffect(() => {\n    if (isEditing) {\n      if (inputRef.current) {\n        inputRef.current.focus();\n        if (editorType === 'text' || editorType === 'number') {\n          inputRef.current.select();\n        }\n      } else if (selectRef.current) {\n        selectRef.current.focus();\n      }\n    }\n  }, [isEditing, editorType]);\n\n  const validate = useCallback((val: unknown): string | null => {\n    if (!validateCell) return null;\n    return validateCell(val, row.original);\n  }, [validateCell, row.original]);\n\n  const handleSave = useCallback(() => {\n    const validationError = validate(value);\n    if (validationError) {\n      setError(validationError);\n      return false;\n    }\n    setIsEditing(false);\n    setError(null);\n    if (value !== initialValue) {\n      onEdit?.(row.id, column.id, value);\n    }\n    return true;\n  }, [value, initialValue, row.id, column.id, onEdit, validate]);\n\n  const handleBlur = useCallback(() => {\n    handleSave();\n  }, [handleSave]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      handleSave();\n    } else if (e.key === 'Escape') {\n      setValue(initialValue);\n      setError(null);\n      setIsEditing(false);\n    }\n  }, [handleSave, initialValue]);\n\n  const handleChange = useCallback((newValue: unknown) => {\n    setValue(newValue);\n    // Clear error on change\n    if (error) {\n      const validationError = validate(newValue);\n      setError(validationError);\n    }\n  }, [error, validate]);\n\n  // Format display value based on editor type\n  const formatDisplayValue = (val: unknown): string => {\n    if (val == null) return '';\n    if (editorType === 'select' && editorOptions) {\n      const option = editorOptions.find(opt => opt.value === val);\n      return option?.label ?? String(val);\n    }\n    if (editorType === 'date' && val instanceof Date) {\n      return val.toLocaleDateString();\n    }\n    return String(val);\n  };\n\n  if (!isEditing) {\n    return (\n      <div\n        className={styles.editableCell}\n        onDoubleClick={() => setIsEditing(true)}\n      >\n        {formatDisplayValue(value)}\n      </div>\n    );\n  }\n\n  // Custom edit component takes precedence\n  if (EditComponent) {\n    return (\n      <div className={styles.editorWrapper}>\n        <EditComponent\n          value={value}\n          onChange={handleChange}\n          onBlur={handleBlur}\n          onKeyDown={handleKeyDown}\n        />\n        {error && <div className={styles.editorError}>{error}</div>}\n      </div>\n    );\n  }\n\n  // Built-in editor types\n  const renderEditor = () => {\n    switch (editorType) {\n      case 'number':\n        return (\n          <input\n            ref={inputRef}\n            type=\"number\"\n            value={value != null ? String(value) : ''}\n            onChange={(e) => handleChange(e.target.value === '' ? null : Number(e.target.value))}\n            onBlur={handleBlur}\n            onKeyDown={handleKeyDown}\n            className={`${styles.editInput} ${error ? styles.editInputError : ''}`}\n          />\n        );\n\n      case 'select':\n        return (\n          <select\n            ref={selectRef}\n            value={String(value ?? '')}\n            onChange={(e) => handleChange(e.target.value)}\n            onBlur={handleBlur}\n            onKeyDown={handleKeyDown}\n            className={`${styles.editSelect} ${error ? styles.editInputError : ''}`}\n          >\n            {editorOptions?.map((option) => (\n              <option key={option.value} value={option.value}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n        );\n\n      case 'date':\n        return (\n          <input\n            ref={inputRef}\n            type=\"date\"\n            value={value instanceof Date ? value.toISOString().split('T')[0] : String(value ?? '')}\n            onChange={(e) => handleChange(e.target.value ? new Date(e.target.value) : null)}\n            onBlur={handleBlur}\n            onKeyDown={handleKeyDown}\n            className={`${styles.editInput} ${error ? styles.editInputError : ''}`}\n          />\n        );\n\n      case 'text':\n      default:\n        return (\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={String(value ?? '')}\n            onChange={(e) => handleChange(e.target.value)}\n            onBlur={handleBlur}\n            onKeyDown={handleKeyDown}\n            className={`${styles.editInput} ${error ? styles.editInputError : ''}`}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className={styles.editorWrapper}>\n      {renderEditor()}\n      {error && <div className={styles.editorError}>{error}</div>}\n    </div>\n  );\n});\n\nEditableCell.displayName = 'EditableCell';\n\n// Column visibility dropdown\nconst ColumnVisibilityDropdown = memo(({\n  table,\n}: {\n  table: TanStackTable<any>;\n}) => {\n  const [open, setOpen] = useState(false);\n\n  return (\n    <div className={styles.dropdown}>\n      <button\n        className={styles.toolbarButton}\n        onClick={() => setOpen(!open)}\n        title=\"Toggle columns\"\n      >\n        <Columns size={16} />\n      </button>\n      {open && (\n        <>\n          <div className={styles.dropdownBackdrop} onClick={() => setOpen(false)} />\n          <div className={styles.dropdownMenu}>\n            <div className={styles.dropdownHeader}>Toggle Columns</div>\n            <label className={styles.dropdownItem}>\n              <input\n                type=\"checkbox\"\n                checked={table.getIsAllColumnsVisible()}\n                onChange={table.getToggleAllColumnsVisibilityHandler()}\n              />\n              <span>Toggle All</span>\n            </label>\n            <div className={styles.dropdownDivider} />\n            {table.getAllLeafColumns().map((column) => (\n              <label key={column.id} className={styles.dropdownItem}>\n                <input\n                  type=\"checkbox\"\n                  checked={column.getIsVisible()}\n                  onChange={column.getToggleVisibilityHandler()}\n                  disabled={!column.getCanHide()}\n                />\n                <span>{column.id}</span>\n              </label>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n});\n\nColumnVisibilityDropdown.displayName = 'ColumnVisibilityDropdown';\n\n// ============================================\n// Main DataGrid Component\n// ============================================\n\nfunction DataGridInner<TData>(\n  {\n    data,\n    columns: columnsProp,\n    getRowId,\n\n    // Sorting\n    enableSorting = true,\n    enableMultiSort = true,\n    sorting: sortingProp,\n    onSortingChange,\n    manualSorting = false,\n\n    // Filtering\n    enableFiltering = true,\n    enableGlobalFilter = true,\n    globalFilter: globalFilterProp,\n    onGlobalFilterChange,\n    columnFilters: columnFiltersProp,\n    onColumnFiltersChange,\n    manualFiltering = false,\n    enableFuzzyFilter = false,\n\n    // Pagination\n    enablePagination = true,\n    pageSizeOptions = DEFAULT_PAGE_SIZE_OPTIONS as unknown as number[],\n    pagination: paginationProp,\n    onPaginationChange,\n    rowCount,\n    manualPagination = false,\n\n    // Row Selection\n    enableRowSelection = false,\n    enableMultiRowSelection = true,\n    selectionMode = 'multiple',\n    getRowCanSelect,\n    enableSubRowSelection = true,\n    selectAllMode = 'all',\n    rowSelection: rowSelectionProp,\n    onRowSelectionChange,\n    onRowClick,\n    onRowDoubleClick,\n\n    // Row Expansion\n    enableExpanding = false,\n    renderExpandedRow,\n    getSubRows,\n    defaultExpanded,\n    enableExpandAll = false,\n    expanded: expandedProp,\n    onExpandedChange,\n\n    // Grouping\n    enableGrouping = false,\n    groupedColumnMode = 'reorder',\n    grouping: groupingProp,\n    onGroupingChange,\n\n    // Column Features\n    enableColumnResizing = true,\n    columnResizeMode = 'onChange',\n    enableColumnPinning = true,\n    enableColumnOrdering = false,\n    enableColumnVisibility = true,\n    columnVisibility: columnVisibilityProp,\n    onColumnVisibilityChange,\n    columnOrder: columnOrderProp,\n    onColumnOrderChange,\n    columnPinning: columnPinningProp,\n    onColumnPinningChange,\n    columnSizing: columnSizingProp,\n    onColumnSizingChange,\n\n    // Cell Editing\n    enableCellEditing = false,\n    onCellEdit,\n\n    // Row Pinning\n    enableRowPinning = false,\n    rowPinning: rowPinningProp,\n    onRowPinningChange,\n    keepPinnedRows = true,\n\n    // Drag & Drop\n    enableRowOrdering = false,\n    onRowOrderChange,\n    enableColumnDrag = false,\n\n    // Context Menu\n    enableContextMenu = false,\n    cellContextMenuItems,\n    rowContextMenuItems,\n    headerContextMenuItems,\n    onContextMenuAction,\n\n    // Clipboard\n    enableClipboard = false,\n    enableRangeSelection = false,\n    onPaste,\n    onCopy,\n\n    // Virtualization\n    enableVirtualization = false,\n    enableColumnVirtualization = false,\n    estimateRowHeight = DEFAULT_ESTIMATE_ROW_HEIGHT,\n    estimateColumnWidth = DEFAULT_ESTIMATE_COLUMN_WIDTH,\n    overscan = DEFAULT_OVERSCAN,\n    virtualPageSize,\n    virtualPageSizeOptions = [20, 50, 100],\n    onVirtualPageSizeChange,\n\n    // Appearance\n    height: heightProp = DEFAULT_HEIGHT,\n    striped = false,\n    hoverable = true,\n    bordered = true,\n    compact = false,\n    showHeader = true,\n    showFooter = false,\n    loading = false,\n    emptyMessage = DEFAULT_EMPTY_MESSAGE,\n    renderEmpty,\n\n    // Toolbar\n    showToolbar = true,\n    toolbarContent,\n\n    // Keyboard Navigation\n    enableKeyboardNavigation = false,\n\n    // Additional\n    className,\n    style,\n  }: DataGridProps<TData>,\n  ref: React.ForwardedRef<DataGridRef<TData>>\n) {\n  // State\n  const [sorting, setSorting] = useState<SortingState>(sortingProp ?? []);\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>(columnFiltersProp ?? []);\n  const [globalFilter, setGlobalFilter] = useState<string>(globalFilterProp ?? '');\n  const [rowSelection, setRowSelection] = useState<RowSelectionState>(rowSelectionProp ?? {});\n  const [expanded, setExpanded] = useState<ExpandedState>(\n    expandedProp ?? (defaultExpanded === true ? true : defaultExpanded ?? {})\n  );\n  const [grouping, setGrouping] = useState<GroupingState>(groupingProp ?? []);\n  const [columnVisibility, setColumnVisibility] = useState<VisibilityState>(columnVisibilityProp ?? {});\n  const [columnOrder, setColumnOrder] = useState<ColumnOrderState>(columnOrderProp ?? []);\n  const [columnPinning, setColumnPinning] = useState<ColumnPinningState>(columnPinningProp ?? {});\n  const [columnSizing, setColumnSizing] = useState<ColumnSizingState>(columnSizingProp ?? {});\n  const [rowPinning, setRowPinning] = useState<RowPinningState>(rowPinningProp ?? { top: [], bottom: [] });\n  const [pagination, setPagination] = useState<PaginationState>(\n    paginationProp ?? { pageIndex: 0, pageSize: pageSizeOptions[0] }\n  );\n  const [focusedCell, setFocusedCell] = useState<{\n    rowIndex: number;\n    columnIndex: number;\n  } | null>(null);\n  const focusedCellRef = useRef<{ rowIndex: number; columnIndex: number } | null>(null);\n  const [activeColumnId, setActiveColumnId] = useState<string | null>(null);\n  const [activeRowId, setActiveRowId] = useState<string | null>(null);\n\n  // Context menu state\n  const [contextMenu, setContextMenu] = useState<{\n    x: number;\n    y: number;\n    type: 'cell' | 'row' | 'header';\n    context: ContextMenuContext<TData>;\n    items: ContextMenuItem[];\n  } | null>(null);\n\n  // Range selection state for clipboard\n  const [rangeSelectionStart, setRangeSelectionStart] = useState<CellPosition | null>(null);\n  const [rangeSelectionEnd, setRangeSelectionEnd] = useState<CellPosition | null>(null);\n  const [selectedCells, setSelectedCells] = useState<CellPosition[]>([]);\n  const [isSelecting, setIsSelecting] = useState(false);\n\n  const tableContainerRef = useRef<HTMLDivElement>(null);\n  // State-based ref for virtualization (triggers re-render when scroll element is available)\n  const [virtualScrollElement, setVirtualScrollElement] = useState<HTMLDivElement | null>(null);\n\n  // Internal state for virtual page size (controllable or uncontrolled)\n  const [internalVirtualPageSize, setInternalVirtualPageSize] = useState(virtualPageSize ?? virtualPageSizeOptions[0] ?? 20);\n  const effectiveVirtualPageSize = virtualPageSize ?? internalVirtualPageSize;\n\n  // Calculate height based on virtualPageSize when virtualization is enabled\n  const HEADER_HEIGHT = 48;\n  const TOOLBAR_HEIGHT = showToolbar ? 56 : 0;\n  const height = enableVirtualization && effectiveVirtualPageSize\n    ? effectiveVirtualPageSize * estimateRowHeight + HEADER_HEIGHT + TOOLBAR_HEIGHT\n    : heightProp;\n\n  // Handle virtual page size change\n  const handleVirtualPageSizeChange = useCallback((newSize: number) => {\n    setInternalVirtualPageSize(newSize);\n    onVirtualPageSizeChange?.(newSize);\n  }, [onVirtualPageSizeChange]);\n\n  // Ref callback for virtualization scroll element\n  const handleVirtualScrollRef = useCallback((element: HTMLDivElement | null) => {\n    setVirtualScrollElement(element);\n  }, []);\n\n  // Drag & Drop sensors\n  const sensors = useSensors(\n    useSensor(MouseSensor, {\n      activationConstraint: { distance: 10 },\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: { delay: 250, tolerance: 5 },\n    }),\n    useSensor(KeyboardSensor)\n  );\n\n  // Convert columns to TanStack format\n  const columns = useMemo<ColumnDef<TData, unknown>[]>(() => {\n    const cols: ColumnDef<TData, unknown>[] = [];\n\n    // Selection column\n    if (enableRowSelection) {\n      const isSingleSelection = selectionMode === 'single';\n      cols.push({\n        id: '_select',\n        size: 50,\n        enableResizing: false,\n        enableSorting: false,\n        enableColumnFilter: false,\n        header: ({ table }) => {\n          // Single selection mode - no header checkbox/radio\n          if (isSingleSelection) {\n            return null;\n          }\n          // Multiple selection mode\n          const isAllSelected = selectAllMode === 'page'\n            ? table.getIsAllPageRowsSelected()\n            : table.getIsAllRowsSelected();\n          const isSomeSelected = selectAllMode === 'page'\n            ? table.getIsSomePageRowsSelected()\n            : table.getIsSomeRowsSelected();\n          const toggleHandler = selectAllMode === 'page'\n            ? table.getToggleAllPageRowsSelectedHandler()\n            : table.getToggleAllRowsSelectedHandler();\n\n          return (\n            <IndeterminateCheckbox\n              checked={isAllSelected}\n              indeterminate={isSomeSelected}\n              onChange={toggleHandler}\n            />\n          );\n        },\n        cell: ({ row, table }) => {\n          if (isSingleSelection) {\n            return (\n              <RadioButton\n                checked={row.getIsSelected()}\n                onChange={() => {\n                  // Clear all selections first, then select this row\n                  table.resetRowSelection();\n                  row.toggleSelected(true);\n                }}\n                disabled={!row.getCanSelect()}\n              />\n            );\n          }\n          return (\n            <IndeterminateCheckbox\n              checked={row.getIsSelected()}\n              indeterminate={row.getIsSomeSelected()}\n              onChange={row.getToggleSelectedHandler()}\n              disabled={!row.getCanSelect()}\n            />\n          );\n        },\n      });\n    }\n\n    // Row pinning column\n    if (enableRowPinning) {\n      cols.push({\n        id: '_pin',\n        size: 50,\n        enableResizing: false,\n        enableSorting: false,\n        enableColumnFilter: false,\n        header: () => <Pin size={14} className={styles.pinHeaderIcon} />,\n        cell: ({ row }) => {\n          const isPinned = row.getIsPinned();\n          return (\n            <div className={styles.pinCell}>\n              {isPinned ? (\n                <button\n                  className={`${styles.pinButton} ${styles.pinButtonActive}`}\n                  onClick={() => row.pin(false)}\n                  title=\"Unpin row\"\n                >\n                  <PinOff size={14} />\n                </button>\n              ) : (\n                <div className={styles.pinActions}>\n                  <button\n                    className={styles.pinButton}\n                    onClick={() => row.pin('top')}\n                    title=\"Pin to top\"\n                  >\n                    <Pin size={14} style={{ transform: 'rotate(0deg)' }} />\n                  </button>\n                  <button\n                    className={styles.pinButton}\n                    onClick={() => row.pin('bottom')}\n                    title=\"Pin to bottom\"\n                  >\n                    <Pin size={14} style={{ transform: 'rotate(180deg)' }} />\n                  </button>\n                </div>\n              )}\n            </div>\n          );\n        },\n      });\n    }\n\n    // Expansion column (for both expandable rows and tree structure)\n    if (enableExpanding || getSubRows) {\n      cols.push({\n        id: '_expand',\n        size: getSubRows ? 80 : 50,\n        enableResizing: false,\n        enableSorting: false,\n        enableColumnFilter: false,\n        header: () => null,\n        cell: ({ row }) => {\n          const depth = row.depth;\n          const canExpand = row.getCanExpand();\n\n          return (\n            <div\n              className={styles.expandCell}\n              style={{ paddingLeft: getSubRows ? `${depth * 20}px` : 0 }}\n            >\n              {canExpand ? (\n                <button\n                  className={styles.expandButton}\n                  onClick={row.getToggleExpandedHandler()}\n                >\n                  {row.getIsExpanded() ? (\n                    <ChevronDown size={16} />\n                  ) : (\n                    <ChevronRight size={16} />\n                  )}\n                </button>\n              ) : getSubRows ? (\n                <span className={styles.expandSpacer} />\n              ) : null}\n            </div>\n          );\n        },\n      });\n    }\n\n    // Data columns\n    columnsProp.forEach((col) => {\n      // Determine filter function based on filterType\n      let filterFn: string | undefined;\n      if (col.filterType === 'multi-select') {\n        filterFn = 'multiSelect';\n      } else if (col.filterType === 'select') {\n        filterFn = 'equals';\n      } else if (col.filterType === 'date-range') {\n        filterFn = 'dateRange';\n      } else if (col.filterType === 'date') {\n        filterFn = 'dateExact';\n      } else if (col.filterType === 'number') {\n        filterFn = 'inNumberRange';\n      }\n\n      const colDef: ColumnDef<TData, unknown> = {\n        id: col.id,\n        header: col.header,\n        size: col.size ?? 150,\n        minSize: col.minSize ?? 50,\n        maxSize: col.maxSize ?? 500,\n        enableSorting: col.enableSorting ?? enableSorting,\n        enableColumnFilter: col.enableFiltering ?? enableFiltering,\n        enableResizing: col.enableResizing ?? enableColumnResizing,\n        enablePinning: col.enablePinning ?? enableColumnPinning,\n        enableGrouping: col.enableGrouping ?? enableGrouping,\n        enableHiding: col.enableHiding ?? true,\n        aggregationFn: col.aggregationFn,\n        aggregatedCell: col.aggregatedCell as any,\n        filterFn: filterFn as any,\n        cell: enableCellEditing && col.editable\n          ? (info) => (\n              <EditableCell\n                value={info.getValue()}\n                row={info.row}\n                column={info.column}\n                onEdit={onCellEdit}\n                editComponent={col.editComponent}\n                editorType={col.editorType}\n                editorOptions={col.editorOptions}\n                validateCell={col.validateCell as any}\n              />\n            )\n          : col.cell\n          ? (info) => col.cell!(info as any)\n          : (info) => {\n              const value = info.getValue();\n              return value != null ? String(value) : '';\n            },\n        meta: {\n          align: col.align,\n          filterType: col.filterType,\n          filterOptions: col.filterOptions,\n          filterComponent: col.filterComponent,\n        },\n      };\n\n      // Add accessor - either key or function\n      if (col.accessorKey) {\n        (colDef as any).accessorKey = col.accessorKey;\n      } else if (col.accessorFn) {\n        (colDef as any).accessorFn = col.accessorFn;\n      }\n\n      cols.push(colDef);\n    });\n\n    return cols;\n  }, [\n    columnsProp,\n    enableRowSelection,\n    selectionMode,\n    selectAllMode,\n    enableRowPinning,\n    enableExpanding,\n    getSubRows,\n    enableSorting,\n    enableFiltering,\n    enableColumnResizing,\n    enableColumnPinning,\n    enableGrouping,\n    enableCellEditing,\n    onCellEdit,\n  ]);\n\n  // Table instance\n  const table = useReactTable({\n    data,\n    columns,\n    getRowId,\n    state: {\n      sorting: sortingProp ?? sorting,\n      columnFilters: columnFiltersProp ?? columnFilters,\n      globalFilter: globalFilterProp ?? globalFilter,\n      rowSelection: rowSelectionProp ?? rowSelection,\n      expanded: expandedProp ?? expanded,\n      grouping: groupingProp ?? grouping,\n      columnVisibility: columnVisibilityProp ?? columnVisibility,\n      columnOrder: columnOrderProp ?? columnOrder,\n      columnPinning: columnPinningProp ?? columnPinning,\n      columnSizing: columnSizingProp ?? columnSizing,\n      rowPinning: rowPinningProp ?? rowPinning,\n      pagination: paginationProp ?? pagination,\n    },\n    onSortingChange: onSortingChange ?? setSorting,\n    onColumnFiltersChange: onColumnFiltersChange ?? setColumnFilters,\n    onGlobalFilterChange: onGlobalFilterChange ?? setGlobalFilter,\n    onRowSelectionChange: onRowSelectionChange ?? setRowSelection,\n    onExpandedChange: onExpandedChange ?? setExpanded,\n    onGroupingChange: onGroupingChange ?? setGrouping,\n    onColumnVisibilityChange: onColumnVisibilityChange ?? setColumnVisibility,\n    onColumnOrderChange: onColumnOrderChange ?? setColumnOrder,\n    onColumnPinningChange: onColumnPinningChange ?? setColumnPinning,\n    onColumnSizingChange: onColumnSizingChange ?? setColumnSizing,\n    onRowPinningChange: onRowPinningChange ?? setRowPinning,\n    onPaginationChange: onPaginationChange ?? setPagination,\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: enableSorting && !manualSorting ? getSortedRowModel() : undefined,\n    getFilteredRowModel: (enableFiltering || enableGlobalFilter) && !manualFiltering ? getFilteredRowModel() : undefined,\n    getPaginationRowModel: enablePagination && !manualPagination ? getPaginationRowModel() : undefined,\n    getExpandedRowModel: enableExpanding || enableGrouping || getSubRows ? getExpandedRowModel() : undefined,\n    getGroupedRowModel: enableGrouping ? getGroupedRowModel() : undefined,\n    groupedColumnMode: enableGrouping ? groupedColumnMode : undefined,\n    getFacetedRowModel: enableFiltering ? getFacetedRowModel() : undefined,\n    getFacetedUniqueValues: enableFiltering ? getFacetedUniqueValues() : undefined,\n    getFacetedMinMaxValues: enableFiltering ? getFacetedMinMaxValues() : undefined,\n    filterFns: {\n      // Fuzzy filter function using match-sorter-utils\n      fuzzy: (row, columnId, filterValue, addMeta) => {\n        const itemRank = rankItem(String(row.getValue(columnId)), String(filterValue));\n        addMeta({ itemRank });\n        return itemRank.passed;\n      },\n      // Custom filter function for multi-select\n      multiSelect: (row, columnId, filterValue: string[]) => {\n        if (!filterValue || filterValue.length === 0) return true;\n        const value = String(row.getValue(columnId));\n        return filterValue.includes(value);\n      },\n      // Custom filter function for date range\n      dateRange: (row, columnId, filterValue: [string, string]) => {\n        if (!filterValue || (!filterValue[0] && !filterValue[1])) return true;\n        const value = row.getValue(columnId);\n        if (!value) return false;\n        const dateValue = new Date(value as string | number | Date);\n        const [startStr, endStr] = filterValue;\n        if (startStr) {\n          const startDate = new Date(startStr);\n          if (dateValue < startDate) return false;\n        }\n        if (endStr) {\n          const endDate = new Date(endStr);\n          endDate.setHours(23, 59, 59, 999);\n          if (dateValue > endDate) return false;\n        }\n        return true;\n      },\n      // Custom filter function for exact date match\n      dateExact: (row, columnId, filterValue: string) => {\n        if (!filterValue) return true;\n        const value = row.getValue(columnId);\n        if (!value) return false;\n        const dateValue = new Date(value as string | number | Date).toISOString().split('T')[0];\n        return dateValue === filterValue;\n      },\n    },\n    globalFilterFn: enableFuzzyFilter\n      ? (row, columnId, filterValue, addMeta) => {\n          const itemRank = rankItem(String(row.getValue(columnId)), String(filterValue));\n          addMeta({ itemRank });\n          return itemRank.passed;\n        }\n      : 'includesString',\n    enableRowSelection: getRowCanSelect\n      ? (row: Row<TData>) => getRowCanSelect(row.original)\n      : enableRowSelection,\n    enableMultiRowSelection: selectionMode === 'single' ? false : enableMultiRowSelection,\n    enableSubRowSelection,\n    enableSorting,\n    enableMultiSort,\n    enableColumnResizing,\n    columnResizeMode,\n    enableRowPinning,\n    keepPinnedRows,\n    manualSorting,\n    manualFiltering,\n    manualPagination,\n    rowCount,\n    getSubRows: getSubRows as any,\n    getRowCanExpand: (enableExpanding || getSubRows)\n      ? (row: Row<TData>) => (getSubRows ? (getSubRows(row.original)?.length ?? 0) > 0 : true)\n      : undefined,\n  });\n\n  // Virtualization\n  const { rows } = table.getRowModel();\n\n  const rowVirtualizer = useVirtualizer({\n    count: rows.length,\n    getScrollElement: () => virtualScrollElement,\n    estimateSize: () => estimateRowHeight,\n    overscan,\n    enabled: enableVirtualization && virtualScrollElement !== null,\n  });\n\n  const virtualRows = enableVirtualization ? rowVirtualizer.getVirtualItems() : null;\n  const totalSize = enableVirtualization ? rowVirtualizer.getTotalSize() : 0;\n\n  // Force virtualizer to re-measure when scroll element becomes available\n  useEffect(() => {\n    if (enableVirtualization && virtualScrollElement) {\n      // Small delay to ensure DOM has been laid out\n      const timer = setTimeout(() => {\n        rowVirtualizer.measure();\n      }, 0);\n      return () => clearTimeout(timer);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [enableVirtualization, virtualScrollElement]);\n\n  // Column virtualization\n  const visibleColumns = table.getVisibleLeafColumns();\n  const columnVirtualizer = useVirtualizer({\n    count: visibleColumns.length,\n    getScrollElement: () => virtualScrollElement,\n    estimateSize: (index) => visibleColumns[index]?.getSize() ?? estimateColumnWidth,\n    horizontal: true,\n    overscan,\n    enabled: enableColumnVirtualization && virtualScrollElement !== null,\n  });\n\n  // Note: Column virtualization is prepared but rendering integration is deferred\n  // Use columnVirtualizer.getVirtualItems() and columnVirtualizer.getTotalSize() when implementing column virtualized rendering\n\n  // Drag & Drop handlers for columns\n  const handleColumnDragStart = useCallback((event: DragStartEvent) => {\n    setActiveColumnId(event.active.id as string);\n  }, []);\n\n  const handleColumnDragEnd = useCallback((event: DragEndEvent) => {\n    const { active, over } = event;\n    setActiveColumnId(null);\n\n    if (over && active.id !== over.id) {\n      const oldIndex = columnOrder.indexOf(active.id as string);\n      const newIndex = columnOrder.indexOf(over.id as string);\n\n      if (oldIndex !== -1 && newIndex !== -1) {\n        const newOrder = arrayMove(columnOrder, oldIndex, newIndex);\n        setColumnOrder(newOrder);\n        onColumnOrderChange?.(newOrder);\n      }\n    }\n  }, [columnOrder, onColumnOrderChange]);\n\n  // Drag & Drop handlers for rows\n  const handleRowDragStart = useCallback((event: DragStartEvent) => {\n    setActiveRowId(event.active.id as string);\n  }, []);\n\n  const handleRowDragEnd = useCallback((event: DragEndEvent) => {\n    const { active, over } = event;\n    setActiveRowId(null);\n\n    if (over && active.id !== over.id) {\n      const oldIndex = rows.findIndex(row => row.id === active.id);\n      const newIndex = rows.findIndex(row => row.id === over.id);\n\n      if (oldIndex !== -1 && newIndex !== -1 && onRowOrderChange) {\n        const newData = arrayMove([...data], oldIndex, newIndex);\n        onRowOrderChange(oldIndex, newIndex, newData);\n      }\n    }\n  }, [rows, data, onRowOrderChange]);\n\n  // Get column IDs for sortable context\n  const columnIds = useMemo(() => {\n    if (!enableColumnDrag) return [];\n    return table.getVisibleLeafColumns()\n      .filter(col => !col.id.startsWith('_')) // Exclude special columns\n      .map(col => col.id);\n  }, [enableColumnDrag, table]);\n\n  // Get row IDs for sortable context\n  const rowIds = useMemo(() => {\n    if (!enableRowOrdering) return [];\n    return rows.map(row => row.id);\n  }, [enableRowOrdering, rows]);\n\n  // Get visible column IDs for clipboard operations\n  const visibleColumnIds = useMemo(() => {\n    return table.getVisibleLeafColumns()\n      .filter(col => !col.id.startsWith('_'))\n      .map(col => col.id);\n  }, [table]);\n\n  // Calculate selected cells from range\n  const calculateSelectedCells = useCallback((start: CellPosition | null, end: CellPosition | null): CellPosition[] => {\n    if (!start || !end) return [];\n\n    const minRowIndex = Math.min(start.rowIndex, end.rowIndex);\n    const maxRowIndex = Math.max(start.rowIndex, end.rowIndex);\n    const startColIndex = visibleColumnIds.indexOf(start.columnId);\n    const endColIndex = visibleColumnIds.indexOf(end.columnId);\n    const minColIndex = Math.min(startColIndex, endColIndex);\n    const maxColIndex = Math.max(startColIndex, endColIndex);\n\n    const cells: CellPosition[] = [];\n    for (let rowIndex = minRowIndex; rowIndex <= maxRowIndex; rowIndex++) {\n      for (let colIndex = minColIndex; colIndex <= maxColIndex; colIndex++) {\n        cells.push({\n          rowIndex,\n          columnId: visibleColumnIds[colIndex],\n        });\n      }\n    }\n    return cells;\n  }, [visibleColumnIds]);\n\n  // Check if a cell is selected\n  const isCellSelected = useCallback((rowIndex: number, columnId: string): boolean => {\n    return selectedCells.some(cell => cell.rowIndex === rowIndex && cell.columnId === columnId);\n  }, [selectedCells]);\n\n  // Handle cell mouse down for range selection\n  const handleCellMouseDown = useCallback((rowIndex: number, columnId: string, e: React.MouseEvent) => {\n    if (!enableRangeSelection || columnId.startsWith('_')) return;\n\n    // Only left click\n    if (e.button !== 0) return;\n\n    // Prevent text selection\n    e.preventDefault();\n\n    const position: CellPosition = { rowIndex, columnId };\n\n    if (e.shiftKey && rangeSelectionStart) {\n      // Extend selection with shift+click\n      setRangeSelectionEnd(position);\n      const cells = calculateSelectedCells(rangeSelectionStart, position);\n      setSelectedCells(cells);\n    } else {\n      // Start new selection\n      setRangeSelectionStart(position);\n      setRangeSelectionEnd(position);\n      setSelectedCells([position]);\n      setIsSelecting(true);\n    }\n  }, [enableRangeSelection, rangeSelectionStart, calculateSelectedCells]);\n\n  // Handle cell mouse enter for drag selection\n  const handleCellMouseEnter = useCallback((rowIndex: number, columnId: string) => {\n    if (!isSelecting || !rangeSelectionStart || columnId.startsWith('_')) return;\n\n    const position: CellPosition = { rowIndex, columnId };\n    setRangeSelectionEnd(position);\n    const cells = calculateSelectedCells(rangeSelectionStart, position);\n    setSelectedCells(cells);\n  }, [isSelecting, rangeSelectionStart, calculateSelectedCells]);\n\n  // Handle mouse up to end selection\n  useEffect(() => {\n    const handleMouseUp = () => {\n      setIsSelecting(false);\n    };\n\n    if (isSelecting) {\n      document.addEventListener('mouseup', handleMouseUp);\n      return () => document.removeEventListener('mouseup', handleMouseUp);\n    }\n  }, [isSelecting]);\n\n  // Get cell value as string\n  const getCellValueAsString = useCallback((rowIndex: number, columnId: string): string => {\n    const row = rows[rowIndex];\n    if (!row) return '';\n    const value = row.getValue(columnId);\n    if (value === null || value === undefined) return '';\n    if (typeof value === 'object') return JSON.stringify(value);\n    return String(value);\n  }, [rows]);\n\n  // Copy selected cells to clipboard\n  const handleCopyToClipboard = useCallback(async () => {\n    if (!enableClipboard) return;\n\n    let cellsToCopy: CellPosition[];\n\n    // If we have range-selected cells, use those\n    if (selectedCells.length > 0) {\n      cellsToCopy = selectedCells;\n    } else if (focusedCell !== null) {\n      // Otherwise use the focused cell\n      const columnId = visibleColumnIds[focusedCell.columnIndex];\n      if (columnId) {\n        cellsToCopy = [{ rowIndex: focusedCell.rowIndex, columnId }];\n      } else {\n        return;\n      }\n    } else {\n      return;\n    }\n\n    // Group cells by row\n    const rowMap = new Map<number, CellPosition[]>();\n    cellsToCopy.forEach(cell => {\n      const existing = rowMap.get(cell.rowIndex) || [];\n      existing.push(cell);\n      rowMap.set(cell.rowIndex, existing);\n    });\n\n    // Sort rows and columns\n    const sortedRowIndices = [...rowMap.keys()].sort((a, b) => a - b);\n\n    const dataRows: string[][] = [];\n    sortedRowIndices.forEach(rowIndex => {\n      const rowCells = rowMap.get(rowIndex) || [];\n      // Sort by column order\n      rowCells.sort((a, b) => visibleColumnIds.indexOf(a.columnId) - visibleColumnIds.indexOf(b.columnId));\n      dataRows.push(rowCells.map(cell => getCellValueAsString(cell.rowIndex, cell.columnId)));\n    });\n\n    // Create tab-separated text (Excel-compatible)\n    const text = dataRows.map(row => row.join('\\t')).join('\\n');\n\n    try {\n      await navigator.clipboard.writeText(text);\n      onCopy?.(dataRows, cellsToCopy);\n    } catch (err) {\n      console.error('Failed to copy to clipboard:', err);\n    }\n  }, [enableClipboard, selectedCells, focusedCell, visibleColumnIds, getCellValueAsString, onCopy]);\n\n  // Parse clipboard data\n  const parseClipboardData = useCallback((text: string): string[][] => {\n    const lines = text.split(/\\r?\\n/);\n    // Remove empty last line if exists (common in Excel copy)\n    if (lines.length > 0 && lines[lines.length - 1] === '') {\n      lines.pop();\n    }\n    return lines.map(line => line.split('\\t'));\n  }, []);\n\n  // Handle paste from clipboard\n  const handlePasteFromClipboard = useCallback(async () => {\n    if (!enableClipboard || !onPaste) return;\n\n    let startPosition: CellPosition | null = null;\n\n    // Determine start position\n    if (selectedCells.length > 0) {\n      // Use top-left of selection\n      const minRow = Math.min(...selectedCells.map(c => c.rowIndex));\n      const cellsInMinRow = selectedCells.filter(c => c.rowIndex === minRow);\n      const minColIndex = Math.min(...cellsInMinRow.map(c => visibleColumnIds.indexOf(c.columnId)));\n      startPosition = { rowIndex: minRow, columnId: visibleColumnIds[minColIndex] };\n    } else if (focusedCell !== null) {\n      const columnId = visibleColumnIds[focusedCell.columnIndex];\n      if (columnId) {\n        startPosition = { rowIndex: focusedCell.rowIndex, columnId };\n      }\n    }\n\n    if (!startPosition) return;\n\n    try {\n      const text = await navigator.clipboard.readText();\n      const data = parseClipboardData(text);\n      if (data.length > 0 && data[0].length > 0) {\n        onPaste(data, startPosition.rowIndex, startPosition.columnId);\n      }\n    } catch (err) {\n      console.error('Failed to read from clipboard:', err);\n    }\n  }, [enableClipboard, onPaste, selectedCells, focusedCell, visibleColumnIds, parseClipboardData]);\n\n  // Keyboard handler for clipboard\n  useEffect(() => {\n    if (!enableClipboard) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Check if we're inside the grid\n      if (!tableContainerRef.current?.contains(document.activeElement)) return;\n      // Don't intercept if editing\n      if (document.activeElement?.tagName === 'INPUT' || document.activeElement?.tagName === 'TEXTAREA') return;\n\n      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n      const modifier = isMac ? e.metaKey : e.ctrlKey;\n\n      if (modifier && e.key === 'c') {\n        e.preventDefault();\n        handleCopyToClipboard();\n      } else if (modifier && e.key === 'v') {\n        if (onPaste) {\n          e.preventDefault();\n          handlePasteFromClipboard();\n        }\n      } else if (e.key === 'Escape') {\n        // Clear selection on Escape\n        setSelectedCells([]);\n        setRangeSelectionStart(null);\n        setRangeSelectionEnd(null);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [enableClipboard, handleCopyToClipboard, handlePasteFromClipboard, onPaste]);\n\n  // Context menu handlers\n  const handleContextMenu = useCallback((\n    e: React.MouseEvent,\n    type: 'cell' | 'row' | 'header',\n    context: ContextMenuContext<TData>\n  ) => {\n    if (!enableContextMenu) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    let items: ContextMenuItem[];\n\n    if (type === 'cell') {\n      items = cellContextMenuItems || getDefaultCellMenuItems();\n    } else if (type === 'row') {\n      const row = rows.find(r => r.original === context.rowData);\n      const isSelected = row?.getIsSelected() || false;\n      items = rowContextMenuItems || getDefaultRowMenuItems(isSelected);\n    } else {\n      const column = table.getColumn(context.columnId || '');\n      const isPinned = column?.getIsPinned() || false;\n      items = headerContextMenuItems || getDefaultHeaderMenuItems(isPinned);\n    }\n\n    setContextMenu({\n      x: e.clientX,\n      y: e.clientY,\n      type,\n      context,\n      items,\n    });\n  }, [enableContextMenu, cellContextMenuItems, rowContextMenuItems, headerContextMenuItems, rows, table]);\n\n  const handleContextMenuAction = useCallback((actionId: string) => {\n    if (!contextMenu) return;\n\n    const { context, type } = contextMenu;\n\n    // Handle default actions\n    switch (actionId) {\n      case 'copy':\n        if (context.cellValue !== undefined) {\n          navigator.clipboard.writeText(String(context.cellValue));\n        }\n        break;\n      case 'select':\n        if (context.rowData) {\n          const row = rows.find(r => r.original === context.rowData);\n          row?.toggleSelected();\n        }\n        break;\n      case 'expand':\n        if (context.rowData) {\n          const row = rows.find(r => r.original === context.rowData);\n          row?.toggleExpanded();\n        }\n        break;\n      case 'pin-top':\n        if (context.rowData) {\n          const row = rows.find(r => r.original === context.rowData);\n          row?.pin('top');\n        }\n        break;\n      case 'pin-bottom':\n        if (context.rowData) {\n          const row = rows.find(r => r.original === context.rowData);\n          row?.pin('bottom');\n        }\n        break;\n      case 'unpin':\n        if (context.rowData) {\n          const row = rows.find(r => r.original === context.rowData);\n          row?.pin(false);\n        }\n        break;\n      case 'sort-asc':\n        if (context.columnId) {\n          const column = table.getColumn(context.columnId);\n          column?.toggleSorting(false);\n        }\n        break;\n      case 'sort-desc':\n        if (context.columnId) {\n          const column = table.getColumn(context.columnId);\n          column?.toggleSorting(true);\n        }\n        break;\n      case 'sort-clear':\n        if (context.columnId) {\n          const column = table.getColumn(context.columnId);\n          column?.clearSorting();\n        }\n        break;\n      case 'pin-left':\n        if (context.columnId) {\n          const column = table.getColumn(context.columnId);\n          column?.pin('left');\n        }\n        break;\n      case 'pin-right':\n        if (context.columnId) {\n          const column = table.getColumn(context.columnId);\n          column?.pin('right');\n        }\n        break;\n      case 'hide':\n        if (context.columnId) {\n          const column = table.getColumn(context.columnId);\n          column?.toggleVisibility(false);\n        }\n        break;\n    }\n\n    // Call custom handler\n    onContextMenuAction?.(actionId, context);\n  }, [contextMenu, rows, table, onContextMenuAction]);\n\n  const closeContextMenu = useCallback(() => {\n    setContextMenu(null);\n  }, []);\n\n  // Keyboard navigation handler\n  const handleTableKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (!enableKeyboardNavigation || !focusedCell) return;\n\n    const visibleColumns = table.getVisibleLeafColumns();\n    const totalColumns = visibleColumns.length;\n    const totalRows = rows.length;\n\n    let { rowIndex, columnIndex } = focusedCell;\n    let handled = false;\n\n    switch (e.key) {\n      case 'ArrowUp':\n        if (rowIndex > 0) {\n          rowIndex--;\n          handled = true;\n        }\n        break;\n      case 'ArrowDown':\n        if (rowIndex < totalRows - 1) {\n          rowIndex++;\n          handled = true;\n        }\n        break;\n      case 'ArrowLeft':\n        if (columnIndex > 0) {\n          columnIndex--;\n          handled = true;\n        }\n        break;\n      case 'ArrowRight':\n        if (columnIndex < totalColumns - 1) {\n          columnIndex++;\n          handled = true;\n        }\n        break;\n      case 'Tab':\n        if (e.shiftKey) {\n          if (columnIndex > 0) {\n            columnIndex--;\n          } else if (rowIndex > 0) {\n            rowIndex--;\n            columnIndex = totalColumns - 1;\n          }\n        } else {\n          if (columnIndex < totalColumns - 1) {\n            columnIndex++;\n          } else if (rowIndex < totalRows - 1) {\n            rowIndex++;\n            columnIndex = 0;\n          }\n        }\n        handled = true;\n        break;\n      case 'Home':\n        if (e.ctrlKey) {\n          rowIndex = 0;\n          columnIndex = 0;\n        } else {\n          columnIndex = 0;\n        }\n        handled = true;\n        break;\n      case 'End':\n        if (e.ctrlKey) {\n          rowIndex = totalRows - 1;\n          columnIndex = totalColumns - 1;\n        } else {\n          columnIndex = totalColumns - 1;\n        }\n        handled = true;\n        break;\n      case 'Enter':\n        if (enableCellEditing) {\n          // Focus the editable cell\n          const cell = tableContainerRef.current?.querySelector(\n            `[data-row-index=\"${rowIndex}\"][data-column-index=\"${columnIndex}\"]`\n          );\n          if (cell) {\n            const editable = cell.querySelector('.editableCell') as HTMLElement;\n            if (editable) {\n              editable.dispatchEvent(new MouseEvent('dblclick', { bubbles: true }));\n              handled = true;\n            }\n          }\n        }\n        break;\n      case ' ':\n        if (enableRowSelection) {\n          const row = rows[rowIndex];\n          if (row && row.getCanSelect()) {\n            row.toggleSelected();\n            handled = true;\n          }\n        }\n        break;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      setFocusedCell({ rowIndex, columnIndex });\n    }\n  }, [enableKeyboardNavigation, focusedCell, table, rows, enableCellEditing, enableRowSelection]);\n\n  // Update focus styling via DOM manipulation (avoids re-rendering all rows)\n  useEffect(() => {\n    const container = tableContainerRef.current;\n    if (!container) return;\n\n    // Remove focus from previous cell\n    const prevFocused = focusedCellRef.current;\n    if (prevFocused) {\n      const prevCell = container.querySelector(\n        `td[data-row-index=\"${prevFocused.rowIndex}\"][data-column-index=\"${prevFocused.columnIndex}\"]`\n      );\n      if (prevCell) {\n        prevCell.classList.remove(styles.focusedCell);\n      }\n    }\n\n    // Add focus to new cell\n    if (focusedCell) {\n      const newCell = container.querySelector(\n        `td[data-row-index=\"${focusedCell.rowIndex}\"][data-column-index=\"${focusedCell.columnIndex}\"]`\n      );\n      if (newCell) {\n        newCell.classList.add(styles.focusedCell);\n      }\n    }\n\n    // Update ref\n    focusedCellRef.current = focusedCell;\n  }, [focusedCell]);\n\n  // Helper function to get export data\n  const getExportDataFn = useCallback((options: ExportOptions = {}) => {\n    const {\n      selectedOnly = false,\n      includeHeaders = true,\n      headerMap = {},\n      excludeColumns = [],\n    } = options;\n\n    // Get columns (exclude internal columns and specified exclusions)\n    const exportColumns = table\n      .getAllLeafColumns()\n      .filter((col) =>\n        col.id !== '_select' &&\n        col.id !== '_expand' &&\n        col.id !== '_dragHandle' &&\n        !excludeColumns.includes(col.id)\n      );\n\n    // Get headers\n    const headers = exportColumns.map((col) => headerMap[col.id] || col.id);\n\n    // Get rows\n    const rowsToExport = selectedOnly && Object.keys(table.getState().rowSelection).length > 0\n      ? table.getSelectedRowModel().rows\n      : table.getFilteredRowModel().rows;\n\n    // Get data\n    const data = rowsToExport.map((row) =>\n      exportColumns.map((col) => {\n        const value = row.getValue(col.id);\n        return value;\n      })\n    );\n\n    return { headers, data };\n  }, [table]);\n\n  // Helper function to download file\n  const downloadFile = useCallback((content: string, filename: string, mimeType: string) => {\n    const blob = new Blob([content], { type: mimeType });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    a.click();\n    URL.revokeObjectURL(url);\n  }, []);\n\n  // Escape CSV value\n  const escapeCSV = useCallback((value: unknown): string => {\n    const str = value === null || value === undefined ? '' : String(value);\n    // Escape if contains comma, quote, or newline\n    if (str.includes(',') || str.includes('\"') || str.includes('\\n') || str.includes('\\r')) {\n      return `\"${str.replace(/\"/g, '\"\"')}\"`;\n    }\n    return str;\n  }, []);\n\n  // Ref methods\n  useImperativeHandle(ref, () => ({\n    getTable: () => table,\n    getSelectedRows: () => table.getSelectedRowModel().rows.map((row) => row.original),\n    clearSelection: () => table.resetRowSelection(),\n    resetFilters: () => {\n      table.resetColumnFilters();\n      table.resetGlobalFilter();\n    },\n    resetSorting: () => table.resetSorting(),\n\n    // Get export data\n    getExportData: (options?: ExportOptions) => getExportDataFn(options || {}),\n\n    // Export to CSV\n    exportToCSV: (filename = 'export.csv', options?: ExportOptions) => {\n      const { headers, data } = getExportDataFn(options || {});\n      const includeHeaders = options?.includeHeaders !== false;\n\n      const csvRows: string[] = [];\n      if (includeHeaders) {\n        csvRows.push(headers.map(h => escapeCSV(h)).join(','));\n      }\n      data.forEach(row => {\n        csvRows.push(row.map(cell => escapeCSV(cell)).join(','));\n      });\n\n      downloadFile(csvRows.join('\\n'), filename, 'text/csv;charset=utf-8');\n    },\n\n    // Export to TSV\n    exportToTSV: (filename = 'export.tsv', options?: ExportOptions) => {\n      const { headers, data } = getExportDataFn(options || {});\n      const includeHeaders = options?.includeHeaders !== false;\n\n      const tsvRows: string[] = [];\n      if (includeHeaders) {\n        tsvRows.push(headers.join('\\t'));\n      }\n      data.forEach(row => {\n        tsvRows.push(row.map(cell =>\n          cell === null || cell === undefined ? '' : String(cell).replace(/\\t/g, ' ')\n        ).join('\\t'));\n      });\n\n      downloadFile(tsvRows.join('\\n'), filename, 'text/tab-separated-values;charset=utf-8');\n    },\n\n    // Export to JSON\n    exportToJSON: (filename = 'export.json', options?: ExportOptions) => {\n      const { headers, data } = getExportDataFn(options || {});\n\n      // Convert to array of objects\n      const jsonData = data.map(row => {\n        const obj: Record<string, unknown> = {};\n        headers.forEach((header, index) => {\n          obj[header] = row[index];\n        });\n        return obj;\n      });\n\n      downloadFile(JSON.stringify(jsonData, null, 2), filename, 'application/json;charset=utf-8');\n    },\n\n    // Export to Excel (requires xlsx library to be installed)\n    exportToExcel: async (filename = 'export.xlsx', options?: ExportOptions) => {\n      const { headers, data } = getExportDataFn(options || {});\n      const includeHeaders = options?.includeHeaders !== false;\n\n      try {\n        // Dynamic import of xlsx - eslint-disable to allow dynamic require\n        const XLSX = await import(/* @vite-ignore */ 'xlsx') as {\n          utils: {\n            aoa_to_sheet: (data: unknown[][]) => unknown;\n            book_new: () => unknown;\n            book_append_sheet: (wb: unknown, ws: unknown, name: string) => void;\n          };\n          writeFile: (wb: unknown, filename: string) => void;\n        };\n\n        // Create worksheet data\n        const wsData: unknown[][] = [];\n        if (includeHeaders) {\n          wsData.push(headers);\n        }\n        wsData.push(...data);\n\n        // Create worksheet\n        const ws = XLSX.utils.aoa_to_sheet(wsData);\n\n        // Create workbook\n        const wb = XLSX.utils.book_new();\n        XLSX.utils.book_append_sheet(wb, ws, 'Data');\n\n        // Write file\n        XLSX.writeFile(wb, filename);\n      } catch (err) {\n        const errorMessage = err instanceof Error ? err.message : String(err);\n        const isModuleNotFound = errorMessage.includes('Cannot find module') ||\n                                  errorMessage.includes('Failed to resolve') ||\n                                  errorMessage.includes('is not defined');\n\n        if (isModuleNotFound) {\n          console.error('Excel export failed: xlsx package is not installed');\n          throw new Error('Excel export requires xlsx package. Install it with: npm install xlsx');\n        }\n\n        console.error('Excel export failed:', err);\n        throw new Error(`Excel export failed: ${errorMessage}`);\n      }\n    },\n\n    scrollToRow: (index: number) => {\n      if (enableVirtualization) {\n        rowVirtualizer.scrollToIndex(index);\n      } else if (tableContainerRef.current) {\n        const row = tableContainerRef.current.querySelector(`[data-row-index=\"${index}\"]`);\n        row?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    },\n    copyToClipboard: () => {\n      handleCopyToClipboard();\n    },\n    getSelectedRange: () => selectedCells,\n    clearCellSelection: () => {\n      setSelectedCells([]);\n      setRangeSelectionStart(null);\n      setRangeSelectionEnd(null);\n    },\n  }));\n\n  // Render header cell\n  const renderHeaderCell = useCallback((header: Header<TData, unknown>) => {\n    const canSort = header.column.getCanSort();\n    const sorted = header.column.getIsSorted();\n    const canFilter = header.column.getCanFilter();\n    const canPin = header.column.getCanPin();\n    const isPinned = header.column.getIsPinned();\n    const canResize = header.column.getCanResize();\n    const align = (header.column.columnDef.meta as any)?.align ?? 'left';\n\n    return (\n      <th\n        key={header.id}\n        colSpan={header.colSpan}\n        className={`${styles.th} ${styles[`align${align.charAt(0).toUpperCase() + align.slice(1)}`]} ${\n          isPinned ? styles[`pinned${String(isPinned).charAt(0).toUpperCase() + String(isPinned).slice(1)}`] : ''\n        }`}\n        style={{\n          width: header.getSize(),\n          left: isPinned === 'left' ? header.getStart('left') : undefined,\n          right: isPinned === 'right' ? header.getStart('right') : undefined,\n        }}\n        onContextMenu={(e) => handleContextMenu(e, 'header', { type: 'header', columnId: header.id })}\n      >\n        {header.isPlaceholder ? null : (\n          <div className={styles.thContent}>\n            <div\n              className={`${styles.thLabel} ${canSort ? styles.sortable : ''}`}\n              onClick={canSort ? header.column.getToggleSortingHandler() : undefined}\n            >\n              {flexRender(header.column.columnDef.header, header.getContext())}\n              {canSort && (\n                <span className={styles.sortIcon}>\n                  {sorted === 'asc' ? (\n                    <ChevronUp size={14} />\n                  ) : sorted === 'desc' ? (\n                    <ChevronDown size={14} />\n                  ) : (\n                    <ChevronsUpDown size={14} />\n                  )}\n                </span>\n              )}\n            </div>\n            {canPin && enableColumnPinning && (\n              <button\n                className={styles.pinButton}\n                onClick={() => {\n                  if (isPinned) {\n                    header.column.pin(false);\n                  } else {\n                    header.column.pin('left');\n                  }\n                }}\n                title={isPinned ? 'Unpin column' : 'Pin column'}\n              >\n                {isPinned ? <PinOff size={12} /> : <Pin size={12} />}\n              </button>\n            )}\n            {canResize && (\n              <div\n                className={`${styles.resizer} ${\n                  header.column.getIsResizing() ? styles.resizing : ''\n                }`}\n                onMouseDown={header.getResizeHandler()}\n                onTouchStart={header.getResizeHandler()}\n              />\n            )}\n          </div>\n        )}\n        {canFilter && enableFiltering && (\n          <div className={styles.thFilter}>\n            <ColumnFilter column={header.column} table={table} />\n          </div>\n        )}\n      </th>\n    );\n  }, [table, enableColumnPinning, enableFiltering]);\n\n  // Render row\n  const renderRow = useCallback((row: Row<TData>, virtualRow?: { index: number; start: number; size: number }) => {\n    const isSelected = row.getIsSelected();\n    const isExpanded = row.getIsExpanded();\n    const isGrouped = row.getIsGrouped();\n    const isPinnedRow = row.getIsPinned();\n\n    const rowContent = (\n      <>\n        {/* Drag handle cell for row ordering */}\n        {enableRowOrdering && (\n          <RowDragHandle rowId={row.id} />\n        )}\n        {row.getVisibleCells().map((cell, cellIndex) => {\n          const isPinned = cell.column.getIsPinned();\n          const align = (cell.column.columnDef.meta as any)?.align ?? 'left';\n          // Focus styling is handled via DOM manipulation in useEffect (performance optimization)\n          const isCellInRange = enableRangeSelection && isCellSelected(row.index, cell.column.id);\n\n          return (\n            <td\n              key={cell.id}\n              className={`${styles.td} ${styles[`align${align.charAt(0).toUpperCase() + align.slice(1)}`]} ${\n                isPinned ? styles[`pinned${String(isPinned).charAt(0).toUpperCase() + String(isPinned).slice(1)}`] : ''\n              } ${isCellInRange ? styles.selectedCell : ''}`}\n              style={{\n                width: cell.column.getSize(),\n                left: isPinned === 'left' ? cell.column.getStart('left') : undefined,\n                right: isPinned === 'right' ? cell.column.getStart('right') : undefined,\n              }}\n              data-row-index={row.index}\n              data-column-index={cellIndex}\n              onContextMenu={(e) => handleContextMenu(e, 'cell', {\n                type: 'cell',\n                rowData: row.original,\n                rowIndex: row.index,\n                columnId: cell.column.id,\n                cellValue: cell.getValue(),\n              })}\n              onMouseDown={(e) => handleCellMouseDown(row.index, cell.column.id, e)}\n              onMouseEnter={() => handleCellMouseEnter(row.index, cell.column.id)}\n            >\n              {cell.getIsGrouped() ? (\n                <button\n                  className={styles.groupToggle}\n                  onClick={row.getToggleExpandedHandler()}\n                >\n                  {row.getIsExpanded() ? <ChevronDown size={14} /> : <ChevronRight size={14} />}\n                  {flexRender(cell.column.columnDef.cell, cell.getContext())} ({row.subRows.length})\n                </button>\n              ) : cell.getIsAggregated() ? (\n                flexRender(\n                  cell.column.columnDef.aggregatedCell ?? cell.column.columnDef.cell,\n                  cell.getContext()\n                )\n              ) : cell.getIsPlaceholder() ? null : (\n                flexRender(cell.column.columnDef.cell, cell.getContext())\n              )}\n            </td>\n          );\n        })}\n      </>\n    );\n\n    // Use SortableRow if row ordering is enabled\n    if (enableRowOrdering) {\n      return (\n        <React.Fragment key={row.id}>\n          <SortableRow\n            id={row.id}\n            className={`${styles.tr} ${styles.row} ${isSelected ? styles.selected : ''} ${\n              isGrouped ? styles.grouped : ''\n            } ${striped ? styles.striped : ''} ${hoverable ? styles.hoverable : ''} ${\n              isPinnedRow ? styles.pinnedRow : ''\n            } ${isPinnedRow === 'top' ? styles.pinnedRowTop : ''} ${isPinnedRow === 'bottom' ? styles.pinnedRowBottom : ''}`}\n            data-row-index={row.index}\n            onClick={() => onRowClick?.(row.original)}\n            onDoubleClick={() => onRowDoubleClick?.(row.original)}\n            style={\n              virtualRow\n                ? {\n                    height: `${virtualRow.size}px`,\n                    transform: `translateY(${virtualRow.start}px)`,\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    display: 'flex',\n                  }\n                : undefined\n            }\n          >\n            {rowContent}\n          </SortableRow>\n          {/* Expanded content */}\n          {isExpanded && renderExpandedRow && !isGrouped && (\n            <tr className={styles.expandedRow}>\n              <td colSpan={row.getVisibleCells().length + (enableRowOrdering ? 1 : 0)}>\n                {renderExpandedRow(row.original)}\n              </td>\n            </tr>\n          )}\n        </React.Fragment>\n      );\n    }\n\n    return (\n      <React.Fragment key={row.id}>\n        <tr\n          className={`${styles.tr} ${styles.row} ${isSelected ? styles.selected : ''} ${\n            isGrouped ? styles.grouped : ''\n          } ${striped ? styles.striped : ''} ${hoverable ? styles.hoverable : ''} ${\n            isPinnedRow ? styles.pinnedRow : ''\n          } ${isPinnedRow === 'top' ? styles.pinnedRowTop : ''} ${isPinnedRow === 'bottom' ? styles.pinnedRowBottom : ''}`}\n          data-row-index={row.index}\n          onClick={() => onRowClick?.(row.original)}\n          onDoubleClick={() => onRowDoubleClick?.(row.original)}\n          style={\n            virtualRow\n              ? {\n                  height: `${virtualRow.size}px`,\n                  transform: `translateY(${virtualRow.start}px)`,\n                  position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  width: '100%',\n                  display: 'flex',\n                }\n              : undefined\n          }\n        >\n          {row.getVisibleCells().map((cell, cellIndex) => {\n            const isPinned = cell.column.getIsPinned();\n            const align = (cell.column.columnDef.meta as any)?.align ?? 'left';\n            // Focus styling is handled via DOM manipulation in useEffect (performance optimization)\n            const isCellInRange = enableRangeSelection && isCellSelected(row.index, cell.column.id);\n\n            return (\n              <td\n                key={cell.id}\n                className={`${styles.td} ${styles[`align${align.charAt(0).toUpperCase() + align.slice(1)}`]} ${\n                  isPinned ? styles[`pinned${String(isPinned).charAt(0).toUpperCase() + String(isPinned).slice(1)}`] : ''\n                } ${isCellInRange ? styles.selectedCell : ''}`}\n                style={{\n                  width: cell.column.getSize(),\n                  left: isPinned === 'left' ? cell.column.getStart('left') : undefined,\n                  right: isPinned === 'right' ? cell.column.getStart('right') : undefined,\n                }}\n                data-row-index={row.index}\n                data-column-index={cellIndex}\n                onMouseDown={(e) => handleCellMouseDown(row.index, cell.column.id, e)}\n                onMouseEnter={() => handleCellMouseEnter(row.index, cell.column.id)}\n              >\n                {cell.getIsGrouped() ? (\n                  <button\n                    className={styles.groupToggle}\n                    onClick={row.getToggleExpandedHandler()}\n                  >\n                    {row.getIsExpanded() ? <ChevronDown size={14} /> : <ChevronRight size={14} />}\n                    {flexRender(cell.column.columnDef.cell, cell.getContext())} ({row.subRows.length})\n                  </button>\n                ) : cell.getIsAggregated() ? (\n                  flexRender(\n                    cell.column.columnDef.aggregatedCell ?? cell.column.columnDef.cell,\n                    cell.getContext()\n                  )\n                ) : cell.getIsPlaceholder() ? null : (\n                  flexRender(cell.column.columnDef.cell, cell.getContext())\n                )}\n              </td>\n            );\n          })}\n        </tr>\n        {isExpanded && renderExpandedRow && (\n          <tr className={styles.expandedRow}>\n            <td colSpan={row.getVisibleCells().length} className={styles.expandedCell}>\n              {renderExpandedRow(row.original)}\n            </td>\n          </tr>\n        )}\n      </React.Fragment>\n    );\n  }, [onRowClick, onRowDoubleClick, striped, hoverable, renderExpandedRow, enableRangeSelection, isCellSelected, handleCellMouseDown, handleCellMouseEnter, enableRowOrdering, handleContextMenu]);\n\n  // Render pagination\n  const renderPagination = useCallback(() => {\n    const pageCount = table.getPageCount();\n    const pageIndex = table.getState().pagination.pageIndex;\n    const pageSize = table.getState().pagination.pageSize;\n    const totalRows = manualPagination ? (rowCount ?? 0) : table.getFilteredRowModel().rows.length;\n    const start = pageIndex * pageSize + 1;\n    const end = Math.min((pageIndex + 1) * pageSize, totalRows);\n\n    return (\n      <div className={styles.pagination}>\n        <div className={styles.paginationInfo}>\n          Showing {start} to {end} of {totalRows} entries\n          {enableRowSelection && Object.keys(rowSelectionProp ?? rowSelection).length > 0 && (\n            <span className={styles.selectionInfo}>\n              ({Object.keys(rowSelectionProp ?? rowSelection).length} selected)\n            </span>\n          )}\n        </div>\n        <div className={styles.paginationControls}>\n          <select\n            value={pageSize}\n            onChange={(e) => table.setPageSize(Number(e.target.value))}\n            className={styles.pageSizeSelect}\n          >\n            {pageSizeOptions.map((size) => (\n              <option key={size} value={size}>\n                {size} / page\n              </option>\n            ))}\n          </select>\n          <div className={styles.paginationButtons}>\n            <button\n              className={styles.paginationButton}\n              onClick={() => table.setPageIndex(0)}\n              disabled={!table.getCanPreviousPage()}\n            >\n              <ChevronsLeft size={16} />\n            </button>\n            <button\n              className={styles.paginationButton}\n              onClick={() => table.previousPage()}\n              disabled={!table.getCanPreviousPage()}\n            >\n              <ChevronLeft size={16} />\n            </button>\n            <span className={styles.pageInfo}>\n              Page {pageIndex + 1} of {pageCount}\n            </span>\n            <button\n              className={styles.paginationButton}\n              onClick={() => table.nextPage()}\n              disabled={!table.getCanNextPage()}\n            >\n              <ChevronRight size={16} />\n            </button>\n            <button\n              className={styles.paginationButton}\n              onClick={() => table.setPageIndex(pageCount - 1)}\n              disabled={!table.getCanNextPage()}\n            >\n              <ChevronsRight size={16} />\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }, [table, manualPagination, rowCount, pageSizeOptions, enableRowSelection, rowSelectionProp, rowSelection]);\n\n  // Class names\n  const containerClass = useMemo(() => {\n    return [\n      styles.dataGrid,\n      bordered && styles.bordered,\n      compact && styles.compact,\n      className,\n    ]\n      .filter(Boolean)\n      .join(' ');\n  }, [bordered, compact, className]);\n\n  return (\n    <div className={containerClass} style={style}>\n      {/* Toolbar */}\n      {showToolbar && (\n        <div className={styles.toolbar}>\n          {enableGlobalFilter && (\n            <div className={styles.globalSearch}>\n              <Search size={16} className={styles.searchIcon} />\n              <input\n                type=\"text\"\n                value={globalFilterProp ?? globalFilter}\n                onChange={(e) => (onGlobalFilterChange ?? setGlobalFilter)(e.target.value)}\n                placeholder=\"Search all columns...\"\n                className={styles.globalSearchInput}\n              />\n              {(globalFilterProp ?? globalFilter) && (\n                <button\n                  className={styles.clearSearch}\n                  onClick={() => (onGlobalFilterChange ?? setGlobalFilter)('')}\n                >\n                  <X size={14} />\n                </button>\n              )}\n            </div>\n          )}\n          <div className={styles.toolbarActions}>\n            {toolbarContent}\n            {enableExpandAll && (enableExpanding || getSubRows) && (\n              <>\n                <button\n                  className={styles.toolbarButton}\n                  onClick={() => table.toggleAllRowsExpanded(true)}\n                  title=\"Expand all rows\"\n                >\n                  <Expand size={16} />\n                </button>\n                <button\n                  className={styles.toolbarButton}\n                  onClick={() => table.toggleAllRowsExpanded(false)}\n                  title=\"Collapse all rows\"\n                >\n                  <Shrink size={16} />\n                </button>\n              </>\n            )}\n            {enableVirtualization && virtualPageSizeOptions.length > 0 && (\n              <div className={styles.virtualPageSizeSelector}>\n                <span className={styles.virtualPageSizeLabel}>Rows:</span>\n                <select\n                  value={effectiveVirtualPageSize}\n                  onChange={(e) => handleVirtualPageSizeChange(Number(e.target.value))}\n                  className={styles.virtualPageSizeSelect}\n                >\n                  {virtualPageSizeOptions.map((size) => (\n                    <option key={size} value={size}>\n                      {size}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            )}\n            {enableColumnVisibility && <ColumnVisibilityDropdown table={table} />}\n          </div>\n        </div>\n      )}\n\n      {/* Table Container */}\n      <div\n        ref={enableVirtualization ? undefined : tableContainerRef}\n        className={styles.tableContainer}\n        style={{ height: typeof height === 'number' ? `${height}px` : height }}\n        tabIndex={enableKeyboardNavigation ? 0 : undefined}\n        onKeyDown={enableKeyboardNavigation ? handleTableKeyDown : undefined}\n        onClick={(e) => {\n          if (!enableKeyboardNavigation) return;\n          const target = e.target as HTMLElement;\n          const cell = target.closest('td, [role=\"gridcell\"]');\n          if (cell) {\n            const rowIndex = parseInt(cell.getAttribute('data-row-index') || '0', 10);\n            const columnIndex = parseInt(cell.getAttribute('data-column-index') || '0', 10);\n            setFocusedCell({ rowIndex, columnIndex });\n          }\n        }}\n      >\n        {loading && (\n          <div className={styles.loadingOverlay}>\n            <div className={styles.spinner} />\n          </div>\n        )}\n\n        {/* Column Drag Context */}\n        <DndContext\n          sensors={sensors}\n          collisionDetection={closestCenter}\n          onDragStart={enableColumnDrag ? handleColumnDragStart : undefined}\n          onDragEnd={enableColumnDrag ? handleColumnDragEnd : undefined}\n        >\n          {/* Row Drag Context - nested inside Column context */}\n          <DndContext\n            sensors={sensors}\n            collisionDetection={closestCenter}\n            onDragStart={enableRowOrdering ? handleRowDragStart : undefined}\n            onDragEnd={enableRowOrdering ? handleRowDragEnd : undefined}\n          >\n            {/* Virtualized Grid - div-based rendering for performance */}\n            {enableVirtualization ? (\n              <div className={styles.virtualGrid} role=\"grid\">\n                {/* Virtualized Header - sticky outside scroll area */}\n                {showHeader && (\n                  <div className={styles.virtualHeader} role=\"rowgroup\">\n                    {table.getHeaderGroups().map((headerGroup) => (\n                      <div key={headerGroup.id} className={styles.virtualHeaderRow} role=\"row\">\n                        {headerGroup.headers.map((header, headerIndex, headers) => {\n                          const canSort = header.column.getCanSort();\n                          const sorted = header.column.getIsSorted();\n                          const align = (header.column.columnDef.meta as any)?.align ?? 'left';\n                          const isLastColumn = headerIndex === headers.length - 1;\n\n                          return (\n                            <div\n                              key={header.id}\n                              className={`${styles.virtualHeaderCell} ${styles[`align${align.charAt(0).toUpperCase() + align.slice(1)}`]}`}\n                              style={{\n                                minWidth: header.getSize(),\n                                flex: isLastColumn ? '1 0 auto' : `0 0 ${header.getSize()}px`,\n                              }}\n                              role=\"columnheader\"\n                            >\n                              {header.isPlaceholder ? null : (\n                                <div className={styles.thContent}>\n                                  <div\n                                    className={`${styles.thLabel} ${canSort ? styles.sortable : ''}`}\n                                    onClick={canSort ? header.column.getToggleSortingHandler() : undefined}\n                                  >\n                                    {flexRender(header.column.columnDef.header, header.getContext())}\n                                    {canSort && (\n                                      <span className={styles.sortIcon}>\n                                        {sorted === 'asc' ? (\n                                          <ChevronUp size={14} />\n                                        ) : sorted === 'desc' ? (\n                                          <ChevronDown size={14} />\n                                        ) : (\n                                          <ChevronsUpDown size={14} />\n                                        )}\n                                      </span>\n                                    )}\n                                  </div>\n                                </div>\n                              )}\n                            </div>\n                          );\n                        })}\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Virtualized Body - scrollable container */}\n                <div\n                  ref={handleVirtualScrollRef}\n                  className={styles.virtualScrollContainer}\n                  style={{ height: typeof height === 'number' ? `${height - 48}px` : `calc(${height} - 48px)` }}\n                >\n                  <div\n                    className={styles.virtualBody}\n                    style={{ height: `${totalSize}px` }}\n                    role=\"rowgroup\"\n                  >\n                    {rows.length === 0 ? (\n                      <div className={styles.virtualEmptyRow}>\n                        {renderEmpty ? renderEmpty() : (\n                          <div className={styles.emptyState}>\n                            <Filter size={48} className={styles.emptyIcon} />\n                            <p>{emptyMessage}</p>\n                          </div>\n                        )}\n                      </div>\n                    ) : virtualRows?.map((virtualRow) => {\n                      const row = rows[virtualRow.index];\n                      const isSelected = row.getIsSelected();\n\n                      return (\n                        <div\n                          key={row.id}\n                          className={`${styles.virtualRow} ${isSelected ? styles.selected : ''} ${striped ? styles.striped : ''} ${hoverable ? styles.hoverable : ''}`}\n                          style={{\n                            height: `${virtualRow.size}px`,\n                            transform: `translateY(${virtualRow.start}px)`,\n                          }}\n                          role=\"row\"\n                          data-row-index={row.index}\n                          onClick={() => onRowClick?.(row.original)}\n                          onDoubleClick={() => onRowDoubleClick?.(row.original)}\n                        >\n                          {row.getVisibleCells().map((cell, cellIndex, cells) => {\n                            const align = (cell.column.columnDef.meta as any)?.align ?? 'left';\n                            const isLastColumn = cellIndex === cells.length - 1;\n\n                            return (\n                              <div\n                                key={cell.id}\n                                className={`${styles.virtualCell} ${styles[`align${align.charAt(0).toUpperCase() + align.slice(1)}`]}`}\n                                style={{\n                                  minWidth: cell.column.getSize(),\n                                  flex: isLastColumn ? '1 0 auto' : `0 0 ${cell.column.getSize()}px`,\n                                }}\n                                role=\"gridcell\"\n                                data-row-index={row.index}\n                                data-column-index={cellIndex}\n                              >\n                                {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                              </div>\n                            );\n                          })}\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              /* Standard Table - native table elements for accessibility and proper layout */\n              <table className={styles.table}>\n                {showHeader && (\n                  <thead className={styles.thead}>\n                    {table.getHeaderGroups().map((headerGroup) => (\n                      <tr key={headerGroup.id} className={styles.headerRow}>\n                        {/* Drag handle column header for row ordering */}\n                        {enableRowOrdering && (\n                          <th className={`${styles.th} ${styles.dragHandleHeader}`} style={{ width: 40 }}>\n                            <GripVertical size={16} />\n                          </th>\n                        )}\n                        <SortableContext items={columnIds} strategy={horizontalListSortingStrategy}>\n                          {headerGroup.headers.map((header) => {\n                            const isSpecialColumn = header.id.startsWith('_');\n                            return enableColumnDrag && !isSpecialColumn ? (\n                              <th\n                                key={header.id}\n                                className={styles.th}\n                                style={{ width: header.getSize() }}\n                              >\n                                <DraggableHeaderCell id={header.id}>\n                                  {renderHeaderCell(header)}\n                                </DraggableHeaderCell>\n                              </th>\n                            ) : (\n                              renderHeaderCell(header)\n                            );\n                          })}\n                        </SortableContext>\n                      </tr>\n                    ))}\n                  </thead>\n                )}\n\n                <tbody className={styles.tbody}>\n                  {rows.length === 0 ? (\n                    <tr className={styles.emptyRow}>\n                      <td colSpan={table.getAllLeafColumns().length + (enableRowOrdering ? 1 : 0)} className={styles.emptyCell}>\n                        {renderEmpty ? renderEmpty() : (\n                          <div className={styles.emptyState}>\n                            <Filter size={48} className={styles.emptyIcon} />\n                            <p>{emptyMessage}</p>\n                          </div>\n                        )}\n                      </td>\n                    </tr>\n                  ) : enableRowOrdering ? (\n                    <SortableContext items={rowIds} strategy={verticalListSortingStrategy}>\n                      {rows.map((row) => renderRow(row))}\n                    </SortableContext>\n                  ) : (\n                    rows.map((row) => renderRow(row))\n                  )}\n                </tbody>\n\n                {showFooter && (\n                  <tfoot className={styles.tfoot}>\n                    {table.getFooterGroups().map((footerGroup) => (\n                      <tr key={footerGroup.id} className={styles.footerRow}>\n                        {enableRowOrdering && <th className={styles.footerCell} style={{ width: 40 }} />}\n                        {footerGroup.headers.map((header) => (\n                          <th key={header.id} className={styles.footerCell}>\n                            {header.isPlaceholder\n                              ? null\n                              : flexRender(header.column.columnDef.footer, header.getContext())}\n                          </th>\n                        ))}\n                      </tr>\n                    ))}\n                  </tfoot>\n                )}\n              </table>\n            )}\n\n            {/* Row Drag Overlay */}\n            {enableRowOrdering && (\n              <DragOverlay>\n                {activeRowId && (\n                  <div className={styles.dragOverlay}>\n                    Row {activeRowId}\n                  </div>\n                )}\n              </DragOverlay>\n            )}\n          </DndContext>\n\n          {/* Column Drag Overlay */}\n          {enableColumnDrag && (\n            <DragOverlay>\n              {activeColumnId && (\n                <div className={styles.dragOverlay}>\n                  {activeColumnId}\n                </div>\n              )}\n            </DragOverlay>\n          )}\n        </DndContext>\n      </div>\n\n      {/* Pagination */}\n      {enablePagination && renderPagination()}\n\n      {/* Context Menu */}\n      {contextMenu && (\n        <ContextMenu\n          x={contextMenu.x}\n          y={contextMenu.y}\n          items={contextMenu.items}\n          onAction={handleContextMenuAction}\n          onClose={closeContextMenu}\n        />\n      )}\n    </div>\n  );\n}\n\n// Export with forwardRef\nexport const DataGrid = forwardRef(DataGridInner) as <TData>(\n  props: DataGridProps<TData> & { ref?: React.ForwardedRef<DataGridRef<TData>> }\n) => ReturnType<typeof DataGridInner>;\n\n// Display name\n(DataGrid as any).displayName = 'DataGrid';\n\nexport default DataGrid;\n","import React, { useState } from 'react';\nimport { ChevronDown, ChevronRight } from 'lucide-react';\nimport styles from './Tree.module.css';\n\n// ===== Types =====\n\nexport interface TreeNodeData {\n  id: string;\n  label: React.ReactNode;\n  icon?: React.ReactNode;\n  children?: TreeNodeData[];\n  badge?: React.ReactNode;\n  disabled?: boolean;\n}\n\nexport interface TreeProps {\n  data: TreeNodeData[];\n  selectable?: boolean;\n  compact?: boolean;\n  defaultExpandAll?: boolean;\n  onSelect?: (nodeIds: string[]) => void;\n  className?: string;\n}\n\ninterface TreeNodeProps {\n  node: TreeNodeData;\n  level: number;\n  selectable?: boolean;\n  compact?: boolean;\n  expandedNodes: Set<string>;\n  selectedNodes: Set<string>;\n  onToggle: (nodeId: string) => void;\n  onCheck: (nodeId: string, checked: boolean) => void;\n  onNodeClick: (nodeId: string) => void;\n}\n\n// ===== Tree Node Component =====\n\nconst TreeNode: React.FC<TreeNodeProps> = ({\n  node,\n  level,\n  selectable,\n  compact,\n  expandedNodes,\n  selectedNodes,\n  onToggle,\n  onCheck,\n  onNodeClick,\n}) => {\n  const hasChildren = node.children && node.children.length > 0;\n  const isExpanded = expandedNodes.has(node.id);\n  const isSelected = selectedNodes.has(node.id);\n  const isLeaf = !hasChildren;\n\n  const handleExpandClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (hasChildren) {\n      onToggle(node.id);\n    }\n  };\n\n  const handleCheckboxChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.stopPropagation();\n    onCheck(node.id, e.target.checked);\n  };\n\n  const handleContentClick = () => {\n    if (!selectable && !node.disabled) {\n      onNodeClick(node.id);\n    }\n  };\n\n  const nodeClasses = [\n    styles.treeNode,\n    isLeaf && styles.treeNodeLeaf,\n    node.disabled && styles.treeNodeDisabled,\n    isSelected && !selectable && styles.treeNodeSelected,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={nodeClasses}>\n      <div\n        className={styles.treeNodeContent}\n        onClick={handleContentClick}\n        role={!selectable ? 'button' : undefined}\n        tabIndex={!selectable && !node.disabled ? 0 : undefined}\n      >\n        {hasChildren ? (\n          <button\n            className={`${styles.treeExpandBtn} ${\n              isExpanded ? styles.treeExpandBtnExpanded : styles.treeExpandBtnCollapsed\n            }`}\n            onClick={handleExpandClick}\n            aria-expanded={isExpanded}\n            aria-label={isExpanded ? 'Collapse' : 'Expand'}\n          >\n            {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\n          </button>\n        ) : (\n          <span className={styles.treeIndent} />\n        )}\n\n        {selectable && (\n          <input\n            type=\"checkbox\"\n            className={styles.treeCheckbox}\n            checked={isSelected}\n            onChange={handleCheckboxChange}\n            disabled={node.disabled}\n            onClick={(e) => e.stopPropagation()}\n          />\n        )}\n\n        {node.icon && <span className={styles.treeIcon}>{node.icon}</span>}\n\n        <span className={styles.treeLabel}>\n          <span className={styles.treeLabelText}>{node.label}</span>\n        </span>\n\n        {node.badge && <span className={styles.treeBadge}>{node.badge}</span>}\n      </div>\n\n      {hasChildren && isExpanded && (\n        <div className={styles.treeChildren}>\n          {node.children!.map((child) => (\n            <TreeNode\n              key={child.id}\n              node={child}\n              level={level + 1}\n              selectable={selectable}\n              compact={compact}\n              expandedNodes={expandedNodes}\n              selectedNodes={selectedNodes}\n              onToggle={onToggle}\n              onCheck={onCheck}\n              onNodeClick={onNodeClick}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// ===== Main Tree Component =====\n\nconst Tree: React.FC<TreeProps> = ({\n  data,\n  selectable = false,\n  compact = false,\n  defaultExpandAll = false,\n  onSelect,\n  className = '',\n}) => {\n  // Initialize expanded nodes\n  const getDefaultExpandedNodes = (): Set<string> => {\n    if (!defaultExpandAll) return new Set();\n\n    const expandedSet = new Set<string>();\n    const traverse = (nodes: TreeNodeData[]) => {\n      nodes.forEach((node) => {\n        if (node.children && node.children.length > 0) {\n          expandedSet.add(node.id);\n          traverse(node.children);\n        }\n      });\n    };\n    traverse(data);\n    return expandedSet;\n  };\n\n  const [expandedNodes, setExpandedNodes] = useState<Set<string>>(getDefaultExpandedNodes());\n  const [selectedNodes, setSelectedNodes] = useState<Set<string>>(new Set());\n\n  const handleToggle = (nodeId: string) => {\n    setExpandedNodes((prev) => {\n      const newSet = new Set(prev);\n      if (newSet.has(nodeId)) {\n        newSet.delete(nodeId);\n      } else {\n        newSet.add(nodeId);\n      }\n      return newSet;\n    });\n  };\n\n  const handleCheck = (nodeId: string, checked: boolean) => {\n    const newSelectedNodes = new Set(selectedNodes);\n\n    // Helper to get all descendant IDs\n    const getDescendantIds = (nodes: TreeNodeData[]): string[] => {\n      let ids: string[] = [];\n      nodes.forEach((node) => {\n        ids.push(node.id);\n        if (node.children) {\n          ids = ids.concat(getDescendantIds(node.children));\n        }\n      });\n      return ids;\n    };\n\n    // Find the node in the tree\n    const findNode = (nodes: TreeNodeData[], id: string): TreeNodeData | null => {\n      for (const node of nodes) {\n        if (node.id === id) return node;\n        if (node.children) {\n          const found = findNode(node.children, id);\n          if (found) return found;\n        }\n      }\n      return null;\n    };\n\n    const targetNode = findNode(data, nodeId);\n    if (!targetNode) return;\n\n    // Update current node and all descendants\n    if (checked) {\n      newSelectedNodes.add(nodeId);\n      if (targetNode.children) {\n        getDescendantIds(targetNode.children).forEach((id) => newSelectedNodes.add(id));\n      }\n    } else {\n      newSelectedNodes.delete(nodeId);\n      if (targetNode.children) {\n        getDescendantIds(targetNode.children).forEach((id) => newSelectedNodes.delete(id));\n      }\n    }\n\n    setSelectedNodes(newSelectedNodes);\n    if (onSelect) {\n      onSelect(Array.from(newSelectedNodes));\n    }\n  };\n\n  const handleNodeClick = (nodeId: string) => {\n    setSelectedNodes(new Set([nodeId]));\n    if (onSelect) {\n      onSelect([nodeId]);\n    }\n  };\n\n  const treeClasses = [\n    styles.tree,\n    selectable && styles.treeSelectable,\n    compact && styles.treeCompact,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={treeClasses}>\n      {data.map((node) => (\n        <TreeNode\n          key={node.id}\n          node={node}\n          level={0}\n          selectable={selectable}\n          compact={compact}\n          expandedNodes={expandedNodes}\n          selectedNodes={selectedNodes}\n          onToggle={handleToggle}\n          onCheck={handleCheck}\n          onNodeClick={handleNodeClick}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport { Tree };\n","import React from 'react';\nimport type { ReactNode } from 'react';\nimport styles from './Badge.module.css';\n\nexport type BadgeVariant = 'default' | 'primary' | 'success' | 'warning' | 'error';\nexport type BadgeSize = 'sm' | 'md' | 'lg';\n\nexport interface BadgeProps {\n  variant?: BadgeVariant;\n  size?: BadgeSize;\n  children: ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport const Badge: React.FC<BadgeProps> = ({\n  variant = 'default',\n  size = 'md',\n  children,\n  className = '',\n  style,\n}) => {\n  const badgeClasses = [\n    styles.badge,\n    styles[`badge-${variant}`],\n    size !== 'md' && styles[`badge-${size}`],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return <span className={badgeClasses} style={style}>{children}</span>;\n};\n\nBadge.displayName = 'Badge';\n","import React from 'react';\nimport styles from './Avatar.module.css';\n\n// ===== Types =====\n\nexport type AvatarSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\nexport type AvatarShape = 'circle' | 'rounded' | 'square';\nexport type AvatarColor = 'primary' | 'success' | 'warning' | 'error' | 'grey';\nexport type AvatarStatus = 'online' | 'offline' | 'busy' | 'away';\n\nexport interface AvatarProps {\n  src?: string;\n  alt?: string;\n  initials?: string;\n  icon?: React.ReactNode;\n  size?: AvatarSize;\n  shape?: AvatarShape;\n  color?: AvatarColor;\n  status?: AvatarStatus;\n  className?: string;\n}\n\nexport interface AvatarGroupProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\n// ===== Avatar Component =====\n\nconst AvatarBase: React.FC<AvatarProps> = ({\n  src,\n  alt,\n  initials,\n  icon,\n  size = 'md',\n  shape = 'circle',\n  color = 'primary',\n  status,\n  className = '',\n}) => {\n  const avatarClasses = [\n    styles.avatar,\n    styles[`avatar${shape.charAt(0).toUpperCase()}${shape.slice(1)}`],\n    styles[`avatar${size.charAt(0).toUpperCase()}${size.slice(1)}`],\n    !src && styles[`avatar${color.charAt(0).toUpperCase()}${color.slice(1)}`],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const statusClasses = status\n    ? [\n        styles.avatarBadge,\n        status !== 'online' && styles[`avatarBadge${status.charAt(0).toUpperCase()}${status.slice(1)}`],\n      ]\n        .filter(Boolean)\n        .join(' ')\n    : '';\n\n  return (\n    <div className={avatarClasses}>\n      {src ? (\n        <img src={src} alt={alt || 'Avatar'} />\n      ) : icon ? (\n        icon\n      ) : initials ? (\n        <span>{initials}</span>\n      ) : null}\n      {status && <span className={statusClasses} />}\n    </div>\n  );\n};\n\n// ===== Avatar Group Component =====\n\nconst AvatarGroup: React.FC<AvatarGroupProps> = ({ children, className = '' }) => {\n  return <div className={`${styles.avatarGroup} ${className}`}>{children}</div>;\n};\n\n// Combine Avatar with Group property\nconst Avatar = Object.assign(AvatarBase, { Group: AvatarGroup });\n\nexport { Avatar, AvatarGroup };\n","import React, { type ReactNode } from 'react';\nimport { X } from 'lucide-react';\nimport styles from './Tag.module.css';\n\nexport interface TagProps {\n  /** Tag content */\n  children: ReactNode;\n  /** Color variant */\n  variant?: 'default' | 'primary' | 'success' | 'warning' | 'error';\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** Whether the tag can be removed */\n  removable?: boolean;\n  /** Callback when remove button is clicked */\n  onRemove?: () => void;\n  /** Whether the tag is clickable */\n  clickable?: boolean;\n  /** Callback when tag is clicked (only for clickable tags) */\n  onClick?: () => void;\n  /** Optional icon to display before text */\n  icon?: ReactNode;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Tag Component\n *\n * Compact elements for labeling, categorizing, and filtering content.\n * Useful for device types, categories, attributes, and active filters.\n *\n * @example\n * ```tsx\n * <Tag variant=\"primary\">Temperature</Tag>\n * <Tag removable onRemove={() => console.log('removed')}>Sensor</Tag>\n * <Tag clickable onClick={() => console.log('clicked')}>Filter</Tag>\n * ```\n */\nexport const Tag: React.FC<TagProps> = ({\n  children,\n  variant = 'default',\n  size = 'md',\n  removable = false,\n  onRemove,\n  clickable = false,\n  onClick,\n  icon,\n  className,\n}) => {\n  const tagClasses = [\n    styles.tag,\n    variant !== 'default' && styles[variant],\n    size !== 'md' && styles[size],\n    removable && styles.removable,\n    clickable && styles.clickable,\n    className,\n  ].filter(Boolean).join(' ');\n\n  const handleRemoveClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onRemove?.();\n  };\n\n  const Component = clickable ? 'button' : 'span';\n\n  return (\n    <Component\n      className={tagClasses}\n      onClick={clickable ? onClick : undefined}\n      type={clickable ? 'button' : undefined}\n      role={clickable ? 'button' : undefined}\n    >\n      {icon && <span className={styles.icon} aria-hidden=\"true\">{icon}</span>}\n      {children}\n      {removable && (\n        <button\n          className={styles.remove}\n          onClick={handleRemoveClick}\n          aria-label={`Remove ${children} tag`}\n          type=\"button\"\n        >\n          <X size={12} aria-hidden=\"true\" />\n        </button>\n      )}\n    </Component>\n  );\n};\n\nTag.displayName = 'Tag';\n\nexport interface TagGroupProps {\n  /** Tag elements to display */\n  children: ReactNode;\n  /** Additional CSS class */\n  className?: string;\n  /** ARIA label for the group */\n  ariaLabel?: string;\n}\n\n/**\n * TagGroup Component\n *\n * Container for displaying multiple tags with consistent spacing.\n *\n * @example\n * ```tsx\n * <TagGroup ariaLabel=\"Device tags\">\n *   <Tag variant=\"primary\">Temperature</Tag>\n *   <Tag variant=\"success\">Online</Tag>\n *   <Tag>Building A</Tag>\n * </TagGroup>\n * ```\n */\nexport const TagGroup: React.FC<TagGroupProps> = ({\n  children,\n  className,\n  ariaLabel,\n}) => {\n  const groupClasses = [styles.group, className].filter(Boolean).join(' ');\n\n  return (\n    <div\n      className={groupClasses}\n      role=\"list\"\n      aria-label={ariaLabel}\n    >\n      {React.Children.map(children, (child) => (\n        <div role=\"listitem\">{child}</div>\n      ))}\n    </div>\n  );\n};\n\nTagGroup.displayName = 'TagGroup';\n","import type { ReactNode } from 'react';\nimport styles from './Descriptions.module.css';\n\nexport interface DescriptionsItemProps {\n  /** Label text */\n  label: ReactNode;\n  /** Content/value */\n  children: ReactNode;\n  /** Span across all columns */\n  span?: boolean;\n  /** Custom className for the item */\n  className?: string;\n}\n\nexport interface DescriptionsProps {\n  /** Items to display */\n  children: ReactNode;\n  /** Title text */\n  title?: ReactNode;\n  /** Actions to display in header */\n  extra?: ReactNode;\n  /** Show borders around items */\n  bordered?: boolean;\n  /** Number of columns */\n  column?: 1 | 2 | 3;\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** Vertical layout (label above content) */\n  vertical?: boolean;\n  /** Custom className */\n  className?: string;\n}\n\n/**\n * Descriptions Item Component\n *\n * Individual key-value pair within a Descriptions list.\n *\n * @example\n * ```tsx\n * <Descriptions.Item label=\"Name\">\n *   John Doe\n * </Descriptions.Item>\n * ```\n */\nexport const DescriptionsItem = ({\n  label,\n  children,\n  span,\n  className,\n}: DescriptionsItemProps) => {\n  const itemClasses = [\n    styles.descriptionsItem,\n    span && styles.descriptionsItemSpan,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={itemClasses}>\n      <span className={styles.descriptionsLabel}>{label}</span>\n      <span className={styles.descriptionsContent}>{children}</span>\n    </div>\n  );\n};\n\nDescriptionsItem.displayName = 'Descriptions.Item';\n\n/**\n * Descriptions Component\n *\n * Display key-value pairs in a structured format for detail pages and information display.\n * Ideal for showing device specifications, user profiles, order details, and system configurations.\n *\n * @example\n * ```tsx\n * <Descriptions title=\"User Information\" bordered>\n *   <Descriptions.Item label=\"Name\">John Doe</Descriptions.Item>\n *   <Descriptions.Item label=\"Email\">john@example.com</Descriptions.Item>\n *   <Descriptions.Item label=\"Role\">\n *     <Badge variant=\"primary\">Admin</Badge>\n *   </Descriptions.Item>\n * </Descriptions>\n * ```\n *\n * @example\n * ```tsx\n * // Multi-column layout\n * <Descriptions column={2} bordered>\n *   <Descriptions.Item label=\"Order ID\">#12345</Descriptions.Item>\n *   <Descriptions.Item label=\"Date\">2025-01-15</Descriptions.Item>\n *   <Descriptions.Item label=\"Customer\">Jane Smith</Descriptions.Item>\n *   <Descriptions.Item label=\"Total\">$299.00</Descriptions.Item>\n * </Descriptions>\n * ```\n */\nexport const Descriptions = ({\n  children,\n  title,\n  extra,\n  bordered = false,\n  column = 1,\n  size = 'md',\n  vertical = false,\n  className,\n}: DescriptionsProps) => {\n  const containerClasses = [\n    styles.descriptions,\n    bordered && styles.descriptionsBordered,\n    column === 2 && styles.descriptionsCol2,\n    column === 3 && styles.descriptionsCol3,\n    size === 'sm' && styles.descriptionsSm,\n    size === 'lg' && styles.descriptionsLg,\n    vertical && styles.descriptionsVertical,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={containerClasses}>\n      {(title || extra) && (\n        <div className={styles.descriptionsHeader}>\n          {title && <h3 className={styles.descriptionsTitle}>{title}</h3>}\n          {extra && <div>{extra}</div>}\n        </div>\n      )}\n      {children}\n    </div>\n  );\n};\n\nDescriptions.displayName = 'Descriptions';\n\n// Attach Item as a static property\nDescriptions.Item = DescriptionsItem;\n","import React, { type ReactNode } from 'react';\nimport { TrendingUp, TrendingDown, ArrowUp, ArrowDown } from 'lucide-react';\nimport styles from './Statistic.module.css';\n\nexport interface StatisticProps {\n  /** Title/label for the statistic */\n  title: string;\n  /** Main value to display */\n  value: string | number;\n  /** Optional prefix (e.g., '$', '') */\n  prefix?: ReactNode;\n  /** Optional suffix (e.g., '%', 'C', 'ms') */\n  suffix?: ReactNode;\n  /** Optional trend configuration */\n  trend?: {\n    /** Direction of the trend */\n    direction: 'up' | 'down';\n    /** Trend value/text to display */\n    value: string | number;\n    /** Icon variant to use */\n    icon?: 'trending' | 'arrow';\n  };\n  /** Optional icon configuration */\n  icon?: {\n    /** Icon element to display */\n    element: ReactNode;\n    /** Icon color variant */\n    variant?: 'primary' | 'success' | 'warning' | 'error';\n  };\n  /** Optional description text */\n  description?: string;\n  /** Color variant for the value */\n  variant?: 'default' | 'primary' | 'success' | 'warning' | 'error';\n  /** Compact layout for smaller displays */\n  compact?: boolean;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Statistic Component\n *\n * Displays numerical statistics with trend indicators and formatting.\n * Designed for dashboards, reports, and KPI displays.\n *\n * @example\n * ```tsx\n * <Statistic\n *   title=\"Active Devices\"\n *   value={1248}\n *   trend={{ direction: 'up', value: '12.5%' }}\n * />\n * ```\n */\nexport const Statistic: React.FC<StatisticProps> = ({\n  title,\n  value,\n  prefix,\n  suffix,\n  trend,\n  icon,\n  description,\n  variant = 'default',\n  compact = false,\n  className,\n}) => {\n  const getTrendIcon = () => {\n    if (!trend) return null;\n\n    const iconProps = { size: 16, 'aria-hidden': true as const };\n\n    if (trend.icon === 'arrow') {\n      return trend.direction === 'up'\n        ? <ArrowUp {...iconProps} />\n        : <ArrowDown {...iconProps} />;\n    }\n\n    return trend.direction === 'up'\n      ? <TrendingUp {...iconProps} />\n      : <TrendingDown {...iconProps} />;\n  };\n\n  const statisticClasses = [\n    styles.statistic,\n    compact && styles.compact,\n    variant !== 'default' && styles[variant],\n    className,\n  ].filter(Boolean).join(' ');\n\n  const trendClasses = [\n    styles.trend,\n    trend && styles[`trend${trend.direction === 'up' ? 'Up' : 'Down'}`],\n  ].filter(Boolean).join(' ');\n\n  const iconClasses = [\n    styles.icon,\n    icon?.variant && styles[`icon${icon.variant.charAt(0).toUpperCase() + icon.variant.slice(1)}`],\n  ].filter(Boolean).join(' ');\n\n  const trendLabel = trend\n    ? `${trend.direction === 'up' ? 'Increased' : 'Decreased'} by ${trend.value}`\n    : '';\n\n  return (\n    <div className={statisticClasses}>\n      {icon && (\n        <div className={styles.header}>\n          <div className={iconClasses} aria-hidden=\"true\">\n            {icon.element}\n          </div>\n          <div className={styles.title}>{title}</div>\n        </div>\n      )}\n\n      {!icon && <div className={styles.title}>{title}</div>}\n\n      <div className={styles.value} role=\"status\" aria-live=\"polite\">\n        {prefix && <span className={styles.prefix}>{prefix}</span>}\n        {value}\n        {suffix && <span className={styles.suffix}>{suffix}</span>}\n      </div>\n\n      {trend && (\n        <div className={trendClasses} aria-label={trendLabel}>\n          {getTrendIcon()}\n          <span>{trend.value}</span>\n        </div>\n      )}\n\n      {description && (\n        <div className={styles.description}>{description}</div>\n      )}\n    </div>\n  );\n};\n\nStatistic.displayName = 'Statistic';\n","import type { ReactNode } from 'react';\nimport styles from './Timeline.module.css';\n\nexport interface TimelineProps {\n  /** Timeline items */\n  children: ReactNode;\n  /** Timeline mode */\n  mode?: 'default' | 'compact' | 'alternate';\n  /** Additional CSS class */\n  className?: string;\n}\n\nexport interface TimelineItemProps {\n  /** Item variant */\n  variant?: 'default' | 'success' | 'error' | 'warning' | 'info' | 'primary';\n  /** Icon for marker */\n  icon?: ReactNode;\n  /** Timestamp */\n  time?: ReactNode;\n  /** Title */\n  title: ReactNode;\n  /** Description */\n  description?: ReactNode;\n  /** Meta information (badges, buttons, etc.) */\n  meta?: ReactNode;\n  /** Make item clickable */\n  interactive?: boolean;\n  /** Click handler */\n  onClick?: () => void;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Timeline Component\n *\n * Displays events in chronological order with visual connectors and timestamps.\n * Ideal for activity logs, event history, process flows, and sequential data.\n *\n * @example\n * ```tsx\n * <Timeline>\n *   <Timeline.Item\n *     time=\"2 hours ago\"\n *     title=\"Device Connected\"\n *     description=\"Temperature sensor successfully connected.\"\n *   />\n *   <Timeline.Item\n *     variant=\"success\"\n *     icon={<CheckCircle />}\n *     time=\"5 hours ago\"\n *     title=\"Firmware Updated\"\n *     description=\"Updated to v2.2.0\"\n *   />\n * </Timeline>\n * ```\n */\nexport const Timeline = ({ children, mode = 'default', className }: TimelineProps) => {\n  const timelineClasses = [\n    styles.timeline,\n    mode === 'compact' && styles.timelineCompact,\n    mode === 'alternate' && styles.timelineAlternate,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return <div className={timelineClasses}>{children}</div>;\n};\n\n/**\n * Timeline Item Component\n *\n * Individual timeline entry with marker, content, and metadata.\n */\nconst TimelineItem = ({\n  variant = 'default',\n  icon,\n  time,\n  title,\n  description,\n  meta,\n  interactive = false,\n  onClick,\n  className,\n}: TimelineItemProps) => {\n  const itemClasses = [\n    styles.timelineItem,\n    variant !== 'default' && styles[`timeline${variant.charAt(0).toUpperCase()}${variant.slice(1)}`],\n    interactive && styles.timelineInteractive,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const handleClick = () => {\n    if (interactive && onClick) {\n      onClick();\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (interactive && onClick && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault();\n      onClick();\n    }\n  };\n\n  const itemProps = interactive\n    ? {\n        role: 'button',\n        tabIndex: 0,\n        onClick: handleClick,\n        onKeyDown: handleKeyDown,\n        'aria-label': typeof title === 'string' ? title : undefined,\n      }\n    : { role: 'article' };\n\n  return (\n    <div className={itemClasses} {...itemProps}>\n      <div className={styles.timelineMarker}>{icon}</div>\n      <div className={styles.timelineContent}>\n        {time && <div className={styles.timelineTime}>{time}</div>}\n        <div className={styles.timelineTitle}>{title}</div>\n        {description && <div className={styles.timelineDescription}>{description}</div>}\n        {meta && <div className={styles.timelineMeta}>{meta}</div>}\n      </div>\n    </div>\n  );\n};\n\nTimeline.Item = TimelineItem;\nTimeline.displayName = 'Timeline';\nTimelineItem.displayName = 'Timeline.Item';\n","import { useState, useEffect, useCallback, useRef, Children } from 'react';\nimport type { ReactNode } from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport styles from './Carousel.module.css';\n\nexport interface CarouselProps {\n  /** Carousel slides */\n  children: ReactNode;\n  /** Auto-play interval in milliseconds (0 = disabled) */\n  autoPlay?: number;\n  /** Effect type */\n  effect?: 'slide' | 'fade';\n  /** Show navigation arrows */\n  showArrows?: boolean;\n  /** Show indicator dots */\n  showIndicators?: boolean;\n  /** Show thumbnails */\n  showThumbnails?: boolean;\n  /** Initial active slide index */\n  defaultIndex?: number;\n  /** Controlled active slide index */\n  activeIndex?: number;\n  /** Callback when slide changes */\n  onChange?: (index: number) => void;\n  /** Additional CSS class */\n  className?: string;\n  /** Pause autoplay on hover */\n  pauseOnHover?: boolean;\n  /** Enable infinite loop */\n  loop?: boolean;\n}\n\nexport interface CarouselSlideProps {\n  /** Slide content */\n  children: ReactNode;\n  /** Optional caption */\n  caption?: {\n    title?: ReactNode;\n    description?: ReactNode;\n  };\n  /** Thumbnail for navigation (URL or ReactNode) */\n  thumbnail?: string | ReactNode;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Carousel Component\n *\n * Image and content slider with navigation controls, indicators, and auto-play.\n * Supports slide and fade effects, thumbnails, and touch gestures.\n *\n * @example\n * ```tsx\n * <Carousel autoPlay={5000} showIndicators>\n *   <Carousel.Slide caption={{ title: \"Slide 1\", description: \"Description\" }}>\n *     <img src=\"image1.jpg\" alt=\"Slide 1\" />\n *   </Carousel.Slide>\n *   <Carousel.Slide>\n *     <img src=\"image2.jpg\" alt=\"Slide 2\" />\n *   </Carousel.Slide>\n * </Carousel>\n * ```\n */\nexport const Carousel = ({\n  children,\n  autoPlay = 0,\n  effect = 'slide',\n  showArrows = true,\n  showIndicators = true,\n  showThumbnails = false,\n  defaultIndex = 0,\n  activeIndex: controlledIndex,\n  onChange,\n  className,\n  pauseOnHover = true,\n  loop = true,\n}: CarouselProps) => {\n  const [internalIndex, setInternalIndex] = useState(defaultIndex);\n  const [isPaused, setIsPaused] = useState(false);\n  const [touchStart, setTouchStart] = useState(0);\n  const [touchEnd, setTouchEnd] = useState(0);\n  const autoPlayRef = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  const isControlled = controlledIndex !== undefined;\n  const currentIndex = isControlled ? controlledIndex : internalIndex;\n\n  const slides = Children.toArray(children);\n  const slideCount = slides.length;\n\n  const goToSlide = useCallback(\n    (index: number) => {\n      let newIndex = index;\n\n      if (loop) {\n        if (index < 0) newIndex = slideCount - 1;\n        if (index >= slideCount) newIndex = 0;\n      } else {\n        if (index < 0) newIndex = 0;\n        if (index >= slideCount) newIndex = slideCount - 1;\n      }\n\n      if (!isControlled) {\n        setInternalIndex(newIndex);\n      }\n      onChange?.(newIndex);\n    },\n    [slideCount, loop, isControlled, onChange]\n  );\n\n  const goToPrev = useCallback(() => {\n    goToSlide(currentIndex - 1);\n  }, [currentIndex, goToSlide]);\n\n  const goToNext = useCallback(() => {\n    goToSlide(currentIndex + 1);\n  }, [currentIndex, goToSlide]);\n\n  // Auto-play\n  useEffect(() => {\n    if (autoPlay > 0 && !isPaused) {\n      autoPlayRef.current = setInterval(() => {\n        goToNext();\n      }, autoPlay);\n\n      return () => {\n        if (autoPlayRef.current) {\n          clearInterval(autoPlayRef.current);\n        }\n      };\n    }\n  }, [autoPlay, isPaused, goToNext]);\n\n  // Touch handlers\n  const handleTouchStart = (e: React.TouchEvent) => {\n    setTouchStart(e.targetTouches[0].clientX);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    setTouchEnd(e.targetTouches[0].clientX);\n  };\n\n  const handleTouchEnd = () => {\n    if (touchStart - touchEnd > 50) {\n      // Swiped left\n      goToNext();\n    }\n\n    if (touchStart - touchEnd < -50) {\n      // Swiped right\n      goToPrev();\n    }\n  };\n\n  // Keyboard navigation\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'ArrowLeft') {\n      goToPrev();\n    } else if (e.key === 'ArrowRight') {\n      goToNext();\n    }\n  };\n\n  const containerClasses = [\n    styles.carousel,\n    effect === 'fade' && styles.carouselFade,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div\n      className={containerClasses}\n      onMouseEnter={() => pauseOnHover && setIsPaused(true)}\n      onMouseLeave={() => pauseOnHover && setIsPaused(false)}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n      onKeyDown={handleKeyDown}\n      tabIndex={0}\n      role=\"region\"\n      aria-label=\"Carousel\"\n      aria-live=\"polite\"\n    >\n      <div className={styles.carouselInner}>\n        {Children.map(children, (child, index) => {\n          const isActive = index === currentIndex;\n          return (\n            <div\n              className={`${styles.carouselItem} ${isActive ? styles.active : ''}`}\n              role=\"group\"\n              aria-roledescription=\"slide\"\n              aria-label={`Slide ${index + 1} of ${slideCount}`}\n              aria-hidden={!isActive}\n            >\n              {child}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Navigation Arrows */}\n      {showArrows && slideCount > 1 && (\n        <>\n          <button\n            className={`${styles.carouselControl} ${styles.carouselControlPrev}`}\n            onClick={goToPrev}\n            aria-label=\"Previous slide\"\n            disabled={!loop && currentIndex === 0}\n          >\n            <ChevronLeft />\n          </button>\n          <button\n            className={`${styles.carouselControl} ${styles.carouselControlNext}`}\n            onClick={goToNext}\n            aria-label=\"Next slide\"\n            disabled={!loop && currentIndex === slideCount - 1}\n          >\n            <ChevronRight />\n          </button>\n        </>\n      )}\n\n      {/* Indicators */}\n      {showIndicators && slideCount > 1 && !showThumbnails && (\n        <div className={styles.carouselIndicators}>\n          {slides.map((_, index) => (\n            <button\n              key={index}\n              className={`${styles.carouselIndicator} ${index === currentIndex ? styles.active : ''}`}\n              onClick={() => goToSlide(index)}\n              aria-label={`Go to slide ${index + 1}`}\n              aria-current={index === currentIndex}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Thumbnails */}\n      {showThumbnails && slideCount > 1 && (\n        <div className={styles.carouselThumbnailsContainer}>\n          {Children.map(children, (child: any, index) => {\n            const thumbnail = child?.props?.thumbnail;\n            if (!thumbnail) return null;\n\n            return (\n              <button\n                key={index}\n                className={`${styles.carouselThumbnail} ${index === currentIndex ? styles.active : ''}`}\n                onClick={() => goToSlide(index)}\n                aria-label={`Go to slide ${index + 1}`}\n                aria-current={index === currentIndex}\n              >\n                {typeof thumbnail === 'string' ? (\n                  <img src={thumbnail} alt={`Thumbnail ${index + 1}`} />\n                ) : (\n                  thumbnail\n                )}\n              </button>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\n/**\n * Carousel Slide Component\n *\n * Individual slide content with optional caption.\n */\nconst CarouselSlide = ({ children, caption, className }: CarouselSlideProps) => {\n  const slideClasses = [styles.carouselSlide, className].filter(Boolean).join(' ');\n\n  return (\n    <div className={slideClasses}>\n      {children}\n      {caption && (\n        <div className={styles.carouselCaption}>\n          {caption.title && <h3>{caption.title}</h3>}\n          {caption.description && <p>{caption.description}</p>}\n        </div>\n      )}\n    </div>\n  );\n};\n\nCarousel.Slide = CarouselSlide;\nCarousel.displayName = 'Carousel';\nCarouselSlide.displayName = 'Carousel.Slide';\n","import { useState, useEffect } from 'react';\nimport type { ImgHTMLAttributes, ReactNode } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Image as ImageIcon, ImageOff, Maximize2, X } from 'lucide-react';\nimport styles from './Image.module.css';\n\nexport interface ImageProps extends Omit<ImgHTMLAttributes<HTMLImageElement>, 'className'> {\n  /** Image source URL */\n  src: string;\n  /** Alt text for accessibility */\n  alt: string;\n  /** Object fit mode */\n  fit?: 'cover' | 'contain' | 'fill' | 'none';\n  /** Border radius variant */\n  radius?: 'default' | 'circle' | 'square';\n  /** Show loading placeholder */\n  placeholder?: boolean | ReactNode;\n  /** Show error fallback */\n  fallback?: ReactNode;\n  /** Enable preview/lightbox on click */\n  preview?: boolean;\n  /** Image caption */\n  caption?: ReactNode;\n  /** Loading state (eager or lazy) */\n  loading?: 'eager' | 'lazy';\n  /** Additional wrapper CSS class */\n  className?: string;\n  /** Width for wrapper */\n  width?: string | number;\n  /** Height for wrapper */\n  height?: string | number;\n}\n\n/**\n * Image Component\n *\n * Enhanced image component with lazy loading, placeholder, error handling, and preview.\n * Optimizes performance and user experience for image-heavy applications.\n *\n * @example\n * ```tsx\n * <Image\n *   src=\"/path/to/image.jpg\"\n *   alt=\"Device photo\"\n *   fit=\"cover\"\n *   preview\n *   caption=\"IoT Gateway Device\"\n * />\n * ```\n */\nexport const Image = ({\n  src,\n  alt,\n  fit = 'none',\n  radius = 'default',\n  placeholder = true,\n  fallback,\n  preview = false,\n  caption,\n  loading = 'lazy',\n  className,\n  width,\n  height,\n  ...rest\n}: ImageProps) => {\n  const [imageStatus, setImageStatus] = useState<'loading' | 'loaded' | 'error'>('loading');\n  const [showLightbox, setShowLightbox] = useState(false);\n\n  const handleLoad = () => {\n    setImageStatus('loaded');\n  };\n\n  const handleError = () => {\n    setImageStatus('error');\n  };\n\n  const handleImageClick = () => {\n    if (preview && imageStatus === 'loaded') {\n      setShowLightbox(true);\n    }\n  };\n\n  const handleCloseLightbox = () => {\n    setShowLightbox(false);\n  };\n\n  // Handle Escape key to close lightbox\n  const handleKeyDown = (e: KeyboardEvent) => {\n    if (e.key === 'Escape') {\n      handleCloseLightbox();\n    }\n  };\n\n  // Add/remove escape listener when lightbox opens/closes\n  useEffect(() => {\n    if (showLightbox) {\n      document.addEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = '';\n    };\n  }, [showLightbox]);\n\n  const wrapperClasses = [\n    styles.imageWrapper,\n    radius === 'circle' && styles.imageCircle,\n    radius === 'square' && styles.imageSquare,\n    preview && styles.imagePreview,\n    imageStatus === 'loading' && placeholder && styles.imageLoading,\n    imageStatus === 'error' && styles.imageError,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const imgClasses = [\n    styles.image,\n    fit === 'cover' && styles.imageCover,\n    fit === 'contain' && styles.imageContain,\n    fit === 'fill' && styles.imageFill,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const wrapperStyle: React.CSSProperties = {\n    width: width,\n    height: height,\n  };\n\n  const renderContent = () => {\n    // Error state\n    if (imageStatus === 'error') {\n      if (fallback) {\n        return <div className={styles.imageErrorContent}>{fallback}</div>;\n      }\n      return (\n        <div className={styles.imageErrorContent}>\n          <ImageOff />\n          <span>Failed to load image</span>\n        </div>\n      );\n    }\n\n    // Loading state\n    if (imageStatus === 'loading' && placeholder) {\n      if (typeof placeholder === 'boolean') {\n        return (\n          <div className={styles.imagePlaceholder}>\n            <ImageIcon />\n            <span>Loading...</span>\n          </div>\n        );\n      }\n      return <div className={styles.imagePlaceholder}>{placeholder}</div>;\n    }\n\n    // Loaded image\n    return (\n      <>\n        <img\n          className={imgClasses}\n          src={src}\n          alt={alt}\n          loading={loading}\n          onLoad={handleLoad}\n          onError={handleError}\n          style={{\n            display: imageStatus === 'loaded' ? 'block' : 'none',\n          }}\n          {...rest}\n        />\n        {preview && imageStatus === 'loaded' && (\n          <div className={styles.imagePreviewOverlay}>\n            <Maximize2 />\n            <span>Click to preview</span>\n          </div>\n        )}\n      </>\n    );\n  };\n\n  const imageElement = (\n    <div\n      className={wrapperClasses}\n      style={wrapperStyle}\n      onClick={handleImageClick}\n      role={preview ? 'button' : undefined}\n      tabIndex={preview ? 0 : undefined}\n      onKeyDown={\n        preview\n          ? (e) => {\n              if (e.key === 'Enter' || e.key === ' ') {\n                e.preventDefault();\n                handleImageClick();\n              }\n            }\n          : undefined\n      }\n      aria-label={preview ? `Preview ${alt}` : undefined}\n    >\n      {renderContent()}\n    </div>\n  );\n\n  // Lightbox portal\n  const lightbox = showLightbox &&\n    createPortal(\n      <div className={styles.imageLightbox}>\n        <div\n          className={styles.imageLightboxBackdrop}\n          onClick={handleCloseLightbox}\n        />\n        <div className={styles.imageLightboxContent}>\n          <button\n            className={styles.imageLightboxClose}\n            onClick={handleCloseLightbox}\n            aria-label=\"Close preview\"\n            type=\"button\"\n          >\n            <X />\n          </button>\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      document.body\n    );\n\n  // With caption\n  if (caption) {\n    return (\n      <>\n        <figure className={styles.imageFigure}>\n          {imageElement}\n          <figcaption className={styles.imageCaption}>{caption}</figcaption>\n        </figure>\n        {lightbox}\n      </>\n    );\n  }\n\n  return (\n    <>\n      {imageElement}\n      {lightbox}\n    </>\n  );\n};\n\nImage.displayName = 'Image';\n","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport {\n  X,\n  ZoomIn,\n  ZoomOut,\n  RotateCcw,\n  RotateCw,\n  Maximize2,\n  ChevronLeft,\n  ChevronRight,\n} from 'lucide-react';\nimport styles from './ImageViewer.module.css';\n\nexport interface ImageViewerImage {\n  /** Image source URL */\n  src: string;\n  /** Alt text for accessibility */\n  alt: string;\n  /** Optional thumbnail URL for navigation strip */\n  thumbnail?: string;\n}\n\nexport interface ImageViewerProps {\n  /** Whether the viewer is open */\n  open: boolean;\n  /** Callback when viewer should close */\n  onClose: () => void;\n  /** Single image source (for single image mode) */\n  src?: string;\n  /** Single image alt text */\n  alt?: string;\n  /** Array of images for gallery mode */\n  images?: ImageViewerImage[];\n  /** Initial index for gallery mode */\n  initialIndex?: number;\n  /** Show toolbar with zoom/rotate controls */\n  toolbar?: boolean;\n  /** Show close button */\n  closable?: boolean;\n  /** Close viewer when clicking mask/backdrop */\n  maskClosable?: boolean;\n  /** Enable keyboard navigation */\n  keyboard?: boolean;\n  /** Show navigation arrows for gallery */\n  navigation?: boolean;\n  /** Show thumbnail strip for gallery */\n  thumbnails?: boolean;\n  /** Enable looping in gallery navigation */\n  loop?: boolean;\n  /** Minimum zoom level */\n  minZoom?: number;\n  /** Maximum zoom level */\n  maxZoom?: number;\n  /** Zoom step increment */\n  zoomStep?: number;\n  /** Callback when navigating in gallery */\n  onNavigate?: (index: number) => void;\n}\n\n/**\n * Image Viewer Component\n *\n * Full-screen image viewer with zoom, rotation, and gallery navigation.\n * Supports both single image and gallery modes with comprehensive controls.\n *\n * @example\n * ```tsx\n * // Single image\n * <ImageViewer\n *   open={isOpen}\n *   onClose={() => setIsOpen(false)}\n *   src=\"/device-photo.jpg\"\n *   alt=\"IoT Device\"\n * />\n *\n * // Gallery mode\n * <ImageViewer\n *   open={isOpen}\n *   onClose={() => setIsOpen(false)}\n *   images={[\n *     { src: '/image1.jpg', alt: 'Image 1' },\n *     { src: '/image2.jpg', alt: 'Image 2' }\n *   ]}\n *   navigation\n *   thumbnails\n * />\n * ```\n */\nexport const ImageViewer = ({\n  open,\n  onClose,\n  src,\n  alt = '',\n  images,\n  initialIndex = 0,\n  toolbar = true,\n  closable = true,\n  maskClosable = true,\n  keyboard = true,\n  navigation = true,\n  thumbnails = false,\n  loop = true,\n  minZoom = 0.1,\n  maxZoom = 5,\n  zoomStep = 0.2,\n  onNavigate,\n}: ImageViewerProps) => {\n  const [currentIndex, setCurrentIndex] = useState(initialIndex);\n  const [zoom, setZoom] = useState(1);\n  const [rotation, setRotation] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const imageRef = useRef<HTMLImageElement>(null);\n  const previousFocusRef = useRef<HTMLElement | null>(null);\n\n  // Determine if in gallery mode\n  const isGallery = !!images && images.length > 0;\n  const currentImage = isGallery\n    ? images[currentIndex]\n    : { src: src || '', alt: alt || '' };\n\n  // Reset zoom and rotation when image changes\n  useEffect(() => {\n    if (open) {\n      setZoom(1);\n      setRotation(0);\n      setLoading(true);\n    }\n  }, [currentIndex, open]);\n\n  // Focus management\n  useEffect(() => {\n    if (open) {\n      previousFocusRef.current = document.activeElement as HTMLElement;\n      // Prevent body scroll\n      document.body.style.overflow = 'hidden';\n    } else {\n      // Restore body scroll\n      document.body.style.overflow = '';\n      // Restore focus\n      if (previousFocusRef.current) {\n        previousFocusRef.current.focus();\n      }\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  // Keyboard navigation\n  useEffect(() => {\n    if (!keyboard || !open) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      switch (e.key) {\n        case 'Escape':\n          onClose();\n          break;\n        case 'ArrowLeft':\n          if (isGallery && navigation) {\n            navigatePrevious();\n          }\n          break;\n        case 'ArrowRight':\n          if (isGallery && navigation) {\n            navigateNext();\n          }\n          break;\n        case '+':\n        case '=':\n          handleZoomIn();\n          break;\n        case '-':\n        case '_':\n          handleZoomOut();\n          break;\n        case 'r':\n        case 'R':\n          handleRotateRight();\n          break;\n        default:\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [keyboard, open, isGallery, navigation, currentIndex, zoom, rotation]);\n\n  // Handle zoom in\n  const handleZoomIn = useCallback(() => {\n    setZoom((prev) => Math.min(prev + zoomStep, maxZoom));\n  }, [zoomStep, maxZoom]);\n\n  // Handle zoom out\n  const handleZoomOut = useCallback(() => {\n    setZoom((prev) => Math.max(prev - zoomStep, minZoom));\n  }, [zoomStep, minZoom]);\n\n  // Handle rotate left\n  const handleRotateLeft = useCallback(() => {\n    setRotation((prev) => prev - 90);\n  }, []);\n\n  // Handle rotate right\n  const handleRotateRight = useCallback(() => {\n    setRotation((prev) => prev + 90);\n  }, []);\n\n  // Handle reset\n  const handleReset = useCallback(() => {\n    setZoom(1);\n    setRotation(0);\n  }, []);\n\n  // Navigate to next image\n  const navigateNext = useCallback(() => {\n    if (!isGallery) return;\n\n    const nextIndex = currentIndex + 1;\n    if (nextIndex < images.length) {\n      setCurrentIndex(nextIndex);\n      onNavigate?.(nextIndex);\n    } else if (loop) {\n      setCurrentIndex(0);\n      onNavigate?.(0);\n    }\n  }, [isGallery, currentIndex, images, loop, onNavigate]);\n\n  // Navigate to previous image\n  const navigatePrevious = useCallback(() => {\n    if (!isGallery) return;\n\n    const prevIndex = currentIndex - 1;\n    if (prevIndex >= 0) {\n      setCurrentIndex(prevIndex);\n      onNavigate?.(prevIndex);\n    } else if (loop) {\n      setCurrentIndex(images.length - 1);\n      onNavigate?.(images.length - 1);\n    }\n  }, [isGallery, currentIndex, images, loop, onNavigate]);\n\n  // Go to specific image\n  const goToImage = useCallback(\n    (index: number) => {\n      if (!isGallery || index < 0 || index >= images.length) return;\n      setCurrentIndex(index);\n      onNavigate?.(index);\n    },\n    [isGallery, images, onNavigate]\n  );\n\n  // Handle mask click\n  const handleMaskClick = () => {\n    if (maskClosable) {\n      onClose();\n    }\n  };\n\n  // Handle image load\n  const handleImageLoad = () => {\n    setLoading(false);\n  };\n\n  // Check if navigation buttons should be disabled\n  const isPrevDisabled = !loop && currentIndex === 0;\n  const isNextDisabled = !loop && isGallery && currentIndex === images.length - 1;\n\n  if (!open) return null;\n\n  const viewer = (\n    <div className={`${styles.imageViewer} ${styles.imageViewerOpen}`}>\n      <div className={styles.imageViewerMask} onClick={handleMaskClick} />\n\n      <div className={styles.imageViewerContent}>\n        {/* Close button */}\n        {closable && (\n          <button\n            className={styles.imageViewerClose}\n            onClick={onClose}\n            aria-label=\"Close image viewer\"\n            type=\"button\"\n          >\n            <X />\n          </button>\n        )}\n\n        {/* Toolbar */}\n        {toolbar && (\n          <div className={styles.imageViewerToolbar}>\n            {/* Gallery counter */}\n            {isGallery && (\n              <>\n                <span className={styles.imageViewerCounter}>\n                  {currentIndex + 1} / {images.length}\n                </span>\n                <div className={styles.imageViewerDivider} />\n              </>\n            )}\n\n            {/* Zoom out */}\n            <button\n              className={styles.imageViewerTool}\n              onClick={handleZoomOut}\n              aria-label=\"Zoom out\"\n              type=\"button\"\n              disabled={zoom <= minZoom}\n            >\n              <ZoomOut />\n            </button>\n\n            {/* Zoom level */}\n            <span className={styles.imageViewerZoomLevel} aria-live=\"polite\">\n              {Math.round(zoom * 100)}%\n            </span>\n\n            {/* Zoom in */}\n            <button\n              className={styles.imageViewerTool}\n              onClick={handleZoomIn}\n              aria-label=\"Zoom in\"\n              type=\"button\"\n              disabled={zoom >= maxZoom}\n            >\n              <ZoomIn />\n            </button>\n\n            <div className={styles.imageViewerDivider} />\n\n            {/* Rotate left */}\n            <button\n              className={styles.imageViewerTool}\n              onClick={handleRotateLeft}\n              aria-label=\"Rotate counterclockwise\"\n              type=\"button\"\n            >\n              <RotateCcw />\n            </button>\n\n            {/* Rotate right */}\n            <button\n              className={styles.imageViewerTool}\n              onClick={handleRotateRight}\n              aria-label=\"Rotate clockwise\"\n              type=\"button\"\n            >\n              <RotateCw />\n            </button>\n\n            <div className={styles.imageViewerDivider} />\n\n            {/* Reset */}\n            <button\n              className={styles.imageViewerTool}\n              onClick={handleReset}\n              aria-label=\"Reset zoom and rotation\"\n              type=\"button\"\n            >\n              <Maximize2 />\n            </button>\n          </div>\n        )}\n\n        {/* Navigation arrows */}\n        {isGallery && navigation && (\n          <>\n            <button\n              className={`${styles.imageViewerNav} ${styles.imageViewerPrev}`}\n              onClick={navigatePrevious}\n              disabled={isPrevDisabled}\n              aria-label=\"Previous image\"\n              type=\"button\"\n            >\n              <ChevronLeft />\n            </button>\n\n            <button\n              className={`${styles.imageViewerNav} ${styles.imageViewerNext}`}\n              onClick={navigateNext}\n              disabled={isNextDisabled}\n              aria-label=\"Next image\"\n              type=\"button\"\n            >\n              <ChevronRight />\n            </button>\n          </>\n        )}\n\n        {/* Main image */}\n        <div className={styles.imageViewerMain}>\n          {loading && <div className={styles.imageViewerLoading} />}\n          <img\n            ref={imageRef}\n            src={currentImage.src}\n            alt={currentImage.alt}\n            draggable={false}\n            onLoad={handleImageLoad}\n            style={{\n              transform: `scale(${zoom}) rotate(${rotation}deg)`,\n              display: loading ? 'none' : 'block',\n            }}\n          />\n        </div>\n\n        {/* Thumbnail strip */}\n        {isGallery && thumbnails && (\n          <div className={styles.imageViewerThumbnails}>\n            {images.map((image, index) => (\n              <img\n                key={index}\n                src={image.thumbnail || image.src}\n                alt={`Thumbnail ${index + 1}`}\n                className={`${styles.imageViewerThumbnail} ${\n                  index === currentIndex ? styles.imageViewerThumbnailActive : ''\n                }`}\n                onClick={() => goToImage(index)}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  return createPortal(viewer, document.body);\n};\n\nImageViewer.displayName = 'ImageViewer';\n","import type { ReactNode, DragEvent } from 'react';\nimport { useState, useRef } from 'react';\nimport { ChevronUp, ChevronDown, GripVertical } from 'lucide-react';\nimport styles from './OrderList.module.css';\n\nexport interface OrderListItemProps {\n  /** Unique identifier for the item */\n  id?: string;\n  /** Item content */\n  children: ReactNode;\n  /** Leading icon */\n  icon?: ReactNode;\n  /** Trailing badge or status indicator */\n  badge?: ReactNode;\n  /** Whether the item is selected (when selectable) */\n  selected?: boolean;\n  /** Callback when selection changes */\n  onSelect?: (selected: boolean) => void;\n  /** Custom className */\n  className?: string;\n}\n\nexport interface OrderListProps {\n  /** List title */\n  title?: ReactNode;\n  /** Header actions */\n  actions?: ReactNode;\n  /** List items */\n  children: ReactNode;\n  /** Enable drag and drop */\n  draggable?: boolean;\n  /** Enable item selection with checkboxes */\n  selectable?: boolean;\n  /** Compact variant */\n  compact?: boolean;\n  /** Callback when order changes */\n  onReorder?: (items: ReactNode[]) => void;\n  /** Custom className */\n  className?: string;\n}\n\n/**\n * Order List Item Component\n *\n * Individual item in an OrderList that can be reordered.\n *\n * @example\n * ```tsx\n * <OrderList.Item icon={<CheckCircle />}>\n *   System Backup\n * </OrderList.Item>\n * ```\n */\nexport const OrderListItem = (_props: OrderListItemProps) => {\n  // This component is primarily for type safety and structure\n  // The actual rendering is handled by the parent OrderList\n  return null;\n};\n\nOrderListItem.displayName = 'OrderList.Item';\n\n/**\n * Order List Component\n *\n * A reorderable list with move up/down controls and optional drag-and-drop functionality.\n * Ideal for managing task priorities, automation rules, device order, and execution queues.\n *\n * @example\n * ```tsx\n * <OrderList title=\"Task Priority\" draggable>\n *   <OrderList.Item icon={<CheckCircle />}>System Backup</OrderList.Item>\n *   <OrderList.Item icon={<Shield />}>Security Update</OrderList.Item>\n *   <OrderList.Item icon={<Activity />}>Performance Check</OrderList.Item>\n * </OrderList>\n * ```\n *\n * @example\n * ```tsx\n * // With selection\n * <OrderList title=\"Device Priority\" selectable>\n *   <OrderList.Item icon={<Cpu />}>Main Controller</OrderList.Item>\n *   <OrderList.Item icon={<Thermometer />}>Temperature Sensor</OrderList.Item>\n * </OrderList>\n * ```\n */\nexport const OrderList = ({\n  title,\n  actions,\n  children,\n  draggable = false,\n  selectable = false,\n  compact = false,\n  onReorder,\n  className,\n}: OrderListProps) => {\n  // Convert children to array for manipulation\n  const childrenArray = Array.isArray(children) ? children : children ? [children] : [];\n\n  const [items, setItems] = useState<ReactNode[]>(childrenArray);\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\n  const dragOverIndex = useRef<number | null>(null);\n\n  // Update items when children change\n  const currentItems = childrenArray.length > 0 ? childrenArray : items;\n\n  const containerClasses = [\n    styles.orderList,\n    draggable && styles.orderListDraggable,\n    selectable && styles.orderListSelectable,\n    compact && styles.orderListCompact,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const moveItem = (fromIndex: number, toIndex: number) => {\n    if (toIndex < 0 || toIndex >= currentItems.length) return;\n\n    const newItems = [...currentItems];\n    const [movedItem] = newItems.splice(fromIndex, 1);\n    newItems.splice(toIndex, 0, movedItem);\n\n    setItems(newItems);\n    onReorder?.(newItems);\n  };\n\n  const handleMoveUp = (index: number) => {\n    moveItem(index, index - 1);\n  };\n\n  const handleMoveDown = (index: number) => {\n    moveItem(index, index + 1);\n  };\n\n  // Drag and Drop handlers\n  const handleDragStart = (e: DragEvent<HTMLLIElement>, index: number) => {\n    setDraggedIndex(index);\n    e.currentTarget.classList.add(styles.orderListItemDragging);\n  };\n\n  const handleDragEnd = (e: DragEvent<HTMLLIElement>) => {\n    e.currentTarget.classList.remove(styles.orderListItemDragging);\n    setDraggedIndex(null);\n    dragOverIndex.current = null;\n  };\n\n  const handleDragOver = (e: DragEvent<HTMLLIElement>, index: number) => {\n    e.preventDefault();\n    if (draggedIndex === null || draggedIndex === index) return;\n\n    dragOverIndex.current = index;\n  };\n\n  const handleDrop = (e: DragEvent<HTMLLIElement>, index: number) => {\n    e.preventDefault();\n    if (draggedIndex === null) return;\n\n    moveItem(draggedIndex, index);\n    setDraggedIndex(null);\n    dragOverIndex.current = null;\n  };\n\n  return (\n    <div className={containerClasses}>\n      {(title || actions) && (\n        <div className={styles.orderListHeader}>\n          {title && <h3>{title}</h3>}\n          {actions && <div className={styles.orderListHeaderActions}>{actions}</div>}\n        </div>\n      )}\n      <ul className={styles.orderListItems}>\n        {currentItems.map((child: any, index) => {\n          const itemProps = child?.props || {};\n          const isFirst = index === 0;\n          const isLast = index === currentItems.length - 1;\n\n          return (\n            <li\n              key={itemProps.id || index}\n              className={styles.orderListItem}\n              data-index={index}\n              draggable={draggable}\n              onDragStart={draggable ? (e) => handleDragStart(e, index) : undefined}\n              onDragEnd={draggable ? handleDragEnd : undefined}\n              onDragOver={draggable ? (e) => handleDragOver(e, index) : undefined}\n              onDrop={draggable ? (e) => handleDrop(e, index) : undefined}\n            >\n              {draggable && (\n                <div className={styles.orderListItemDragHandle}>\n                  <GripVertical size={16} />\n                </div>\n              )}\n\n              {selectable && (\n                <label className={styles.orderListItemCheckbox}>\n                  <input\n                    type=\"checkbox\"\n                    className=\"checkbox\"\n                    checked={itemProps.selected || false}\n                    onChange={(e) => itemProps.onSelect?.(e.target.checked)}\n                  />\n                </label>\n              )}\n\n              <div className={styles.orderListItemContent}>\n                {itemProps.icon && <span className={styles.orderListItemIcon}>{itemProps.icon}</span>}\n                <span>{itemProps.children}</span>\n                {itemProps.badge && itemProps.badge}\n              </div>\n\n              <div className={styles.orderListItemControls}>\n                <button\n                  className={`${styles.orderListBtn} ${styles.orderListBtnUp}`}\n                  onClick={() => handleMoveUp(index)}\n                  disabled={isFirst}\n                  aria-label=\"Move up\"\n                  type=\"button\"\n                >\n                  <ChevronUp size={16} />\n                </button>\n                <button\n                  className={`${styles.orderListBtn} ${styles.orderListBtnDown}`}\n                  onClick={() => handleMoveDown(index)}\n                  disabled={isLast}\n                  aria-label=\"Move down\"\n                  type=\"button\"\n                >\n                  <ChevronDown size={16} />\n                </button>\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nOrderList.displayName = 'OrderList';\n\n// Attach Item as static property\nOrderList.Item = OrderListItem;\n","import React from 'react';\nimport type { ReactNode } from 'react';\nimport { Info, CheckCircle, AlertTriangle, XCircle, X } from 'lucide-react';\nimport styles from './Alert.module.css';\n\nexport type AlertVariant = 'info' | 'success' | 'warning' | 'error';\n\nexport interface AlertProps {\n  variant?: AlertVariant;\n  title?: string;\n  children: ReactNode;\n  onClose?: () => void;\n  className?: string;\n}\n\nconst variantIcons = {\n  info: Info,\n  success: CheckCircle,\n  warning: AlertTriangle,\n  error: XCircle,\n};\n\nexport const Alert: React.FC<AlertProps> = ({\n  variant = 'info',\n  title,\n  children,\n  onClose,\n  className = '',\n}) => {\n  const Icon = variantIcons[variant];\n\n  return (\n    <div\n      className={`${styles.alert} ${styles[`alert-${variant}`]} ${className}`}\n      role=\"alert\"\n    >\n      <Icon className={styles['alert-icon']} />\n      <div className={styles['alert-content']}>\n        {title && <div className={styles['alert-title']}>{title}</div>}\n        <div>{children}</div>\n      </div>\n      {onClose && (\n        <button\n          className={styles['alert-close']}\n          onClick={onClose}\n          aria-label=\"Close alert\"\n        >\n          <X size={20} />\n        </button>\n      )}\n    </div>\n  );\n};\n\nAlert.displayName = 'Alert';\n","import React, { useEffect, memo, useCallback } from 'react';\nimport { Info, CheckCircle, AlertTriangle, XCircle, X } from 'lucide-react';\nimport styles from './Toast.module.css';\n\nexport type ToastVariant = 'info' | 'success' | 'warning' | 'error';\nexport type ToastPosition =\n  | 'top-right'\n  | 'top-left'\n  | 'top-center'\n  | 'bottom-right'\n  | 'bottom-left'\n  | 'bottom-center';\n\nexport interface ToastProps {\n  id?: string;\n  variant?: ToastVariant;\n  title?: string;\n  message: string;\n  duration?: number;\n  onClose?: () => void;\n}\n\nconst variantIcons = {\n  info: Info,\n  success: CheckCircle,\n  warning: AlertTriangle,\n  error: XCircle,\n};\n\nexport const Toast: React.FC<ToastProps> = memo(({\n  variant = 'info',\n  title,\n  message,\n  duration = 0,\n  onClose,\n}) => {\n  const Icon = variantIcons[variant];\n\n  useEffect(() => {\n    if (duration > 0 && onClose) {\n      const timer = setTimeout(() => {\n        onClose();\n      }, duration);\n\n      return () => clearTimeout(timer);\n    }\n  }, [duration, onClose]);\n\n  const handleClose = useCallback(() => {\n    onClose?.();\n  }, [onClose]);\n\n  return (\n    <div className={`${styles.toast} ${styles[`toast-${variant}`]}`} role=\"alert\">\n      <Icon className={styles['toast-icon']} size={20} />\n      <div className={styles['toast-content']}>\n        {title && <div className={styles['toast-title']}>{title}</div>}\n        <div className={styles['toast-message']}>{message}</div>\n      </div>\n      {onClose && (\n        <button\n          className={styles['toast-close']}\n          onClick={handleClose}\n          aria-label=\"Close toast\"\n        >\n          <X size={20} />\n        </button>\n      )}\n    </div>\n  );\n});\n\nToast.displayName = 'Toast';\n","import React from 'react';\nimport { CheckCircle, XCircle, AlertTriangle, Info, Loader2, X } from 'lucide-react';\nimport styles from './Message.module.css';\n\nexport type MessageType = 'success' | 'error' | 'warning' | 'info' | 'loading';\n\nexport interface MessageProps {\n  /** Type of message */\n  type: MessageType;\n  /** Message title */\n  title: string;\n  /** Optional description text */\n  description?: string;\n  /** Show close button */\n  closable?: boolean;\n  /** Callback when close button is clicked */\n  onClose?: () => void;\n  /** Additional CSS class */\n  className?: string;\n  /** Control visibility (for animations) */\n  visible?: boolean;\n}\n\nconst iconMap = {\n  success: CheckCircle,\n  error: XCircle,\n  warning: AlertTriangle,\n  info: Info,\n  loading: Loader2,\n};\n\n/**\n * Message - Global message notification\n *\n * Display global messages as feedback in response to user operations\n * at the top of the page.\n */\nexport const Message: React.FC<MessageProps> = ({\n  type,\n  title,\n  description,\n  closable = true,\n  onClose,\n  className = '',\n  visible = true,\n}) => {\n  const Icon = iconMap[type];\n\n  const messageClasses = [\n    styles.message,\n    styles[`message-${type}`],\n    visible && styles['message-visible'],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div\n      className={messageClasses}\n      role=\"alert\"\n      aria-live=\"polite\"\n      aria-atomic=\"true\"\n    >\n      <div className={styles['message-icon']}>\n        <Icon />\n      </div>\n\n      <div className={styles['message-content']}>\n        <div className={styles['message-title']}>{title}</div>\n        {description && (\n          <div className={styles['message-description']}>{description}</div>\n        )}\n      </div>\n\n      {closable && (\n        <button\n          className={styles['message-close']}\n          onClick={onClose}\n          aria-label=\"Close message\"\n        >\n          <X />\n        </button>\n      )}\n    </div>\n  );\n};\n\nMessage.displayName = 'Message';\n","import React, { useEffect, useRef, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { X } from 'lucide-react';\nimport styles from './Modal.module.css';\n\nexport interface ModalProps {\n  open: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n  size?: 'sm' | 'md' | 'lg' | 'full';\n  closeOnOverlayClick?: boolean;\n  closeOnEscape?: boolean;\n  className?: string;\n}\n\nexport interface ModalHeaderProps {\n  children: React.ReactNode;\n  onClose?: () => void;\n  showCloseButton?: boolean;\n  className?: string;\n}\n\nexport interface ModalBodyProps {\n  children: React.ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport interface ModalFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst Modal = ({\n  open,\n  onClose,\n  children,\n  size = 'md',\n  closeOnOverlayClick = true,\n  closeOnEscape = true,\n  className = '',\n}: ModalProps) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n  const previousActiveElement = useRef<HTMLElement | null>(null);\n\n  // Store the previously focused element\n  useEffect(() => {\n    if (open) {\n      previousActiveElement.current = document.activeElement as HTMLElement;\n    }\n  }, [open]);\n\n  // Handle escape key\n  useEffect(() => {\n    if (!open || !closeOnEscape) return;\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [open, closeOnEscape, onClose]);\n\n  // Prevent body scroll when modal is open\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n\n      // Focus the modal\n      if (modalRef.current) {\n        const firstFocusable = modalRef.current.querySelector<HTMLElement>(\n          'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n        );\n        if (firstFocusable) {\n          setTimeout(() => firstFocusable.focus(), 100);\n        }\n      }\n    } else {\n      document.body.style.overflow = '';\n\n      // Restore focus to the previously focused element\n      if (previousActiveElement.current) {\n        previousActiveElement.current.focus();\n      }\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  // Focus trap\n  useEffect(() => {\n    if (!open || !modalRef.current) return;\n\n    const handleTabKey = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab' || !modalRef.current) return;\n\n      const focusableElements = modalRef.current.querySelectorAll<HTMLElement>(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      if (e.shiftKey) {\n        if (document.activeElement === firstElement) {\n          e.preventDefault();\n          lastElement?.focus();\n        }\n      } else {\n        if (document.activeElement === lastElement) {\n          e.preventDefault();\n          firstElement?.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleTabKey);\n    return () => document.removeEventListener('keydown', handleTabKey);\n  }, [open]);\n\n  const handleOverlayClick = useCallback(\n    (e: React.MouseEvent<HTMLDivElement>) => {\n      if (closeOnOverlayClick && e.target === e.currentTarget) {\n        onClose();\n      }\n    },\n    [closeOnOverlayClick, onClose]\n  );\n\n  if (!open) return null;\n\n  const sizeClass = size === 'sm' ? styles.modalSm :\n                    size === 'lg' ? styles.modalLg :\n                    size === 'full' ? styles.modalFull : styles.modalMd;\n\n  return createPortal(\n    <div\n      className={styles.modalOverlay}\n      onClick={handleOverlayClick}\n      role=\"presentation\"\n    >\n      <div\n        ref={modalRef}\n        className={`${styles.modal} ${sizeClass} ${className}`}\n        role=\"dialog\"\n        aria-modal=\"true\"\n      >\n        {children}\n      </div>\n    </div>,\n    document.body\n  );\n};\n\nconst ModalHeader = ({\n  children,\n  onClose,\n  showCloseButton = true,\n  className = '',\n}: ModalHeaderProps) => {\n  return (\n    <div className={`${styles.modalHeader} ${className}`}>\n      {children}\n      {showCloseButton && onClose && (\n        <button\n          className={styles.modalClose}\n          onClick={onClose}\n          aria-label=\"Close\"\n        >\n          <X size={20} />\n        </button>\n      )}\n    </div>\n  );\n};\n\nconst ModalTitle = ({ children }: { children: React.ReactNode }) => {\n  return <h3 className={styles.modalTitle}>{children}</h3>;\n};\n\nconst ModalBody = ({ children, className = '', style }: ModalBodyProps) => {\n  return <div className={`${styles.modalBody} ${className}`} style={style}>{children}</div>;\n};\n\nconst ModalFooter = ({ children, className = '' }: ModalFooterProps) => {\n  return <div className={`${styles.modalFooter} ${className}`}>{children}</div>;\n};\n\nModal.displayName = 'Modal';\nModalHeader.displayName = 'ModalHeader';\nModalTitle.displayName = 'ModalTitle';\nModalBody.displayName = 'ModalBody';\nModalFooter.displayName = 'ModalFooter';\n\nexport { Modal, ModalHeader, ModalTitle, ModalBody, ModalFooter };\n","import { useEffect, useRef, useCallback } from 'react';\nimport type { ReactNode } from 'react';\nimport { createPortal } from 'react-dom';\nimport { X } from 'lucide-react';\nimport styles from './Drawer.module.css';\n\nexport interface DrawerProps {\n  /** Whether the drawer is open */\n  open: boolean;\n  /** Callback when drawer should close */\n  onClose: () => void;\n  /** Drawer placement */\n  placement?: 'left' | 'right' | 'top' | 'bottom';\n  /** Drawer size */\n  size?: 'sm' | 'md' | 'lg';\n  /** Close drawer when clicking overlay */\n  closeOnOverlayClick?: boolean;\n  /** Close drawer when pressing Escape */\n  closeOnEsc?: boolean;\n  /** Drawer content */\n  children: ReactNode;\n  /** Additional CSS class */\n  className?: string;\n  /** ARIA label for the drawer */\n  'aria-label'?: string;\n  /** ID of element that labels the drawer */\n  'aria-labelledby'?: string;\n}\n\nexport interface DrawerHeaderProps {\n  /** Header content */\n  children: ReactNode;\n  /** Show close button */\n  showClose?: boolean;\n  /** Callback when close button is clicked */\n  onClose?: () => void;\n  /** Additional CSS class */\n  className?: string;\n}\n\nexport interface DrawerBodyProps {\n  /** Body content */\n  children: ReactNode;\n  /** Additional CSS class */\n  className?: string;\n}\n\nexport interface DrawerFooterProps {\n  /** Footer content */\n  children: ReactNode;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Drawer Component\n *\n * Slide-in panel for navigation, filters, or additional content.\n * Supports four placements (left, right, top, bottom) and three sizes.\n *\n * @example\n * ```tsx\n * <Drawer open={isOpen} onClose={() => setIsOpen(false)} placement=\"right\">\n *   <Drawer.Header>Filters</Drawer.Header>\n *   <Drawer.Body>\n *     <p>Filter content here</p>\n *   </Drawer.Body>\n *   <Drawer.Footer>\n *     <Button onClick={() => setIsOpen(false)}>Apply</Button>\n *   </Drawer.Footer>\n * </Drawer>\n * ```\n */\nexport const Drawer = ({\n  open,\n  onClose,\n  placement = 'right',\n  size = 'md',\n  closeOnOverlayClick = true,\n  closeOnEsc = true,\n  children,\n  className,\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledby,\n}: DrawerProps) => {\n  const drawerRef = useRef<HTMLDivElement>(null);\n  const previousActiveElement = useRef<HTMLElement | null>(null);\n\n  // Handle overlay click\n  const handleOverlayClick = useCallback(\n    (e: React.MouseEvent<HTMLDivElement>) => {\n      if (closeOnOverlayClick && e.target === e.currentTarget) {\n        onClose();\n      }\n    },\n    [closeOnOverlayClick, onClose]\n  );\n\n  // Handle Escape key\n  useEffect(() => {\n    if (!open || !closeOnEsc) return;\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [open, closeOnEsc, onClose]);\n\n  // Prevent body scroll when drawer is open\n  useEffect(() => {\n    if (open) {\n      const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n      document.body.style.overflow = 'hidden';\n      document.body.style.paddingRight = `${scrollbarWidth}px`;\n    } else {\n      document.body.style.overflow = '';\n      document.body.style.paddingRight = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n      document.body.style.paddingRight = '';\n    };\n  }, [open]);\n\n  // Focus management\n  useEffect(() => {\n    if (open && drawerRef.current) {\n      // Store the previously focused element\n      previousActiveElement.current = document.activeElement as HTMLElement;\n\n      // Focus the first focusable element in the drawer\n      const focusableElements = drawerRef.current.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      const firstFocusable = focusableElements[0] as HTMLElement;\n      if (firstFocusable) {\n        firstFocusable.focus();\n      }\n    } else if (!open && previousActiveElement.current) {\n      // Return focus to the trigger element\n      previousActiveElement.current.focus();\n      previousActiveElement.current = null;\n    }\n  }, [open]);\n\n  // Focus trap\n  useEffect(() => {\n    if (!open || !drawerRef.current) return;\n\n    const handleTab = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab' || !drawerRef.current) return;\n\n      const focusableElements = Array.from(\n        drawerRef.current.querySelectorAll(\n          'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n        )\n      ) as HTMLElement[];\n\n      const firstFocusable = focusableElements[0];\n      const lastFocusable = focusableElements[focusableElements.length - 1];\n\n      if (e.shiftKey) {\n        // Shift + Tab\n        if (document.activeElement === firstFocusable) {\n          e.preventDefault();\n          lastFocusable?.focus();\n        }\n      } else {\n        // Tab\n        if (document.activeElement === lastFocusable) {\n          e.preventDefault();\n          firstFocusable?.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleTab);\n    return () => document.removeEventListener('keydown', handleTab);\n  }, [open]);\n\n  if (!open) return null;\n\n  const containerClasses = [\n    styles.drawer,\n    styles[`drawer-${placement}`],\n    size !== 'md' && styles[`drawer-${size}`],\n    open && styles.drawerOpen,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const drawerContent = (\n    <div className={containerClasses}>\n      <div className={styles.drawerOverlay} onClick={handleOverlayClick} />\n      <div\n        ref={drawerRef}\n        className={styles.drawerContent}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledby}\n      >\n        {children}\n      </div>\n    </div>\n  );\n\n  return createPortal(drawerContent, document.body);\n};\n\n/**\n * Drawer Header Component\n *\n * Contains the drawer title and close button.\n */\nconst DrawerHeader = ({\n  children,\n  showClose = true,\n  onClose,\n  className,\n}: DrawerHeaderProps) => {\n  const headerClasses = [styles.drawerHeader, className].filter(Boolean).join(' ');\n\n  return (\n    <div className={headerClasses}>\n      <div className={styles.drawerTitle}>{children}</div>\n      {showClose && onClose && (\n        <button\n          className={styles.drawerClose}\n          onClick={onClose}\n          aria-label=\"Close drawer\"\n          type=\"button\"\n        >\n          <X />\n        </button>\n      )}\n    </div>\n  );\n};\n\n/**\n * Drawer Body Component\n *\n * Contains the main drawer content with scrolling support.\n */\nconst DrawerBody = ({ children, className }: DrawerBodyProps) => {\n  const bodyClasses = [styles.drawerBody, className].filter(Boolean).join(' ');\n\n  return <div className={bodyClasses}>{children}</div>;\n};\n\n/**\n * Drawer Footer Component\n *\n * Contains action buttons or additional controls.\n */\nconst DrawerFooter = ({ children, className }: DrawerFooterProps) => {\n  const footerClasses = [styles.drawerFooter, className].filter(Boolean).join(' ');\n\n  return <div className={footerClasses}>{children}</div>;\n};\n\nDrawer.Header = DrawerHeader;\nDrawer.Body = DrawerBody;\nDrawer.Footer = DrawerFooter;\nDrawer.displayName = 'Drawer';\nDrawerHeader.displayName = 'Drawer.Header';\nDrawerBody.displayName = 'Drawer.Body';\nDrawerFooter.displayName = 'Drawer.Footer';\n","import React from 'react';\nimport styles from './Progress.module.css';\n\nexport interface ProgressProps {\n  children?: React.ReactNode;\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\nexport interface ProgressBarProps {\n  value?: number;\n  variant?: 'primary' | 'success' | 'warning' | 'error';\n  indeterminate?: boolean;\n  striped?: boolean;\n  animated?: boolean;\n  className?: string;\n  'aria-label'?: string;\n}\n\nexport interface ProgressCircularProps {\n  value: number;\n  size?: number;\n  strokeWidth?: number;\n  variant?: 'primary' | 'success' | 'warning' | 'error';\n  showLabel?: boolean;\n  className?: string;\n  'aria-label'?: string;\n}\n\nexport interface ProgressSpinnerProps {\n  size?: 'sm' | 'md' | 'lg';\n  variant?: 'primary' | 'success' | 'warning' | 'error' | 'danger';\n  className?: string;\n  'aria-label'?: string;\n}\n\nconst Progress = ({\n  children,\n  size = 'md',\n  className = '',\n}: ProgressProps) => {\n  const sizeClass = size === 'sm' ? styles.progressSm :\n                    size === 'lg' ? styles.progressLg :\n                    styles.progressMd;\n\n  return (\n    <div className={`${styles.progress} ${sizeClass} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst ProgressBar = ({\n  value = 0,\n  variant = 'primary',\n  indeterminate = false,\n  striped = false,\n  animated = false,\n  className = '',\n  'aria-label': ariaLabel,\n}: ProgressBarProps) => {\n  const variantClass = variant === 'success' ? styles.progressBarSuccess :\n                       variant === 'warning' ? styles.progressBarWarning :\n                       variant === 'error' ? styles.progressBarError :\n                       '';\n\n  const stripedClass = striped ? styles.progressBarStriped : '';\n  const animatedClass = animated ? styles.progressBarAnimated : '';\n  const indeterminateClass = indeterminate ? styles.progressBarIndeterminate : '';\n\n  const style = indeterminate ? {} : { width: `${Math.min(100, Math.max(0, value))}%` };\n\n  return (\n    <div\n      className={`${styles.progressBar} ${variantClass} ${stripedClass} ${animatedClass} ${indeterminateClass} ${className}`}\n      style={style}\n      role=\"progressbar\"\n      aria-valuenow={indeterminate ? undefined : value}\n      aria-valuemin={0}\n      aria-valuemax={100}\n      aria-label={ariaLabel}\n    />\n  );\n};\n\nconst ProgressCircular = ({\n  value,\n  size = 120,\n  strokeWidth = 8,\n  variant = 'primary',\n  showLabel = true,\n  className = '',\n  'aria-label': ariaLabel,\n}: ProgressCircularProps) => {\n  const radius = (size - strokeWidth) / 2;\n  const circumference = 2 * Math.PI * radius;\n  const offset = circumference - (value / 100) * circumference;\n\n  const variantColor = variant === 'success' ? 'var(--color-success-500)' :\n                       variant === 'warning' ? 'var(--color-warning-500)' :\n                       variant === 'error' ? 'var(--color-error-500)' :\n                       'var(--color-primary-500)';\n\n  return (\n    <div\n      className={`${styles.progressCircular} ${className}`}\n      role=\"progressbar\"\n      aria-valuenow={value}\n      aria-valuemin={0}\n      aria-valuemax={100}\n      aria-label={ariaLabel}\n    >\n      <svg width={size} height={size} viewBox={`0 0 ${size} ${size}`}>\n        <circle\n          className={styles.progressCircularTrack}\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          strokeWidth={strokeWidth}\n        />\n        <circle\n          className={styles.progressCircularBar}\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          strokeWidth={strokeWidth}\n          stroke={variantColor}\n          strokeDasharray={circumference}\n          strokeDashoffset={offset}\n          transform={`rotate(-90 ${size / 2} ${size / 2})`}\n        />\n        {showLabel && (\n          <text\n            x=\"50%\"\n            y=\"50%\"\n            dominantBaseline=\"middle\"\n            textAnchor=\"middle\"\n            fontSize={size > 80 ? 24 : 16}\n            fontWeight=\"600\"\n            fill=\"var(--text-primary)\"\n          >\n            {Math.round(value)}%\n          </text>\n        )}\n      </svg>\n    </div>\n  );\n};\n\nconst ProgressSpinner = ({\n  size = 'md',\n  variant = 'primary',\n  className = '',\n  'aria-label': ariaLabel = 'Loading',\n}: ProgressSpinnerProps) => {\n  const sizeClass = size === 'sm' ? styles.progressSpinnerSm :\n                    size === 'lg' ? styles.progressSpinnerLg :\n                    styles.progressSpinnerMd;\n\n  const variantClass = variant === 'success' ? styles.progressSpinnerSuccess :\n                       variant === 'warning' ? styles.progressSpinnerWarning :\n                       variant === 'danger' || variant === 'error' ? styles.progressSpinnerDanger :\n                       styles.progressSpinnerPrimary;\n\n  return (\n    <div\n      className={`${styles.progressSpinner} ${sizeClass} ${variantClass} ${className}`}\n      role=\"status\"\n      aria-label={ariaLabel}\n    >\n      <div className={styles.progressSpinnerCircle} />\n    </div>\n  );\n};\n\nexport { Progress, ProgressBar, ProgressCircular, ProgressSpinner };\n","import React from 'react';\nimport styles from './Skeleton.module.css';\n\n// ===== Types =====\n\nexport type SkeletonVariant = 'line' | 'rect' | 'circle';\nexport type SkeletonAnimation = 'shimmer' | 'pulse';\n\nexport interface SkeletonProps {\n  variant?: SkeletonVariant;\n  width?: string | number;\n  height?: string | number;\n  animation?: SkeletonAnimation;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\n// ===== Skeleton Component =====\n\nexport const Skeleton: React.FC<SkeletonProps> = ({\n  variant = 'line',\n  width,\n  height,\n  animation = 'shimmer',\n  className = '',\n  style = {},\n}) => {\n  const skeletonClasses = [\n    styles.skeleton,\n    styles[`skeleton${variant.charAt(0).toUpperCase()}${variant.slice(1)}`],\n    animation === 'pulse' && styles.skeletonPulse,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const skeletonStyle: React.CSSProperties = {\n    ...style,\n    width: typeof width === 'number' ? `${width}px` : width,\n    height: typeof height === 'number' ? `${height}px` : height,\n  };\n\n  return <div className={skeletonClasses} style={skeletonStyle} />;\n};\n","import React from 'react';\nimport styles from './Spin.module.css';\n\nexport type SpinSize = 'sm' | 'md' | 'lg';\nexport type SpinVariant = 'circle' | 'dots' | 'pulse' | 'bars';\n\nexport interface SpinProps {\n  /** Size of the spinner */\n  size?: SpinSize;\n  /** Visual variant of the spinner */\n  variant?: SpinVariant;\n  /** Display as inline element (for buttons) */\n  inline?: boolean;\n  /** Loading text below spinner */\n  text?: string;\n  /** Additional CSS class */\n  className?: string;\n  /** Accessible label for screen readers */\n  'aria-label'?: string;\n}\n\nexport interface SpinContainerProps {\n  /** Size of the spinner */\n  size?: SpinSize;\n  /** Visual variant of the spinner */\n  variant?: SpinVariant;\n  /** Loading text below spinner */\n  text: string;\n  /** Additional CSS class */\n  className?: string;\n  /** Accessible label for screen readers */\n  'aria-label'?: string;\n}\n\nexport interface SpinOverlayProps {\n  /** Size of the spinner */\n  size?: SpinSize;\n  /** Visual variant of the spinner */\n  variant?: SpinVariant;\n  /** Loading text below spinner */\n  text: string;\n  /** Additional CSS class */\n  className?: string;\n}\n\nexport interface SpinFullscreenProps {\n  /** Size of the spinner */\n  size?: SpinSize;\n  /** Visual variant of the spinner */\n  variant?: SpinVariant;\n  /** Loading text below spinner */\n  text: string;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Spin - Loading indicator component\n *\n * Simple spinner for loading states.\n */\nexport const Spin: React.FC<SpinProps> = ({\n  size = 'md',\n  variant = 'circle',\n  inline = false,\n  text,\n  className = '',\n  'aria-label': ariaLabel,\n}) => {\n  const spinnerClasses = [\n    styles.spin,\n    size !== 'md' && styles[`spin-${size}`],\n    variant !== 'circle' && styles[`spin-${variant}`],\n    inline && styles['spin-inline'],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const renderSpinner = () => {\n    if (variant === 'dots') {\n      return (\n        <div className={spinnerClasses} role=\"status\" aria-label={ariaLabel || 'Loading'}>\n          <span className={styles['spin-dot']}></span>\n          <span className={styles['spin-dot']}></span>\n          <span className={styles['spin-dot']}></span>\n        </div>\n      );\n    }\n\n    if (variant === 'bars') {\n      return (\n        <div className={spinnerClasses} role=\"status\" aria-label={ariaLabel || 'Loading'}>\n          <span className={styles['spin-bar']}></span>\n          <span className={styles['spin-bar']}></span>\n          <span className={styles['spin-bar']}></span>\n        </div>\n      );\n    }\n\n    return (\n      <div className={spinnerClasses} role=\"status\" aria-label={ariaLabel || 'Loading'} />\n    );\n  };\n\n  if (text) {\n    return (\n      <div className={styles['spin-container']}>\n        {renderSpinner()}\n        <div className={styles['spin-text']}>{text}</div>\n      </div>\n    );\n  }\n\n  return renderSpinner();\n};\n\n/**\n * SpinContainer - Spinner with text in a centered container\n */\nexport const SpinContainer: React.FC<SpinContainerProps> = ({\n  size = 'md',\n  variant = 'circle',\n  text,\n  className = '',\n  'aria-label': ariaLabel,\n}) => {\n  return (\n    <div className={`${styles['spin-container']} ${className}`}>\n      <Spin size={size} variant={variant} aria-label={ariaLabel} />\n      <div className={styles['spin-text']}>{text}</div>\n    </div>\n  );\n};\n\n/**\n * SpinOverlay - Overlay loading state for content containers\n */\nexport const SpinOverlay: React.FC<SpinOverlayProps> = ({\n  size = 'lg',\n  variant = 'circle',\n  text,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles['spin-overlay']} ${className}`}>\n      <SpinContainer size={size} variant={variant} text={text} />\n    </div>\n  );\n};\n\n/**\n * SpinFullscreen - Full page loading overlay\n */\nexport const SpinFullscreen: React.FC<SpinFullscreenProps> = ({\n  size = 'lg',\n  variant = 'circle',\n  text,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles['spin-fullscreen']} ${className}`}>\n      <SpinContainer size={size} variant={variant} text={text} />\n    </div>\n  );\n};\n\nSpin.displayName = 'Spin';\nSpinContainer.displayName = 'SpinContainer';\nSpinOverlay.displayName = 'SpinOverlay';\nSpinFullscreen.displayName = 'SpinFullscreen';\n","import React from 'react';\nimport type { ReactNode } from 'react';\nimport { CheckCircle, XCircle, AlertTriangle, Info } from 'lucide-react';\nimport styles from './Result.module.css';\n\nexport interface ResultExtraItem {\n  label: string;\n  value: ReactNode;\n}\n\nexport interface ResultProps {\n  /** Status variant */\n  status?: 'success' | 'error' | 'warning' | 'info';\n  /** Title text */\n  title: ReactNode;\n  /** Description text */\n  description?: ReactNode;\n  /** Custom icon (overrides default status icon) */\n  icon?: ReactNode;\n  /** Extra information items */\n  extra?: ResultExtraItem[] | ReactNode;\n  /** Action buttons */\n  actions?: ReactNode;\n  /** Compact size */\n  compact?: boolean;\n  /** Additional CSS class */\n  className?: string;\n}\n\nconst DEFAULT_ICONS = {\n  success: <CheckCircle />,\n  error: <XCircle />,\n  warning: <AlertTriangle />,\n  info: <Info />,\n};\n\nconst ICON_LABELS = {\n  success: 'Success status',\n  error: 'Error indicator',\n  warning: 'Warning indicator',\n  info: 'Information',\n};\n\n/**\n * Result Component\n *\n * Used to provide feedback on the result of a task or process.\n * Displays success, error, warning, or info status with icon, title, description, and actions.\n *\n * @example\n * ```tsx\n * <Result\n *   status=\"success\"\n *   title=\"Payment Successful\"\n *   description=\"Your order has been placed successfully.\"\n *   actions={<Button>View Order</Button>}\n * />\n * ```\n */\nexport const Result: React.FC<ResultProps> = ({\n  status,\n  title,\n  description,\n  icon,\n  extra,\n  actions,\n  compact = false,\n  className,\n}) => {\n  const displayIcon = icon || (status ? DEFAULT_ICONS[status] : null);\n\n  // Determine ARIA role and live region based on status\n  const ariaRole = status === 'error' ? 'alert' : 'status';\n  const ariaLive = status === 'error' ? 'assertive' : 'polite';\n\n  const containerClasses = [\n    styles.result,\n    status && styles[status],\n    compact && styles.compact,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const renderExtra = () => {\n    if (!extra) return null;\n\n    // If extra is an array of ResultExtraItem\n    if (Array.isArray(extra)) {\n      return (\n        <div className={styles.extra}>\n          {extra.map((item, index) => (\n            <div key={index} className={styles.infoItem}>\n              <span className={styles.infoLabel}>{item.label}</span>\n              <span className={styles.infoValue}>{item.value}</span>\n            </div>\n          ))}\n        </div>\n      );\n    }\n\n    // If extra is custom ReactNode\n    return <div className={styles.extra}>{extra}</div>;\n  };\n\n  return (\n    <div\n      className={containerClasses}\n      role={ariaRole}\n      aria-live={ariaLive}\n    >\n      {displayIcon && (\n        <div\n          className={styles.icon}\n          aria-label={status ? ICON_LABELS[status] : undefined}\n          aria-hidden={!status}\n        >\n          {displayIcon}\n        </div>\n      )}\n\n      <h3 className={styles.title}>{title}</h3>\n\n      {description && <p className={styles.description}>{description}</p>}\n\n      {renderExtra()}\n\n      {actions && <div className={styles.actions}>{actions}</div>}\n    </div>\n  );\n};\n\nResult.displayName = 'Result';\n","import React from 'react';\nimport styles from './EmptyState.module.css';\n\n// ===== Types =====\n\nexport type EmptyStateSize = 'default' | 'compact';\n\nexport interface EmptyStateProps {\n  icon?: React.ReactNode;\n  title: string;\n  description?: string;\n  actions?: React.ReactNode;\n  size?: EmptyStateSize;\n  className?: string;\n  children?: React.ReactNode;\n}\n\n// ===== EmptyState Component =====\n\nexport const EmptyState: React.FC<EmptyStateProps> = ({\n  icon,\n  title,\n  description,\n  actions,\n  size = 'default',\n  className = '',\n  children,\n}) => {\n  const emptyStateClasses = [\n    styles.emptyState,\n    size === 'compact' && styles.emptyStateCompact,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={emptyStateClasses}>\n      {icon && <div className={styles.emptyStateIcon}>{icon}</div>}\n      <h3 className={styles.emptyStateTitle}>{title}</h3>\n      {description && <p className={styles.emptyStateDescription}>{description}</p>}\n      {actions && <div className={styles.emptyStateActions}>{actions}</div>}\n      {children}\n    </div>\n  );\n};\n","import type { ReactNode, MouseEvent } from 'react';\nimport { useState, useRef, useEffect, cloneElement, isValidElement } from 'react';\nimport { Button } from '../Button';\nimport styles from './Popconfirm.module.css';\n\nexport type PopconfirmPlacement = 'top' | 'bottom' | 'left' | 'right';\nexport type PopconfirmIconType = 'info' | 'success' | 'warning' | 'danger';\n\nexport interface PopconfirmProps {\n  /** Confirmation title */\n  title: ReactNode;\n  /** Confirmation description */\n  description?: ReactNode;\n  /** Icon to display */\n  icon?: ReactNode;\n  /** Icon type for default styling */\n  iconType?: PopconfirmIconType;\n  /** Confirm button text */\n  okText?: ReactNode;\n  /** Cancel button text */\n  cancelText?: ReactNode;\n  /** Confirm button type */\n  okType?: 'primary' | 'success' | 'danger' | 'warning';\n  /** Placement position */\n  placement?: PopconfirmPlacement;\n  /** Trigger element */\n  children: ReactNode;\n  /** Confirm callback */\n  onConfirm?: () => void | Promise<void>;\n  /** Cancel callback */\n  onCancel?: () => void;\n  /** Open state (controlled) */\n  open?: boolean;\n  /** Open state change callback */\n  onOpenChange?: (open: boolean) => void;\n  /** Disabled state */\n  disabled?: boolean;\n  /** ARIA label */\n  'aria-label'?: string;\n}\n\n/**\n * Popconfirm Component\n *\n * Confirmation popup for user actions with confirm/cancel options.\n * Ideal for destructive actions, critical state changes, and preventing accidental clicks.\n *\n * @example\n * ```tsx\n * <Popconfirm\n *   title=\"Are you sure?\"\n *   description=\"This action cannot be undone.\"\n *   onConfirm={() => console.log('Confirmed')}\n * >\n *   <button className=\"btn btn-danger\">Delete</button>\n * </Popconfirm>\n * ```\n *\n * @example\n * ```tsx\n * // With icon and custom buttons\n * <Popconfirm\n *   title=\"Delete device?\"\n *   description=\"This will permanently delete the device.\"\n *   icon={<Trash2 />}\n *   iconType=\"danger\"\n *   okText=\"Delete\"\n *   cancelText=\"Cancel\"\n *   okType=\"danger\"\n *   onConfirm={async () => await deleteDevice()}\n * >\n *   <button className=\"btn btn-danger\">Delete Device</button>\n * </Popconfirm>\n * ```\n */\nexport const Popconfirm = ({\n  title,\n  description,\n  icon,\n  iconType = 'warning',\n  okText = 'OK',\n  cancelText = 'Cancel',\n  okType = 'primary',\n  placement = 'bottom',\n  children,\n  onConfirm,\n  onCancel,\n  open: controlledOpen,\n  onOpenChange,\n  disabled = false,\n  'aria-label': ariaLabel,\n}: PopconfirmProps) => {\n  const [uncontrolledOpen, setUncontrolledOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const previousFocusRef = useRef<HTMLElement | null>(null);\n\n  // Determine if controlled or uncontrolled\n  const isControlled = controlledOpen !== undefined;\n  const isOpen = isControlled ? controlledOpen : uncontrolledOpen;\n\n  const setIsOpen = (open: boolean) => {\n    if (!isControlled) {\n      setUncontrolledOpen(open);\n    }\n    onOpenChange?.(open);\n  };\n\n  // Handle click outside\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (event: Event) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen]);\n\n  // Handle Escape key\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        setIsOpen(false);\n        onCancel?.();\n        // Return focus to trigger\n        if (previousFocusRef.current) {\n          previousFocusRef.current.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, onCancel]);\n\n  const handleTriggerClick = (e: MouseEvent) => {\n    if (disabled) return;\n    e.preventDefault();\n    previousFocusRef.current = e.currentTarget as HTMLElement;\n    setIsOpen(!isOpen);\n  };\n\n  const handleCancel = (e: MouseEvent) => {\n    e.stopPropagation();\n    setIsOpen(false);\n    onCancel?.();\n    // Return focus to trigger\n    if (previousFocusRef.current) {\n      previousFocusRef.current.focus();\n    }\n  };\n\n  const handleConfirm = async (e: MouseEvent) => {\n    e.stopPropagation();\n\n    if (onConfirm) {\n      setLoading(true);\n      try {\n        await onConfirm();\n        setIsOpen(false);\n        // Return focus to trigger after action\n        if (previousFocusRef.current) {\n          previousFocusRef.current.focus();\n        }\n      } catch (error) {\n        console.error('Popconfirm onConfirm error:', error);\n      } finally {\n        setLoading(false);\n      }\n    } else {\n      setIsOpen(false);\n    }\n  };\n\n  // Clone trigger element and add onClick\n  const trigger = isValidElement(children)\n    ? cloneElement(children as React.ReactElement<any>, {\n        onClick: (e: MouseEvent) => {\n          handleTriggerClick(e);\n          // Call original onClick if it exists\n          const originalOnClick = (children as any).props?.onClick;\n          if (originalOnClick) {\n            originalOnClick(e);\n          }\n        },\n      })\n    : children;\n\n  const placementClass = {\n    top: styles.popconfirmTop,\n    bottom: '', // default\n    left: styles.popconfirmLeft,\n    right: styles.popconfirmRight,\n  }[placement];\n\n  const iconClass = icon ? '' : styles[`popconfirmIcon${iconType.charAt(0).toUpperCase()}${iconType.slice(1)}`];\n\n  return (\n    <div className={styles.popconfirmContainer} ref={containerRef}>\n      {trigger}\n      <div\n        className={`${styles.popconfirm} ${placementClass} ${isOpen ? styles.popconfirmShow : ''}`}\n        role=\"alertdialog\"\n        aria-modal=\"true\"\n        aria-label={ariaLabel || (typeof title === 'string' ? title : 'Confirm action')}\n      >\n        <div className={styles.popconfirmContent}>\n          <div className={styles.popconfirmMessage}>\n            {icon && <span className={`${styles.popconfirmIcon} ${iconClass}`}>{icon}</span>}\n            <div>\n              <div className={styles.popconfirmTitle}>{title}</div>\n              {description && <div className={styles.popconfirmDescription}>{description}</div>}\n            </div>\n          </div>\n          <div className={styles.popconfirmActions}>\n            <Button\n              variant=\"secondary\"\n              size=\"sm\"\n              onClick={handleCancel}\n              disabled={loading}\n            >\n              {cancelText}\n            </Button>\n            <Button\n              variant={okType}\n              size=\"sm\"\n              onClick={handleConfirm}\n              disabled={loading}\n              loading={loading}\n              autoFocus\n            >\n              {okText}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nPopconfirm.displayName = 'Popconfirm';\n","import React, { useState, useRef, useEffect } from 'react';\nimport type { ReactNode, HTMLAttributes, AnchorHTMLAttributes, ButtonHTMLAttributes } from 'react';\nimport styles from './Menu.module.css';\n\n// Menu Container Component\nexport interface MenuProps extends HTMLAttributes<HTMLDivElement> {\n  trigger: ReactNode;\n  children: ReactNode;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  align?: 'left' | 'right';\n  wide?: boolean;\n  className?: string;\n}\n\nexport const Menu: React.FC<MenuProps> = ({\n  trigger,\n  children,\n  open: controlledOpen,\n  onOpenChange,\n  align = 'left',\n  wide = false,\n  className = '',\n  ...props\n}) => {\n  const [uncontrolledOpen, setUncontrolledOpen] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n  const isControlled = controlledOpen !== undefined;\n  const isOpen = isControlled ? controlledOpen : uncontrolledOpen;\n\n  const handleToggle = () => {\n    const newOpen = !isOpen;\n    if (!isControlled) {\n      setUncontrolledOpen(newOpen);\n    }\n    onOpenChange?.(newOpen);\n  };\n\n  const handleClose = () => {\n    if (!isControlled) {\n      setUncontrolledOpen(false);\n    }\n    onOpenChange?.(false);\n  };\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        handleClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const containerClass = [styles['menu-container'], className].filter(Boolean).join(' ');\n\n  const menuClass = [\n    styles.menu,\n    wide && styles['menu-wide'],\n    align === 'right' && styles['menu-right'],\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={containerClass} ref={menuRef} {...props}>\n      <div onClick={handleToggle}>{trigger}</div>\n      {isOpen && <div className={menuClass}>{children}</div>}\n    </div>\n  );\n};\n\n// MenuItem Component\nexport interface MenuItemProps\n  extends Omit<AnchorHTMLAttributes<HTMLAnchorElement>, 'onClick'> {\n  children: ReactNode;\n  icon?: ReactNode;\n  shortcut?: string;\n  danger?: boolean;\n  disabled?: boolean;\n  onClick?: (event: React.MouseEvent<HTMLAnchorElement>) => void;\n  className?: string;\n  as?: 'a' | 'button';\n}\n\nexport const MenuItem: React.FC<MenuItemProps> = ({\n  children,\n  icon,\n  shortcut,\n  danger = false,\n  disabled = false,\n  onClick,\n  className = '',\n  as = 'a',\n  ...props\n}) => {\n  const itemClass = [\n    styles['menu-item'],\n    danger && styles['menu-item-danger'],\n    disabled && styles['menu-item-disabled'],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const handleClick = (e: React.MouseEvent<HTMLAnchorElement>) => {\n    if (disabled) {\n      e.preventDefault();\n      return;\n    }\n    onClick?.(e);\n  };\n\n  const content = (\n    <>\n      {icon && <span className={styles['menu-item-icon']}>{icon}</span>}\n      <span>{children}</span>\n      {shortcut && <span className={styles['menu-shortcut']}>{shortcut}</span>}\n    </>\n  );\n\n  if (as === 'button') {\n    return (\n      <button\n        className={itemClass}\n        onClick={handleClick as any}\n        disabled={disabled}\n        type=\"button\"\n        {...(props as ButtonHTMLAttributes<HTMLButtonElement>)}\n      >\n        {content}\n      </button>\n    );\n  }\n\n  return (\n    <a\n      className={itemClass}\n      onClick={handleClick}\n      href={disabled ? undefined : props.href || '#'}\n      {...props}\n    >\n      {content}\n    </a>\n  );\n};\n\n// MenuDivider Component\nexport interface MenuDividerProps {\n  className?: string;\n}\n\nexport const MenuDivider: React.FC<MenuDividerProps> = ({ className = '' }) => {\n  const dividerClass = [styles['menu-divider'], className].filter(Boolean).join(' ');\n  return <div className={dividerClass} />;\n};\n\n// MenuHeader Component\nexport interface MenuHeaderProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  className?: string;\n}\n\nexport const MenuHeader: React.FC<MenuHeaderProps> = ({ children, className = '', ...props }) => {\n  const headerClass = [styles['menu-header'], className].filter(Boolean).join(' ');\n  return (\n    <div className={headerClass} {...props}>\n      {children}\n    </div>\n  );\n};\n\n// Display names\nMenu.displayName = 'Menu';\nMenuItem.displayName = 'MenuItem';\nMenuDivider.displayName = 'MenuDivider';\nMenuHeader.displayName = 'MenuHeader';\n","import React, { useState, useRef, useEffect } from 'react';\nimport { X, Menu } from 'lucide-react';\nimport styles from './Navbar.module.css';\n\nexport interface NavbarProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface NavbarBrandProps {\n  children: React.ReactNode;\n  logo?: React.ReactNode;\n  className?: string;\n}\n\nexport interface NavbarNavProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface NavbarItemProps {\n  children: React.ReactNode;\n  href?: string;\n  active?: boolean;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface NavbarSearchProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface NavbarActionsProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface NavbarDropdownProps {\n  trigger: React.ReactNode;\n  children: React.ReactNode;\n  align?: 'left' | 'right';\n  className?: string;\n}\n\nexport interface NavbarDropdownItemProps {\n  children: React.ReactNode;\n  href?: string;\n  onClick?: () => void;\n  className?: string;\n}\n\nconst Navbar = ({ children, className = '' }: NavbarProps) => {\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  useEffect(() => {\n    if (isMobileMenuOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isMobileMenuOpen]);\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n  const closeMobileMenu = () => {\n    setIsMobileMenuOpen(false);\n  };\n\n  // Clone children and inject mobile menu state\n  const childrenWithProps = React.Children.map(children, (child) => {\n    if (React.isValidElement(child) && child.type === NavbarNav) {\n      return React.cloneElement(child as React.ReactElement<any>, {\n        isMobileMenuOpen,\n        onClose: closeMobileMenu,\n      });\n    }\n    return child;\n  });\n\n  return (\n    <>\n      <nav className={`${styles.navbar} ${className}`}>\n        {childrenWithProps}\n\n        {/* Mobile Hamburger Button */}\n        <button\n          className={styles.navbarHamburger}\n          onClick={toggleMobileMenu}\n          aria-label=\"Toggle navigation menu\"\n        >\n          {isMobileMenuOpen ? <X size={24} /> : <Menu size={24} />}\n        </button>\n      </nav>\n\n      {/* Mobile Backdrop */}\n      {isMobileMenuOpen && (\n        <div\n          className={`${styles.navbarBackdrop} ${isMobileMenuOpen ? styles.show : ''}`}\n          onClick={closeMobileMenu}\n        />\n      )}\n    </>\n  );\n};\n\nconst NavbarBrand = ({ children, logo, className = '' }: NavbarBrandProps) => {\n  return (\n    <div className={`${styles.navbarBrand} ${className}`}>\n      {logo}\n      {children && <span className={styles.navbarBrandText}>{children}</span>}\n    </div>\n  );\n};\n\ninterface NavbarNavInternalProps extends NavbarNavProps {\n  isMobileMenuOpen?: boolean;\n  onClose?: () => void;\n}\n\nconst NavbarNav = ({\n  children,\n  className = '',\n  isMobileMenuOpen = false,\n  onClose,\n}: NavbarNavInternalProps) => {\n  // Handle clicks on nav items to close mobile menu\n  const handleItemClick = () => {\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  // Clone children and inject click handler for mobile\n  const childrenWithProps = React.Children.map(children, (child) => {\n    if (React.isValidElement(child) && child.type === NavbarItem) {\n      return React.cloneElement(child as React.ReactElement<any>, {\n        onMobileClick: handleItemClick,\n      });\n    }\n    return child;\n  });\n\n  return (\n    <div\n      className={`${styles.navbarNav} ${isMobileMenuOpen ? styles.mobileMenuOpen : ''} ${className}`}\n    >\n      {childrenWithProps}\n    </div>\n  );\n};\n\ninterface NavbarItemInternalProps extends NavbarItemProps {\n  onMobileClick?: () => void;\n}\n\nconst NavbarItem = ({\n  children,\n  href,\n  active = false,\n  onClick,\n  onMobileClick,\n  className = ''\n}: NavbarItemInternalProps) => {\n  const handleClick = () => {\n    if (onClick) {\n      onClick();\n    }\n    if (onMobileClick) {\n      onMobileClick();\n    }\n  };\n\n  const classes = `${styles.navbarItem} ${active ? styles.active : ''} ${className}`;\n\n  if (href) {\n    return (\n      <a\n        href={href}\n        className={classes}\n        aria-current={active ? 'page' : undefined}\n        onClick={handleClick}\n      >\n        {children}\n      </a>\n    );\n  }\n\n  return (\n    <button\n      className={classes}\n      aria-current={active ? 'page' : undefined}\n      onClick={handleClick}\n    >\n      {children}\n    </button>\n  );\n};\n\nconst NavbarSearch = ({ children, className = '' }: NavbarSearchProps) => {\n  return (\n    <div className={`${styles.navbarSearch} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst NavbarActions = ({ children, className = '' }: NavbarActionsProps) => {\n  return (\n    <div className={`${styles.navbarActions} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst NavbarDropdown = ({\n  trigger,\n  children,\n  align = 'left',\n  className = ''\n}: NavbarDropdownProps) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('click', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const toggleDropdown = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <div className={`${styles.navbarDropdown} ${className}`} ref={dropdownRef}>\n      <div onClick={toggleDropdown}>\n        {trigger}\n      </div>\n      <div\n        className={`${styles.navbarDropdownMenu} ${align === 'right' ? styles.navbarDropdownMenuRight : ''} ${isOpen ? styles.show : ''}`}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nconst NavbarDropdownItem = ({\n  children,\n  href,\n  onClick,\n  className = ''\n}: NavbarDropdownItemProps) => {\n  if (href) {\n    return (\n      <a\n        href={href}\n        className={`${styles.navbarDropdownItem} ${className}`}\n        onClick={onClick}\n      >\n        {children}\n      </a>\n    );\n  }\n\n  return (\n    <button\n      className={`${styles.navbarDropdownItem} ${className}`}\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  );\n};\n\nconst NavbarDropdownDivider = () => {\n  return <div className={styles.navbarDropdownDivider} />;\n};\n\nexport {\n  Navbar,\n  NavbarBrand,\n  NavbarNav,\n  NavbarItem,\n  NavbarSearch,\n  NavbarActions,\n  NavbarDropdown,\n  NavbarDropdownItem,\n  NavbarDropdownDivider,\n};\n","import React, { useState, useEffect } from 'react';\nimport { X } from 'lucide-react';\nimport styles from './Navbar.module.css';\n\nexport interface SidebarProps {\n  children: React.ReactNode;\n  open?: boolean;\n  onClose?: () => void;\n  className?: string;\n}\n\nexport interface SidebarHeaderProps {\n  children: React.ReactNode;\n  logo?: React.ReactNode;\n  className?: string;\n}\n\nexport interface SidebarNavProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface SidebarItemProps {\n  children: React.ReactNode;\n  icon?: React.ReactNode;\n  badge?: React.ReactNode;\n  href?: string;\n  active?: boolean;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface SidebarFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst Sidebar = ({ children, open = false, onClose, className = '' }: SidebarProps) => {\n  const [isMobileOpen, setIsMobileOpen] = useState(open);\n\n  useEffect(() => {\n    setIsMobileOpen(open);\n  }, [open]);\n\n  useEffect(() => {\n    if (isMobileOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isMobileOpen]);\n\n  const handleClose = () => {\n    setIsMobileOpen(false);\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = () => {\n    handleClose();\n  };\n\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isMobileOpen) {\n        handleClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscapeKey);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [isMobileOpen]);\n\n  // Clone children and inject mobile close handler for items\n  const childrenWithProps = React.Children.map(children, (child) => {\n    if (React.isValidElement(child) && child.type === SidebarNav) {\n      return React.cloneElement(child as React.ReactElement<any>, {\n        onItemClick: handleClose,\n      });\n    }\n    return child;\n  });\n\n  return (\n    <>\n      <nav className={`${styles.sidebar} ${isMobileOpen ? styles.mobileOpen : ''} ${className}`}>\n        {/* Mobile Close Button */}\n        <button\n          className={styles.sidebarClose}\n          onClick={handleClose}\n          aria-label=\"Close sidebar\"\n        >\n          <X size={20} />\n        </button>\n\n        {childrenWithProps}\n      </nav>\n\n      {/* Sidebar Backdrop */}\n      {isMobileOpen && (\n        <div\n          className={`${styles.sidebarBackdrop} ${isMobileOpen ? styles.show : ''}`}\n          onClick={handleBackdropClick}\n        />\n      )}\n    </>\n  );\n};\n\nconst SidebarHeader = ({ children, logo, className = '' }: SidebarHeaderProps) => {\n  return (\n    <div className={`${styles.sidebarHeader} ${className}`}>\n      {logo}\n      {children}\n    </div>\n  );\n};\n\ninterface SidebarNavInternalProps extends SidebarNavProps {\n  onItemClick?: () => void;\n}\n\nconst SidebarNav = ({ children, className = '', onItemClick }: SidebarNavInternalProps) => {\n  // Clone children and inject click handler for mobile\n  const childrenWithProps = React.Children.map(children, (child) => {\n    if (React.isValidElement(child) && child.type === SidebarItem) {\n      return React.cloneElement(child as React.ReactElement<any>, {\n        onMobileClick: onItemClick,\n      });\n    }\n    return child;\n  });\n\n  return (\n    <div className={`${styles.sidebarNav} ${className}`}>\n      {childrenWithProps}\n    </div>\n  );\n};\n\ninterface SidebarItemInternalProps extends SidebarItemProps {\n  onMobileClick?: () => void;\n}\n\nconst SidebarItem = ({\n  children,\n  icon,\n  badge,\n  href,\n  active = false,\n  onClick,\n  onMobileClick,\n  className = ''\n}: SidebarItemInternalProps) => {\n  const handleClick = () => {\n    if (onClick) {\n      onClick();\n    }\n    if (onMobileClick) {\n      onMobileClick();\n    }\n  };\n\n  const classes = `${styles.sidebarItem} ${active ? styles.active : ''} ${className}`;\n\n  const content = (\n    <>\n      {icon}\n      <span>{children}</span>\n      {badge}\n    </>\n  );\n\n  if (href) {\n    return (\n      <a\n        href={href}\n        className={classes}\n        aria-current={active ? 'page' : undefined}\n        onClick={handleClick}\n      >\n        {content}\n      </a>\n    );\n  }\n\n  return (\n    <button\n      className={classes}\n      aria-current={active ? 'page' : undefined}\n      onClick={handleClick}\n    >\n      {content}\n    </button>\n  );\n};\n\nconst SidebarDivider = () => {\n  return <div className={styles.sidebarDivider} />;\n};\n\nconst SidebarFooter = ({ children, className = '' }: SidebarFooterProps) => {\n  return (\n    <div className={`${styles.sidebarFooter} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nexport {\n  Sidebar,\n  SidebarHeader,\n  SidebarNav,\n  SidebarItem,\n  SidebarDivider,\n  SidebarFooter,\n};\n","import { useState } from 'react';\nimport type { ReactNode } from 'react';\nimport styles from './Sidemenu.module.css';\n\nexport interface SidemenuItem {\n  /** Unique key */\n  key: string;\n  /** Display title */\n  title: string;\n  /** Icon before title */\n  icon?: ReactNode;\n  /** Link href */\n  href?: string;\n  /** Badge count or text */\n  badge?: ReactNode;\n  /** Nested child items */\n  children?: SidemenuItem[];\n  /** Disabled state */\n  disabled?: boolean;\n  /** Tooltip for collapsed mode */\n  tooltip?: string;\n}\n\nexport interface SidemenuGroup {\n  /** Group header text */\n  title: string;\n  /** Group icon */\n  icon?: ReactNode;\n  /** Group items */\n  items: SidemenuItem[];\n}\n\nexport interface SidemenuProps {\n  /** Menu items or grouped items */\n  items: (SidemenuItem | SidemenuGroup)[];\n  /** Active item key */\n  activeKey?: string;\n  /** Collapsed state (controlled) */\n  collapsed?: boolean;\n  /** Default collapsed state */\n  defaultCollapsed?: boolean;\n  /** Callback when collapsed changes */\n  onCollapse?: (collapsed: boolean) => void;\n  /** Callback when active item changes */\n  onSelect?: (key: string) => void;\n  /** Brand logo/icon */\n  brandIcon?: ReactNode;\n  /** Brand text */\n  brandText?: string;\n  /** User info */\n  userInfo?: {\n    name: string;\n    email?: string;\n    avatar?: string | ReactNode;\n  };\n  /** Show search */\n  showSearch?: boolean;\n  /** Search placeholder */\n  searchPlaceholder?: string;\n  /** Additional CSS classes */\n  className?: string;\n  /** Storage key for persistence */\n  storageKey?: string;\n}\n\nconst isGroup = (item: SidemenuItem | SidemenuGroup): item is SidemenuGroup => {\n  return 'items' in item && Array.isArray(item.items);\n};\n\n/**\n * Sidemenu - Enterprise-grade side navigation\n *\n * Features:\n * - Collapsible mode (280px  64px)\n * - Multi-level hierarchy\n * - Search functionality\n * - Group headers\n * - Persistent state\n *\n * @example\n * ```tsx\n * <Sidemenu\n *   items={[\n *     { key: 'dashboard', title: 'Dashboard', icon: <Home />, href: '#' }\n *   ]}\n *   brandText=\"IoT Platform\"\n *   defaultCollapsed={false}\n * />\n * ```\n */\nexport const Sidemenu = ({\n  items,\n  activeKey,\n  collapsed: controlledCollapsed,\n  defaultCollapsed = false,\n  onCollapse,\n  onSelect,\n  brandIcon,\n  brandText = 'App',\n  userInfo,\n  showSearch = false,\n  searchPlaceholder = 'Search menu...',\n  className = '',\n  storageKey = 'sidemenu-collapsed',\n}: SidemenuProps) => {\n  const [uncontrolledCollapsed, setUncontrolledCollapsed] = useState(() => {\n    if (storageKey && typeof window !== 'undefined') {\n      const stored = localStorage.getItem(storageKey);\n      return stored ? stored === 'true' : defaultCollapsed;\n    }\n    return defaultCollapsed;\n  });\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const [expandedKeys, setExpandedKeys] = useState<Set<string>>(new Set());\n\n  const isCollapsed =\n    controlledCollapsed !== undefined ? controlledCollapsed : uncontrolledCollapsed;\n\n  const handleToggleCollapse = () => {\n    const newCollapsed = !isCollapsed;\n    if (controlledCollapsed === undefined) {\n      setUncontrolledCollapsed(newCollapsed);\n      if (storageKey && typeof window !== 'undefined') {\n        localStorage.setItem(storageKey, String(newCollapsed));\n      }\n    }\n    onCollapse?.(newCollapsed);\n  };\n\n  const handleItemClick = (item: SidemenuItem, e: React.MouseEvent) => {\n    if (item.disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (item.children && item.children.length > 0) {\n      e.preventDefault();\n      setExpandedKeys((prev) => {\n        const next = new Set(prev);\n        if (next.has(item.key)) {\n          next.delete(item.key);\n        } else {\n          next.add(item.key);\n        }\n        return next;\n      });\n    } else {\n      onSelect?.(item.key);\n    }\n  };\n\n  const matchesSearch = (item: SidemenuItem, query: string): boolean => {\n    if (!query) return true;\n    const q = query.toLowerCase();\n    const titleMatch = item.title.toLowerCase().includes(q);\n    const childMatch =\n      item.children?.some((child) => matchesSearch(child, query)) || false;\n    return titleMatch || childMatch;\n  };\n\n  const renderMenuItem = (item: SidemenuItem, level = 0): ReactNode => {\n    if (!matchesSearch(item, searchQuery)) return null;\n\n    const isExpanded = expandedKeys.has(item.key);\n    const isActive = activeKey === item.key;\n    const hasChildren = item.children && item.children.length > 0;\n\n    const itemClass = [\n      styles.sidemenuItem,\n      isActive && styles.active,\n      hasChildren && styles.sidemenuItemParent,\n      isExpanded && styles.expanded,\n      level > 0 && styles.sidemenuItemChild,\n      item.disabled && styles.disabled,\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    const ItemTag = item.href ? 'a' : 'div';\n\n    return (\n      <div key={item.key}>\n        <ItemTag\n          href={item.href}\n          className={itemClass}\n          onClick={(e) => handleItemClick(item, e as any)}\n          data-tooltip={isCollapsed ? item.tooltip || item.title : undefined}\n          aria-current={isActive ? 'page' : undefined}\n          aria-expanded={hasChildren ? isExpanded : undefined}\n        >\n          {item.icon && <span className={styles.sidemenuIcon}>{item.icon}</span>}\n          <span className={styles.sidemenuLabel}>{item.title}</span>\n          {item.badge && <span className={styles.sidemenuBadge}>{item.badge}</span>}\n          {hasChildren && !isCollapsed && (\n            <span className={styles.sidemenuChevron}>\n              {isExpanded ? '' : ''}\n            </span>\n          )}\n        </ItemTag>\n\n        {hasChildren && !isCollapsed && isExpanded && (\n          <div className={styles.sidemenuSubmenu} data-level={level + 1}>\n            {item.children!.map((child) => renderMenuItem(child, level + 1))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const renderGroup = (group: SidemenuGroup): ReactNode => {\n    return (\n      <div key={group.title} className={styles.sidemenuGroupWrapper}>\n        <div className={styles.sidemenuGroupHeader}>\n          {group.icon && <span>{group.icon}</span>}\n          <span>{group.title}</span>\n        </div>\n        {group.items.map((item) => renderMenuItem(item))}\n      </div>\n    );\n  };\n\n  const renderUserAvatar = () => {\n    if (!userInfo) return null;\n\n    if (typeof userInfo.avatar === 'string') {\n      if (userInfo.avatar.startsWith('http')) {\n        return <img src={userInfo.avatar} alt={userInfo.name} />;\n      }\n      return <div className={styles.sidemenuUserAvatar}>{userInfo.avatar}</div>;\n    }\n\n    if (userInfo.avatar) {\n      return userInfo.avatar;\n    }\n\n    // Default to initials\n    const initials = userInfo.name\n      .split(' ')\n      .map((n) => n[0])\n      .join('')\n      .toUpperCase()\n      .slice(0, 2);\n\n    return <div className={styles.sidemenuUserAvatar}>{initials}</div>;\n  };\n\n  return (\n    <nav\n      className={`${styles.sidemenu} ${isCollapsed ? styles.collapsed : ''} ${className}`}\n      role=\"navigation\"\n      aria-label=\"Main navigation\"\n    >\n      {/* Header */}\n      <div className={styles.sidemenuHeader}>\n        {brandIcon && <span className={styles.sidemenuBrandIcon}>{brandIcon}</span>}\n        <span className={styles.sidemenuBrandText}>{brandText}</span>\n        <button\n          className={styles.sidemenuCollapseBtn}\n          onClick={handleToggleCollapse}\n          aria-label={isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n          aria-expanded={!isCollapsed}\n        >\n          <span>{isCollapsed ? '' : ''}</span>\n        </button>\n      </div>\n\n      {/* Search */}\n      {showSearch && !isCollapsed && (\n        <div className={styles.sidemenuSearch}>\n          <input\n            type=\"text\"\n            className={styles.sidemenuSearchInput}\n            placeholder={searchPlaceholder}\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            aria-label=\"Search menu\"\n          />\n        </div>\n      )}\n\n      {/* Navigation */}\n      <div className={styles.sidemenuNav}>\n        {items.map((item) => {\n          if (isGroup(item)) {\n            return renderGroup(item);\n          }\n          return renderMenuItem(item);\n        })}\n      </div>\n\n      {/* Footer */}\n      {userInfo && (\n        <div className={styles.sidemenuFooter}>\n          <div className={styles.sidemenuUser}>\n            {renderUserAvatar()}\n            <div className={styles.sidemenuUserInfo}>\n              <div className={styles.sidemenuUserName}>{userInfo.name}</div>\n              {userInfo.email && (\n                <div className={styles.sidemenuUserEmail}>{userInfo.email}</div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </nav>\n  );\n};\n","import React from 'react';\nimport type { ReactNode, AnchorHTMLAttributes } from 'react';\nimport styles from './Breadcrumb.module.css';\n\nexport interface BreadcrumbItemData {\n  label: string;\n  href?: string;\n  icon?: ReactNode;\n}\n\n// Main Breadcrumb Container\nexport interface BreadcrumbProps {\n  items?: BreadcrumbItemData[];\n  separator?: ReactNode;\n  children?: ReactNode;\n  className?: string;\n  'aria-label'?: string;\n}\n\nexport const Breadcrumb: React.FC<BreadcrumbProps> = ({\n  items,\n  separator = '/',\n  children,\n  className = '',\n  'aria-label': ariaLabel = 'Breadcrumb',\n}) => {\n  const breadcrumbClass = [styles.breadcrumb, className].filter(Boolean).join(' ');\n\n  // If items prop is provided, render from items array\n  if (items && items.length > 0) {\n    return (\n      <nav className={breadcrumbClass} aria-label={ariaLabel}>\n        {items.map((item, index) => {\n          const isLast = index === items.length - 1;\n\n          return (\n            <React.Fragment key={index}>\n              <div className={styles['breadcrumb-item']}>\n                {item.icon && <span className={styles['breadcrumb-icon']}>{item.icon}</span>}\n                {isLast || !item.href ? (\n                  <span className={styles['breadcrumb-current']} aria-current={isLast ? 'page' : undefined}>\n                    {item.label}\n                  </span>\n                ) : (\n                  <a href={item.href} className={styles['breadcrumb-link']}>\n                    {item.label}\n                  </a>\n                )}\n              </div>\n              {!isLast && <span className={styles['breadcrumb-separator']}>{separator}</span>}\n            </React.Fragment>\n          );\n        })}\n      </nav>\n    );\n  }\n\n  // Otherwise, render children (compound component pattern)\n  return (\n    <nav className={breadcrumbClass} aria-label={ariaLabel}>\n      {children}\n    </nav>\n  );\n};\n\n// BreadcrumbItem Component\nexport interface BreadcrumbItemProps extends AnchorHTMLAttributes<HTMLAnchorElement> {\n  href?: string;\n  icon?: ReactNode;\n  children: ReactNode;\n  current?: boolean;\n  className?: string;\n}\n\nexport const BreadcrumbItem: React.FC<BreadcrumbItemProps> = ({\n  href,\n  icon,\n  children,\n  current = false,\n  className = '',\n  ...props\n}) => {\n  const itemClass = [styles['breadcrumb-item'], className].filter(Boolean).join(' ');\n\n  return (\n    <div className={itemClass}>\n      {icon && <span className={styles['breadcrumb-icon']}>{icon}</span>}\n      {current || !href ? (\n        <span className={styles['breadcrumb-current']} aria-current={current ? 'page' : undefined}>\n          {children}\n        </span>\n      ) : (\n        <a href={href} className={styles['breadcrumb-link']} {...props}>\n          {children}\n        </a>\n      )}\n    </div>\n  );\n};\n\n// BreadcrumbSeparator Component\nexport interface BreadcrumbSeparatorProps {\n  children?: ReactNode;\n  className?: string;\n}\n\nexport const BreadcrumbSeparator: React.FC<BreadcrumbSeparatorProps> = ({\n  children = '/',\n  className = '',\n}) => {\n  const separatorClass = [styles['breadcrumb-separator'], className].filter(Boolean).join(' ');\n\n  return <span className={separatorClass}>{children}</span>;\n};\n\n// Display names\nBreadcrumb.displayName = 'Breadcrumb';\nBreadcrumbItem.displayName = 'BreadcrumbItem';\nBreadcrumbSeparator.displayName = 'BreadcrumbSeparator';\n","import React, { memo, useMemo, useCallback } from 'react';\nimport type { ReactNode, ButtonHTMLAttributes } from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport styles from './Pagination.module.css';\n\n// Helper function to generate page numbers with ellipsis\nconst generatePageNumbers = (\n  currentPage: number,\n  totalPages: number,\n  siblings: number = 1\n): (number | 'ellipsis')[] => {\n  const pages: (number | 'ellipsis')[] = [];\n\n  pages.push(1);\n\n  const leftSibling = Math.max(2, currentPage - siblings);\n  const rightSibling = Math.min(totalPages - 1, currentPage + siblings);\n\n  if (leftSibling > 2) {\n    pages.push('ellipsis');\n  }\n\n  for (let i = leftSibling; i <= rightSibling; i++) {\n    pages.push(i);\n  }\n\n  if (rightSibling < totalPages - 1) {\n    pages.push('ellipsis');\n  }\n\n  if (totalPages > 1) {\n    pages.push(totalPages);\n  }\n\n  const result: (number | 'ellipsis')[] = [];\n  let prev: number | 'ellipsis' | null = null;\n\n  for (const page of pages) {\n    if (page !== prev) {\n      result.push(page);\n      prev = page;\n    }\n  }\n\n  return result;\n};\n\n// PaginationButton Component\nexport interface PaginationButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  active?: boolean;\n  children: ReactNode;\n}\n\nexport const PaginationButton = memo<PaginationButtonProps>(({\n  active = false,\n  children,\n  className = '',\n  ...props\n}) => {\n  const buttonClass = useMemo(() =>\n    [styles['pagination-btn'], active && styles.active, className]\n      .filter(Boolean)\n      .join(' '),\n    [active, className]\n  );\n\n  return (\n    <button className={buttonClass} {...props}>\n      {children}\n    </button>\n  );\n});\n\nPaginationButton.displayName = 'PaginationButton';\n\n// Page number button with memoized click handler\ninterface PageButtonProps {\n  page: number;\n  isActive: boolean;\n  onPageChange: (page: number) => void;\n}\n\nconst PageButton = memo<PageButtonProps>(({ page, isActive, onPageChange }) => {\n  const handleClick = useCallback(() => {\n    onPageChange(page);\n  }, [page, onPageChange]);\n\n  return (\n    <PaginationButton\n      onClick={handleClick}\n      active={isActive}\n      aria-label={`Go to page ${page}`}\n      aria-current={isActive ? 'page' : undefined}\n    >\n      {page}\n    </PaginationButton>\n  );\n});\n\nPageButton.displayName = 'PageButton';\n\n// Main Pagination Component\nexport interface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n  siblings?: number;\n  showPrevNext?: boolean;\n  showFirstLast?: boolean;\n  prevLabel?: ReactNode;\n  nextLabel?: ReactNode;\n  firstLabel?: ReactNode;\n  lastLabel?: ReactNode;\n  className?: string;\n  'aria-label'?: string;\n}\n\nexport const Pagination = memo<PaginationProps>(({\n  currentPage,\n  totalPages,\n  onPageChange,\n  siblings = 1,\n  showPrevNext = true,\n  showFirstLast = false,\n  prevLabel,\n  nextLabel,\n  firstLabel,\n  lastLabel,\n  className = '',\n  'aria-label': ariaLabel = 'Pagination',\n}) => {\n  const pages = useMemo(() =>\n    generatePageNumbers(currentPage, totalPages, siblings),\n    [currentPage, totalPages, siblings]\n  );\n\n  const canGoPrev = currentPage > 1;\n  const canGoNext = currentPage < totalPages;\n\n  const paginationClass = useMemo(() =>\n    [styles.pagination, className].filter(Boolean).join(' '),\n    [className]\n  );\n\n  // Memoized handlers\n  const goToFirst = useCallback(() => {\n    onPageChange(1);\n  }, [onPageChange]);\n\n  const goToPrev = useCallback(() => {\n    onPageChange(currentPage - 1);\n  }, [currentPage, onPageChange]);\n\n  const goToNext = useCallback(() => {\n    onPageChange(currentPage + 1);\n  }, [currentPage, onPageChange]);\n\n  const goToLast = useCallback(() => {\n    onPageChange(totalPages);\n  }, [totalPages, onPageChange]);\n\n  return (\n    <nav className={paginationClass} aria-label={ariaLabel}>\n      {/* First Page Button */}\n      {showFirstLast && (\n        <PaginationButton\n          onClick={goToFirst}\n          disabled={!canGoPrev}\n          aria-label=\"Go to first page\"\n        >\n          {firstLabel || ''}\n        </PaginationButton>\n      )}\n\n      {/* Previous Button */}\n      {showPrevNext && (\n        <PaginationButton\n          onClick={goToPrev}\n          disabled={!canGoPrev}\n          aria-label=\"Go to previous page\"\n        >\n          {prevLabel || <ChevronLeft size={16} />}\n        </PaginationButton>\n      )}\n\n      {/* Page Numbers */}\n      {pages.map((page, index) => {\n        if (page === 'ellipsis') {\n          return (\n            <span key={`ellipsis-${index}`} className={styles['pagination-ellipsis']}>\n              ...\n            </span>\n          );\n        }\n\n        return (\n          <PageButton\n            key={page}\n            page={page}\n            isActive={page === currentPage}\n            onPageChange={onPageChange}\n          />\n        );\n      })}\n\n      {/* Next Button */}\n      {showPrevNext && (\n        <PaginationButton\n          onClick={goToNext}\n          disabled={!canGoNext}\n          aria-label=\"Go to next page\"\n        >\n          {nextLabel || <ChevronRight size={16} />}\n        </PaginationButton>\n      )}\n\n      {/* Last Page Button */}\n      {showFirstLast && (\n        <PaginationButton\n          onClick={goToLast}\n          disabled={!canGoNext}\n          aria-label=\"Go to last page\"\n        >\n          {lastLabel || ''}\n        </PaginationButton>\n      )}\n    </nav>\n  );\n});\n\nPagination.displayName = 'Pagination';\n\n// PaginationInfo Component\nexport interface PaginationInfoProps {\n  currentPage: number;\n  totalPages: number;\n  totalItems?: number;\n  pageSize?: number;\n  className?: string;\n}\n\nexport const PaginationInfo = memo<PaginationInfoProps>(({\n  currentPage,\n  totalPages,\n  totalItems,\n  pageSize,\n  className = '',\n}) => {\n  const infoClass = useMemo(() =>\n    [styles['pagination-info'], className].filter(Boolean).join(' '),\n    [className]\n  );\n\n  const rangeInfo = useMemo(() => {\n    if (totalItems && pageSize) {\n      const start = (currentPage - 1) * pageSize + 1;\n      const end = Math.min(currentPage * pageSize, totalItems);\n      return { start, end, totalItems };\n    }\n    return null;\n  }, [currentPage, totalItems, pageSize]);\n\n  if (rangeInfo) {\n    return (\n      <span className={infoClass}>\n        Showing <strong>{rangeInfo.start}-{rangeInfo.end}</strong> of <strong>{rangeInfo.totalItems}</strong>\n      </span>\n    );\n  }\n\n  return (\n    <span className={infoClass}>\n      Page {currentPage} of {totalPages}\n    </span>\n  );\n});\n\nPaginationInfo.displayName = 'PaginationInfo';\n\n// SimplePagination Component (Mobile-friendly)\nexport interface SimplePaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n  prevLabel?: ReactNode;\n  nextLabel?: ReactNode;\n  showInfo?: boolean;\n  className?: string;\n  'aria-label'?: string;\n}\n\nexport const SimplePagination = memo<SimplePaginationProps>(({\n  currentPage,\n  totalPages,\n  onPageChange,\n  prevLabel = ' Previous',\n  nextLabel = 'Next ',\n  showInfo = true,\n  className = '',\n  'aria-label': ariaLabel = 'Pagination',\n}) => {\n  const canGoPrev = currentPage > 1;\n  const canGoNext = currentPage < totalPages;\n\n  const paginationClass = useMemo(() =>\n    [styles.pagination, className].filter(Boolean).join(' '),\n    [className]\n  );\n\n  const goToPrev = useCallback(() => {\n    onPageChange(currentPage - 1);\n  }, [currentPage, onPageChange]);\n\n  const goToNext = useCallback(() => {\n    onPageChange(currentPage + 1);\n  }, [currentPage, onPageChange]);\n\n  return (\n    <nav className={paginationClass} aria-label={ariaLabel}>\n      <PaginationButton\n        onClick={goToPrev}\n        disabled={!canGoPrev}\n        aria-label=\"Go to previous page\"\n      >\n        {prevLabel}\n      </PaginationButton>\n\n      {showInfo && <PaginationInfo currentPage={currentPage} totalPages={totalPages} />}\n\n      <PaginationButton\n        onClick={goToNext}\n        disabled={!canGoNext}\n        aria-label=\"Go to next page\"\n      >\n        {nextLabel}\n      </PaginationButton>\n    </nav>\n  );\n});\n\nSimplePagination.displayName = 'SimplePagination';\n","import React, { createContext, useContext, useState } from 'react';\nimport type { ReactNode, HTMLAttributes } from 'react';\nimport styles from './Tabs.module.css';\n\nexport type TabsVariant = 'line' | 'contained' | 'pills' | 'icon-bar';\nexport type TabsSize = 'sm' | 'md' | 'lg';\nexport type TabsOrientation = 'horizontal' | 'vertical';\n\ninterface TabsContextValue {\n  value: string;\n  onChange: (value: string) => void;\n  variant: TabsVariant;\n  size: TabsSize;\n  orientation: TabsOrientation;\n}\n\nconst TabsContext = createContext<TabsContextValue | undefined>(undefined);\n\nconst useTabsContext = () => {\n  const context = useContext(TabsContext);\n  if (!context) {\n    throw new Error('Tabs components must be used within a Tabs component');\n  }\n  return context;\n};\n\n// Main Tabs Container\nexport interface TabsProps {\n  value?: string;\n  defaultValue?: string;\n  onChange?: (value: string) => void;\n  variant?: TabsVariant;\n  size?: TabsSize;\n  orientation?: TabsOrientation;\n  children: ReactNode;\n  className?: string;\n}\n\nexport const Tabs: React.FC<TabsProps> = ({\n  value: controlledValue,\n  defaultValue,\n  onChange,\n  variant = 'line',\n  size = 'md',\n  orientation = 'horizontal',\n  children,\n  className = '',\n}) => {\n  const [uncontrolledValue, setUncontrolledValue] = useState<string>(defaultValue || '');\n  const isControlled = controlledValue !== undefined;\n  const value = isControlled ? controlledValue : uncontrolledValue;\n\n  const handleChange = (newValue: string) => {\n    if (!isControlled) {\n      setUncontrolledValue(newValue);\n    }\n    onChange?.(newValue);\n  };\n\n  const contextValue: TabsContextValue = {\n    value,\n    onChange: handleChange,\n    variant,\n    size,\n    orientation,\n  };\n\n  const containerClass = [\n    orientation === 'vertical' && styles['tabs-vertical-container'],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <TabsContext.Provider value={contextValue}>\n      <div className={containerClass}>{children}</div>\n    </TabsContext.Provider>\n  );\n};\n\n// TabsList - Container for Tab buttons\nexport interface TabsListProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  className?: string;\n}\n\nexport const TabsList: React.FC<TabsListProps> = ({ children, className = '', ...props }) => {\n  const { variant, size, orientation } = useTabsContext();\n\n  const tabsClass = [\n    styles.tabs,\n    variant === 'contained' && styles['tabs-contained'],\n    variant === 'pills' && styles['tabs-pills'],\n    variant === 'icon-bar' && styles['tabs-icon-bar'],\n    size === 'sm' && styles['tabs-sm'],\n    size === 'lg' && styles['tabs-lg'],\n    orientation === 'vertical' && styles['tabs-vertical'],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={tabsClass} role=\"tablist\" {...props}>\n      {children}\n    </div>\n  );\n};\n\n// Individual Tab\nexport interface TabProps extends Omit<HTMLAttributes<HTMLButtonElement>, 'onChange'> {\n  value: string;\n  children: ReactNode;\n  icon?: ReactNode;\n  badge?: ReactNode;\n  counter?: number;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport const Tab: React.FC<TabProps> = ({\n  value: tabValue,\n  children,\n  icon,\n  badge,\n  counter,\n  disabled = false,\n  className = '',\n  ...props\n}) => {\n  const { value, onChange, variant } = useTabsContext();\n  const isActive = value === tabValue;\n\n  const handleClick = () => {\n    if (!disabled) {\n      onChange(tabValue);\n    }\n  };\n\n  const tabClass = [styles.tab, isActive && styles.active, className].filter(Boolean).join(' ');\n\n  return (\n    <button\n      className={tabClass}\n      role=\"tab\"\n      aria-selected={isActive}\n      aria-controls={`tabpanel-${tabValue}`}\n      disabled={disabled}\n      onClick={handleClick}\n      {...props}\n    >\n      {icon && <span className={styles['tab-icon']}>{icon}</span>}\n      <span>{children}</span>\n      {badge && <span className={styles['tab-badge']}>{badge}</span>}\n      {counter !== undefined && (\n        <span className={variant === 'icon-bar' ? styles['tab-counter'] : styles['tab-badge']}>\n          {counter}\n        </span>\n      )}\n    </button>\n  );\n};\n\n// TabPanel - Content for each tab\nexport interface TabPanelProps extends HTMLAttributes<HTMLDivElement> {\n  value: string;\n  children: ReactNode;\n  className?: string;\n  keepMounted?: boolean;\n}\n\nexport const TabPanel: React.FC<TabPanelProps> = ({\n  value: panelValue,\n  children,\n  className = '',\n  keepMounted = false,\n  ...props\n}) => {\n  const { value } = useTabsContext();\n  const isActive = value === panelValue;\n\n  const panelClass = [styles['tab-panel'], isActive && styles.active, className]\n    .filter(Boolean)\n    .join(' ');\n\n  if (!isActive && !keepMounted) {\n    return null;\n  }\n\n  return (\n    <div\n      className={panelClass}\n      role=\"tabpanel\"\n      id={`tabpanel-${panelValue}`}\n      aria-labelledby={`tab-${panelValue}`}\n      hidden={!isActive}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n};\n\n// TabContent - Wrapper for all TabPanels\nexport interface TabContentProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  className?: string;\n}\n\nexport const TabContent: React.FC<TabContentProps> = ({ children, className = '', ...props }) => {\n  const contentClass = [styles['tab-content'], className].filter(Boolean).join(' ');\n\n  return (\n    <div className={contentClass} {...props}>\n      {children}\n    </div>\n  );\n};\n\n// Export default as compound component\nTabs.displayName = 'Tabs';\nTabsList.displayName = 'TabsList';\nTab.displayName = 'Tab';\nTabPanel.displayName = 'TabPanel';\nTabContent.displayName = 'TabContent';\n","import type { ReactNode } from 'react';\nimport { Check, X } from 'lucide-react';\nimport styles from './Steps.module.css';\n\nexport interface StepItem {\n  /** Step title */\n  title: ReactNode;\n  /** Optional step description */\n  description?: ReactNode;\n  /** Custom icon (overrides default number) */\n  icon?: ReactNode;\n  /** Step status */\n  status?: 'wait' | 'process' | 'finish' | 'error';\n  /** Disabled state */\n  disabled?: boolean;\n}\n\nexport interface StepsProps {\n  /** Array of step items */\n  items: StepItem[];\n  /** Current active step index (0-based) */\n  current?: number;\n  /** Steps direction */\n  direction?: 'horizontal' | 'vertical';\n  /** Steps size */\n  size?: 'default' | 'small';\n  /** Enable clickable steps */\n  clickable?: boolean;\n  /** Callback when step is clicked (only if clickable) */\n  onChange?: (index: number) => void;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Steps Component\n *\n * Display progress through a sequence of steps or stages.\n * Supports horizontal and vertical layouts with different statuses.\n *\n * @example\n * ```tsx\n * <Steps\n *   current={1}\n *   items={[\n *     { title: 'Account Setup', description: 'Create your account' },\n *     { title: 'Profile Information', description: 'Fill in your details' },\n *     { title: 'Verification', description: 'Verify your identity' },\n *   ]}\n * />\n * ```\n */\nexport const Steps = ({\n  items,\n  current = 0,\n  direction = 'horizontal',\n  size = 'default',\n  clickable = false,\n  onChange,\n  className,\n}: StepsProps) => {\n  const containerClasses = [\n    styles.steps,\n    direction === 'vertical' && styles.stepsVertical,\n    size === 'small' && styles.stepsSm,\n    clickable && styles.stepsClickable,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const getStepStatus = (index: number, item: StepItem): string => {\n    // Use explicit status if provided\n    if (item.status) {\n      switch (item.status) {\n        case 'finish':\n          return 'completed';\n        case 'process':\n          return 'active';\n        case 'error':\n          return 'error';\n        case 'wait':\n          return 'wait';\n      }\n    }\n\n    // Otherwise determine from current index\n    if (index < current) return 'completed';\n    if (index === current) return 'active';\n    if (item.disabled) return 'disabled';\n    return 'wait';\n  };\n\n  const handleStepClick = (index: number, item: StepItem) => {\n    if (!clickable || item.disabled) return;\n\n    // Allow clicking on completed steps or current step\n    if (index <= current) {\n      onChange?.(index);\n    }\n  };\n\n  const renderIcon = (index: number, item: StepItem, status: string) => {\n    // Custom icon provided\n    if (item.icon) {\n      return item.icon;\n    }\n\n    // Status-based icons\n    if (status === 'completed') {\n      return <Check />;\n    }\n\n    if (status === 'error') {\n      return <X />;\n    }\n\n    // Default: show step number\n    return index + 1;\n  };\n\n  return (\n    <nav\n      className={containerClasses}\n      role=\"navigation\"\n      aria-label=\"Step progress\"\n    >\n      {items.map((item, index) => {\n        const status = getStepStatus(index, item);\n        const isClickable = clickable && !item.disabled && index <= current;\n\n        const stepClasses = [\n          styles.step,\n          styles[`step-${status}`],\n          isClickable && styles.stepClickable,\n        ]\n          .filter(Boolean)\n          .join(' ');\n\n        const stepContent = (\n          <>\n            <div className={styles.stepIcon}>\n              {renderIcon(index, item, status)}\n            </div>\n            <div className={styles.stepContent}>\n              <div className={styles.stepTitle}>{item.title}</div>\n              {item.description && (\n                <div className={styles.stepDescription}>\n                  {item.description}\n                </div>\n              )}\n            </div>\n          </>\n        );\n\n        const ariaLabel = `Step ${index + 1} of ${items.length}: ${\n          typeof item.title === 'string' ? item.title : 'Step'\n        }, ${status}`;\n\n        if (isClickable) {\n          return (\n            <button\n              key={index}\n              className={stepClasses}\n              onClick={() => handleStepClick(index, item)}\n              aria-label={ariaLabel}\n              aria-current={status === 'active' ? 'step' : undefined}\n              type=\"button\"\n            >\n              {stepContent}\n            </button>\n          );\n        }\n\n        return (\n          <div\n            key={index}\n            className={stepClasses}\n            aria-label={ariaLabel}\n            aria-current={status === 'active' ? 'step' : undefined}\n          >\n            {stepContent}\n          </div>\n        );\n      })}\n    </nav>\n  );\n};\n\nSteps.displayName = 'Steps';\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport type { ReactNode } from 'react';\nimport styles from './Anchor.module.css';\n\nexport interface AnchorItem {\n  /** Unique key for the anchor item */\n  key: string;\n  /** Display title for the anchor link */\n  title: ReactNode;\n  /** Target href (must start with #) */\n  href: string;\n  /** Optional icon before the title */\n  icon?: ReactNode;\n  /** Optional nested anchor items */\n  children?: AnchorItem[];\n}\n\nexport interface AnchorProps {\n  /** Array of anchor items to display */\n  items: AnchorItem[];\n  /** Active anchor key (controlled mode) */\n  activeKey?: string;\n  /** Offset from top when scrolling to section (in pixels) */\n  offsetTop?: number;\n  /** Enable sticky positioning */\n  sticky?: boolean;\n  /** Callback when active section changes */\n  onChange?: (activeKey: string) => void;\n  /** Additional CSS classes */\n  className?: string;\n  /** Root margin for Intersection Observer (default: '-20% 0px -80% 0px') */\n  rootMargin?: string;\n  /** Smooth scroll behavior */\n  smooth?: boolean;\n}\n\n/**\n * Anchor component - Hyperlinks to scroll on one page\n *\n * Features:\n * - Automatic scroll highlighting using Intersection Observer\n * - Smooth scroll on click\n * - Support for nested anchor links\n * - Keyboard accessible (Arrow keys, Home, End)\n * - Sticky positioning option\n *\n * @example\n * ```tsx\n * <Anchor\n *   items={[\n *     { key: 'overview', title: 'Overview', href: '#overview' },\n *     { key: 'config', title: 'Configuration', href: '#config' }\n *   ]}\n *   sticky\n *   offsetTop={80}\n * />\n * ```\n */\nexport const Anchor = ({\n  items,\n  activeKey: controlledActiveKey,\n  offsetTop = 60,\n  sticky = false,\n  onChange,\n  className = '',\n  rootMargin = '-20% 0px -80% 0px',\n  smooth = true,\n}: AnchorProps) => {\n  const [activeKey, setActiveKey] = useState<string>('');\n  const anchorRef = useRef<HTMLElement>(null);\n  const linksRef = useRef<Map<string, HTMLAnchorElement>>(new Map());\n  const observerRef = useRef<IntersectionObserver | null>(null);\n\n  // Use controlled or uncontrolled active key\n  const currentActiveKey = controlledActiveKey !== undefined ? controlledActiveKey : activeKey;\n\n  // Flatten items to get all keys and hrefs\n  const flattenItems = useCallback((items: AnchorItem[]): AnchorItem[] => {\n    if (!items || !Array.isArray(items)) return [];\n    return items.reduce((acc: AnchorItem[], item) => {\n      acc.push(item);\n      if (item.children) {\n        acc.push(...flattenItems(item.children));\n      }\n      return acc;\n    }, []);\n  }, []);\n\n  const allItems = flattenItems(items);\n\n  // Set up Intersection Observer for scroll detection\n  useEffect(() => {\n    if (allItems.length === 0) return;\n\n    const sections: HTMLElement[] = [];\n\n    // Find all target sections\n    allItems.forEach((item) => {\n      const targetId = item.href.substring(1);\n      const section = document.getElementById(targetId);\n      if (section) {\n        sections.push(section);\n      }\n    });\n\n    if (sections.length === 0) return;\n\n    // Create Intersection Observer\n    const observerOptions: IntersectionObserverInit = {\n      rootMargin,\n      threshold: [0, 0.25, 0.5, 0.75, 1],\n    };\n\n    // Track which sections are currently visible\n    const visibleSections = new Set<string>();\n\n    observerRef.current = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          visibleSections.add(entry.target.id);\n        } else {\n          visibleSections.delete(entry.target.id);\n        }\n      });\n\n      // Get the topmost visible section\n      if (visibleSections.size > 0) {\n        const firstVisible = sections.find((section) =>\n          visibleSections.has(section.id)\n        );\n        if (firstVisible) {\n          const foundItem = allItems.find(\n            (item) => item.href === '#' + firstVisible.id\n          );\n          if (foundItem) {\n            const newActiveKey = foundItem.key;\n            if (controlledActiveKey === undefined) {\n              setActiveKey(newActiveKey);\n            }\n            onChange?.(newActiveKey);\n          }\n        }\n      }\n    }, observerOptions);\n\n    // Observe all sections\n    sections.forEach((section) => {\n      observerRef.current?.observe(section);\n    });\n\n    // Cleanup\n    return () => {\n      if (observerRef.current) {\n        sections.forEach((section) => {\n          observerRef.current?.unobserve(section);\n        });\n        observerRef.current.disconnect();\n      }\n    };\n  }, [allItems, rootMargin, onChange, controlledActiveKey]);\n\n  // Handle anchor link click\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLAnchorElement>, item: AnchorItem) => {\n      e.preventDefault();\n\n      const targetId = item.href.substring(1);\n      const targetSection = document.getElementById(targetId);\n\n      if (targetSection) {\n        // Calculate offset\n        const yOffset = -offsetTop;\n        const y =\n          targetSection.getBoundingClientRect().top +\n          window.pageYOffset +\n          yOffset;\n\n        // Scroll to target\n        window.scrollTo({\n          top: y,\n          behavior: smooth ? 'smooth' : 'auto',\n        });\n\n        // Update URL hash without jumping\n        if (history.pushState) {\n          history.pushState(null, '', item.href);\n        }\n\n        // Update active state\n        if (controlledActiveKey === undefined) {\n          setActiveKey(item.key);\n        }\n        onChange?.(item.key);\n      }\n    },\n    [offsetTop, smooth, controlledActiveKey, onChange]\n  );\n\n  // Keyboard navigation\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLAnchorElement>, currentIndex: number) => {\n      const allLinks = Array.from(linksRef.current.values());\n      let targetIndex: number;\n\n      switch (e.key) {\n        case 'ArrowDown':\n          e.preventDefault();\n          targetIndex = Math.min(currentIndex + 1, allLinks.length - 1);\n          allLinks[targetIndex]?.focus();\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          targetIndex = Math.max(currentIndex - 1, 0);\n          allLinks[targetIndex]?.focus();\n          break;\n        case 'Home':\n          e.preventDefault();\n          allLinks[0]?.focus();\n          break;\n        case 'End':\n          e.preventDefault();\n          allLinks[allLinks.length - 1]?.focus();\n          break;\n      }\n    },\n    []\n  );\n\n  // Render anchor item\n  const renderAnchorItem = (item: AnchorItem, index: number) => {\n    const isActive = currentActiveKey === item.key;\n\n    return (\n      <div key={item.key} className={styles.anchorItem}>\n        <a\n          href={item.href}\n          ref={(el) => {\n            if (el) {\n              linksRef.current.set(item.key, el);\n            } else {\n              linksRef.current.delete(item.key);\n            }\n          }}\n          className={`${styles.anchorLink} ${isActive ? styles.active : ''}`}\n          onClick={(e) => handleClick(e, item)}\n          onKeyDown={(e) => handleKeyDown(e, index)}\n          aria-current={isActive ? 'location' : undefined}\n        >\n          {item.icon && <span className={styles.anchorIcon}>{item.icon}</span>}\n          <span>{item.title}</span>\n        </a>\n\n        {/* Render nested items */}\n        {item.children && item.children.length > 0 && (\n          <div className={styles.anchorSubmenu}>\n            {item.children.map((child, childIndex) =>\n              renderAnchorItem(child, index + childIndex + 1)\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <nav\n      ref={anchorRef}\n      className={`${styles.anchor} ${sticky ? styles.sticky : ''} ${className}`}\n      role=\"navigation\"\n      aria-label=\"Page navigation\"\n    >\n      {items.map((item, index) => renderAnchorItem(item, index))}\n    </nav>\n  );\n};\n","import React, { useEffect, useState, useCallback, useRef } from 'react';\nimport { ArrowUp } from 'lucide-react';\nimport styles from './BackTop.module.css';\n\nexport interface BackTopProps {\n  /** Scroll threshold in pixels before button appears */\n  threshold?: number;\n  /** Duration of scroll animation in milliseconds */\n  duration?: number;\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** Visual variant */\n  variant?: 'default' | 'primary' | 'outline';\n  /** Position on screen */\n  position?: 'right' | 'left';\n  /** Show text label with icon */\n  showText?: boolean;\n  /** Text label to display */\n  text?: string;\n  /** Target element to scroll (defaults to window) */\n  target?: () => HTMLElement | Window | null;\n  /** Callback when button is clicked */\n  onClick?: () => void;\n  /** Additional CSS class */\n  className?: string;\n  /** Inline styles */\n  style?: React.CSSProperties;\n  /** Children (icon override) */\n  children?: React.ReactNode;\n}\n\n/**\n * BackTop Component\n *\n * Button to scroll back to the top of the page when user scrolls down.\n * Appears after scrolling past a threshold and smoothly scrolls to top when clicked.\n *\n * @example\n * ```tsx\n * <BackTop />\n * <BackTop threshold={300} showText text=\"Top\" />\n * <BackTop variant=\"primary\" size=\"lg\" />\n * ```\n */\nexport const BackTop: React.FC<BackTopProps> = ({\n  threshold = 400,\n  duration: _duration = 450,\n  size = 'md',\n  variant = 'default',\n  position = 'right',\n  showText = false,\n  text = 'Top',\n  target,\n  onClick,\n  className,\n  style,\n  children,\n}) => {\n  const [visible, setVisible] = useState(false);\n  const rafRef = useRef<number | null>(null);\n\n  const getScrollTop = useCallback(() => {\n    const targetElement = target?.();\n    if (!targetElement) {\n      return window.pageYOffset || document.documentElement.scrollTop;\n    }\n    if (targetElement === window) {\n      return window.pageYOffset || document.documentElement.scrollTop;\n    }\n    return (targetElement as HTMLElement).scrollTop;\n  }, [target]);\n\n  const handleScroll = useCallback(() => {\n    if (rafRef.current !== null) {\n      cancelAnimationFrame(rafRef.current);\n    }\n\n    rafRef.current = requestAnimationFrame(() => {\n      const scrollTop = getScrollTop();\n      setVisible(scrollTop > threshold);\n    });\n  }, [threshold, getScrollTop]);\n\n  const scrollToTop = useCallback(() => {\n    onClick?.();\n\n    const targetElement = target?.();\n    const scrollElement = !targetElement || targetElement === window\n      ? window\n      : (targetElement as HTMLElement);\n\n    // Check for reduced motion preference\n    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n\n    if (prefersReducedMotion) {\n      // Instant scroll for reduced motion\n      if (scrollElement === window) {\n        window.scrollTo(0, 0);\n      } else {\n        (scrollElement as HTMLElement).scrollTop = 0;\n      }\n      return;\n    }\n\n    // Smooth scroll\n    if (scrollElement === window) {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    } else {\n      (scrollElement as HTMLElement).scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  }, [target, onClick]);\n\n  useEffect(() => {\n    const targetElement = target?.() || window;\n    const scrollElement = targetElement === window ? window : (targetElement as HTMLElement);\n\n    handleScroll(); // Initial check\n    scrollElement.addEventListener('scroll', handleScroll, { passive: true });\n\n    return () => {\n      scrollElement.removeEventListener('scroll', handleScroll);\n      if (rafRef.current !== null) {\n        cancelAnimationFrame(rafRef.current);\n      }\n    };\n  }, [target, handleScroll]);\n\n  const buttonClasses = [\n    styles.backtop,\n    visible && styles.visible,\n    size !== 'md' && styles[size],\n    variant !== 'default' && styles[variant],\n    position === 'left' && styles.left,\n    showText && styles.withText,\n    className,\n  ].filter(Boolean).join(' ');\n\n  return (\n    <button\n      className={buttonClasses}\n      style={style}\n      onClick={scrollToTop}\n      aria-label=\"Back to top\"\n      aria-hidden={!visible}\n      type=\"button\"\n    >\n      {children || <ArrowUp aria-hidden=\"true\" />}\n      {showText && <span>{text}</span>}\n    </button>\n  );\n};\n\nBackTop.displayName = 'BackTop';\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport type { ReactNode, CSSProperties } from 'react';\nimport styles from './Affix.module.css';\n\nexport interface AffixProps {\n  /** Content to be affixed */\n  children: ReactNode;\n  /** Offset from top when affixed (in pixels) */\n  offsetTop?: number;\n  /** Offset from bottom when affixed (in pixels) */\n  offsetBottom?: number;\n  /** Target container ID to affix within (defaults to window) */\n  target?: string;\n  /** Callback when affix state changes */\n  onChange?: (affixed: boolean) => void;\n  /** Additional CSS classes */\n  className?: string;\n  /** Custom z-index for affixed element */\n  zIndex?: number;\n  /** Additional inline styles */\n  style?: CSSProperties;\n}\n\n/**\n * Affix component - Makes an element stick to viewport or container on scroll\n *\n * Features:\n * - Window or container-based affixing\n * - Top or bottom positioning\n * - Custom offset configuration\n * - Placeholder maintains layout when affixed\n * - Smooth transitions\n * - Responsive behavior\n *\n * @example\n * ```tsx\n * <Affix offsetTop={64}>\n *   <Toolbar />\n * </Affix>\n * ```\n */\nexport const Affix = ({\n  children,\n  offsetTop,\n  offsetBottom,\n  target,\n  onChange,\n  className = '',\n  zIndex = 100,\n  style = {},\n}: AffixProps) => {\n  const [affixed, setAffixed] = useState(false);\n  const affixRef = useRef<HTMLDivElement>(null);\n  const placeholderRef = useRef<HTMLDivElement>(null);\n  const [affixStyle, setAffixStyle] = useState<CSSProperties>({});\n  const [placeholderStyle, setPlaceholderStyle] = useState<CSSProperties>({\n    display: 'none',\n    height: 0,\n    margin: 0,\n    padding: 0,\n  });\n\n  // Use refs to track state without causing re-renders\n  const affixedRef = useRef(false);\n  const measurementsRef = useRef({\n    originalOffsetTop: 0,\n    originalOffsetLeft: 0,\n    elementWidth: 0,\n    elementHeight: 0,\n  });\n  const rafIdRef = useRef<number | null>(null);\n\n  // Validate props\n  const hasTop = offsetTop !== undefined;\n  const hasBottom = offsetBottom !== undefined;\n\n  if (hasTop && hasBottom) {\n    console.warn('Affix: Both offsetTop and offsetBottom are set. Using offsetTop.');\n  }\n\n  const offset = hasTop ? offsetTop : offsetBottom;\n  const position = hasTop ? 'top' : 'bottom';\n\n  // Measure element dimensions and position\n  const updateMeasurements = useCallback(() => {\n    const affixElement = affixRef.current;\n    const placeholderElement = placeholderRef.current;\n    if (!affixElement || !placeholderElement) return;\n\n    const scrollContainer = target ? document.getElementById(target) : window;\n    if (!scrollContainer) return;\n\n    const rect = affixElement.getBoundingClientRect();\n    const scrollTop = scrollContainer === window ? window.scrollY : (scrollContainer as HTMLElement).scrollTop;\n    const scrollLeft = scrollContainer === window ? window.scrollX : (scrollContainer as HTMLElement).scrollLeft;\n\n    measurementsRef.current = {\n      originalOffsetTop: rect.top + scrollTop,\n      originalOffsetLeft: rect.left + scrollLeft,\n      elementWidth: rect.width,\n      elementHeight: rect.height,\n    };\n  }, [target]);\n\n  // Throttled scroll handler using requestAnimationFrame\n  const handleScroll = useCallback(() => {\n    if (rafIdRef.current !== null) return;\n\n    rafIdRef.current = requestAnimationFrame(() => {\n      rafIdRef.current = null;\n\n      const affixElement = affixRef.current;\n      if (!affixElement) return;\n\n      const scrollContainer = target ? document.getElementById(target) : window;\n      if (!scrollContainer) return;\n\n      const scrollTop = scrollContainer === window\n        ? window.scrollY\n        : (scrollContainer as HTMLElement).scrollTop;\n\n      const viewportHeight = scrollContainer === window\n        ? window.innerHeight\n        : (scrollContainer as HTMLElement).clientHeight;\n\n      const { originalOffsetTop, originalOffsetLeft, elementWidth, elementHeight } = measurementsRef.current;\n      let shouldAffix = false;\n\n      if (position === 'top') {\n        // Top affixing\n        const offsetValue = offset ?? 0;\n        shouldAffix = scrollTop > originalOffsetTop - offsetValue;\n\n        if (shouldAffix && !affixedRef.current) {\n          // Activate affix\n          affixedRef.current = true;\n          setAffixed(true);\n          setPlaceholderStyle({\n            display: 'block',\n            height: `${elementHeight}px`,\n            width: `${elementWidth}px`,\n            margin: 0,\n            padding: 0,\n            border: 'none',\n          });\n          setAffixStyle({\n            position: 'fixed',\n            top: `${offsetValue}px`,\n            left: `${originalOffsetLeft}px`,\n            width: `${elementWidth}px`,\n            zIndex,\n          });\n          onChange?.(true);\n        } else if (!shouldAffix && affixedRef.current) {\n          // Deactivate affix\n          affixedRef.current = false;\n          setAffixed(false);\n          setPlaceholderStyle({\n            display: 'none',\n            height: 0,\n            margin: 0,\n            padding: 0,\n          });\n          setAffixStyle({});\n          onChange?.(false);\n        }\n      } else {\n        // Bottom affixing\n        const offsetValue = offset ?? 0;\n        const elementBottom = originalOffsetTop + elementHeight;\n        const viewportBottom = scrollTop + viewportHeight;\n        shouldAffix = viewportBottom < elementBottom + offsetValue;\n\n        if (shouldAffix && !affixedRef.current) {\n          // Activate affix\n          affixedRef.current = true;\n          setAffixed(true);\n          setPlaceholderStyle({\n            display: 'block',\n            height: `${elementHeight}px`,\n            width: `${elementWidth}px`,\n            margin: 0,\n            padding: 0,\n            border: 'none',\n          });\n          setAffixStyle({\n            position: 'fixed',\n            bottom: `${offsetValue}px`,\n            left: `${originalOffsetLeft}px`,\n            width: `${elementWidth}px`,\n            zIndex,\n          });\n          onChange?.(true);\n        } else if (!shouldAffix && affixedRef.current) {\n          // Deactivate affix\n          affixedRef.current = false;\n          setAffixed(false);\n          setPlaceholderStyle({\n            display: 'none',\n            height: 0,\n            margin: 0,\n            padding: 0,\n          });\n          setAffixStyle({});\n          onChange?.(false);\n        }\n      }\n    });\n  }, [offset, position, target, zIndex, onChange]);\n\n  // Handle resize with measurement update\n  const handleResize = useCallback(() => {\n    // Only update measurements when not affixed to prevent jumping\n    if (!affixedRef.current) {\n      updateMeasurements();\n    }\n    handleScroll();\n  }, [updateMeasurements, handleScroll]);\n\n  // Initial measurements\n  useEffect(() => {\n    updateMeasurements();\n  }, [updateMeasurements]);\n\n  // Setup scroll and resize listeners\n  useEffect(() => {\n    const scrollContainer = target ? document.getElementById(target) : window;\n\n    if (!scrollContainer) {\n      if (target) {\n        console.warn(`Affix: Target container with id \"${target}\" not found.`);\n      }\n      return;\n    }\n\n    // Initial check\n    handleScroll();\n\n    // Add event listeners\n    if (scrollContainer === window) {\n      window.addEventListener('scroll', handleScroll, { passive: true });\n      window.addEventListener('resize', handleResize);\n    } else {\n      scrollContainer.addEventListener('scroll', handleScroll, { passive: true });\n      window.addEventListener('resize', handleResize);\n    }\n\n    // Cleanup\n    return () => {\n      if (rafIdRef.current !== null) {\n        cancelAnimationFrame(rafIdRef.current);\n      }\n\n      if (scrollContainer === window) {\n        window.removeEventListener('scroll', handleScroll);\n        window.removeEventListener('resize', handleResize);\n      } else {\n        scrollContainer.removeEventListener('scroll', handleScroll);\n        window.removeEventListener('resize', handleResize);\n      }\n    };\n  }, [offset, position, target, zIndex, handleScroll, handleResize]);\n\n  return (\n    <>\n      {/* Affixed element */}\n      <div\n        ref={affixRef}\n        className={`${styles.affix} ${affixed ? styles.affixActive : ''} ${className}`}\n        style={{ ...affixStyle, ...style }}\n        data-affixed={affixed}\n      >\n        {children}\n      </div>\n\n      {/* Placeholder to maintain layout when affixed - always rendered to maintain ref */}\n      <div\n        ref={placeholderRef}\n        style={placeholderStyle}\n        aria-hidden=\"true\"\n        className={styles.affixPlaceholder}\n      />\n    </>\n  );\n};\n","import React, { useState, useRef, useEffect, useId } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Tooltip.module.css';\n\nexport interface TooltipProps {\n  content: React.ReactNode;\n  children: React.ReactElement;\n  position?: 'top' | 'bottom' | 'left' | 'right';\n  delay?: number;\n  rich?: boolean;\n  className?: string;\n  id?: string;\n}\n\nconst Tooltip = ({\n  content,\n  children,\n  position = 'top',\n  delay = 300,\n  rich = false,\n  className = '',\n  id,\n}: TooltipProps) => {\n  const generatedId = useId();\n  const tooltipId = id || `tooltip-${generatedId}`;\n  const [isVisible, setIsVisible] = useState(false);\n  const [tooltipPosition, setTooltipPosition] = useState({ top: 0, left: 0 });\n  const timeoutRef = useRef<ReturnType<typeof setTimeout> | undefined>(undefined);\n  const triggerRef = useRef<HTMLElement>(null);\n  const tooltipRef = useRef<HTMLDivElement>(null);\n\n  const showTooltip = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = setTimeout(() => {\n      setIsVisible(true);\n    }, delay);\n  };\n\n  const hideTooltip = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    setIsVisible(false);\n  };\n\n  // Position tooltip relative to trigger\n  useEffect(() => {\n    if (!isVisible || !triggerRef.current || !tooltipRef.current) return;\n\n    const trigger = triggerRef.current;\n    const tooltip = tooltipRef.current;\n    const triggerRect = trigger.getBoundingClientRect();\n    const tooltipRect = tooltip.getBoundingClientRect();\n\n    let top = 0;\n    let left = 0;\n\n    switch (position) {\n      case 'top':\n        top = triggerRect.top - tooltipRect.height - 8;\n        left = triggerRect.left + triggerRect.width / 2 - tooltipRect.width / 2;\n        break;\n      case 'bottom':\n        top = triggerRect.bottom + 8;\n        left = triggerRect.left + triggerRect.width / 2 - tooltipRect.width / 2;\n        break;\n      case 'left':\n        top = triggerRect.top + triggerRect.height / 2 - tooltipRect.height / 2;\n        left = triggerRect.left - tooltipRect.width - 8;\n        break;\n      case 'right':\n        top = triggerRect.top + triggerRect.height / 2 - tooltipRect.height / 2;\n        left = triggerRect.right + 8;\n        break;\n    }\n\n    // Keep within viewport\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const margin = 8;\n\n    if (left < margin) left = margin;\n    if (left + tooltipRect.width > viewportWidth - margin) {\n      left = viewportWidth - tooltipRect.width - margin;\n    }\n    if (top < margin) top = margin;\n    if (top + tooltipRect.height > viewportHeight - margin) {\n      top = viewportHeight - tooltipRect.height - margin;\n    }\n\n    setTooltipPosition({ top, left });\n  }, [isVisible, position]);\n\n  // Cleanup timeout on unmount\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  // Clone child element and add event handlers\n  interface ChildEventHandlers {\n    onMouseEnter?: (e: React.MouseEvent) => void;\n    onMouseLeave?: (e: React.MouseEvent) => void;\n    onFocus?: (e: React.FocusEvent) => void;\n    onBlur?: (e: React.FocusEvent) => void;\n  }\n  const childProps = children.props as ChildEventHandlers;\n  const trigger = React.cloneElement(children, {\n    ref: triggerRef,\n    onMouseEnter: (e: React.MouseEvent) => {\n      showTooltip();\n      childProps.onMouseEnter?.(e);\n    },\n    onMouseLeave: (e: React.MouseEvent) => {\n      hideTooltip();\n      childProps.onMouseLeave?.(e);\n    },\n    onFocus: (e: React.FocusEvent) => {\n      showTooltip();\n      childProps.onFocus?.(e);\n    },\n    onBlur: (e: React.FocusEvent) => {\n      hideTooltip();\n      childProps.onBlur?.(e);\n    },\n    'aria-describedby': isVisible ? tooltipId : undefined,\n  } as React.HTMLAttributes<HTMLElement>);\n\n  const positionClass = position === 'top' ? styles.tooltipTop :\n                        position === 'right' ? styles.tooltipRight :\n                        position === 'left' ? styles.tooltipLeft :\n                        styles.tooltipBottom;\n\n  const richClass = rich ? styles.tooltipRich : '';\n\n  return (\n    <>\n      {trigger}\n      {isVisible && createPortal(\n        <div\n          ref={tooltipRef}\n          className={`${styles.tooltip} ${positionClass} ${richClass} ${className}`}\n          role=\"tooltip\"\n          id={tooltipId}\n          style={{\n            top: `${tooltipPosition.top}px`,\n            left: `${tooltipPosition.left}px`,\n          }}\n        >\n          {content}\n        </div>,\n        document.body\n      )}\n    </>\n  );\n};\n\nTooltip.displayName = 'Tooltip';\n\nexport { Tooltip };\n","import React, { useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { X } from 'lucide-react';\nimport styles from './Popover.module.css';\n\nexport interface PopoverProps {\n  open: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n  position?: 'top' | 'bottom' | 'left' | 'right';\n  wide?: boolean;\n  triggerRef?: React.RefObject<HTMLElement> | React.RefObject<HTMLButtonElement>;\n  className?: string;\n}\n\nexport interface PopoverHeaderProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface PopoverContentProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface PopoverFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface PopoverTitleProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface PopoverCloseProps {\n  onClick?: () => void;\n  'aria-label'?: string;\n  className?: string;\n}\n\nconst Popover = ({\n  open,\n  onClose,\n  children,\n  position = 'bottom',\n  wide = false,\n  triggerRef,\n  className = '',\n}: PopoverProps) => {\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  // Handle click outside\n  useEffect(() => {\n    if (!open) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as Node;\n      const trigger = triggerRef?.current;\n\n      // Don't close if clicking the trigger or the popover itself\n      if (\n        popoverRef.current &&\n        !popoverRef.current.contains(target) &&\n        trigger &&\n        !trigger.contains(target)\n      ) {\n        onClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [open, onClose, triggerRef]);\n\n  // Handle ESC key\n  useEffect(() => {\n    if (!open) return;\n\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onClose();\n        // Return focus to trigger\n        if (triggerRef?.current) {\n          triggerRef.current.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [open, onClose, triggerRef]);\n\n  // Position popover relative to trigger\n  useEffect(() => {\n    if (!open || !popoverRef.current || !triggerRef?.current) return;\n\n    const trigger = triggerRef.current;\n    const popover = popoverRef.current;\n    const triggerRect = trigger.getBoundingClientRect();\n    const popoverRect = popover.getBoundingClientRect();\n\n    let top = 0;\n    let left = 0;\n\n    switch (position) {\n      case 'top':\n        top = triggerRect.top - popoverRect.height - 8;\n        left = triggerRect.left + triggerRect.width / 2 - popoverRect.width / 2;\n        break;\n      case 'bottom':\n        top = triggerRect.bottom + 8;\n        left = triggerRect.left + triggerRect.width / 2 - popoverRect.width / 2;\n        break;\n      case 'left':\n        top = triggerRect.top + triggerRect.height / 2 - popoverRect.height / 2;\n        left = triggerRect.left - popoverRect.width - 8;\n        break;\n      case 'right':\n        top = triggerRect.top + triggerRect.height / 2 - popoverRect.height / 2;\n        left = triggerRect.right + 8;\n        break;\n    }\n\n    // Keep within viewport\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const margin = 8;\n\n    if (left < margin) left = margin;\n    if (left + popoverRect.width > viewportWidth - margin) {\n      left = viewportWidth - popoverRect.width - margin;\n    }\n    if (top < margin) top = margin;\n    if (top + popoverRect.height > viewportHeight - margin) {\n      top = viewportHeight - popoverRect.height - margin;\n    }\n\n    popover.style.top = `${top}px`;\n    popover.style.left = `${left}px`;\n  }, [open, position, triggerRef]);\n\n  if (!open) return null;\n\n  const positionClass = position === 'top' ? styles.popoverTop :\n                        position === 'right' ? styles.popoverRight :\n                        position === 'left' ? styles.popoverLeft :\n                        styles.popoverBottom;\n\n  const wideClass = wide ? styles.popoverWide : '';\n\n  return createPortal(\n    <div\n      ref={popoverRef}\n      className={`${styles.popover} ${positionClass} ${wideClass} ${className}`}\n      role=\"dialog\"\n      aria-modal=\"false\"\n    >\n      {children}\n    </div>,\n    document.body\n  );\n};\n\nconst PopoverHeader = ({ children, className = '' }: PopoverHeaderProps) => {\n  return (\n    <div className={`${styles.popoverHeader} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst PopoverContent = ({ children, className = '' }: PopoverContentProps) => {\n  return (\n    <div className={`${styles.popoverContent} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst PopoverFooter = ({ children, className = '' }: PopoverFooterProps) => {\n  return (\n    <div className={`${styles.popoverFooter} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst PopoverTitle = ({ children, className = '' }: PopoverTitleProps) => {\n  return (\n    <span className={`${styles.popoverTitle} ${className}`}>\n      {children}\n    </span>\n  );\n};\n\nconst PopoverClose = ({\n  onClick,\n  'aria-label': ariaLabel = 'Close popover',\n  className = '',\n}: PopoverCloseProps) => {\n  return (\n    <button\n      className={`${styles.popoverClose} ${className}`}\n      onClick={onClick}\n      aria-label={ariaLabel}\n      type=\"button\"\n    >\n      <X size={16} />\n    </button>\n  );\n};\n\nexport {\n  Popover,\n  PopoverHeader,\n  PopoverContent,\n  PopoverFooter,\n  PopoverTitle,\n  PopoverClose,\n};\n","import type { ReactNode } from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { X } from 'lucide-react';\nimport { Button } from '../Button';\nimport styles from './Tour.module.css';\n\nexport type TourPlacement = 'top' | 'bottom' | 'left' | 'right';\n\nexport interface TourStep {\n  /** Target element selector (e.g., '#step-1', '.my-element') */\n  target: string;\n  /** Step title */\n  title: string;\n  /** Step description */\n  content: ReactNode;\n  /** Popup placement relative to target */\n  placement?: TourPlacement;\n}\n\nexport interface TourProps {\n  /** Whether the tour is open */\n  open: boolean;\n  /** Array of tour steps */\n  steps: TourStep[];\n  /** Current step index (controlled) */\n  current?: number;\n  /** Current step change callback */\n  onChange?: (current: number) => void;\n  /** Close callback */\n  onClose: () => void;\n  /** Finish callback (when last step completes) */\n  onFinish?: () => void;\n  /** Skip callback */\n  onSkip?: () => void;\n  /** Show mask overlay */\n  mask?: boolean;\n  /** Show close button */\n  closable?: boolean;\n  /** Show skip button */\n  showSkip?: boolean;\n  /** Show progress indicator */\n  showProgress?: boolean;\n  /** Default placement for all steps */\n  placement?: TourPlacement;\n  /** ARIA label */\n  'aria-label'?: string;\n}\n\n/**\n * Tour Component\n *\n * Step-by-step guide to help users understand and navigate through features.\n * Ideal for user onboarding, feature discovery, and contextual help.\n *\n * @example\n * ```tsx\n * const [tourOpen, setTourOpen] = useState(false);\n *\n * const steps: TourStep[] = [\n *   {\n *     target: '#dashboard',\n *     title: 'Dashboard',\n *     content: 'View your device metrics here',\n *     placement: 'bottom'\n *   },\n *   {\n *     target: '#settings',\n *     title: 'Settings',\n *     content: 'Configure your preferences',\n *     placement: 'left'\n *   }\n * ];\n *\n * <Tour\n *   open={tourOpen}\n *   steps={steps}\n *   onClose={() => setTourOpen(false)}\n *   onFinish={() => console.log('Tour completed')}\n * />\n * ```\n */\nexport const Tour = ({\n  open,\n  steps,\n  current: controlledCurrent,\n  onChange,\n  onClose,\n  onFinish,\n  onSkip,\n  mask = true,\n  closable = true,\n  showSkip = true,\n  showProgress = true,\n  placement: defaultPlacement = 'bottom',\n  'aria-label': ariaLabel = 'Product tour',\n}: TourProps) => {\n  const [uncontrolledCurrent, setUncontrolledCurrent] = useState(0);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const [popupPlacement, setPopupPlacement] = useState<TourPlacement>(defaultPlacement);\n  const popupRef = useRef<HTMLDivElement>(null);\n  const previousFocusRef = useRef<HTMLElement | null>(null);\n  const [targetElement, setTargetElement] = useState<HTMLElement | null>(null);\n\n  // Determine if controlled or uncontrolled\n  const isControlled = controlledCurrent !== undefined;\n  const currentStep = isControlled ? controlledCurrent : uncontrolledCurrent;\n\n  const setCurrentStep = (index: number) => {\n    if (!isControlled) {\n      setUncontrolledCurrent(index);\n    }\n    onChange?.(index);\n  };\n\n  const step = steps[currentStep];\n\n  // Store previous focus when tour opens\n  useEffect(() => {\n    if (open) {\n      previousFocusRef.current = document.activeElement as HTMLElement;\n    } else {\n      // Return focus when tour closes\n      if (previousFocusRef.current) {\n        previousFocusRef.current.focus();\n      }\n    }\n  }, [open]);\n\n  // Update target element and highlight\n  useEffect(() => {\n    if (!open || !step) return;\n\n    // Remove previous highlight\n    document.querySelectorAll(`.${styles.tourTargetHighlight}`).forEach(el => {\n      el.classList.remove(styles.tourTargetHighlight);\n    });\n\n    // Find and highlight new target\n    const target = document.querySelector(step.target) as HTMLElement;\n    if (target) {\n      target.classList.add(styles.tourTargetHighlight);\n      setTargetElement(target);\n    }\n\n    return () => {\n      // Cleanup highlight on unmount\n      document.querySelectorAll(`.${styles.tourTargetHighlight}`).forEach(el => {\n        el.classList.remove(styles.tourTargetHighlight);\n      });\n    };\n  }, [open, step, currentStep]);\n\n  // Position popup relative to target\n  useEffect(() => {\n    if (!open || !targetElement || !popupRef.current) return;\n\n    const updatePosition = () => {\n      const targetRect = targetElement.getBoundingClientRect();\n      const popupRect = popupRef.current!.getBoundingClientRect();\n      const placement = step?.placement || defaultPlacement;\n\n      let top = 0;\n      let left = 0;\n\n      switch (placement) {\n        case 'top':\n          top = targetRect.top - popupRect.height - 12;\n          left = targetRect.left + (targetRect.width / 2) - (popupRect.width / 2);\n          break;\n        case 'right':\n          top = targetRect.top + (targetRect.height / 2) - (popupRect.height / 2);\n          left = targetRect.right + 12;\n          break;\n        case 'left':\n          top = targetRect.top + (targetRect.height / 2) - (popupRect.height / 2);\n          left = targetRect.left - popupRect.width - 12;\n          break;\n        case 'bottom':\n        default:\n          top = targetRect.bottom + 12;\n          left = targetRect.left + (targetRect.width / 2) - (popupRect.width / 2);\n          break;\n      }\n\n      // Keep within viewport\n      top = Math.max(12, Math.min(top, window.innerHeight - popupRect.height - 12));\n      left = Math.max(12, Math.min(left, window.innerWidth - popupRect.width - 12));\n\n      setPopupPosition({\n        top: top + window.pageYOffset,\n        left: left + window.pageXOffset,\n      });\n      setPopupPlacement(placement);\n    };\n\n    updatePosition();\n\n    // Update on scroll/resize\n    window.addEventListener('scroll', updatePosition);\n    window.addEventListener('resize', updatePosition);\n\n    return () => {\n      window.removeEventListener('scroll', updatePosition);\n      window.removeEventListener('resize', updatePosition);\n    };\n  }, [open, targetElement, step, defaultPlacement]);\n\n  // Keyboard navigation\n  useEffect(() => {\n    if (!open) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      switch (e.key) {\n        case 'Escape':\n          onClose();\n          break;\n        case 'ArrowRight':\n        case 'Enter':\n        case ' ':\n          if (e.key === ' ') e.preventDefault();\n          handleNext();\n          break;\n        case 'ArrowLeft':\n          handlePrev();\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [open, currentStep, steps.length]);\n\n  // Prevent body scroll when tour is open\n  useEffect(() => {\n    if (open) {\n      const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n      document.body.style.overflow = 'hidden';\n      document.body.style.paddingRight = `${scrollbarWidth}px`;\n    } else {\n      document.body.style.overflow = '';\n      document.body.style.paddingRight = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n      document.body.style.paddingRight = '';\n    };\n  }, [open]);\n\n  const handleNext = () => {\n    if (currentStep < steps.length - 1) {\n      setCurrentStep(currentStep + 1);\n    } else {\n      // Finish tour\n      onFinish?.();\n      onClose();\n    }\n  };\n\n  const handlePrev = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleSkip = () => {\n    onSkip?.();\n    onClose();\n  };\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  if (!open || steps.length === 0) return null;\n\n  const isFirstStep = currentStep === 0;\n  const isLastStep = currentStep === steps.length - 1;\n\n  return createPortal(\n    <>\n      {/* Mask overlay */}\n      {mask && (\n        <div\n          className={`${styles.tourMask} ${styles.tourMaskVisible}`}\n          aria-hidden=\"true\"\n        />\n      )}\n\n      {/* Tour popup */}\n      <div\n        ref={popupRef}\n        className={`${styles.tourPopup} ${styles.tourPopupVisible}`}\n        style={{\n          top: `${popupPosition.top}px`,\n          left: `${popupPosition.left}px`,\n        }}\n        data-placement={popupPlacement}\n        role=\"dialog\"\n        aria-modal=\"false\"\n        aria-label={ariaLabel}\n        aria-describedby=\"tour-content\"\n      >\n        {/* Header */}\n        <div className={styles.tourHeader}>\n          {showProgress && (\n            <div className={styles.tourProgress} aria-live=\"polite\">\n              {currentStep + 1} / {steps.length}\n            </div>\n          )}\n          {closable && (\n            <button\n              className={styles.tourClose}\n              onClick={handleClose}\n              aria-label=\"Close tour\"\n            >\n              <X size={20} />\n            </button>\n          )}\n        </div>\n\n        {/* Content */}\n        <div className={styles.tourContent} id=\"tour-content\">\n          <h4 className={styles.tourTitle}>{step.title}</h4>\n          <div className={styles.tourDescription}>{step.content}</div>\n        </div>\n\n        {/* Footer */}\n        <div className={styles.tourFooter}>\n          {showSkip ? (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleSkip}\n              className={styles.tourSkip}\n            >\n              Skip\n            </Button>\n          ) : (\n            <span />\n          )}\n          <div className={styles.tourNav}>\n            <Button\n              variant=\"secondary\"\n              size=\"sm\"\n              onClick={handlePrev}\n              disabled={isFirstStep}\n              className={styles.tourPrev}\n            >\n              Previous\n            </Button>\n            <Button\n              variant=\"primary\"\n              size=\"sm\"\n              onClick={handleNext}\n              className={styles.tourNext}\n            >\n              {isLastStep ? 'Finish' : 'Next'}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </>,\n    document.body\n  );\n};\n\nTour.displayName = 'Tour';\n","import React from 'react';\nimport styles from './Divider.module.css';\n\nexport type DividerOrientation = 'horizontal' | 'vertical';\nexport type DividerThickness = 'thin' | 'medium' | 'thick';\nexport type DividerStyle = 'solid' | 'dashed' | 'dotted';\nexport type DividerSpacing = 'sm' | 'md' | 'lg';\nexport type DividerTextAlign = 'center' | 'left' | 'right';\n\nexport interface DividerProps {\n  /** Orientation of the divider */\n  orientation?: DividerOrientation;\n  /** Thickness of the divider line */\n  thickness?: DividerThickness;\n  /** Style of the divider line */\n  lineStyle?: DividerStyle;\n  /** Spacing around the divider */\n  spacing?: DividerSpacing;\n  /** Text or icon to display in the divider */\n  children?: React.ReactNode;\n  /** Text alignment when children are provided */\n  textAlign?: DividerTextAlign;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Divider - Visual separator\n *\n * Visual separator for grouping and organizing content sections.\n */\nexport const Divider: React.FC<DividerProps> = ({\n  orientation = 'horizontal',\n  thickness,\n  lineStyle = 'solid',\n  spacing = 'md',\n  children,\n  textAlign = 'center',\n  className = '',\n}) => {\n  const hasChildren = Boolean(children);\n\n  const dividerClasses = [\n    styles.divider,\n    orientation === 'vertical' && styles['divider-vertical'],\n    thickness && styles[`divider-${thickness}`],\n    lineStyle !== 'solid' && styles[`divider-${lineStyle}`],\n    spacing && styles[`divider-spacing-${spacing}`],\n    hasChildren && styles['divider-with-text'],\n    hasChildren && textAlign !== 'center' && styles[`divider-text-${textAlign}`],\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  if (hasChildren && orientation === 'horizontal') {\n    return (\n      <div className={dividerClasses} role=\"separator\" aria-label=\"Divider with text\">\n        <span className={styles['divider-text']}>{children}</span>\n      </div>\n    );\n  }\n\n  return <div className={dividerClasses} role=\"separator\" aria-label=\"Divider\" />;\n};\n\nDivider.displayName = 'Divider';\n","import React, { useState, useRef } from 'react';\nimport { ChevronDown } from 'lucide-react';\nimport styles from './Accordion.module.css';\n\n// ===== Types =====\n\nexport interface AccordionProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface AccordionItemProps {\n  title: React.ReactNode;\n  children: React.ReactNode;\n  defaultOpen?: boolean;\n  icon?: React.ReactNode;\n  className?: string;\n}\n\n// ===== Accordion Item =====\n\nconst AccordionItem: React.FC<AccordionItemProps> = ({\n  title,\n  children,\n  defaultOpen = false,\n  icon,\n  className = '',\n}) => {\n  const [isOpen, setIsOpen] = useState(defaultOpen);\n  const contentRef = useRef<HTMLDivElement>(null);\n  const headerId = useRef(`accordion-header-${Math.random().toString(36).substr(2, 9)}`);\n  const contentId = useRef(`accordion-content-${Math.random().toString(36).substr(2, 9)}`);\n\n  const toggleAccordion = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      toggleAccordion();\n    }\n  };\n\n  // Calculate max-height for smooth animation\n  const maxHeight = isOpen && contentRef.current\n    ? `${contentRef.current.scrollHeight}px`\n    : '0px';\n\n  const itemClasses = [\n    styles.accordionItem,\n    isOpen && styles.accordionItemOpen,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={itemClasses}>\n      <button\n        id={headerId.current}\n        className={styles.accordionHeader}\n        onClick={toggleAccordion}\n        onKeyDown={handleKeyDown}\n        aria-expanded={isOpen}\n        aria-controls={contentId.current}\n      >\n        <div style={{ display: 'flex', alignItems: 'center', gap: 'var(--spacing-2)' }}>\n          {icon && <span>{icon}</span>}\n          <span>{title}</span>\n        </div>\n        <ChevronDown size={20} className={styles.accordionIcon} />\n      </button>\n      <div\n        id={contentId.current}\n        ref={contentRef}\n        className={styles.accordionContent}\n        style={{ maxHeight }}\n        role=\"region\"\n        aria-labelledby={headerId.current}\n      >\n        <div className={styles.accordionBody}>{children}</div>\n      </div>\n    </div>\n  );\n};\n\n// ===== Main Accordion Component =====\n\nconst Accordion: React.FC<AccordionProps> & {\n  Item: typeof AccordionItem;\n} = ({ children, className = '' }) => {\n  return (\n    <div className={`${styles.accordion} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\n// Attach sub-components\nAccordion.Item = AccordionItem;\n\nexport { Accordion };\n","import type { ReactNode } from 'react';\nimport { useState } from 'react';\nimport styles from './Segmented.module.css';\n\nexport interface SegmentedOption {\n  /** Option value */\n  value: string;\n  /** Option label */\n  label: ReactNode;\n  /** Option icon */\n  icon?: ReactNode;\n  /** Disabled state */\n  disabled?: boolean;\n}\n\nexport interface SegmentedProps {\n  /** Available options */\n  options: SegmentedOption[];\n  /** Selected value (controlled) */\n  value?: string;\n  /** Default selected value (uncontrolled) */\n  defaultValue?: string;\n  /** Change handler */\n  onChange?: (value: string) => void;\n  /** Size variant */\n  size?: 'sm' | 'md' | 'lg';\n  /** Full width */\n  block?: boolean;\n  /** Icon only mode */\n  iconOnly?: boolean;\n  /** Disabled state */\n  disabled?: boolean;\n  /** ARIA label */\n  'aria-label'?: string;\n  /** Custom className */\n  className?: string;\n}\n\n/**\n * Segmented Component\n *\n * Compact single-select button group, visual alternative to radio buttons.\n * Ideal for view mode switching, time range selection, and status filtering.\n *\n * @example\n * ```tsx\n * <Segmented\n *   options={[\n *     { value: 'list', label: 'List', icon: <List /> },\n *     { value: 'grid', label: 'Grid', icon: <Grid /> },\n *     { value: 'table', label: 'Table', icon: <Table /> },\n *   ]}\n *   defaultValue=\"list\"\n *   onChange={(value) => console.log(value)}\n * />\n * ```\n *\n * @example\n * ```tsx\n * // Icon only\n * <Segmented\n *   options={[\n *     { value: 'list', icon: <List />, label: 'List view' },\n *     { value: 'grid', icon: <Grid />, label: 'Grid view' },\n *   ]}\n *   iconOnly\n *   defaultValue=\"list\"\n * />\n * ```\n */\nexport const Segmented = ({\n  options,\n  value: controlledValue,\n  defaultValue,\n  onChange,\n  size = 'md',\n  block = false,\n  iconOnly = false,\n  disabled = false,\n  'aria-label': ariaLabel,\n  className,\n}: SegmentedProps) => {\n  // Handle controlled/uncontrolled state\n  const [uncontrolledValue, setUncontrolledValue] = useState<string>(\n    defaultValue || options[0]?.value || ''\n  );\n\n  const selectedValue = controlledValue !== undefined ? controlledValue : uncontrolledValue;\n\n  const handleChange = (newValue: string) => {\n    if (controlledValue === undefined) {\n      setUncontrolledValue(newValue);\n    }\n    onChange?.(newValue);\n  };\n\n  const containerClasses = [\n    styles.segmented,\n    size === 'sm' && styles.segmentedSm,\n    size === 'lg' && styles.segmentedLg,\n    block && styles.segmentedBlock,\n    iconOnly && styles.segmentedIconOnly,\n    disabled && styles.segmentedDisabled,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={containerClasses} role=\"radiogroup\" aria-label={ariaLabel}>\n      {options.map((option) => {\n        const isSelected = selectedValue === option.value;\n        const isDisabled = disabled || option.disabled;\n        const inputId = `segmented-${option.value}-${Math.random().toString(36).substr(2, 9)}`;\n\n        return (\n          <div key={option.value}>\n            <input\n              type=\"radio\"\n              id={inputId}\n              name=\"segmented\"\n              value={option.value}\n              checked={isSelected}\n              disabled={isDisabled}\n              onChange={() => handleChange(option.value)}\n              hidden\n            />\n            <label\n              htmlFor={inputId}\n              className={styles.segmentedItem}\n              aria-label={iconOnly ? (typeof option.label === 'string' ? option.label : undefined) : undefined}\n            >\n              {option.icon && <span className={styles.segmentedItemIcon}>{option.icon}</span>}\n              {!iconOnly && option.label && <span>{option.label}</span>}\n            </label>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nSegmented.displayName = 'Segmented';\n","import type { ReactNode, MouseEvent } from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport { ChevronDown, ChevronUp } from 'lucide-react';\nimport { Button } from '../Button';\nimport styles from './SplitButton.module.css';\n\nexport interface SplitButtonMenuItem {\n  /** Menu item label */\n  label?: ReactNode;\n  /** Menu item icon */\n  icon?: ReactNode;\n  /** Click handler */\n  onClick?: () => void;\n  /** Danger styling */\n  danger?: boolean;\n  /** Divider (renders as separator) */\n  divider?: boolean;\n}\n\nexport interface SplitButtonProps {\n  /** Primary action label */\n  label?: ReactNode;\n  /** Primary action icon */\n  icon?: ReactNode;\n  /** Primary action click handler */\n  onClick?: () => void;\n  /** Dropdown menu items */\n  items: SplitButtonMenuItem[];\n  /** Button variant */\n  variant?: 'primary' | 'secondary' | 'success' | 'danger';\n  /** Button size */\n  size?: 'sm' | 'md' | 'lg';\n  /** Disabled state */\n  disabled?: boolean;\n  /** Loading state */\n  loading?: boolean;\n  /** ARIA label for action button */\n  'aria-label'?: string;\n  /** Custom className */\n  className?: string;\n}\n\n/**\n * Split Button Component\n *\n * Button with primary action and dropdown menu for additional options.\n * Ideal for device control, data export, and automation rules.\n *\n * @example\n * ```tsx\n * <SplitButton\n *   label=\"Save\"\n *   icon={<Save />}\n *   onClick={() => console.log('Save')}\n *   items={[\n *     { label: 'Save', icon: <Save />, onClick: () => {} },\n *     { label: 'Save As', icon: <FilePlus />, onClick: () => {} },\n *     { label: 'Save Template', icon: <FileCopy />, onClick: () => {} },\n *   ]}\n * />\n * ```\n *\n * @example\n * ```tsx\n * // With dividers and danger items\n * <SplitButton\n *   label=\"Delete\"\n *   icon={<Trash2 />}\n *   variant=\"danger\"\n *   items={[\n *     { label: 'Delete', icon: <Trash2 />, onClick: () => {} },\n *     { label: 'Archive', icon: <Archive />, onClick: () => {} },\n *     { divider: true },\n *     { label: 'Delete Permanently', icon: <Trash />, onClick: () => {}, danger: true },\n *   ]}\n * />\n * ```\n */\nexport const SplitButton = ({\n  label,\n  icon,\n  onClick,\n  items,\n  variant = 'primary',\n  size = 'md',\n  disabled = false,\n  loading = false,\n  'aria-label': ariaLabel,\n  className,\n}: SplitButtonProps) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const menuRef = useRef<HTMLUListElement>(null);\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: Event) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [isOpen]);\n\n  // Handle keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (!isOpen) return;\n\n      if (event.key === 'Escape') {\n        setIsOpen(false);\n        return;\n      }\n\n      if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\n        event.preventDefault();\n        const menuItems = menuRef.current?.querySelectorAll(`.${styles.splitButtonMenuItem}`);\n        if (!menuItems || menuItems.length === 0) return;\n\n        const currentIndex = Array.from(menuItems).findIndex(\n          (item) => item === document.activeElement\n        );\n\n        let nextIndex;\n        if (event.key === 'ArrowDown') {\n          nextIndex = currentIndex + 1 >= menuItems.length ? 0 : currentIndex + 1;\n        } else {\n          nextIndex = currentIndex - 1 < 0 ? menuItems.length - 1 : currentIndex - 1;\n        }\n\n        (menuItems[nextIndex] as HTMLElement).focus();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleKeyDown);\n      return () => document.removeEventListener('keydown', handleKeyDown);\n    }\n  }, [isOpen]);\n\n  const handleToggleClick = (e: MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    setIsOpen(!isOpen);\n  };\n\n  const handleActionClick = (e: MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    onClick?.();\n  };\n\n  const handleMenuItemClick = (item: SplitButtonMenuItem) => {\n    if (item.divider) return;\n    item.onClick?.();\n    setIsOpen(false);\n  };\n\n  const containerClasses = [\n    styles.splitButton,\n    size === 'sm' && styles.splitButtonSm,\n    size === 'lg' && styles.splitButtonLg,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={containerClasses} ref={containerRef}>\n      <Button\n        className={styles.splitButtonAction}\n        variant={variant}\n        size={size}\n        onClick={handleActionClick}\n        disabled={disabled}\n        loading={loading}\n        icon={icon}\n        aria-label={ariaLabel}\n      >\n        {label}\n      </Button>\n\n      <Button\n        className={styles.splitButtonToggle}\n        variant={variant}\n        size={size}\n        onClick={handleToggleClick}\n        disabled={disabled || loading}\n        aria-label=\"More options\"\n        aria-haspopup=\"menu\"\n        aria-expanded={isOpen}\n        iconOnly\n      >\n        {isOpen ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\n      </Button>\n\n      <ul\n        ref={menuRef}\n        className={`${styles.splitButtonMenu} ${isOpen ? styles.splitButtonMenuOpen : ''}`}\n        role=\"menu\"\n      >\n        {items.map((item, index) => {\n          if (item.divider) {\n            return (\n              <li\n                key={`divider-${index}`}\n                className={styles.splitButtonMenuDivider}\n                role=\"separator\"\n                aria-hidden=\"true\"\n              />\n            );\n          }\n\n          return (\n            <li\n              key={index}\n              className={`${styles.splitButtonMenuItem} ${\n                item.danger ? styles.splitButtonMenuItemDanger : ''\n              }`}\n              role=\"menuitem\"\n              tabIndex={0}\n              onClick={() => handleMenuItemClick(item)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' || e.key === ' ') {\n                  e.preventDefault();\n                  handleMenuItemClick(item);\n                }\n              }}\n            >\n              {item.icon && <span className={styles.splitButtonMenuItemIcon}>{item.icon}</span>}\n              <span>{item.label}</span>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nSplitButton.displayName = 'SplitButton';\n","import React from 'react';\nimport { Search } from 'lucide-react';\nimport styles from './Toolbar.module.css';\n\nexport interface ToolbarProps {\n  children: React.ReactNode;\n  size?: 'compact' | 'default' | 'comfortable';\n  bulk?: boolean;\n  className?: string;\n}\n\nexport interface ToolbarSectionProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface ToolbarSearchProps {\n  placeholder?: string;\n  value?: string;\n  onChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  className?: string;\n}\n\nexport interface ToolbarSelectProps {\n  children: React.ReactNode;\n  value?: string;\n  onChange?: (e: React.ChangeEvent<HTMLSelectElement>) => void;\n  className?: string;\n}\n\nexport interface ToolbarBulkCountProps {\n  count: number;\n  label?: string;\n  className?: string;\n}\n\nconst Toolbar = ({\n  children,\n  size = 'default',\n  bulk = false,\n  className = ''\n}: ToolbarProps) => {\n  const sizeClass = size === 'compact' ? styles.toolbarCompact :\n                    size === 'comfortable' ? styles.toolbarComfortable : '';\n  const bulkClass = bulk ? styles.toolbarBulk : '';\n\n  return (\n    <div className={`${styles.toolbar} ${sizeClass} ${bulkClass} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst ToolbarSection = ({ children, className = '' }: ToolbarSectionProps) => {\n  return (\n    <div className={`${styles.toolbarSection} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst ToolbarDivider = () => {\n  return <div className={styles.toolbarDivider} />;\n};\n\nconst ToolbarSearch = ({\n  placeholder = 'Search...',\n  value,\n  onChange,\n  className = ''\n}: ToolbarSearchProps) => {\n  return (\n    <div className={`${styles.toolbarSearch} ${className}`}>\n      <Search size={20} strokeWidth={2} />\n      <input\n        type=\"text\"\n        className={styles.toolbarSearchInput}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nconst ToolbarSelect = ({\n  children,\n  value,\n  onChange,\n  className = ''\n}: ToolbarSelectProps) => {\n  return (\n    <select\n      className={`${styles.toolbarSelect} ${className}`}\n      value={value}\n      onChange={onChange}\n    >\n      {children}\n    </select>\n  );\n};\n\nconst ToolbarBulkCount = ({\n  count,\n  label = 'items selected',\n  className = ''\n}: ToolbarBulkCountProps) => {\n  return (\n    <span className={`${styles.toolbarBulkCount} ${className}`}>\n      <strong>{count}</strong> {label}\n    </span>\n  );\n};\n\nexport {\n  Toolbar,\n  ToolbarSection,\n  ToolbarDivider,\n  ToolbarSearch,\n  ToolbarSelect,\n  ToolbarBulkCount,\n};\n","import type { ReactNode, CSSProperties } from 'react';\nimport { useRef, useEffect, useState } from 'react';\nimport styles from './Watermark.module.css';\n\nexport interface WatermarkProps {\n  /** Watermark text content */\n  content?: string | string[];\n  /** Children to be watermarked */\n  children: ReactNode;\n  /** Font size in pixels */\n  fontSize?: number;\n  /** Rotation angle in degrees */\n  rotate?: number;\n  /** Text opacity (0-1) */\n  opacity?: number;\n  /** Gap between watermark texts in pixels */\n  gap?: number;\n  /** Apply watermark to entire viewport */\n  fullscreen?: boolean;\n  /** Additional CSS class */\n  className?: string;\n  /** Additional inline styles for container */\n  style?: CSSProperties;\n}\n\n/**\n * Watermark Component\n *\n * Add semi-transparent text overlay to protect content from unauthorized use.\n * Ideal for sensitive documents, copyright protection, and user tracking.\n *\n * @example\n * ```tsx\n * <Watermark content=\"CONFIDENTIAL\">\n *   <div>Your protected content here</div>\n * </Watermark>\n * ```\n *\n * @example\n * ```tsx\n * // Multi-line watermark\n * <Watermark\n *   content={['Internal Use Only', 'Do Not Distribute']}\n *   opacity={0.1}\n *   rotate={-45}\n * >\n *   <div>Protected document</div>\n * </Watermark>\n * ```\n *\n * @example\n * ```tsx\n * // User tracking watermark\n * <Watermark\n *   content=\"user@example.com\"\n *   opacity={0.05}\n *   fontSize={14}\n * >\n *   <div>Sensitive data dashboard</div>\n * </Watermark>\n * ```\n */\nexport const Watermark = ({\n  content = 'Watermark',\n  children,\n  fontSize = 16,\n  rotate = -45,\n  opacity = 0.08,\n  gap = 100,\n  fullscreen = false,\n  className = '',\n  style = {},\n}: WatermarkProps) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [watermarkItems, setWatermarkItems] = useState<\n    Array<{ text: string; left: number; top: number }>\n  >([]);\n\n  useEffect(() => {\n    const generateWatermark = () => {\n      if (!containerRef.current) return;\n\n      const container = fullscreen ? document.body : containerRef.current;\n      const { offsetWidth: width, offsetHeight: height } = container;\n\n      if (width === 0 || height === 0) return;\n\n      // Calculate diagonal length for full coverage\n      const diagonal = Math.sqrt(width * width + height * height);\n\n      // Determine spacing based on fontSize and gap\n      const spacing = fontSize + gap;\n\n      // Calculate number of items needed\n      const columns = Math.ceil(diagonal / spacing);\n      const rows = Math.ceil(diagonal / spacing);\n\n      const items: Array<{ text: string; left: number; top: number }> = [];\n\n      // Convert content to string array\n      const contentArray = Array.isArray(content) ? content : [content];\n      const text = contentArray.join('\\n');\n\n      // Generate grid of watermark items\n      for (let i = 0; i < columns; i++) {\n        for (let j = 0; j < rows; j++) {\n          items.push({\n            text,\n            left: i * spacing,\n            top: j * spacing,\n          });\n        }\n      }\n\n      setWatermarkItems(items);\n    };\n\n    generateWatermark();\n\n    // Regenerate on window resize\n    const handleResize = () => {\n      generateWatermark();\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [content, fontSize, gap, fullscreen]);\n\n  const watermarkStyle: CSSProperties = {\n    opacity,\n  };\n\n  const textStyle: CSSProperties = {\n    fontSize: `${fontSize}px`,\n    transform: `rotate(${rotate}deg)`,\n  };\n\n  const watermarkLayer = (\n    <div\n      className={`${styles.watermark} ${fullscreen ? styles.watermarkFullscreen : ''}`}\n      style={watermarkStyle}\n      aria-hidden=\"true\"\n    >\n      {watermarkItems.map((item, index) => (\n        <span\n          key={index}\n          className={styles.watermarkText}\n          style={{\n            ...textStyle,\n            left: `${item.left}px`,\n            top: `${item.top}px`,\n            whiteSpace: Array.isArray(content) ? 'pre-line' : 'nowrap',\n          }}\n        >\n          {item.text}\n        </span>\n      ))}\n    </div>\n  );\n\n  if (fullscreen) {\n    // Render fullscreen watermark as a sibling to body\n    return (\n      <>\n        {watermarkLayer}\n        {children}\n      </>\n    );\n  }\n\n  // Render as wrapper container\n  return (\n    <div ref={containerRef} className={`${styles.watermarkContainer} ${className}`} style={style}>\n      {children}\n      {watermarkLayer}\n    </div>\n  );\n};\n\nWatermark.displayName = 'Watermark';\n","import React from 'react';\nimport { X, ChevronRight, Bell } from 'lucide-react';\nimport styles from './NotificationCenter.module.css';\n\nexport interface NotificationCenterProps {\n  children: React.ReactNode;\n  compact?: boolean;\n  className?: string;\n}\n\nexport interface NotificationCenterHeaderProps {\n  children: React.ReactNode;\n  count?: number;\n  className?: string;\n}\n\nexport interface NotificationCenterBodyProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface NotificationCenterFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface NotificationTabsProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface NotificationTabProps {\n  children: React.ReactNode;\n  active?: boolean;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface NotificationItemProps {\n  children: React.ReactNode;\n  unread?: boolean;\n  clickable?: boolean;\n  onClick?: () => void;\n  compact?: boolean;\n  className?: string;\n}\n\nexport interface NotificationIconProps {\n  children: React.ReactNode;\n  variant?: 'error' | 'warning' | 'success' | 'info';\n  className?: string;\n}\n\nexport interface NotificationContentProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface NotificationTitleProps {\n  children: React.ReactNode;\n  compact?: boolean;\n  className?: string;\n}\n\nexport interface NotificationMessageProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface NotificationTimeProps {\n  children: React.ReactNode;\n  compact?: boolean;\n  className?: string;\n}\n\nexport interface NotificationActionProps {\n  onClick?: () => void;\n  'aria-label'?: string;\n  className?: string;\n}\n\nexport interface NotificationTriggerProps {\n  count?: number;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface NotificationDotProps {\n  variant?: 'error' | 'warning' | 'success' | 'info';\n  className?: string;\n}\n\nconst NotificationCenter = ({\n  children,\n  compact = false,\n  className = '',\n}: NotificationCenterProps) => {\n  return (\n    <div className={`${styles.notificationCenter} ${compact ? styles.notificationCenterCompact : ''} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst NotificationCenterHeader = ({\n  children,\n  count,\n  className = '',\n}: NotificationCenterHeaderProps) => {\n  return (\n    <div className={`${styles.notificationCenterHeader} ${className}`}>\n      {children}\n      {count !== undefined && (\n        <span className={styles.notificationCount}>{count}</span>\n      )}\n    </div>\n  );\n};\n\nconst NotificationCenterTitle = ({ children }: { children: React.ReactNode }) => {\n  return <h3 className={styles.notificationCenterTitle}>{children}</h3>;\n};\n\nconst NotificationCenterBody = ({\n  children,\n  className = '',\n}: NotificationCenterBodyProps) => {\n  return (\n    <div className={`${styles.notificationCenterBody} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst NotificationCenterFooter = ({\n  children,\n  className = '',\n}: NotificationCenterFooterProps) => {\n  return (\n    <div className={`${styles.notificationCenterFooter} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst NotificationTabs = ({\n  children,\n  className = '',\n}: NotificationTabsProps) => {\n  return (\n    <div className={`${styles.notificationTabs} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst NotificationTab = ({\n  children,\n  active = false,\n  onClick,\n  className = '',\n}: NotificationTabProps) => {\n  return (\n    <button\n      className={`${styles.notificationTab} ${active ? styles.notificationTabActive : ''} ${className}`}\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  );\n};\n\nconst NotificationItem = ({\n  children,\n  unread = false,\n  clickable = false,\n  onClick,\n  compact = false,\n  className = '',\n}: NotificationItemProps) => {\n  const classes = compact\n    ? `${styles.notificationItemCompact} ${unread ? styles.notificationItemUnread : ''} ${className}`\n    : `${styles.notificationItem} ${unread ? styles.notificationItemUnread : ''} ${clickable ? styles.notificationItemClickable : ''} ${className}`;\n\n  return (\n    <div className={classes} onClick={onClick}>\n      {children}\n    </div>\n  );\n};\n\nconst NotificationIcon = ({\n  children,\n  variant = 'info',\n  className = '',\n}: NotificationIconProps) => {\n  const variantClass = variant === 'error' ? styles.notificationIconError :\n                       variant === 'warning' ? styles.notificationIconWarning :\n                       variant === 'success' ? styles.notificationIconSuccess :\n                       styles.notificationIconInfo;\n\n  return (\n    <div className={`${styles.notificationIcon} ${variantClass} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst NotificationContent = ({\n  children,\n  className = '',\n}: NotificationContentProps) => {\n  return (\n    <div className={`${styles.notificationContent} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst NotificationContentCompact = ({\n  children,\n  className = '',\n}: NotificationContentProps) => {\n  return (\n    <div className={`${styles.notificationContentCompact} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\nconst NotificationTitle = ({\n  children,\n  compact = false,\n  className = '',\n}: NotificationTitleProps) => {\n  return (\n    <h4 className={`${compact ? styles.notificationTitleCompact : styles.notificationTitle} ${className}`}>\n      {children}\n    </h4>\n  );\n};\n\nconst NotificationMessage = ({\n  children,\n  className = '',\n}: NotificationMessageProps) => {\n  return (\n    <p className={`${styles.notificationMessage} ${className}`}>\n      {children}\n    </p>\n  );\n};\n\nconst NotificationTime = ({\n  children,\n  compact = false,\n  className = '',\n}: NotificationTimeProps) => {\n  return (\n    <span className={`${compact ? styles.notificationTimeCompact : styles.notificationTime} ${className}`}>\n      {children}\n    </span>\n  );\n};\n\nconst NotificationAction = ({\n  onClick,\n  'aria-label': ariaLabel = 'Dismiss notification',\n  className = '',\n}: NotificationActionProps) => {\n  return (\n    <button\n      className={`${styles.notificationAction} ${className}`}\n      onClick={onClick}\n      aria-label={ariaLabel}\n    >\n      <X size={16} />\n    </button>\n  );\n};\n\nconst NotificationArrow = () => {\n  return (\n    <ChevronRight className={styles.notificationArrow} size={16} />\n  );\n};\n\nconst NotificationTrigger = ({\n  count,\n  onClick,\n  className = '',\n}: NotificationTriggerProps) => {\n  return (\n    <button className={`${styles.notificationTrigger} ${className}`} onClick={onClick}>\n      <Bell size={20} />\n      {count !== undefined && count > 0 && (\n        <span className={styles.notificationBadge}>{count}</span>\n      )}\n    </button>\n  );\n};\n\nconst NotificationDot = ({\n  variant = 'info',\n  className = '',\n}: NotificationDotProps) => {\n  const variantClass = variant === 'error' ? styles.notificationDotError :\n                       variant === 'warning' ? styles.notificationDotWarning :\n                       variant === 'success' ? styles.notificationDotSuccess :\n                       styles.notificationDotInfo;\n\n  return <div className={`${styles.notificationDot} ${variantClass} ${className}`} />;\n};\n\nconst NotificationViewAll = ({\n  children,\n  href,\n  onClick,\n}: {\n  children: React.ReactNode;\n  href?: string;\n  onClick?: () => void;\n}) => {\n  return (\n    <a\n      href={href || '#'}\n      className={styles.notificationViewAll}\n      onClick={onClick}\n    >\n      {children}\n    </a>\n  );\n};\n\nexport {\n  NotificationCenter,\n  NotificationCenterHeader,\n  NotificationCenterTitle,\n  NotificationCenterBody,\n  NotificationCenterFooter,\n  NotificationTabs,\n  NotificationTab,\n  NotificationItem,\n  NotificationIcon,\n  NotificationContent,\n  NotificationContentCompact,\n  NotificationTitle,\n  NotificationMessage,\n  NotificationTime,\n  NotificationAction,\n  NotificationArrow,\n  NotificationTrigger,\n  NotificationDot,\n  NotificationViewAll,\n};\n","import React, { memo, useCallback } from 'react';\nimport styles from './DeviceCard.module.css';\n\n// ===== Types =====\n\nexport type DeviceCardVariant = 'default' | 'warning' | 'error';\n\nexport interface DeviceCardProps {\n  children: React.ReactNode;\n  variant?: DeviceCardVariant;\n  compact?: boolean;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport interface DeviceCardHeaderProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface DeviceCardBodyProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface DeviceCardFooterProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface DeviceCardIconProps {\n  children: React.ReactNode;\n  background?: string;\n  size?: 'default' | 'sm';\n  className?: string;\n}\n\nexport interface DeviceCardTitleSectionProps {\n  title: string;\n  subtitle?: string;\n  className?: string;\n}\n\nexport interface DeviceCardMetricsProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface DeviceCardMetricProps {\n  label: string;\n  value: string | number;\n  className?: string;\n}\n\nexport interface DeviceCardInfoProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\n// ===== Main Component =====\n\nconst DeviceCard: React.FC<DeviceCardProps> & {\n  Header: typeof DeviceCardHeader;\n  Body: typeof DeviceCardBody;\n  Footer: typeof DeviceCardFooter;\n  Icon: typeof DeviceCardIcon;\n  TitleSection: typeof DeviceCardTitleSection;\n  Metrics: typeof DeviceCardMetrics;\n  Metric: typeof DeviceCardMetric;\n  Info: typeof DeviceCardInfo;\n} = ({ children, variant = 'default', compact = false, onClick, className = '' }) => {\n  const cardClasses = [\n    styles.deviceCard,\n    compact && styles.deviceCardCompact,\n    variant === 'warning' && styles.deviceCardWarning,\n    variant === 'error' && styles.deviceCardError,\n    onClick && styles.deviceCardClickable,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent<HTMLDivElement>) => {\n    if (onClick && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault();\n      onClick();\n    }\n  }, [onClick]);\n\n  return (\n    <div\n      className={cardClasses}\n      onClick={onClick}\n      onKeyDown={onClick ? handleKeyDown : undefined}\n      role={onClick ? 'button' : undefined}\n      tabIndex={onClick ? 0 : undefined}\n    >\n      {children}\n    </div>\n  );\n};\n\n// ===== Sub Components =====\n\nconst DeviceCardHeader: React.FC<DeviceCardHeaderProps> = memo(({ children, className = '' }) => {\n  return <div className={`${styles.deviceCardHeader} ${className}`}>{children}</div>;\n});\n\nconst DeviceCardBody: React.FC<DeviceCardBodyProps> = memo(({ children, className = '' }) => {\n  return <div className={`${styles.deviceCardBody} ${className}`}>{children}</div>;\n});\n\nconst DeviceCardFooter: React.FC<DeviceCardFooterProps> = memo(({ children, className = '' }) => {\n  return <div className={`${styles.deviceCardFooter} ${className}`}>{children}</div>;\n});\n\nconst DeviceCardIcon: React.FC<DeviceCardIconProps> = memo(({\n  children,\n  background,\n  size = 'default',\n  className = '',\n}) => {\n  const iconClasses = [\n    styles.deviceIcon,\n    size === 'sm' && styles.deviceIconSm,\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={iconClasses} style={background ? { background } : undefined}>\n      {children}\n    </div>\n  );\n});\n\nconst DeviceCardTitleSection: React.FC<DeviceCardTitleSectionProps> = memo(({\n  title,\n  subtitle,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.deviceCardTitleSection} ${className}`}>\n      <h3 className={styles.deviceCardTitle}>{title}</h3>\n      {subtitle && <p className={styles.deviceCardSubtitle}>{subtitle}</p>}\n    </div>\n  );\n});\n\nconst DeviceCardMetrics: React.FC<DeviceCardMetricsProps> = memo(({ children, className = '' }) => {\n  return <div className={`${styles.deviceMetrics} ${className}`}>{children}</div>;\n});\n\nconst DeviceCardMetric: React.FC<DeviceCardMetricProps> = memo(({ label, value, className = '' }) => {\n  return (\n    <div className={`${styles.deviceMetric} ${className}`}>\n      <span className={styles.deviceMetricLabel}>{label}</span>\n      <span className={styles.deviceMetricValue}>{value}</span>\n    </div>\n  );\n});\n\nconst DeviceCardInfo: React.FC<DeviceCardInfoProps> = memo(({ children, className = '' }) => {\n  return <div className={`${styles.deviceInfo} ${className}`}>{children}</div>;\n});\n\n// Attach sub-components\nDeviceCard.Header = DeviceCardHeader;\nDeviceCard.Body = DeviceCardBody;\nDeviceCard.Footer = DeviceCardFooter;\nDeviceCard.Icon = DeviceCardIcon;\nDeviceCard.TitleSection = DeviceCardTitleSection;\nDeviceCard.Metrics = DeviceCardMetrics;\nDeviceCard.Metric = DeviceCardMetric;\nDeviceCard.Info = DeviceCardInfo;\n\n// Display names for debugging\nDeviceCard.displayName = 'DeviceCard';\nDeviceCardHeader.displayName = 'DeviceCard.Header';\nDeviceCardBody.displayName = 'DeviceCard.Body';\nDeviceCardFooter.displayName = 'DeviceCard.Footer';\nDeviceCardIcon.displayName = 'DeviceCard.Icon';\nDeviceCardTitleSection.displayName = 'DeviceCard.TitleSection';\nDeviceCardMetrics.displayName = 'DeviceCard.Metrics';\nDeviceCardMetric.displayName = 'DeviceCard.Metric';\nDeviceCardInfo.displayName = 'DeviceCard.Info';\n\nexport {\n  DeviceCard,\n  DeviceCardHeader,\n  DeviceCardBody,\n  DeviceCardFooter,\n  DeviceCardIcon,\n  DeviceCardTitleSection,\n  DeviceCardMetrics,\n  DeviceCardMetric,\n  DeviceCardInfo,\n};\n","import React, { memo, useMemo } from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport styles from './ActivityLog.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Log Container ====================\n\nexport type LogLevel = 'info' | 'success' | 'warning' | 'error';\n\nexport interface LogContainerProps {\n  title?: string;\n  icon?: IconType;\n  filters?: React.ReactNode;\n  children: React.ReactNode;\n  maxHeight?: number | string;\n  className?: string;\n}\n\nexport const LogContainer = memo<LogContainerProps>(({\n  title = 'Recent Activity',\n  icon: Icon,\n  filters,\n  children,\n  maxHeight = 500,\n  className = '',\n}) => {\n  const containerClassName = useMemo(() =>\n    `${styles.logContainer} ${className}`,\n    [className]\n  );\n\n  const bodyStyle = useMemo(() => ({\n    maxHeight: typeof maxHeight === 'number' ? `${maxHeight}px` : maxHeight,\n  }), [maxHeight]);\n\n  return (\n    <div className={containerClassName}>\n      <div className={styles.logHeader}>\n        <div className={styles.logTitle}>\n          {Icon && <Icon />}\n          <span>{title}</span>\n        </div>\n        {filters && <div className={styles.logFilters}>{filters}</div>}\n      </div>\n      <div className={styles.logBody} style={bodyStyle}>\n        {children}\n      </div>\n    </div>\n  );\n});\n\nLogContainer.displayName = 'ActivityLog.Container';\n\n// ==================== Log Entry ====================\n\nexport interface LogEntryProps {\n  icon: IconType;\n  level: LogLevel;\n  message: string;\n  details?: string;\n  timestamp: string;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport const LogEntry = memo<LogEntryProps>(({\n  icon: Icon,\n  level,\n  message,\n  details,\n  timestamp,\n  onClick,\n  className = '',\n}) => {\n  const entryClassName = useMemo(() =>\n    `${styles.logEntry} ${className}`,\n    [className]\n  );\n\n  const iconClassName = useMemo(() =>\n    `${styles.logIcon} ${styles[`logIcon${level.charAt(0).toUpperCase() + level.slice(1)}`]}`,\n    [level]\n  );\n\n  return (\n    <div className={entryClassName} onClick={onClick}>\n      <div className={styles.logTimestamp}>{timestamp}</div>\n      <div className={iconClassName}>\n        <Icon />\n      </div>\n      <div className={styles.logContent}>\n        <div className={styles.logMessage}>{message}</div>\n        {details && <div className={styles.logDetails}>{details}</div>}\n      </div>\n    </div>\n  );\n});\n\nLogEntry.displayName = 'ActivityLog.Entry';\n\n// ==================== Timeline Meta Item ====================\n\ninterface TimelineMetaItemComponentProps {\n  item: { icon: IconType; text: string };\n}\n\nconst TimelineMetaItemComponent = memo<TimelineMetaItemComponentProps>(({ item }) => {\n  const Icon = item.icon;\n  return (\n    <span>\n      <Icon />\n      <span>{item.text}</span>\n    </span>\n  );\n});\n\nTimelineMetaItemComponent.displayName = 'ActivityLog.TimelineMetaItem';\n\n// ==================== Activity Log Item ====================\n\nexport interface TimelineMetaItem {\n  icon: IconType;\n  text: string;\n}\n\nexport interface ActivityLogItemProps {\n  level: LogLevel;\n  title: string;\n  description?: string;\n  time: string;\n  meta?: TimelineMetaItem[];\n  className?: string;\n}\n\nexport const ActivityLogItem = memo<ActivityLogItemProps>(({\n  level,\n  title,\n  description,\n  time,\n  meta,\n  className = '',\n}) => {\n  const itemClassName = useMemo(() =>\n    `${styles.timelineItem} ${className}`,\n    [className]\n  );\n\n  const markerClassName = useMemo(() =>\n    `${styles.timelineMarker} ${styles[`timelineMarker${level.charAt(0).toUpperCase() + level.slice(1)}`]}`,\n    [level]\n  );\n\n  return (\n    <div className={itemClassName}>\n      <div className={markerClassName} />\n      <div className={styles.timelineContent}>\n        <div className={styles.timelineHeader}>\n          <div>\n            <div className={styles.timelineTitle}>{title}</div>\n            {description && <div className={styles.timelineDescription}>{description}</div>}\n          </div>\n          <div className={styles.timelineTime}>{time}</div>\n        </div>\n        {meta && meta.length > 0 && (\n          <div className={styles.timelineMeta}>\n            {meta.map((item) => (\n              <TimelineMetaItemComponent key={item.text} item={item} />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nActivityLogItem.displayName = 'ActivityLog.Item';\n\n// ==================== Timeline Container ====================\n\nexport interface TimelineContainerProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const TimelineContainer = memo<TimelineContainerProps>(({\n  children,\n  className = '',\n}) => {\n  const containerClassName = useMemo(() =>\n    `${styles.timelineContainer} ${className}`,\n    [className]\n  );\n\n  return <div className={containerClassName}>{children}</div>;\n});\n\nTimelineContainer.displayName = 'ActivityLog.TimelineContainer';\n\n// ==================== Log Group ====================\n\nexport interface LogGroupProps {\n  title: string;\n  icon?: IconType;\n  badge?: React.ReactNode;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const LogGroup = memo<LogGroupProps>(({\n  title,\n  icon: Icon,\n  badge,\n  children,\n  className = '',\n}) => {\n  const groupClassName = useMemo(() =>\n    `${styles.groupedLog} ${className}`,\n    [className]\n  );\n\n  return (\n    <div className={groupClassName}>\n      <div className={styles.logGroupHeader}>\n        {Icon && <Icon />}\n        <span>{title}</span>\n        {badge}\n      </div>\n      <div className={styles.logBody}>\n        {children}\n      </div>\n    </div>\n  );\n});\n\nLogGroup.displayName = 'ActivityLog.Group';\n\n// ==================== Grouped Log Container ====================\n\nexport interface GroupedLogContainerProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const GroupedLogContainer = memo<GroupedLogContainerProps>(({\n  children,\n  className = '',\n}) => {\n  const containerClassName = useMemo(() =>\n    `${styles.groupedLogContainer} ${className}`,\n    [className]\n  );\n\n  return <div className={containerClassName}>{children}</div>;\n});\n\nGroupedLogContainer.displayName = 'ActivityLog.GroupedContainer';\n\n// ==================== Log Stat ====================\n\nexport interface LogStatProps {\n  value: string | number;\n  label: string;\n  level?: LogLevel;\n  className?: string;\n}\n\nexport const LogStat = memo<LogStatProps>(({\n  value,\n  label,\n  level = 'info',\n  className = '',\n}) => {\n  const statClassName = useMemo(() =>\n    `${styles.logStat} ${className}`,\n    [className]\n  );\n\n  const valueClassName = useMemo(() =>\n    `${styles.logStatValue} ${styles[`logStatValue${level.charAt(0).toUpperCase() + level.slice(1)}`]}`,\n    [level]\n  );\n\n  return (\n    <div className={statClassName}>\n      <div className={valueClassName}>{value}</div>\n      <div className={styles.logStatLabel}>{label}</div>\n    </div>\n  );\n});\n\nLogStat.displayName = 'ActivityLog.Stat';\n\n// ==================== Log Stats Container ====================\n\nexport interface LogStatsProps {\n  children: React.ReactNode;\n  columns?: number;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport const LogStats = memo<LogStatsProps>(({\n  children,\n  columns = 4,\n  className = '',\n  style,\n}) => {\n  const containerStyle = useMemo(() => ({\n    gridTemplateColumns: `repeat(${columns}, 1fr)`,\n    ...style,\n  }), [columns, style]);\n\n  const containerClassName = useMemo(() =>\n    `${styles.logStats} ${className}`,\n    [className]\n  );\n\n  return (\n    <div className={containerClassName} style={containerStyle}>\n      {children}\n    </div>\n  );\n});\n\nLogStats.displayName = 'ActivityLog.Stats';\n\n// ==================== Main Export ====================\n\nexport default {\n  LogContainer,\n  LogEntry,\n  TimelineContainer,\n  ActivityLogItem,\n  LogGroup,\n  GroupedLogContainer,\n  LogStat,\n  LogStats,\n};\n","import React, { memo, useMemo, useCallback } from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport { Search } from 'lucide-react';\nimport styles from './AlarmPanel.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Alarm Panel ====================\n\nexport type AlarmSeverity = 'critical' | 'warning' | 'info';\n\nexport interface AlarmSummary {\n  critical: number;\n  warning: number;\n  info: number;\n}\n\nexport interface AlarmPanelProps {\n  title?: string;\n  summary?: AlarmSummary;\n  actions?: React.ReactNode;\n  filters?: React.ReactNode;\n  children: React.ReactNode;\n  compact?: boolean;\n  viewAllLink?: string;\n  onViewAll?: () => void;\n  className?: string;\n}\n\nexport const AlarmPanel = memo<AlarmPanelProps>(({\n  title = 'Active Alarms',\n  summary,\n  actions,\n  filters,\n  children,\n  compact = false,\n  viewAllLink,\n  onViewAll,\n  className = '',\n}) => {\n  const containerClassName = useMemo(() =>\n    `${styles.alarmPanel} ${compact ? styles.alarmPanelCompact : ''} ${className}`,\n    [compact, className]\n  );\n\n  const handleViewAllClick = useCallback((e: React.MouseEvent) => {\n    if (onViewAll) {\n      e.preventDefault();\n      onViewAll();\n    }\n  }, [onViewAll]);\n\n  return (\n    <div className={containerClassName}>\n      <div className={styles.alarmPanelHeader}>\n        <h3 className={styles.alarmPanelTitle}>{title}</h3>\n        {summary && !actions && !viewAllLink && (\n          <div className={styles.alarmPanelSummary}>\n            <span className={`${styles.alarmCount} ${styles.alarmCountCritical}`}>\n              <span className={styles.alarmCountBadge}>{summary.critical}</span>\n              <span className={styles.alarmCountLabel}>Critical</span>\n            </span>\n            <span className={`${styles.alarmCount} ${styles.alarmCountWarning}`}>\n              <span className={styles.alarmCountBadge}>{summary.warning}</span>\n              <span className={styles.alarmCountLabel}>Warning</span>\n            </span>\n            <span className={`${styles.alarmCount} ${styles.alarmCountInfo}`}>\n              <span className={styles.alarmCountBadge}>{summary.info}</span>\n              <span className={styles.alarmCountLabel}>Info</span>\n            </span>\n          </div>\n        )}\n        {actions && <div className={styles.alarmPanelActions}>{actions}</div>}\n        {viewAllLink && (\n          <a\n            href={viewAllLink}\n            className={styles.alarmPanelLink}\n            onClick={handleViewAllClick}\n          >\n            View All \n          </a>\n        )}\n      </div>\n      {filters}\n      <div className={styles.alarmPanelBody}>{children}</div>\n    </div>\n  );\n});\n\nAlarmPanel.displayName = 'AlarmPanel';\n\n// ==================== Filter Button ====================\n\ninterface FilterButtonProps {\n  filter: { severity: string; label: string; count: number };\n  isActive: boolean;\n  onSelect: (severity: string) => void;\n}\n\nconst FilterButton = memo<FilterButtonProps>(({ filter, isActive, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(filter.severity);\n  }, [filter.severity, onSelect]);\n\n  const className = useMemo(() =>\n    `${styles.alarmFilterBtn} ${isActive ? styles.alarmFilterActive : ''}`,\n    [isActive]\n  );\n\n  return (\n    <button className={className} onClick={handleClick}>\n      <span>{filter.label}</span>\n      <span className={styles.alarmFilterCount}>{filter.count}</span>\n    </button>\n  );\n});\n\nFilterButton.displayName = 'AlarmPanel.FilterButton';\n\n// ==================== Alarm Panel Filters ====================\n\nexport interface AlarmFilter {\n  severity: 'all' | AlarmSeverity;\n  label: string;\n  count: number;\n}\n\nexport interface AlarmPanelFiltersProps {\n  filters: AlarmFilter[];\n  activeFilter: string;\n  onFilterChange: (severity: string) => void;\n  searchValue?: string;\n  onSearchChange?: (value: string) => void;\n  searchPlaceholder?: string;\n  className?: string;\n}\n\nexport const AlarmPanelFilters = memo<AlarmPanelFiltersProps>(({\n  filters,\n  activeFilter,\n  onFilterChange,\n  searchValue = '',\n  onSearchChange,\n  searchPlaceholder = 'Search alarms...',\n  className = '',\n}) => {\n  const handleSearchChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    onSearchChange?.(e.target.value);\n  }, [onSearchChange]);\n\n  const containerClassName = useMemo(() =>\n    `${styles.alarmPanelFilters} ${className}`,\n    [className]\n  );\n\n  return (\n    <div className={containerClassName}>\n      <div className={styles.alarmFilterGroup}>\n        {filters.map((filter) => (\n          <FilterButton\n            key={filter.severity}\n            filter={filter}\n            isActive={activeFilter === filter.severity}\n            onSelect={onFilterChange}\n          />\n        ))}\n      </div>\n      {onSearchChange && (\n        <div className={styles.alarmSearch}>\n          <Search className={styles.alarmSearchIcon} size={16} />\n          <input\n            type=\"text\"\n            className={styles.alarmSearchInput}\n            placeholder={searchPlaceholder}\n            value={searchValue}\n            onChange={handleSearchChange}\n          />\n        </div>\n      )}\n    </div>\n  );\n});\n\nAlarmPanelFilters.displayName = 'AlarmPanel.Filters';\n\n// ==================== Alarm Meta Item ====================\n\ninterface AlarmMetaItemComponentProps {\n  item: { icon: IconType; text: string };\n}\n\nconst AlarmMetaItemComponent = memo<AlarmMetaItemComponentProps>(({ item }) => {\n  const Icon = item.icon;\n  return (\n    <span className={styles.alarmMetaItem}>\n      <Icon />\n      <span>{item.text}</span>\n    </span>\n  );\n});\n\nAlarmMetaItemComponent.displayName = 'AlarmPanel.MetaItem';\n\n// ==================== Alarm Item ====================\n\nexport interface AlarmMetaItem {\n  icon: IconType;\n  text: string;\n}\n\nexport interface AlarmItemProps {\n  icon: IconType;\n  severity: AlarmSeverity;\n  title: string;\n  description: string;\n  meta?: AlarmMetaItem[];\n  badge?: string;\n  isNew?: boolean;\n  isAcknowledged?: boolean;\n  isResolved?: boolean;\n  actions?: React.ReactNode;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport const AlarmItem = memo<AlarmItemProps>(({\n  icon: Icon,\n  severity,\n  title,\n  description,\n  meta,\n  badge,\n  isNew = false,\n  isAcknowledged = false,\n  isResolved = false,\n  actions,\n  onClick,\n  className = '',\n}) => {\n  const itemClassName = useMemo(() =>\n    [\n      styles.alarmItem,\n      styles[`alarmItem${severity.charAt(0).toUpperCase() + severity.slice(1)}`],\n      isNew ? styles.alarmItemNew : '',\n      isAcknowledged ? styles.alarmItemAcknowledged : '',\n      isResolved ? styles.alarmItemResolved : '',\n      className,\n    ]\n      .filter(Boolean)\n      .join(' '),\n    [severity, isNew, isAcknowledged, isResolved, className]\n  );\n\n  return (\n    <div className={itemClassName} onClick={onClick}>\n      <div className={styles.alarmSeverity}>\n        <Icon className={styles.alarmIcon} />\n      </div>\n      <div className={styles.alarmContent}>\n        {badge ? (\n          <div className={styles.alarmHeader}>\n            <h4 className={styles.alarmTitle}>{title}</h4>\n            <span className={styles.alarmBadge}>{badge}</span>\n          </div>\n        ) : (\n          <h4 className={styles.alarmTitle}>{title}</h4>\n        )}\n        <p className={styles.alarmDescription}>{description}</p>\n        {meta && meta.length > 0 && (\n          <div className={styles.alarmMeta}>\n            {meta.map((item) => (\n              <AlarmMetaItemComponent key={item.text} item={item} />\n            ))}\n          </div>\n        )}\n      </div>\n      {actions && <div className={styles.alarmActions}>{actions}</div>}\n    </div>\n  );\n});\n\nAlarmItem.displayName = 'AlarmPanel.Item';\n\n// ==================== Alarm Item Compact ====================\n\nexport interface AlarmItemCompactProps {\n  icon: IconType;\n  severity: AlarmSeverity;\n  title: string;\n  time: string;\n  action?: React.ReactNode;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport const AlarmItemCompact = memo<AlarmItemCompactProps>(({\n  icon: Icon,\n  severity,\n  title,\n  time,\n  action,\n  onClick,\n  className = '',\n}) => {\n  const itemClassName = useMemo(() =>\n    [\n      styles.alarmItemCompact,\n      styles[`alarmItemCompact${severity.charAt(0).toUpperCase() + severity.slice(1)}`],\n      className,\n    ]\n      .filter(Boolean)\n      .join(' '),\n    [severity, className]\n  );\n\n  return (\n    <div className={itemClassName} onClick={onClick}>\n      <div className={styles.alarmCompactLeft}>\n        <Icon className={styles.alarmCompactIcon} />\n        <div className={styles.alarmCompactContent}>\n          <h5 className={styles.alarmCompactTitle}>{title}</h5>\n          <p className={styles.alarmCompactTime}>{time}</p>\n        </div>\n      </div>\n      {action}\n    </div>\n  );\n});\n\nAlarmItemCompact.displayName = 'AlarmPanel.ItemCompact';\n\n// ==================== Main Export ====================\n\nexport default {\n  AlarmPanel,\n  AlarmPanelFilters,\n  AlarmItem,\n  AlarmItemCompact,\n};\n","import React from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport { Edit, Copy, Trash2, ArrowRight } from 'lucide-react';\nimport styles from './AutomationRules.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Automation Rule Card ====================\n\nexport interface RuleStep {\n  label: string;\n  content: string;\n}\n\nexport interface RuleMetaItem {\n  icon: IconType;\n  label: string;\n  value: string | React.ReactNode;\n}\n\nexport interface AutomationRuleProps {\n  icon: IconType;\n  name: string;\n  description: string;\n  status: 'active' | 'inactive';\n  steps: RuleStep[];\n  meta?: RuleMetaItem[];\n  onToggle?: (enabled: boolean) => void;\n  onEdit?: () => void;\n  onDuplicate?: () => void;\n  onDelete?: () => void;\n  className?: string;\n}\n\nexport const AutomationRule: React.FC<AutomationRuleProps> = ({\n  icon: Icon,\n  name,\n  description,\n  status,\n  steps,\n  meta,\n  onToggle,\n  onEdit,\n  onDuplicate,\n  onDelete,\n  className = '',\n}) => {\n  const [enabled, setEnabled] = React.useState(status === 'active');\n\n  const handleToggle = () => {\n    const newState = !enabled;\n    setEnabled(newState);\n    onToggle?.(newState);\n  };\n\n  return (\n    <div className={`${styles.ruleCard} ${className}`}>\n      <div className={styles.ruleHeader}>\n        <div className={styles.ruleHeaderLeft}>\n          <div className={styles.ruleIconWrapper}>\n            <Icon className={styles.ruleCategoryIcon} />\n          </div>\n          <div className={styles.ruleInfo}>\n            <div className={styles.ruleTitleRow}>\n              <h3 className={styles.ruleName}>{name}</h3>\n              <span className={`${styles.badge} ${enabled ? styles.badgeSuccess : styles.badgeDefault}`}>\n                {enabled ? 'Active' : 'Inactive'}\n              </span>\n            </div>\n            <div className={styles.ruleDescription}>{description}</div>\n          </div>\n        </div>\n        <div className={styles.ruleActions}>\n          {onEdit && (\n            <button className={styles.btnIcon} onClick={onEdit} aria-label=\"Edit rule\">\n              <Edit size={16} />\n            </button>\n          )}\n          {onDuplicate && (\n            <button className={styles.btnIcon} onClick={onDuplicate} aria-label=\"Duplicate rule\">\n              <Copy size={16} />\n            </button>\n          )}\n          {onDelete && (\n            <button className={styles.btnIcon} onClick={onDelete} aria-label=\"Delete rule\">\n              <Trash2 size={16} />\n            </button>\n          )}\n          <div className={styles.ruleDivider} />\n          <label className={styles.switch}>\n            <input\n              type=\"checkbox\"\n              className={styles.switchInput}\n              checked={enabled}\n              onChange={handleToggle}\n              aria-label={`Toggle ${name}`}\n            />\n            <span className={styles.switchSlider} />\n          </label>\n        </div>\n      </div>\n\n      {meta && meta.length > 0 && (\n        <div className={styles.ruleMetaGroups}>\n          {meta.map((item, index) => (\n            <div key={index} className={styles.ruleMetaGroup}>\n              <div className={styles.ruleMetaLabel}>\n                <item.icon className={styles.iconSm} />\n                <span>{item.label}</span>\n              </div>\n              <span className={styles.ruleMetaValue}>{item.value}</span>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className={styles.ruleFlow}>\n        {steps.map((step, index) => (\n          <React.Fragment key={index}>\n            <div className={styles.ruleStep}>\n              <div className={styles.ruleStepLabel}>{step.label}</div>\n              <div className={styles.ruleStepContent}>{step.content}</div>\n            </div>\n            {index < steps.length - 1 && (\n              <div className={styles.ruleArrow}>\n                <ArrowRight size={20} />\n              </div>\n            )}\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  AutomationRule,\n};\n","import React from 'react';\nimport styles from './ConnectionIndicator.module.css';\n\n// ==================== Connection Indicator ====================\n\nexport type ConnectionStatus = 'connected' | 'connecting' | 'disconnected' | 'warning';\nexport type ConnectionSize = 'sm' | 'md' | 'lg';\n\nexport interface ConnectionIndicatorProps {\n  status: ConnectionStatus;\n  label?: string;\n  size?: ConnectionSize;\n  showPulse?: boolean;\n  className?: string;\n}\n\nexport const ConnectionIndicator: React.FC<ConnectionIndicatorProps> = ({\n  status,\n  label,\n  size = 'md',\n  showPulse = false,\n  className = '',\n}) => {\n  const pulseClass = (status === 'connecting' || showPulse) ? styles.pulse : '';\n\n  return (\n    <div\n      className={`${styles.connectionIndicator} ${styles[`status-${status}`]} ${styles[`size-${size}`]} ${className}`}\n    >\n      <span className={`${styles.connectionDot} ${pulseClass}`}></span>\n      {label && <span className={styles.connectionLabel}>{label}</span>}\n    </div>\n  );\n};\n\n// ==================== Connection Dot (Compact) ====================\n\nexport interface ConnectionDotProps {\n  status: ConnectionStatus;\n  showPulse?: boolean;\n  className?: string;\n}\n\nexport const ConnectionDot: React.FC<ConnectionDotProps> = ({\n  status,\n  showPulse = false,\n  className = '',\n}) => {\n  const pulseClass = (status === 'connecting' || showPulse) ? styles.pulse : '';\n\n  return (\n    <span\n      className={`${styles.connectionDotOnly} ${styles[`dotOnly-${status}`]} ${pulseClass} ${className}`}\n    ></span>\n  );\n};\n\n// ==================== Signal Indicator ====================\n\nexport type SignalStrength = 'excellent' | 'good' | 'fair' | 'poor' | 'none';\n\nexport interface SignalIndicatorProps {\n  strength: SignalStrength;\n  className?: string;\n}\n\nexport const SignalIndicator: React.FC<SignalIndicatorProps> = ({\n  strength,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.signalIndicator} ${styles[`signal-${strength}`]} ${className}`}>\n      <span className={styles.signalBar}></span>\n      <span className={styles.signalBar}></span>\n      <span className={styles.signalBar}></span>\n      <span className={styles.signalBar}></span>\n    </div>\n  );\n};\n\n// ==================== Helper Functions ====================\n\n/**\n * Convert signal strength number (0-4) to SignalStrength type\n */\nexport const getSignalStrength = (bars: number): SignalStrength => {\n  if (bars >= 4) return 'excellent';\n  if (bars === 3) return 'good';\n  if (bars === 2) return 'fair';\n  if (bars === 1) return 'poor';\n  return 'none';\n};\n\n/**\n * Get connection status based on conditions\n */\nexport const getConnectionStatus = (\n  isConnected: boolean,\n  isConnecting?: boolean,\n  hasWarning?: boolean\n): ConnectionStatus => {\n  if (isConnecting) return 'connecting';\n  if (!isConnected) return 'disconnected';\n  if (hasWarning) return 'warning';\n  return 'connected';\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  ConnectionIndicator,\n  ConnectionDot,\n  SignalIndicator,\n  getSignalStrength,\n  getConnectionStatus,\n};\n","import React from 'react';\nimport { TrendingUp, TrendingDown } from 'lucide-react';\nimport styles from './DashboardWidget.module.css';\n\n// Custom icon type\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\n// Stat Widget\nexport interface StatWidgetProps {\n  label: string;\n  value: string | number;\n  icon?: IconType;\n  iconColor?: string;\n  iconBackground?: string;\n  trend?: {\n    type: 'positive' | 'negative';\n    value: string;\n    period?: string;\n  };\n  loading?: boolean;\n  className?: string;\n}\n\nexport const StatWidget: React.FC<StatWidgetProps> = ({\n  label,\n  value,\n  icon: Icon,\n  iconColor,\n  iconBackground,\n  trend,\n  loading = false,\n  className = '',\n}) => {\n  if (loading) {\n    return (\n      <div className={`${styles.statWidget} ${styles.loading} ${className}`}>\n        <div className={styles.statHeader}>\n          <div>\n            <div className={styles.labelSkeleton} />\n            <div className={styles.valueSkeleton} />\n          </div>\n          <div className={styles.iconSkeleton} />\n        </div>\n        <div className={styles.trendSkeleton} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.statWidget} ${className}`}>\n      <div className={styles.statHeader}>\n        <div>\n          <p className={styles.statLabel}>{label}</p>\n          <p className={styles.statValue}>{value}</p>\n        </div>\n        {Icon && (\n          <div\n            className={styles.statIconCircle}\n            style={{\n              backgroundColor: iconBackground,\n              color: iconColor,\n            }}\n          >\n            <Icon size={20} />\n          </div>\n        )}\n      </div>\n      {trend && (\n        <div className={styles.statChange}>\n          <span className={`${styles.statTrend} ${styles[trend.type]}`}>\n            {trend.type === 'positive' ? (\n              <TrendingUp size={14} />\n            ) : (\n              <TrendingDown size={14} />\n            )}\n            {trend.value}\n          </span>\n          {trend.period && (\n            <span className={styles.statPeriod}>{trend.period}</span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Chart Widget\nexport interface ChartWidgetProps {\n  title: string;\n  subtitle?: string;\n  stats?: {\n    label: string;\n    value: string | number;\n  }[];\n  chart?: React.ReactNode;\n  headerAction?: React.ReactNode;\n  loading?: boolean;\n  className?: string;\n}\n\nexport const ChartWidget: React.FC<ChartWidgetProps> = ({\n  title,\n  subtitle,\n  stats = [],\n  chart,\n  headerAction,\n  loading = false,\n  className = '',\n}) => {\n  if (loading) {\n    return (\n      <div className={`${styles.chartWidget} ${styles.loading} ${className}`}>\n        <div className={styles.widgetHeader}>\n          <div className={styles.headerSkeleton} />\n        </div>\n        <div className={styles.widgetBody}>\n          <div className={styles.chartPlaceholder}>Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.chartWidget} ${className}`}>\n      <div className={styles.widgetHeader}>\n        <div>\n          <h3 className={styles.widgetTitle}>{title}</h3>\n          {subtitle && <p className={styles.widgetSubtitle}>{subtitle}</p>}\n        </div>\n        {headerAction}\n      </div>\n      <div className={styles.widgetBody}>\n        {stats.length > 0 && (\n          <div className={styles.chartStats}>\n            {stats.map((stat, index) => (\n              <div key={index}>\n                <p className={styles.chartStatLabel}>{stat.label}</p>\n                <p className={styles.chartStatValue}>{stat.value}</p>\n              </div>\n            ))}\n          </div>\n        )}\n        {chart ? (\n          <div className={styles.chartContainer}>{chart}</div>\n        ) : (\n          <div className={styles.chartPlaceholder}>\n            [Chart Placeholder]\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// List Widget Item\nexport interface ListWidgetItem {\n  id?: string;\n  icon?: IconType;\n  iconColor?: string;\n  iconBackground?: string;\n  title: string;\n  meta?: string;\n  badge?: React.ReactNode;\n  onClick?: () => void;\n}\n\n// List Widget\nexport interface ListWidgetProps {\n  title: string;\n  items: ListWidgetItem[];\n  headerAction?: React.ReactNode;\n  loading?: boolean;\n  className?: string;\n}\n\nexport const ListWidget: React.FC<ListWidgetProps> = ({\n  title,\n  items,\n  headerAction,\n  loading = false,\n  className = '',\n}) => {\n  if (loading) {\n    return (\n      <div className={`${styles.listWidget} ${styles.loading} ${className}`}>\n        <div className={styles.widgetHeader}>\n          <div className={styles.headerSkeleton} />\n        </div>\n        <div className={styles.listContainer}>\n          {[1, 2, 3, 4].map((i) => (\n            <div key={i} className={styles.listItemSkeleton}>\n              <div className={styles.iconSkeleton} />\n              <div className={styles.contentSkeleton}>\n                <div className={styles.titleSkeleton} />\n                <div className={styles.metaSkeleton} />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.listWidget} ${className}`}>\n      <div className={styles.widgetHeader}>\n        <h3 className={styles.widgetTitle}>{title}</h3>\n        {headerAction}\n      </div>\n      <div className={styles.listContainer}>\n        {items.map((item, index) => (\n          <ListItem key={item.id || index} {...item} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst ListItem: React.FC<ListWidgetItem> = ({\n  icon: Icon,\n  iconColor,\n  iconBackground,\n  title,\n  meta,\n  badge,\n  onClick,\n}) => {\n  const itemClassName = [\n    styles.listItem,\n    onClick && styles.clickable,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  return (\n    <div className={itemClassName} onClick={onClick}>\n      {Icon && (\n        <div\n          className={styles.listIconCircle}\n          style={{\n            backgroundColor: iconBackground,\n            color: iconColor,\n          }}\n        >\n          <Icon size={18} />\n        </div>\n      )}\n      <div className={styles.listContent}>\n        <h4 className={styles.listTitle}>{title}</h4>\n        {meta && <p className={styles.listMeta}>{meta}</p>}\n      </div>\n      {badge}\n    </div>\n  );\n};\n\n// Status Widget Item\nexport interface StatusWidgetItem {\n  label: string;\n  value: string | number;\n  color?: 'success' | 'warning' | 'error' | 'primary';\n}\n\n// Status Widget\nexport interface StatusWidgetProps {\n  title: string;\n  badge?: React.ReactNode;\n  items: StatusWidgetItem[];\n  columns?: number;\n  loading?: boolean;\n  className?: string;\n}\n\nexport const StatusWidget: React.FC<StatusWidgetProps> = ({\n  title,\n  badge,\n  items,\n  columns = 2,\n  loading = false,\n  className = '',\n}) => {\n  if (loading) {\n    return (\n      <div className={`${styles.statusWidget} ${styles.loading} ${className}`}>\n        <div className={styles.widgetHeader}>\n          <div className={styles.headerSkeleton} />\n        </div>\n        <div\n          className={styles.statusGrid}\n          style={{ gridTemplateColumns: `repeat(${columns}, 1fr)` }}\n        >\n          {[1, 2, 3, 4].map((i) => (\n            <div key={i} className={styles.statusItemSkeleton}>\n              <div className={styles.statusCircleSkeleton} />\n              <div className={styles.statusLabelSkeleton} />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.statusWidget} ${className}`}>\n      <div className={styles.widgetHeader}>\n        <h3 className={styles.widgetTitle}>{title}</h3>\n        {badge}\n      </div>\n      <div\n        className={styles.statusGrid}\n        style={{ gridTemplateColumns: `repeat(${columns}, 1fr)` }}\n      >\n        {items.map((item, index) => (\n          <StatusItem key={index} {...item} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst StatusItem: React.FC<StatusWidgetItem> = ({ label, value, color = 'primary' }) => {\n  const colorMap = {\n    success: {\n      background: 'var(--color-success-100)',\n      color: 'var(--color-success-600)',\n    },\n    warning: {\n      background: 'var(--color-warning-100)',\n      color: 'var(--color-warning-600)',\n    },\n    error: {\n      background: 'var(--color-error-100)',\n      color: 'var(--color-error-600)',\n    },\n    primary: {\n      background: 'var(--color-primary-100)',\n      color: 'var(--color-primary-600)',\n    },\n  };\n\n  return (\n    <div className={styles.statusItem}>\n      <div\n        className={styles.statusValueCircle}\n        style={{\n          backgroundColor: colorMap[color].background,\n          color: colorMap[color].color,\n        }}\n      >\n        {value}\n      </div>\n      <p className={styles.statusLabel}>{label}</p>\n    </div>\n  );\n};\n\n// Export all widgets\nexport default {\n  Stat: StatWidget,\n  Chart: ChartWidget,\n  List: ListWidget,\n  Status: StatusWidget,\n};\n","import React from 'react';\nimport { TrendingUp, TrendingDown, ArrowRight } from 'lucide-react';\nimport styles from './DeviceAnalytics.module.css';\n\n// Custom icon type\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\n// ==================== Analytics Card ====================\n\nexport interface AnalyticsCardProps {\n  icon: IconType;\n  iconGradient: string;\n  label: string;\n  value: string | number;\n  change?: {\n    type: 'positive' | 'negative';\n    text: string;\n  };\n  loading?: boolean;\n  className?: string;\n}\n\nexport const AnalyticsCard: React.FC<AnalyticsCardProps> = ({\n  icon: Icon,\n  iconGradient,\n  label,\n  value,\n  change,\n  loading = false,\n  className = '',\n}) => {\n  if (loading) {\n    return (\n      <div className={`${styles.analyticsCard} ${styles.loading} ${className}`}>\n        <div className={styles.iconSkeleton} />\n        <div className={styles.labelSkeleton} />\n        <div className={styles.valueSkeleton} />\n        <div className={styles.changeSkeleton} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.analyticsCard} ${className}`}>\n      <div className={styles.analyticsIcon} style={{ background: iconGradient }}>\n        <Icon size={24} />\n      </div>\n      <div className={styles.analyticsLabel}>{label}</div>\n      <div className={styles.analyticsValue}>{value}</div>\n      {change && (\n        <div className={`${styles.analyticsChange} ${styles[change.type]}`}>\n          {change.type === 'positive' ? (\n            <TrendingUp size={16} />\n          ) : (\n            <TrendingDown size={16} />\n          )}\n          <span>{change.text}</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// ==================== Chart Card ====================\n\nexport interface ChartCardProps {\n  title: string;\n  filters?: React.ReactNode;\n  chart?: React.ReactNode;\n  loading?: boolean;\n  className?: string;\n  children?: React.ReactNode;\n}\n\nexport const ChartCard: React.FC<ChartCardProps> = ({\n  title,\n  filters,\n  chart,\n  loading = false,\n  className = '',\n  children,\n}) => {\n  if (loading) {\n    return (\n      <div className={`${styles.chartCard} ${styles.loading} ${className}`}>\n        <div className={styles.chartHeader}>\n          <div className={styles.titleSkeleton} />\n        </div>\n        <div className={styles.chartPlaceholder}>\n          <div className={styles.chartSkeleton} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.chartCard} ${className}`}>\n      <div className={styles.chartHeader}>\n        <div className={styles.chartTitle}>{title}</div>\n        {filters && <div className={styles.chartFilters}>{filters}</div>}\n      </div>\n      {chart && <div className={styles.chartContainer}>{chart}</div>}\n      {!chart && !children && (\n        <div className={styles.chartPlaceholder}>\n          [Chart Placeholder]\n        </div>\n      )}\n      {children}\n    </div>\n  );\n};\n\n// ==================== Device Health Item ====================\n\nexport interface DeviceHealthMetric {\n  label: string;\n  value: string;\n}\n\nexport interface DeviceHealthItemProps {\n  name: string;\n  status: 'online' | 'offline' | 'warning';\n  healthScore: number;\n  healthLevel?: 'excellent' | 'good' | 'warning' | 'poor';\n  metrics: DeviceHealthMetric[];\n  statusBadge?: React.ReactNode;\n  loading?: boolean;\n  className?: string;\n}\n\nexport const DeviceHealthItem: React.FC<DeviceHealthItemProps> = ({\n  name,\n  status: _status,\n  healthScore,\n  healthLevel,\n  metrics,\n  statusBadge,\n  loading = false,\n  className = '',\n}) => {\n  // Auto-determine health level based on score if not provided\n  const getHealthLevel = (): 'excellent' | 'good' | 'warning' | 'poor' => {\n    if (healthLevel) return healthLevel;\n    if (healthScore >= 90) return 'excellent';\n    if (healthScore >= 75) return 'good';\n    if (healthScore >= 60) return 'warning';\n    return 'poor';\n  };\n\n  const level = getHealthLevel();\n\n  if (loading) {\n    return (\n      <div className={`${styles.deviceHealthItem} ${styles.loading} ${className}`}>\n        <div className={styles.deviceHealthHeader}>\n          <div className={styles.nameSkeleton} />\n          <div className={styles.badgeSkeleton} />\n        </div>\n        <div className={styles.scoreSkeleton} />\n        <div className={styles.metricsSkeleton}>\n          <div className={styles.metricRowSkeleton} />\n          <div className={styles.metricRowSkeleton} />\n          <div className={styles.metricRowSkeleton} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.deviceHealthItem} ${className}`}>\n      <div className={styles.deviceHealthHeader}>\n        <div className={styles.deviceHealthName}>{name}</div>\n        {statusBadge}\n      </div>\n      <div className={`${styles.healthScore} ${styles[level]}`}>\n        {healthScore}\n      </div>\n      <div className={styles.healthMetrics}>\n        {metrics.map((metric, index) => (\n          <div key={index} className={styles.healthMetricRow}>\n            <span>{metric.label}:</span>\n            <span className={styles.metricValue}>{metric.value}</span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Insight Item ====================\n\nexport interface InsightItemProps {\n  type: 'info' | 'success' | 'warning' | 'error';\n  icon: IconType;\n  title: string;\n  description: string;\n  actionText?: string;\n  onActionClick?: () => void;\n  loading?: boolean;\n  className?: string;\n}\n\nexport const InsightItem: React.FC<InsightItemProps> = ({\n  type,\n  icon: Icon,\n  title,\n  description,\n  actionText,\n  onActionClick,\n  loading = false,\n  className = '',\n}) => {\n  const iconColorMap = {\n    info: {\n      background: 'var(--color-info-100)',\n      color: 'var(--color-info-600)',\n    },\n    success: {\n      background: 'var(--color-success-100)',\n      color: 'var(--color-success-600)',\n    },\n    warning: {\n      background: 'var(--color-warning-100)',\n      color: 'var(--color-warning-600)',\n    },\n    error: {\n      background: 'var(--color-error-100)',\n      color: 'var(--color-error-600)',\n    },\n  };\n\n  if (loading) {\n    return (\n      <div className={`${styles.insightItem} ${styles[type]} ${styles.loading} ${className}`}>\n        <div className={styles.insightIconSkeleton} />\n        <div className={styles.insightContentSkeleton}>\n          <div className={styles.insightTitleSkeleton} />\n          <div className={styles.insightDescSkeleton} />\n          <div className={styles.insightActionSkeleton} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${styles.insightItem} ${styles[type]} ${className}`}>\n      <div\n        className={styles.insightIcon}\n        style={{\n          backgroundColor: iconColorMap[type].background,\n          color: iconColorMap[type].color,\n        }}\n      >\n        <Icon size={20} />\n      </div>\n      <div className={styles.insightContent}>\n        <div className={styles.insightTitle}>{title}</div>\n        <div className={styles.insightDescription}>{description}</div>\n        {actionText && (\n          <div\n            className={styles.insightAction}\n            onClick={onActionClick}\n            role={onActionClick ? 'button' : undefined}\n            tabIndex={onActionClick ? 0 : undefined}\n          >\n            <span>{actionText}</span>\n            <ArrowRight size={14} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  AnalyticsCard,\n  ChartCard,\n  DeviceHealthItem,\n  InsightItem,\n};\n","import React, { useState, memo, useMemo, useCallback } from 'react';\nimport { ChevronDown } from 'lucide-react';\nimport styles from './DeviceControlPanel.module.css';\n\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\n// ==================== Control Item ====================\n\nexport interface ControlItemProps {\n  icon?: IconType;\n  label: string;\n  type: 'switch' | 'slider';\n  value?: boolean | number;\n  min?: number;\n  max?: number;\n  step?: number;\n  onChange?: (value: boolean | number) => void;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport const ControlItem = memo<ControlItemProps>(({\n  icon: Icon,\n  label,\n  type,\n  value = type === 'switch' ? false : 0,\n  min = 0,\n  max = 100,\n  step = 1,\n  onChange,\n  disabled = false,\n  className = '',\n}) => {\n  const [internalValue, setInternalValue] = useState(value);\n\n  const handleChange = useCallback((newValue: boolean | number) => {\n    setInternalValue(newValue);\n    onChange?.(newValue);\n  }, [onChange]);\n\n  const handleCheckboxChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    handleChange(e.target.checked);\n  }, [handleChange]);\n\n  const handleSliderChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    handleChange(Number(e.target.value));\n  }, [handleChange]);\n\n  const containerClassName = useMemo(() =>\n    `${styles.controlItem} ${className}`,\n    [className]\n  );\n\n  return (\n    <div className={containerClassName}>\n      <div className={styles.controlLabel}>\n        {Icon && <Icon size={20} />}\n        <span>{label}</span>\n      </div>\n      {type === 'switch' ? (\n        <label className={styles.switch}>\n          <input\n            type=\"checkbox\"\n            className={styles.switchInput}\n            checked={internalValue as boolean}\n            onChange={handleCheckboxChange}\n            disabled={disabled}\n          />\n          <span className={styles.switchSlider}></span>\n        </label>\n      ) : (\n        <input\n          type=\"range\"\n          className={styles.slider}\n          min={min}\n          max={max}\n          step={step}\n          value={internalValue as number}\n          onChange={handleSliderChange}\n          disabled={disabled}\n        />\n      )}\n    </div>\n  );\n});\n\nControlItem.displayName = 'DeviceControlPanel.ControlItem';\n\n// ==================== Device Control Card ====================\n\nexport type DeviceIconVariant = 'warning' | 'primary' | 'success' | 'error';\n\nexport interface DeviceControlCardProps {\n  icon: IconType;\n  iconVariant?: DeviceIconVariant;\n  name: string;\n  deviceId: string;\n  switchLabel: string;\n  sliderLabel: string;\n  switchValue?: boolean;\n  sliderValue?: number;\n  sliderMin?: number;\n  sliderMax?: number;\n  sliderStep?: number;\n  onSwitchChange?: (checked: boolean) => void;\n  onSliderChange?: (value: number) => void;\n  loading?: boolean;\n  className?: string;\n}\n\nexport const DeviceControlCard = memo<DeviceControlCardProps>(({\n  icon: Icon,\n  iconVariant = 'primary',\n  name,\n  deviceId,\n  switchLabel,\n  sliderLabel,\n  switchValue = false,\n  sliderValue = 50,\n  sliderMin = 0,\n  sliderMax = 100,\n  sliderStep = 1,\n  onSwitchChange,\n  onSliderChange,\n  loading = false,\n  className = '',\n}) => {\n  const [isOn, setIsOn] = useState(switchValue);\n  const [value, setValue] = useState(sliderValue);\n\n  const handleSwitchChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const checked = e.target.checked;\n    setIsOn(checked);\n    onSwitchChange?.(checked);\n  }, [onSwitchChange]);\n\n  const handleSliderChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = Number(e.target.value);\n    setValue(newValue);\n    onSliderChange?.(newValue);\n  }, [onSliderChange]);\n\n  const containerClassName = useMemo(() =>\n    `${styles.deviceControlCard} ${loading ? styles.loading : ''} ${className}`,\n    [loading, className]\n  );\n\n  const iconCircleClassName = useMemo(() =>\n    `${styles.deviceIconCircle} ${styles[`iconVariant-${iconVariant}`]}`,\n    [iconVariant]\n  );\n\n  if (loading) {\n    return (\n      <div className={containerClassName}>\n        <div className={styles.deviceHeader}>\n          <div className={styles.iconSkeleton} />\n          <div className={styles.deviceInfo}>\n            <div className={styles.nameSkeleton} />\n            <div className={styles.idSkeleton} />\n          </div>\n          <div className={styles.toggleSkeleton} />\n        </div>\n        <div className={styles.sliderSkeleton} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={containerClassName}>\n      <div className={styles.deviceHeader}>\n        <div className={iconCircleClassName}>\n          <Icon size={24} />\n        </div>\n        <div className={styles.deviceInfo}>\n          <h4 className={styles.deviceName}>{name}</h4>\n          <p className={styles.deviceId}>{deviceId}</p>\n        </div>\n        <label className={styles.switch} aria-label={switchLabel}>\n          <input\n            type=\"checkbox\"\n            className={styles.switchInput}\n            checked={isOn}\n            onChange={handleSwitchChange}\n          />\n          <span className={styles.switchSlider}></span>\n        </label>\n      </div>\n      <div className={styles.controlSliderWrapper}>\n        <span className={styles.controlSliderLabel}>{sliderLabel}</span>\n        <input\n          type=\"range\"\n          className={styles.slider}\n          min={sliderMin}\n          max={sliderMax}\n          step={sliderStep}\n          value={value}\n          onChange={handleSliderChange}\n          disabled={!isOn}\n        />\n      </div>\n    </div>\n  );\n});\n\nDeviceControlCard.displayName = 'DeviceControlPanel.DeviceControlCard';\n\n// ==================== Mode Button ====================\n\ninterface ModeButtonProps {\n  mode: string;\n  isSelected: boolean;\n  onSelect: (mode: string) => void;\n}\n\nconst ModeButton = memo<ModeButtonProps>(({ mode, isSelected, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(mode);\n  }, [mode, onSelect]);\n\n  const className = useMemo(() =>\n    `${styles.btn} ${styles.btnSm} ${styles.btnGhost} ${isSelected ? styles.active : ''}`,\n    [isSelected]\n  );\n\n  return (\n    <button className={className} onClick={handleClick}>\n      {mode}\n    </button>\n  );\n});\n\nModeButton.displayName = 'DeviceControlPanel.ModeButton';\n\n// ==================== Mode Selection ====================\n\nexport interface ModeSelectionProps {\n  label: string;\n  modes: string[];\n  selectedMode: string;\n  onModeChange: (mode: string) => void;\n  className?: string;\n}\n\nexport const ModeSelection = memo<ModeSelectionProps>(({\n  label,\n  modes,\n  selectedMode,\n  onModeChange,\n  className = '',\n}) => {\n  const containerClassName = useMemo(() =>\n    `${styles.modeSelection} ${className}`,\n    [className]\n  );\n\n  return (\n    <div className={containerClassName}>\n      <label className={styles.modeLabel}>{label}</label>\n      <div className={styles.btnGroup} role=\"group\">\n        {modes.map((mode) => (\n          <ModeButton\n            key={mode}\n            mode={mode}\n            isSelected={selectedMode === mode}\n            onSelect={onModeChange}\n          />\n        ))}\n      </div>\n    </div>\n  );\n});\n\nModeSelection.displayName = 'DeviceControlPanel.ModeSelection';\n\n// ==================== Temperature Control ====================\n\nexport interface TemperatureControlProps {\n  label: string;\n  value: number;\n  min?: number;\n  max?: number;\n  unit?: string;\n  onChange: (value: number) => void;\n  className?: string;\n}\n\nexport const TemperatureControl = memo<TemperatureControlProps>(({\n  label,\n  value,\n  min = 16,\n  max = 30,\n  unit = 'C',\n  onChange,\n  className = '',\n}) => {\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    onChange(Number(e.target.value));\n  }, [onChange]);\n\n  const containerClassName = useMemo(() =>\n    `${styles.modeSelection} ${className}`,\n    [className]\n  );\n\n  return (\n    <div className={containerClassName}>\n      <div className={styles.temperatureDisplay}>\n        <span className={styles.modeLabel}>{label}</span>\n        <span className={styles.temperatureValue}>\n          {value}\n          {unit}\n        </span>\n      </div>\n      <input\n        type=\"range\"\n        className={styles.slider}\n        min={min}\n        max={max}\n        value={value}\n        onChange={handleChange}\n      />\n      <div className={styles.sliderRange}>\n        <span>{min}{unit}</span>\n        <span>{max}{unit}</span>\n      </div>\n    </div>\n  );\n});\n\nTemperatureControl.displayName = 'DeviceControlPanel.TemperatureControl';\n\n// ==================== Fan Speed Option ====================\n\ninterface FanSpeedOptionProps {\n  option: string;\n  isSelected: boolean;\n  onSelect: (option: string) => void;\n}\n\nconst FanSpeedOption = memo<FanSpeedOptionProps>(({ option, isSelected, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(option);\n  }, [option, onSelect]);\n\n  const className = useMemo(() =>\n    `${styles.customSelectOption} ${isSelected ? styles.selected : ''}`,\n    [isSelected]\n  );\n\n  return (\n    <div className={className} onClick={handleClick}>\n      {option}\n    </div>\n  );\n});\n\nFanSpeedOption.displayName = 'DeviceControlPanel.FanSpeedOption';\n\n// ==================== Fan Speed Select ====================\n\nexport interface FanSpeedSelectProps {\n  label: string;\n  value: string;\n  options: string[];\n  onChange: (value: string) => void;\n  className?: string;\n}\n\nexport const FanSpeedSelect = memo<FanSpeedSelectProps>(({\n  label,\n  value,\n  options,\n  onChange,\n  className = '',\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleOpen = useCallback(() => {\n    setIsOpen(prev => !prev);\n  }, []);\n\n  const handleSelect = useCallback((option: string) => {\n    onChange(option);\n    setIsOpen(false);\n  }, [onChange]);\n\n  const containerClassName = useMemo(() =>\n    `${styles.modeSelection} ${className}`,\n    [className]\n  );\n\n  return (\n    <div className={containerClassName}>\n      <label className={styles.modeLabel}>{label}</label>\n      <div className={styles.customSelect}>\n        <div\n          className={styles.customSelectTrigger}\n          onClick={toggleOpen}\n          role=\"button\"\n          tabIndex={0}\n        >\n          <span className={styles.customSelectValue}>{value}</span>\n          <ChevronDown className={styles.selectIcon} size={16} />\n        </div>\n        {isOpen && (\n          <div className={styles.customSelectDropdown}>\n            {options.map((option) => (\n              <FanSpeedOption\n                key={option}\n                option={option}\n                isSelected={option === value}\n                onSelect={handleSelect}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nFanSpeedSelect.displayName = 'DeviceControlPanel.FanSpeedSelect';\n\n// ==================== Main Export ====================\n\nexport default {\n  ControlItem,\n  DeviceControlCard,\n  ModeSelection,\n  TemperatureControl,\n  FanSpeedSelect,\n};\n","import React, { memo, useMemo, useCallback } from 'react';\nimport {\n  Cpu,\n  Radio,\n  Settings,\n  BarChart2,\n  RefreshCw,\n  MoreVertical,\n} from 'lucide-react';\nimport styles from './DeviceList.module.css';\n\n// ========================================\n// TYPES\n// ========================================\n\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\nexport type DeviceStatus = 'online' | 'offline' | 'warning' | 'error';\n\nexport interface DeviceStat {\n  label: string;\n  value: string | number;\n}\n\nexport interface DeviceMetaItem {\n  icon?: IconType;\n  label: string;\n}\n\nexport interface Device {\n  id: string;\n  name: string;\n  type: string;\n  status: DeviceStatus;\n  icon?: IconType;\n  iconGradient?: 'primary' | 'warning' | 'success' | 'error';\n  stats?: DeviceStat[];\n  meta?: DeviceMetaItem[];\n}\n\nexport interface DeviceListProps {\n  devices: Device[];\n  view?: 'grid' | 'list' | 'compact';\n  loading?: boolean;\n  emptyMessage?: string;\n  emptyDescription?: string;\n  onEmptyAction?: () => void;\n  emptyActionLabel?: string;\n  onDeviceClick?: (device: Device) => void;\n  onPrimaryAction?: (device: Device) => void;\n  primaryActionLabel?: string;\n  onSecondaryAction?: (device: Device) => void;\n  secondaryActionLabel?: string;\n  onMoreActions?: (device: Device) => void;\n  className?: string;\n}\n\n// ========================================\n// SKELETON STYLES (memoized static styles)\n// ========================================\n\nconst skeletonStyles = {\n  circle48: { width: 48, height: 48 } as React.CSSProperties,\n  circle40: { width: 40, height: 40 } as React.CSSProperties,\n  circle32: { width: 32, height: 32 } as React.CSSProperties,\n  title: { height: 16, width: '70%', marginBottom: 8 } as React.CSSProperties,\n  subtitle: { height: 14, width: '50%' } as React.CSSProperties,\n  badge: { height: 24, width: 60, borderRadius: 'var(--radius-full)' } as React.CSSProperties,\n  statLabel: { height: 14, width: '70%', margin: '0 auto 6px' } as React.CSSProperties,\n  statValue: { height: 20, width: '50%', margin: '0 auto' } as React.CSSProperties,\n  statLabel2: { height: 14, width: '60%', margin: '0 auto 6px' } as React.CSSProperties,\n  statValue2: { height: 20, width: '40%', margin: '0 auto' } as React.CSSProperties,\n  listTitle: { height: 16, width: '40%', marginBottom: 8 } as React.CSSProperties,\n  listSubtitle: { height: 14, width: '60%' } as React.CSSProperties,\n  listButton1: { height: 32, width: 100 } as React.CSSProperties,\n  listButton2: { height: 32, width: 80 } as React.CSSProperties,\n  compactTitle: { height: 14, width: '60%', marginBottom: 6 } as React.CSSProperties,\n  compactSubtitle: { height: 12, width: '40%' } as React.CSSProperties,\n  compactAction: { width: 32, height: 32, borderRadius: 'var(--radius-md)' } as React.CSSProperties,\n  flex1: { flex: 1 } as React.CSSProperties,\n  flexGap: { display: 'flex', gap: 8 } as React.CSSProperties,\n};\n\n// ========================================\n// LOADING SKELETONS\n// ========================================\n\nconst LoadingSkeleton = memo(() => (\n  <div className={styles.deviceCard}>\n    <div className={styles.deviceCardHeader}>\n      <div className={styles.deviceCardHeaderLeft}>\n        <div className={`${styles.skeleton} ${styles.skeletonCircle}`} style={skeletonStyles.circle48} />\n        <div style={skeletonStyles.flex1}>\n          <div className={styles.skeleton} style={skeletonStyles.title} />\n          <div className={styles.skeleton} style={skeletonStyles.subtitle} />\n        </div>\n      </div>\n      <div className={styles.skeleton} style={skeletonStyles.badge} />\n    </div>\n    <div className={styles.deviceStats}>\n      <div className={styles.deviceStat}>\n        <div className={styles.skeleton} style={skeletonStyles.statLabel} />\n        <div className={styles.skeleton} style={skeletonStyles.statValue} />\n      </div>\n      <div className={styles.deviceStat}>\n        <div className={styles.skeleton} style={skeletonStyles.statLabel2} />\n        <div className={styles.skeleton} style={skeletonStyles.statValue2} />\n      </div>\n    </div>\n  </div>\n));\n\nLoadingSkeleton.displayName = 'DeviceList.LoadingSkeleton';\n\nconst ListLoadingSkeleton = memo(() => (\n  <div className={styles.listItem}>\n    <div className={`${styles.skeleton} ${styles.skeletonCircle}`} style={skeletonStyles.circle40} />\n    <div className={styles.listItemContent} style={skeletonStyles.flex1}>\n      <div className={styles.skeleton} style={skeletonStyles.listTitle} />\n      <div className={styles.skeleton} style={skeletonStyles.listSubtitle} />\n    </div>\n    <div style={skeletonStyles.flexGap}>\n      <div className={styles.skeleton} style={skeletonStyles.listButton1} />\n      <div className={styles.skeleton} style={skeletonStyles.listButton2} />\n    </div>\n  </div>\n));\n\nListLoadingSkeleton.displayName = 'DeviceList.ListLoadingSkeleton';\n\nconst CompactLoadingSkeleton = memo(() => (\n  <div className={styles.compactCard}>\n    <div className={`${styles.skeleton} ${styles.skeletonCircle}`} style={skeletonStyles.circle32} />\n    <div style={skeletonStyles.flex1}>\n      <div className={styles.skeleton} style={skeletonStyles.compactTitle} />\n      <div className={styles.skeleton} style={skeletonStyles.compactSubtitle} />\n    </div>\n    <div className={styles.skeleton} style={skeletonStyles.compactAction} />\n  </div>\n));\n\nCompactLoadingSkeleton.displayName = 'DeviceList.CompactLoadingSkeleton';\n\n// ========================================\n// STAT ITEM COMPONENT\n// ========================================\n\ninterface StatItemProps {\n  stat: DeviceStat;\n}\n\nconst StatItem = memo<StatItemProps>(({ stat }) => (\n  <div className={styles.deviceStat}>\n    <div className={styles.deviceStatLabel}>{stat.label}</div>\n    <div className={styles.deviceStatValue}>{stat.value}</div>\n  </div>\n));\n\nStatItem.displayName = 'DeviceList.StatItem';\n\n// ========================================\n// META ITEM COMPONENT\n// ========================================\n\ninterface MetaItemComponentProps {\n  item: DeviceMetaItem;\n}\n\nconst MetaItemComponent = memo<MetaItemComponentProps>(({ item }) => (\n  <div className={styles.listItemMetaItem}>\n    {item.icon && <item.icon size={14} />}\n    <span>{item.label}</span>\n  </div>\n));\n\nMetaItemComponent.displayName = 'DeviceList.MetaItem';\n\n// ========================================\n// GRID CARD COMPONENT\n// ========================================\n\ninterface GridCardProps {\n  device: Device;\n  onClick?: (device: Device) => void;\n}\n\nconst GridCard = memo<GridCardProps>(({ device, onClick }) => {\n  const Icon = device.icon || Cpu;\n\n  const gradientClass = useMemo(() =>\n    device.iconGradient\n      ? styles[`gradient${device.iconGradient.charAt(0).toUpperCase()}${device.iconGradient.slice(1)}`]\n      : styles.gradientPrimary,\n    [device.iconGradient]\n  );\n\n  const statusClass = useMemo(() =>\n    styles[`status${device.status.charAt(0).toUpperCase()}${device.status.slice(1)}`],\n    [device.status]\n  );\n\n  const statusLabel = useMemo(() =>\n    device.status.charAt(0).toUpperCase() + device.status.slice(1),\n    [device.status]\n  );\n\n  const handleClick = useCallback(() => {\n    onClick?.(device);\n  }, [onClick, device]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (onClick && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault();\n      onClick(device);\n    }\n  }, [onClick, device]);\n\n  return (\n    <div\n      className={styles.deviceCard}\n      onClick={handleClick}\n      role={onClick ? 'button' : undefined}\n      tabIndex={onClick ? 0 : undefined}\n      onKeyDown={handleKeyDown}\n    >\n      <div className={styles.deviceCardHeader}>\n        <div className={styles.deviceCardHeaderLeft}>\n          <div className={`${styles.deviceIcon} ${gradientClass}`}>\n            <Icon size={24} />\n          </div>\n          <div className={styles.deviceInfo}>\n            <div className={styles.deviceName}>{device.name}</div>\n            <div className={styles.deviceType}>{device.type}</div>\n          </div>\n        </div>\n        <span className={`${styles.statusBadge} ${statusClass}`}>\n          {statusLabel}\n        </span>\n      </div>\n\n      {device.stats && device.stats.length > 0 && (\n        <div className={styles.deviceStats}>\n          {device.stats.map((stat) => (\n            <StatItem key={stat.label} stat={stat} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n});\n\nGridCard.displayName = 'DeviceList.GridCard';\n\n// ========================================\n// LIST ITEM COMPONENT\n// ========================================\n\ninterface ListItemProps {\n  device: Device;\n  onPrimaryAction?: (device: Device) => void;\n  primaryActionLabel?: string;\n  onSecondaryAction?: (device: Device) => void;\n  secondaryActionLabel?: string;\n}\n\nconst ListItem = memo<ListItemProps>(({\n  device,\n  onPrimaryAction,\n  primaryActionLabel = 'Configure',\n  onSecondaryAction,\n  secondaryActionLabel = 'View',\n}) => {\n  const Icon = device.icon || Cpu;\n\n  const gradientClass = useMemo(() =>\n    device.iconGradient\n      ? styles[`gradient${device.iconGradient.charAt(0).toUpperCase()}${device.iconGradient.slice(1)}`]\n      : styles.gradientPrimary,\n    [device.iconGradient]\n  );\n\n  const statusClass = useMemo(() =>\n    styles[`status${device.status.charAt(0).toUpperCase()}${device.status.slice(1)}`],\n    [device.status]\n  );\n\n  const statusLabel = useMemo(() =>\n    device.status.charAt(0).toUpperCase() + device.status.slice(1),\n    [device.status]\n  );\n\n  const handlePrimaryClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    onPrimaryAction?.(device);\n  }, [onPrimaryAction, device]);\n\n  const handleSecondaryClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    onSecondaryAction?.(device);\n  }, [onSecondaryAction, device]);\n\n  return (\n    <div className={styles.listItem}>\n      <div className={`${styles.listItemIcon} ${gradientClass}`}>\n        <Icon size={20} />\n      </div>\n      <div className={styles.listItemContent}>\n        <div className={styles.listItemHeader}>\n          <div className={styles.listItemTitle}>{device.name}</div>\n          <span className={`${styles.statusBadge} ${statusClass}`}>\n            {statusLabel}\n          </span>\n        </div>\n        {device.meta && device.meta.length > 0 && (\n          <div className={styles.listItemMeta}>\n            {device.meta.map((item) => (\n              <MetaItemComponent key={item.label} item={item} />\n            ))}\n          </div>\n        )}\n      </div>\n      <div className={styles.listItemActions}>\n        {onPrimaryAction && (\n          <button className={styles.actionButton} onClick={handlePrimaryClick}>\n            <Settings size={16} />\n            <span>{primaryActionLabel}</span>\n          </button>\n        )}\n        {onSecondaryAction && (\n          <button className={styles.actionButton} onClick={handleSecondaryClick}>\n            {device.status === 'offline' ? <RefreshCw size={16} /> : <BarChart2 size={16} />}\n            <span>{device.status === 'offline' ? 'Reconnect' : secondaryActionLabel}</span>\n          </button>\n        )}\n      </div>\n    </div>\n  );\n});\n\nListItem.displayName = 'DeviceList.ListItem';\n\n// ========================================\n// COMPACT CARD COMPONENT\n// ========================================\n\ninterface CompactCardProps {\n  device: Device;\n  onMoreActions?: (device: Device) => void;\n}\n\nconst CompactCard = memo<CompactCardProps>(({ device, onMoreActions }) => {\n  const Icon = device.icon || Cpu;\n\n  const gradientClass = useMemo(() =>\n    device.iconGradient\n      ? styles[`gradient${device.iconGradient.charAt(0).toUpperCase()}${device.iconGradient.slice(1)}`]\n      : styles.gradientPrimary,\n    [device.iconGradient]\n  );\n\n  const badgeClass = useMemo(() => {\n    switch (device.status) {\n      case 'online': return styles.badgeSuccess;\n      case 'offline': return styles.badgeError;\n      case 'warning': return styles.badgeWarning;\n      case 'error': return styles.badgeError;\n      default: return styles.badgeSuccess;\n    }\n  }, [device.status]);\n\n  const statusLabel = useMemo(() => {\n    switch (device.status) {\n      case 'online': return 'Active';\n      case 'offline': return 'Offline';\n      case 'warning': return 'Warning';\n      case 'error': return 'Error';\n      default: return device.status;\n    }\n  }, [device.status]);\n\n  const metaText = useMemo(() =>\n    device.meta && device.meta.length > 0 ? device.meta[0].label : '',\n    [device.meta]\n  );\n\n  const handleMoreClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    onMoreActions?.(device);\n  }, [onMoreActions, device]);\n\n  return (\n    <div className={styles.compactCard}>\n      <div className={`${styles.compactIcon} ${gradientClass}`}>\n        <Icon size={16} />\n      </div>\n      <div className={styles.compactContent}>\n        <div className={styles.compactName}>{device.name}</div>\n        <div className={styles.compactStatus}>\n          <span className={`${styles.badge} ${badgeClass}`}>{statusLabel}</span>\n          {metaText && (\n            <>\n              <span className={styles.separator}></span>\n              <span>{metaText}</span>\n            </>\n          )}\n        </div>\n      </div>\n      {onMoreActions && (\n        <button\n          className={styles.compactActionButton}\n          onClick={handleMoreClick}\n          aria-label=\"More actions\"\n        >\n          <MoreVertical size={16} />\n        </button>\n      )}\n    </div>\n  );\n});\n\nCompactCard.displayName = 'DeviceList.CompactCard';\n\n// ========================================\n// DEVICE LIST COMPONENT\n// ========================================\n\nconst DeviceList = memo<DeviceListProps>(({\n  devices,\n  view = 'grid',\n  loading = false,\n  emptyMessage = 'No devices found',\n  emptyDescription = 'Add your first IoT device to get started',\n  onEmptyAction,\n  emptyActionLabel = 'Add Device',\n  onDeviceClick,\n  onPrimaryAction,\n  primaryActionLabel = 'Configure',\n  onSecondaryAction,\n  secondaryActionLabel = 'View',\n  onMoreActions,\n  className,\n}) => {\n  const containerClassName = useMemo(() =>\n    `${styles.deviceList} ${className || ''}`,\n    [className]\n  );\n\n  // Loading state\n  if (loading) {\n    return (\n      <div className={containerClassName}>\n        {view === 'grid' && (\n          <div className={styles.deviceGrid}>\n            {[1, 2, 3, 4].map((i) => (\n              <LoadingSkeleton key={`skeleton-grid-${i}`} />\n            ))}\n          </div>\n        )}\n        {view === 'list' && (\n          <div className={styles.listContainer}>\n            {[1, 2, 3].map((i) => (\n              <ListLoadingSkeleton key={`skeleton-list-${i}`} />\n            ))}\n          </div>\n        )}\n        {view === 'compact' && (\n          <div className={styles.compactContainer}>\n            {[1, 2, 3, 4].map((i) => (\n              <CompactLoadingSkeleton key={`skeleton-compact-${i}`} />\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Empty state\n  if (devices.length === 0) {\n    return (\n      <div className={containerClassName}>\n        <div className={styles.emptyState}>\n          <div className={styles.emptyStateIcon}>\n            <Radio size={48} />\n          </div>\n          <div className={styles.emptyStateTitle}>{emptyMessage}</div>\n          <div className={styles.emptyStateDescription}>{emptyDescription}</div>\n          {onEmptyAction && (\n            <button className={styles.emptyStateButton} onClick={onEmptyAction}>\n              {emptyActionLabel}\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  // Render based on view mode\n  return (\n    <div className={containerClassName}>\n      {view === 'grid' && (\n        <div className={styles.deviceGrid}>\n          {devices.map((device) => (\n            <GridCard\n              key={device.id}\n              device={device}\n              onClick={onDeviceClick}\n            />\n          ))}\n        </div>\n      )}\n\n      {view === 'list' && (\n        <div className={styles.listContainer}>\n          {devices.map((device) => (\n            <ListItem\n              key={device.id}\n              device={device}\n              onPrimaryAction={onPrimaryAction}\n              primaryActionLabel={primaryActionLabel}\n              onSecondaryAction={onSecondaryAction}\n              secondaryActionLabel={secondaryActionLabel}\n            />\n          ))}\n        </div>\n      )}\n\n      {view === 'compact' && (\n        <div className={styles.compactContainer}>\n          {devices.map((device) => (\n            <CompactCard\n              key={device.id}\n              device={device}\n              onMoreActions={onMoreActions}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n});\n\nDeviceList.displayName = 'DeviceList';\n\nexport default DeviceList;\nexport {\n  GridCard,\n  ListItem,\n  CompactCard,\n  LoadingSkeleton,\n  ListLoadingSkeleton,\n  CompactLoadingSkeleton,\n};\n","import React from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport { ChevronRight } from 'lucide-react';\nimport styles from './DeviceListItem.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Device List Item ====================\n\nexport interface DeviceMetric {\n  label: string;\n  value: string;\n  warning?: boolean;\n  error?: boolean;\n}\n\nexport interface DeviceListItemProps {\n  icon?: IconType;\n  name: string;\n  status?: 'online' | 'warning' | 'offline';\n  statusBadge?: React.ReactNode;\n  meta?: string[];\n  metrics?: DeviceMetric[];\n  value?: string;\n  showCheckbox?: boolean;\n  checked?: boolean;\n  onCheckChange?: (checked: boolean) => void;\n  actions?: React.ReactNode;\n  onClick?: () => void;\n  clickable?: boolean;\n  compact?: boolean;\n  offline?: boolean;\n  className?: string;\n}\n\nexport const DeviceListItem: React.FC<DeviceListItemProps> = ({\n  icon: Icon,\n  name,\n  status: _status,\n  statusBadge,\n  meta = [],\n  metrics = [],\n  value,\n  showCheckbox = false,\n  checked = false,\n  onCheckChange,\n  actions,\n  onClick,\n  clickable = false,\n  compact = false,\n  offline = false,\n  className = '',\n}) => {\n  const itemClassName = `\n    ${styles.deviceListItem}\n    ${compact ? styles.compact : ''}\n    ${clickable ? styles.clickable : ''}\n    ${offline ? styles.offline : ''}\n    ${metrics.length > 0 ? styles.withMetrics : ''}\n    ${className}\n  `.trim();\n\n  const content = (\n    <>\n      {showCheckbox && (\n        <input\n          type=\"checkbox\"\n          className={styles.checkbox}\n          checked={checked}\n          onChange={(e) => {\n            e.stopPropagation();\n            onCheckChange?.(e.target.checked);\n          }}\n        />\n      )}\n\n      {Icon && !compact && (\n        <div className={styles.icon}>\n          <Icon className={styles.iconSvg} />\n        </div>\n      )}\n\n      <div className={styles.content}>\n        <div className={styles.main}>\n          <h4 className={styles.name}>{name}</h4>\n          {statusBadge && statusBadge}\n        </div>\n\n        {meta.length > 0 && (\n          <div className={styles.meta}>\n            {meta.map((item, index) => (\n              <span key={index} className={styles.metaItem}>\n                {item}\n              </span>\n            ))}\n          </div>\n        )}\n\n        {metrics.length > 0 && (\n          <div className={styles.metrics}>\n            {metrics.map((metric, index) => (\n              <div key={index} className={styles.metric}>\n                <span className={styles.metricLabel}>{metric.label}</span>\n                <span\n                  className={`${styles.metricValue} ${\n                    metric.warning ? styles.metricValueWarning : ''\n                  } ${metric.error ? styles.metricValueError : ''}`}\n                >\n                  {metric.value}\n                </span>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {value && <div className={styles.value}>{value}</div>}\n\n      {actions && <div className={styles.actions}>{actions}</div>}\n\n      {clickable && (\n        <div className={styles.arrow}>\n          <ChevronRight size={16} />\n        </div>\n      )}\n    </>\n  );\n\n  if (clickable && onClick) {\n    return (\n      <div className={itemClassName} onClick={onClick} role=\"button\" tabIndex={0}>\n        {content}\n      </div>\n    );\n  }\n\n  return <div className={itemClassName}>{content}</div>;\n};\n\n// ==================== Device List Container ====================\n\nexport interface DeviceListContainerProps {\n  children: React.ReactNode;\n  spaced?: boolean;\n  className?: string;\n}\n\nexport const DeviceListContainer: React.FC<DeviceListContainerProps> = ({\n  children,\n  spaced = false,\n  className = '',\n}) => {\n  return (\n    <div\n      className={`${spaced ? styles.containerSpaced : styles.container} ${className}`}\n    >\n      {children}\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  DeviceListItem,\n  DeviceListContainer,\n};\n","import React, { useState, memo, useMemo, useCallback } from 'react';\nimport { Search, Filter, AlertCircle, AlertTriangle, Download, ChevronsUpDown, Eye, MoreHorizontal } from 'lucide-react';\nimport styles from './EventDataTable.module.css';\n\nexport interface EventData {\n  id: string;\n  time: string;\n  severity: 'critical' | 'warning' | 'info';\n  eventType: {\n    icon: string;\n    label: string;\n  };\n  device: {\n    id: string;\n    type: string;\n  };\n  message: string;\n  location: string;\n}\n\nexport interface EventDataTableProps {\n  events: EventData[];\n  searchable?: boolean;\n  filterable?: boolean;\n  exportable?: boolean;\n  selectable?: boolean;\n  onSelect?: (selectedIds: string[]) => void;\n  onView?: (event: EventData) => void;\n  onExport?: () => void;\n  className?: string;\n}\n\n// Severity badge class mapping\nconst severityBadgeClasses: Record<string, string> = {\n  critical: styles.badgeError,\n  warning: styles.badgeWarning,\n  info: styles.badgeSuccess,\n};\n\n// Event Row Component\ninterface EventRowProps {\n  event: EventData;\n  selectable: boolean;\n  isSelected: boolean;\n  onSelectRow: (id: string, checked: boolean) => void;\n  onView?: (event: EventData) => void;\n}\n\nconst EventRow = memo<EventRowProps>(({ event, selectable, isSelected, onSelectRow, onView }) => {\n  const handleCheckboxChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    onSelectRow(event.id, e.target.checked);\n  }, [event.id, onSelectRow]);\n\n  const handleViewClick = useCallback(() => {\n    onView?.(event);\n  }, [event, onView]);\n\n  const badgeClassName = useMemo(() =>\n    `${styles.badge} ${severityBadgeClasses[event.severity] || ''}`,\n    [event.severity]\n  );\n\n  const severityLabel = useMemo(() =>\n    event.severity.charAt(0).toUpperCase() + event.severity.slice(1),\n    [event.severity]\n  );\n\n  return (\n    <tr>\n      {selectable && (\n        <td className={styles.checkboxCell}>\n          <input\n            type=\"checkbox\"\n            checked={isSelected}\n            onChange={handleCheckboxChange}\n          />\n        </td>\n      )}\n      <td>{event.time}</td>\n      <td>\n        <span className={badgeClassName}>\n          {severityLabel}\n        </span>\n      </td>\n      <td>\n        <div className={styles.eventType}>\n          <span className={styles.eventIcon}>\n            {event.eventType.icon}\n          </span>\n          <span>{event.eventType.label}</span>\n        </div>\n      </td>\n      <td>\n        <div className={styles.deviceInfo}>\n          <div className={styles.deviceId}>{event.device.id}</div>\n          <div className={styles.deviceType}>{event.device.type}</div>\n        </div>\n      </td>\n      <td>{event.message}</td>\n      <td>{event.location}</td>\n      <td>\n        <div className={styles.actions}>\n          <button\n            className={styles.actionBtn}\n            onClick={handleViewClick}\n            aria-label=\"View details\"\n          >\n            <Eye size={14} />\n          </button>\n          <button\n            className={styles.actionBtn}\n            aria-label=\"More options\"\n          >\n            <MoreHorizontal size={14} />\n          </button>\n        </div>\n      </td>\n    </tr>\n  );\n});\n\nEventRow.displayName = 'EventDataTable.Row';\n\n// Filter Button Component\ninterface FilterButtonProps {\n  filter: 'all' | 'critical' | 'warning';\n  currentFilter: 'all' | 'critical' | 'warning' | 'info';\n  onClick: (filter: 'all' | 'critical' | 'warning' | 'info') => void;\n  icon: React.ReactNode;\n  label: string;\n}\n\nconst FilterButton = memo<FilterButtonProps>(({ filter, currentFilter, onClick, icon, label }) => {\n  const handleClick = useCallback(() => {\n    onClick(filter);\n  }, [filter, onClick]);\n\n  const className = useMemo(() =>\n    `${styles.filterBtn} ${currentFilter === filter ? styles.filterBtnActive : ''}`,\n    [currentFilter, filter]\n  );\n\n  return (\n    <button className={className} onClick={handleClick}>\n      {icon}\n      {label}\n    </button>\n  );\n});\n\nFilterButton.displayName = 'EventDataTable.FilterButton';\n\n// Main Component\nexport const EventDataTable = memo<EventDataTableProps>(({\n  events,\n  searchable = true,\n  filterable = true,\n  exportable = true,\n  selectable = true,\n  onSelect,\n  onView,\n  onExport,\n  className,\n}) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedFilter, setSelectedFilter] = useState<'all' | 'critical' | 'warning' | 'info'>('all');\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set());\n  const [sortColumn, setSortColumn] = useState<'time' | 'severity' | null>(null);\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('desc');\n\n  // Memoized filtered events\n  const filteredEvents = useMemo(() => {\n    return events.filter((event) => {\n      const matchesSearch = searchQuery === '' ||\n        event.eventType.label.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        event.device.id.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        event.message.toLowerCase().includes(searchQuery.toLowerCase());\n\n      const matchesFilter = selectedFilter === 'all' || event.severity === selectedFilter;\n\n      return matchesSearch && matchesFilter;\n    });\n  }, [events, searchQuery, selectedFilter]);\n\n  // Memoized sorted events\n  const sortedEvents = useMemo(() => {\n    if (!sortColumn) return filteredEvents;\n\n    const severityOrder = { critical: 3, warning: 2, info: 1 };\n\n    return [...filteredEvents].sort((a, b) => {\n      if (sortColumn === 'time') {\n        return sortDirection === 'asc'\n          ? a.time.localeCompare(b.time)\n          : b.time.localeCompare(a.time);\n      }\n\n      if (sortColumn === 'severity') {\n        return sortDirection === 'asc'\n          ? severityOrder[a.severity] - severityOrder[b.severity]\n          : severityOrder[b.severity] - severityOrder[a.severity];\n      }\n\n      return 0;\n    });\n  }, [filteredEvents, sortColumn, sortDirection]);\n\n  // Handlers\n  const handleSearchChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(e.target.value);\n  }, []);\n\n  const handleFilterChange = useCallback((filter: 'all' | 'critical' | 'warning' | 'info') => {\n    setSelectedFilter(filter);\n  }, []);\n\n  const handleSortTime = useCallback(() => {\n    if (sortColumn === 'time') {\n      setSortDirection(prev => prev === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortColumn('time');\n      setSortDirection('desc');\n    }\n  }, [sortColumn]);\n\n  const handleSortSeverity = useCallback(() => {\n    if (sortColumn === 'severity') {\n      setSortDirection(prev => prev === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortColumn('severity');\n      setSortDirection('desc');\n    }\n  }, [sortColumn]);\n\n  const handleSelectAll = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.checked) {\n      const allIds = new Set(sortedEvents.map(ev => ev.id));\n      setSelectedIds(allIds);\n      onSelect?.(Array.from(allIds));\n    } else {\n      setSelectedIds(new Set());\n      onSelect?.([]);\n    }\n  }, [sortedEvents, onSelect]);\n\n  const handleSelectRow = useCallback((id: string, checked: boolean) => {\n    setSelectedIds(prev => {\n      const newSelected = new Set(prev);\n      if (checked) {\n        newSelected.add(id);\n      } else {\n        newSelected.delete(id);\n      }\n      onSelect?.(Array.from(newSelected));\n      return newSelected;\n    });\n  }, [onSelect]);\n\n  // Memoized values\n  const containerClassName = useMemo(() =>\n    `${styles.eventDataTable} ${className || ''}`,\n    [className]\n  );\n\n  const isAllSelected = useMemo(() =>\n    selectedIds.size === sortedEvents.length && sortedEvents.length > 0,\n    [selectedIds.size, sortedEvents.length]\n  );\n\n  return (\n    <div className={containerClassName}>\n      {/* Table Controls */}\n      {(searchable || filterable || exportable) && (\n        <div className={styles.tableControls}>\n          <div className={styles.tableControlsLeft}>\n            {searchable && (\n              <div className={styles.searchGroup}>\n                <Search className={styles.searchIcon} size={16} />\n                <input\n                  type=\"text\"\n                  className={styles.searchInput}\n                  placeholder=\"Search events...\"\n                  value={searchQuery}\n                  onChange={handleSearchChange}\n                />\n              </div>\n            )}\n          </div>\n\n          <div className={styles.tableControlsRight}>\n            {filterable && (\n              <div className={styles.filterGroup}>\n                <FilterButton\n                  filter=\"all\"\n                  currentFilter={selectedFilter}\n                  onClick={handleFilterChange}\n                  icon={<Filter size={14} />}\n                  label=\"All Events\"\n                />\n                <FilterButton\n                  filter=\"critical\"\n                  currentFilter={selectedFilter}\n                  onClick={handleFilterChange}\n                  icon={<AlertCircle size={14} />}\n                  label=\"Errors\"\n                />\n                <FilterButton\n                  filter=\"warning\"\n                  currentFilter={selectedFilter}\n                  onClick={handleFilterChange}\n                  icon={<AlertTriangle size={14} />}\n                  label=\"Warnings\"\n                />\n              </div>\n            )}\n            {exportable && (\n              <button className={styles.exportBtn} onClick={onExport}>\n                <Download size={14} />\n                Export\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Event Table */}\n      <div className={styles.tableContainer}>\n        <table className={styles.table}>\n          <thead>\n            <tr>\n              {selectable && (\n                <th className={styles.checkboxCell}>\n                  <input\n                    type=\"checkbox\"\n                    checked={isAllSelected}\n                    onChange={handleSelectAll}\n                  />\n                </th>\n              )}\n              <th className={styles.sortableHeader} onClick={handleSortTime}>\n                <div className={styles.headerContent}>\n                  <span>Time</span>\n                  <ChevronsUpDown size={14} />\n                </div>\n              </th>\n              <th className={styles.sortableHeader} onClick={handleSortSeverity}>\n                <div className={styles.headerContent}>\n                  <span>Severity</span>\n                  <ChevronsUpDown size={14} />\n                </div>\n              </th>\n              <th>Event Type</th>\n              <th>Device</th>\n              <th>Message</th>\n              <th>Location</th>\n              <th className={styles.actionsHeader}>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedEvents.map((event) => (\n              <EventRow\n                key={event.id}\n                event={event}\n                selectable={selectable}\n                isSelected={selectedIds.has(event.id)}\n                onSelectRow={handleSelectRow}\n                onView={onView}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n});\n\nEventDataTable.displayName = 'EventDataTable';\n\nexport default EventDataTable;\n","import React from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport styles from './EventTimeline.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Event Timeline ====================\n\nexport type EventType = 'success' | 'warning' | 'error' | 'info' | 'default';\n\nexport interface EventTimelineProps {\n  children: React.ReactNode;\n  compact?: boolean;\n  className?: string;\n}\n\nexport const EventTimeline: React.FC<EventTimelineProps> = ({\n  children,\n  compact = false,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.eventTimeline} ${compact ? styles.eventTimelineCompact : ''} ${className}`}>\n      {children}\n    </div>\n  );\n};\n\n// ==================== Event Item ====================\n\nexport interface EventMetaItem {\n  icon: IconType;\n  text: string;\n}\n\nexport interface EventItemProps {\n  type: EventType;\n  title: string;\n  description?: string;\n  time: string;\n  meta?: EventMetaItem[];\n  icon?: IconType;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport const EventItem: React.FC<EventItemProps> = ({\n  type,\n  title,\n  description,\n  time,\n  meta,\n  icon: Icon,\n  onClick,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.eventItem} ${styles[`eventItem${type.charAt(0).toUpperCase() + type.slice(1)}`]} ${className}`} onClick={onClick}>\n      {Icon ? (\n        <div className={`${styles.eventMarker} ${styles.eventMarkerIcon}`}>\n          <Icon className={styles.eventIcon} />\n        </div>\n      ) : (\n        <div className={styles.eventMarker} />\n      )}\n      <div className={styles.eventLine} />\n      <div className={styles.eventContent}>\n        <div className={styles.eventHeader}>\n          <h4 className={styles.eventTitle}>{title}</h4>\n          <span className={styles.eventTime}>{time}</span>\n        </div>\n        {description && <p className={styles.eventDescription}>{description}</p>}\n        {meta && meta.length > 0 && (\n          <div className={styles.eventMeta}>\n            {meta.map((item, index) => (\n              <span key={index} className={styles.eventMetaItem}>\n                <item.icon />\n                <span>{item.text}</span>\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Compact Event Item ====================\n\nexport interface EventItemCompactProps {\n  type: EventType;\n  title: string;\n  time: string;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport const EventItemCompact: React.FC<EventItemCompactProps> = ({\n  type,\n  title,\n  time,\n  onClick,\n  className = '',\n}) => {\n  return (\n    <div\n      className={`${styles.eventItemCompact} ${styles[`eventItemCompact${type.charAt(0).toUpperCase() + type.slice(1)}`]} ${className}`}\n      onClick={onClick}\n    >\n      <div className={styles.eventMarkerCompact} />\n      <div className={styles.eventLineCompact} />\n      <div className={styles.eventContentCompact}>\n        <h5 className={styles.eventTitleCompact}>{title}</h5>\n        <p className={styles.eventTimeCompact}>{time}</p>\n      </div>\n    </div>\n  );\n};\n\n// ==================== Event Group Header ====================\n\nexport interface EventGroupHeaderProps {\n  title: string;\n  className?: string;\n}\n\nexport const EventGroupHeader: React.FC<EventGroupHeaderProps> = ({\n  title,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.eventGroupHeader} ${className}`}>\n      {title}\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  EventTimeline,\n  EventItem,\n  EventItemCompact,\n  EventGroupHeader,\n};\n","import React, { memo, useMemo, useCallback } from 'react';\nimport { TrendingUp, TrendingDown, Minus } from 'lucide-react';\nimport styles from './KpiCard.module.css';\n\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\nexport type TrendType = 'positive' | 'negative' | 'neutral';\n\nexport interface KpiCardProps {\n  label: string;\n  value: string | number;\n  trend?: TrendType;\n  trendValue?: string;\n  trendDescription?: string;\n  icon?: IconType;\n  iconColor?: string;\n  loading?: boolean;\n  className?: string;\n  onClick?: () => void;\n}\n\n// Skeleton styles\nconst skeletonStyles = {\n  label: { height: 16, width: '50%' } as React.CSSProperties,\n  icon: { width: 24, height: 24, borderRadius: 4 } as React.CSSProperties,\n  value: { height: 40, width: '60%', marginBottom: 8 } as React.CSSProperties,\n  trend: { height: 14, width: '40%' } as React.CSSProperties,\n};\n\n// Skeleton component\nconst KpiCardSkeleton = memo<{ className?: string }>(({ className }) => {\n  const containerClassName = useMemo(() =>\n    `${styles.kpiCard} ${className || ''}`,\n    [className]\n  );\n\n  return (\n    <div className={containerClassName}>\n      <div className={styles.kpiHeader}>\n        <div className={styles.skeleton} style={skeletonStyles.label} />\n        <div className={styles.skeleton} style={skeletonStyles.icon} />\n      </div>\n      <div className={styles.skeleton} style={skeletonStyles.value} />\n      <div className={styles.skeleton} style={skeletonStyles.trend} />\n    </div>\n  );\n});\n\nKpiCardSkeleton.displayName = 'KpiCard.Skeleton';\n\n// Main component\nconst KpiCard = memo<KpiCardProps>(({\n  label,\n  value,\n  trend,\n  trendValue,\n  trendDescription,\n  icon: Icon,\n  iconColor = 'var(--color-primary-500)',\n  loading = false,\n  className,\n  onClick,\n}) => {\n  const containerClassName = useMemo(() =>\n    `${styles.kpiCard} ${className || ''}`,\n    [className]\n  );\n\n  const iconStyle = useMemo(() => ({ color: iconColor }), [iconColor]);\n\n  const trendIcon = useMemo(() => {\n    if (!trend || trend === 'neutral') {\n      return <Minus size={14} />;\n    }\n\n    if (trend === 'positive') {\n      const isIncrease = trendValue?.includes('') || (!trendValue?.includes('') && !trendValue?.includes('-'));\n      return isIncrease ? <TrendingUp size={14} /> : <TrendingDown size={14} />;\n    }\n\n    if (trend === 'negative') {\n      const isIncrease = trendValue?.includes('') || (!trendValue?.includes('') && !trendValue?.includes('-'));\n      return isIncrease ? <TrendingUp size={14} /> : <TrendingDown size={14} />;\n    }\n\n    return null;\n  }, [trend, trendValue]);\n\n  const cleanTrendValue = useMemo(() =>\n    trendValue?.replace(/[]/g, '').trim(),\n    [trendValue]\n  );\n\n  const trendClassName = useMemo(() =>\n    `${styles.kpiTrend} ${trend ? styles[`trend${trend.charAt(0).toUpperCase()}${trend.slice(1)}`] : ''}`,\n    [trend]\n  );\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (onClick && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault();\n      onClick();\n    }\n  }, [onClick]);\n\n  if (loading) {\n    return <KpiCardSkeleton className={className} />;\n  }\n\n  return (\n    <div\n      className={containerClassName}\n      onClick={onClick}\n      role={onClick ? 'button' : undefined}\n      tabIndex={onClick ? 0 : undefined}\n      onKeyDown={handleKeyDown}\n    >\n      <div className={styles.kpiHeader}>\n        <div className={styles.kpiLabel}>{label}</div>\n        {Icon && <Icon size={24} style={iconStyle} />}\n      </div>\n\n      <div className={styles.kpiValue}>{value}</div>\n\n      {(trend || trendValue) && (\n        <div className={trendClassName}>\n          <div className={styles.trendValue}>\n            {trendIcon}\n            {cleanTrendValue && <span>{cleanTrendValue}</span>}\n          </div>\n          {trendDescription && <span className={styles.trendDescription}>{trendDescription}</span>}\n        </div>\n      )}\n    </div>\n  );\n});\n\nKpiCard.displayName = 'KpiCard';\n\n// Grid component\ninterface KpiCardGridProps {\n  children: React.ReactNode;\n  columns?: 1 | 2 | 3 | 4 | 5 | 6;\n  className?: string;\n}\n\nconst KpiCardGrid = memo<KpiCardGridProps>(({ children, columns = 4, className }) => {\n  const gridStyle = useMemo(() =>\n    ({ '--kpi-grid-columns': columns } as React.CSSProperties),\n    [columns]\n  );\n\n  const gridClassName = useMemo(() =>\n    `${styles.kpiCardGrid} ${className || ''}`,\n    [className]\n  );\n\n  return (\n    <div className={gridClassName} style={gridStyle}>\n      {children}\n    </div>\n  );\n});\n\nKpiCardGrid.displayName = 'KpiCard.Grid';\n\nexport default KpiCard;\nexport { KpiCardSkeleton, KpiCardGrid };\n","import React from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport { X, MapPin } from 'lucide-react';\nimport styles from './MapView.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Map Marker ====================\n\nexport type MarkerStatus = 'online' | 'warning' | 'offline';\n\nexport interface MapMarkerProps {\n  icon: IconType;\n  status: MarkerStatus;\n  position: {\n    top: string;\n    left: string;\n  };\n  onClick?: () => void;\n  className?: string;\n}\n\nexport const MapMarker: React.FC<MapMarkerProps> = ({\n  icon: Icon,\n  status,\n  position,\n  onClick,\n  className = '',\n}) => {\n  return (\n    <div\n      className={`${styles.mapMarker} ${styles[`markerStatus${status.charAt(0).toUpperCase() + status.slice(1)}`]} ${className}`}\n      style={{ top: position.top, left: position.left }}\n      onClick={onClick}\n    >\n      <Icon className={styles.markerIcon} />\n    </div>\n  );\n};\n\n// ==================== Device Info Popup ====================\n\nexport interface DeviceInfoItem {\n  label: string;\n  value: string;\n}\n\nexport interface DeviceInfoPopupProps {\n  deviceId: string;\n  deviceName: string;\n  status: 'online' | 'warning' | 'offline';\n  location?: string;\n  info?: DeviceInfoItem[];\n  onViewDetails?: () => void;\n  onClose?: () => void;\n  position?: {\n    top?: string;\n    left?: string;\n    bottom?: string;\n    right?: string;\n  };\n  className?: string;\n}\n\nexport const DeviceInfoPopup: React.FC<DeviceInfoPopupProps> = ({\n  deviceId,\n  deviceName,\n  status,\n  location,\n  info = [],\n  onViewDetails,\n  onClose,\n  position,\n  className = '',\n}) => {\n  const statusLabels = {\n    online: 'Online',\n    warning: 'Warning',\n    offline: 'Offline',\n  };\n\n  return (\n    <div\n      className={`${styles.devicePopup} ${className}`}\n      style={position}\n    >\n      <div className={styles.popupHeader}>\n        <div className={styles.popupHeaderLeft}>\n          <h4 className={styles.popupTitle}>{deviceId}</h4>\n          <p className={styles.popupSubtitle}>{deviceName}</p>\n        </div>\n        <div className={styles.popupHeaderRight}>\n          <span className={`${styles.popupBadge} ${styles[`badge${status.charAt(0).toUpperCase() + status.slice(1)}`]}`}>\n            {statusLabels[status]}\n          </span>\n          {onClose && (\n            <button\n              className={styles.popupClose}\n              onClick={onClose}\n              aria-label=\"Close\"\n            >\n              <X size={14} />\n            </button>\n          )}\n        </div>\n      </div>\n\n      {info.length > 0 && (\n        <div className={styles.popupInfo}>\n          {info.map((item, index) => (\n            <div key={index} className={styles.popupInfoItem}>\n              <p className={styles.popupInfoLabel}>{item.label}</p>\n              <p className={styles.popupInfoValue}>{item.value}</p>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {location && (\n        <div className={styles.popupLocation}>\n          <MapPin size={12} />\n          <span>{location}</span>\n        </div>\n      )}\n\n      {onViewDetails && (\n        <button className={styles.popupButton} onClick={onViewDetails}>\n          View Details\n        </button>\n      )}\n    </div>\n  );\n};\n\n// ==================== Map Legend ====================\n\nexport interface LegendItem {\n  color: string;\n  label: string;\n}\n\nexport interface MapLegendProps {\n  items: LegendItem[];\n  className?: string;\n}\n\nexport const MapLegend: React.FC<MapLegendProps> = ({\n  items,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.mapLegend} ${className}`}>\n      {items.map((item, index) => (\n        <div key={index} className={styles.legendItem}>\n          <div\n            className={styles.legendDot}\n            style={{ backgroundColor: item.color }}\n          />\n          <span className={styles.legendLabel}>{item.label}</span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// ==================== Heatmap Legend ====================\n\nexport interface HeatmapLegendProps {\n  title: string;\n  minLabel: string;\n  maxLabel: string;\n  gradient: string;\n  className?: string;\n}\n\nexport const HeatmapLegend: React.FC<HeatmapLegendProps> = ({\n  title,\n  minLabel,\n  maxLabel,\n  gradient,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.heatmapLegend} ${className}`}>\n      <p className={styles.heatmapTitle}>{title}</p>\n      <div className={styles.heatmapScale}>\n        <div\n          className={styles.heatmapGradient}\n          style={{ background: gradient }}\n        />\n        <div className={styles.heatmapLabels}>\n          <span>{maxLabel}</span>\n          <span>{minLabel}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ==================== Map Container ====================\n\nexport interface MapContainerProps {\n  title?: string;\n  height?: string;\n  controls?: React.ReactNode;\n  footer?: React.ReactNode;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const MapContainer: React.FC<MapContainerProps> = ({\n  title,\n  height = '400px',\n  controls,\n  footer,\n  children,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.mapContainer} ${className}`}>\n      {title && (\n        <div className={styles.mapHeader}>\n          <h3 className={styles.mapTitle}>{title}</h3>\n          {controls && <div className={styles.mapControls}>{controls}</div>}\n        </div>\n      )}\n      <div className={styles.mapBody} style={{ height }}>\n        {children}\n      </div>\n      {footer && <div className={styles.mapFooter}>{footer}</div>}\n    </div>\n  );\n};\n\n// ==================== Map Placeholder ====================\n\nexport interface MapPlaceholderProps {\n  icon?: IconType;\n  message?: string;\n  gradient?: string;\n  className?: string;\n  children?: React.ReactNode;\n}\n\nexport const MapPlaceholder: React.FC<MapPlaceholderProps> = ({\n  icon: Icon,\n  message = 'Map integration with Leaflet, Google Maps, or Mapbox',\n  gradient = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n  className = '',\n  children,\n}) => {\n  return (\n    <div\n      className={`${styles.mapPlaceholder} ${className}`}\n      style={{ background: gradient }}\n    >\n      <div className={styles.placeholderContent}>\n        {Icon && <Icon className={styles.placeholderIcon} />}\n        <p className={styles.placeholderMessage}>{message}</p>\n      </div>\n      {children}\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  MapContainer,\n  MapMarker,\n  DeviceInfoPopup,\n  MapLegend,\n  HeatmapLegend,\n  MapPlaceholder,\n};\n","import React, { memo, useMemo } from 'react';\nimport { ArrowUp, ArrowDown } from 'lucide-react';\nimport styles from './MetricCard.module.css';\n\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\nexport interface MetricCardProps {\n  label: string;\n  value: string | number;\n  icon?: IconType;\n  iconColor?: string;\n  change?: {\n    type: 'positive' | 'negative' | 'neutral';\n    text: string;\n  };\n  subtext?: string;\n  variant?: 'default' | 'compact' | 'live' | 'alert';\n  progress?: {\n    value: number;\n    color?: 'default' | 'warning' | 'error' | 'success';\n  };\n  chart?: React.ReactNode;\n  comparative?: {\n    label: string;\n    value: string | number;\n    color?: string;\n  }[];\n  onClick?: () => void;\n  loading?: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\n// Comparative Item Component\ninterface ComparativeItemProps {\n  label: string;\n  value: string | number;\n  color?: string;\n}\n\nconst ComparativeItem = memo<ComparativeItemProps>(({ label, value, color }) => {\n  const valueStyle = useMemo(() => color ? { color } : undefined, [color]);\n\n  return (\n    <div className={styles.comparativeItem}>\n      <div className={styles.comparativeLabel}>{label}</div>\n      <div className={styles.comparativeValue} style={valueStyle}>\n        {value}\n      </div>\n    </div>\n  );\n});\n\nComparativeItem.displayName = 'MetricCard.ComparativeItem';\n\nexport const MetricCard = memo<MetricCardProps>(({\n  label,\n  value,\n  icon: Icon,\n  iconColor,\n  change,\n  subtext,\n  variant = 'default',\n  progress,\n  chart,\n  comparative,\n  onClick,\n  loading = false,\n  className = '',\n  style,\n}) => {\n  const cardClassName = useMemo(() =>\n    [\n      styles.metricCard,\n      variant === 'compact' && styles.compact,\n      variant === 'live' && styles.live,\n      variant === 'alert' && styles.alert,\n      onClick && styles.clickable,\n      loading && styles.loading,\n      className,\n    ]\n      .filter(Boolean)\n      .join(' '),\n    [variant, onClick, loading, className]\n  );\n\n  const iconStyle = useMemo(() =>\n    iconColor ? { color: iconColor } : undefined,\n    [iconColor]\n  );\n\n  const changeClassName = useMemo(() =>\n    change ? `${styles.change} ${styles[change.type]}` : '',\n    [change]\n  );\n\n  const progressClassName = useMemo(() =>\n    progress?.color\n      ? `${styles.progressBar} ${styles[progress.color]}`\n      : styles.progressBar,\n    [progress?.color]\n  );\n\n  const progressStyle = useMemo(() =>\n    progress ? { width: `${progress.value}%` } : undefined,\n    [progress]\n  );\n\n  if (loading) {\n    return (\n      <div className={cardClassName} style={style}>\n        <div className={styles.header}>\n          <div className={styles.labelSkeleton} />\n          <div className={styles.iconSkeleton} />\n        </div>\n        <div className={styles.body}>\n          <div className={styles.valueSkeleton} />\n          {variant !== 'compact' && <div className={styles.subtextSkeleton} />}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cardClassName} onClick={onClick} style={style}>\n      <div className={styles.header}>\n        <span className={styles.label}>{label}</span>\n        <div className={styles.headerRight}>\n          {variant === 'live' && (\n            <span className={`${styles.statusBadge} ${styles.live}`}>\n              <span className={styles.pulse} />\n              Live\n            </span>\n          )}\n          {variant === 'alert' && (\n            <span className={`${styles.statusBadge} ${styles.alert}`}>\n              <span className={styles.pulse} />\n              Alert\n            </span>\n          )}\n          {Icon && (\n            <Icon size={20} className={styles.icon} style={iconStyle} />\n          )}\n        </div>\n      </div>\n\n      <div className={styles.body}>\n        {comparative ? (\n          <div className={styles.comparative}>\n            {comparative.map((item) => (\n              <ComparativeItem\n                key={item.label}\n                label={item.label}\n                value={item.value}\n                color={item.color}\n              />\n            ))}\n          </div>\n        ) : (\n          <>\n            <div className={styles.value}>{value}</div>\n            {change && (\n              <div className={changeClassName}>\n                {change.type === 'positive' && <ArrowUp size={12} />}\n                {change.type === 'negative' && <ArrowDown size={12} />}\n                <span>{change.text}</span>\n              </div>\n            )}\n            {subtext && !change && (\n              <div className={styles.subtext}>{subtext}</div>\n            )}\n          </>\n        )}\n      </div>\n\n      {progress && (\n        <div className={styles.progressContainer}>\n          <div className={progressClassName} style={progressStyle} />\n        </div>\n      )}\n\n      {chart && <div className={styles.chart}>{chart}</div>}\n    </div>\n  );\n});\n\nMetricCard.displayName = 'MetricCard';\n\n// MetricCardGrid component\nexport interface MetricCardGridProps {\n  children: React.ReactNode;\n  columns?: number;\n  className?: string;\n}\n\nexport const MetricCardGrid = memo<MetricCardGridProps>(({\n  children,\n  columns = 4,\n  className = '',\n}) => {\n  const gridStyle = useMemo(() => ({\n    gridTemplateColumns: `repeat(auto-fill, minmax(${\n      columns === 2 ? '300px' : columns === 3 ? '250px' : '200px'\n    }, 1fr))`,\n  }), [columns]);\n\n  const gridClassName = useMemo(() =>\n    `${styles.grid} ${className}`,\n    [className]\n  );\n\n  return (\n    <div className={gridClassName} style={gridStyle}>\n      {children}\n    </div>\n  );\n});\n\nMetricCardGrid.displayName = 'MetricCard.Grid';\n\n// MiniChart Bar Component\ninterface ChartBarProps {\n  value: number;\n  min: number;\n  range: number;\n  color: string;\n}\n\nconst ChartBar = memo<ChartBarProps>(({ value, min, range, color }) => {\n  const percentage = range === 0 ? 100 : ((value - min) / range) * 100;\n  const style = useMemo(() => ({\n    height: `${percentage}%`,\n    backgroundColor: color,\n  }), [percentage, color]);\n\n  return <div className={styles.chartBar} style={style} />;\n});\n\nChartBar.displayName = 'MetricCard.ChartBar';\n\n// MiniChart component\nexport interface MiniChartProps {\n  data: number[];\n  color?: 'primary' | 'success' | 'warning' | 'error';\n  height?: number;\n}\n\nexport const MiniChart = memo<MiniChartProps>(({\n  data,\n  color = 'primary',\n  height = 40,\n}) => {\n  const { min, range } = useMemo(() => {\n    const max = Math.max(...data);\n    const min = Math.min(...data);\n    return { min, range: max - min };\n  }, [data]);\n\n  const containerStyle = useMemo(() => ({ height: `${height}px` }), [height]);\n\n  const getColor = (index: number, total: number) => {\n    const intensity = Math.floor(((index + 1) / total) * 5) * 100 + 200;\n    return `var(--color-${color}-${intensity})`;\n  };\n\n  return (\n    <div\n      className={styles.miniChart}\n      style={containerStyle}\n      role=\"img\"\n      aria-label=\"Metric trend visualization\"\n    >\n      {data.map((value, index) => (\n        <ChartBar\n          key={`bar-${index}`}\n          value={value}\n          min={min}\n          range={range}\n          color={getColor(index, data.length)}\n        />\n      ))}\n    </div>\n  );\n});\n\nMiniChart.displayName = 'MetricCard.MiniChart';\n\nexport default MetricCard;\n","import React from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport { ChevronUp, ChevronDown, Play, Pause, Download } from 'lucide-react';\nimport styles from './RealTimeMonitor.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Status Indicator ====================\n\nexport interface StatusIndicatorProps {\n  status: 'active' | 'inactive' | 'warning';\n  label?: string;\n  className?: string;\n}\n\nexport const StatusIndicator: React.FC<StatusIndicatorProps> = ({\n  status,\n  label,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.statusIndicator} ${className}`}>\n      <span className={`${styles.statusDot} ${styles[`status${status.charAt(0).toUpperCase() + status.slice(1)}`]}`} />\n      {label && <span className={styles.statusLabel}>{label}</span>}\n    </div>\n  );\n};\n\n// ==================== Realtime Metric Card ====================\n\nexport type MetricChangeType = 'increase' | 'decrease' | 'neutral';\n\nexport interface RealtimeMetricCardProps {\n  icon: IconType;\n  label: string;\n  value: string;\n  unit?: string;\n  change?: string;\n  changeType?: MetricChangeType;\n  iconColor?: 'primary' | 'danger' | 'warning' | 'success';\n  className?: string;\n}\n\nexport const RealtimeMetricCard: React.FC<RealtimeMetricCardProps> = ({\n  icon: Icon,\n  label,\n  value,\n  unit,\n  change,\n  changeType = 'neutral',\n  iconColor = 'primary',\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.metricCard} ${className}`}>\n      <div className={styles.metricHeader}>\n        <div className={`${styles.metricIcon} ${styles[`metricIcon${iconColor.charAt(0).toUpperCase() + iconColor.slice(1)}`]}`}>\n          <Icon className={styles.icon} />\n        </div>\n        <div className={styles.metricLabel}>{label}</div>\n      </div>\n      <div className={styles.metricContent}>\n        <div className={styles.metricValue}>\n          {value}\n          {unit && <span className={styles.metricUnit}>{unit}</span>}\n        </div>\n        {change && (\n          <div className={`${styles.metricChange} ${styles[`metricChange${changeType.charAt(0).toUpperCase() + changeType.slice(1)}`]}`}>\n            {changeType === 'increase' && <ChevronUp size={14} />}\n            {changeType === 'decrease' && <ChevronDown size={14} />}\n            {change}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Data Stream ====================\n\nexport interface StreamData {\n  id: string;\n  sensor: string;\n  value: string;\n  status: 'normal' | 'warning' | 'critical';\n  timestamp: string;\n  isNew?: boolean;\n}\n\nexport interface DataStreamTableProps {\n  data: StreamData[];\n  className?: string;\n}\n\nexport const DataStreamTable: React.FC<DataStreamTableProps> = ({\n  data,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.dataStream} ${className}`}>\n      <table className={styles.streamTable}>\n        <thead>\n          <tr>\n            <th>Sensor</th>\n            <th>Value</th>\n            <th>Status</th>\n            <th>Timestamp</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map((item) => (\n            <tr\n              key={item.id}\n              className={item.isNew ? styles.streamRowNew : ''}\n            >\n              <td>{item.sensor}</td>\n              <td className={styles.streamValue}>{item.value}</td>\n              <td>\n                <span className={`${styles.statusBadge} ${styles[`statusBadge${item.status.charAt(0).toUpperCase() + item.status.slice(1)}`]}`}>\n                  {item.status}\n                </span>\n              </td>\n              <td className={styles.streamTimestamp}>{item.timestamp}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\n// ==================== Monitor Container ====================\n\nexport interface MonitorContainerProps {\n  title: string;\n  status?: 'active' | 'inactive' | 'warning';\n  lastUpdate?: string;\n  onPause?: () => void;\n  onDownload?: () => void;\n  isPaused?: boolean;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const MonitorContainer: React.FC<MonitorContainerProps> = ({\n  title,\n  status = 'active',\n  lastUpdate,\n  onPause,\n  onDownload,\n  isPaused = false,\n  children,\n  className = '',\n}) => {\n  return (\n    <div className={`${styles.monitorContainer} ${className}`}>\n      <div className={styles.monitorHeader}>\n        <div className={styles.monitorHeaderLeft}>\n          <h3 className={styles.monitorTitle}>{title}</h3>\n          <StatusIndicator status={status} label={status} />\n          {lastUpdate && (\n            <span className={styles.monitorUpdate}>Updated {lastUpdate}</span>\n          )}\n        </div>\n        <div className={styles.monitorActions}>\n          {onPause && (\n            <button\n              className={styles.btnMonitor}\n              onClick={onPause}\n              aria-label={isPaused ? 'Resume monitoring' : 'Pause monitoring'}\n            >\n              {isPaused ? <Play size={16} /> : <Pause size={16} />}\n              {isPaused ? 'Resume' : 'Pause'}\n            </button>\n          )}\n          {onDownload && (\n            <button\n              className={styles.btnMonitor}\n              onClick={onDownload}\n              aria-label=\"Download data\"\n            >\n              <Download size={16} />\n              Download\n            </button>\n          )}\n        </div>\n      </div>\n      <div className={styles.monitorContent}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Metric Grid ====================\n\nexport interface MetricGridProps {\n  children: React.ReactNode;\n  columns?: number;\n  className?: string;\n}\n\nexport const MetricGrid: React.FC<MetricGridProps> = ({\n  children,\n  columns = 3,\n  className = '',\n}) => {\n  return (\n    <div\n      className={`${styles.metricGrid} ${className}`}\n      style={{ '--metric-columns': columns } as React.CSSProperties}\n    >\n      {children}\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  MonitorContainer,\n  StatusIndicator,\n  RealtimeMetricCard,\n  MetricGrid,\n  DataStreamTable,\n};\n","import React, { memo, useMemo, useCallback } from 'react';\nimport {\n  Thermometer,\n  TrendingUp,\n  TrendingDown,\n  Clock,\n  Activity,\n} from 'lucide-react';\nimport styles from './SensorPanel.module.css';\n\n// ========================================\n// TYPES\n// ========================================\n\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\nexport type SensorStatus = 'normal' | 'warning' | 'error' | 'ok';\nexport type SensorVariant = 'basic' | 'detailed' | 'compact';\nexport type IconColorVariant = 'error' | 'primary' | 'success' | 'warning';\nexport type TrendDirection = 'up' | 'down' | 'neutral';\n\nexport interface SensorStat {\n  label: string;\n  value: string | number;\n}\n\nexport interface SensorThreshold {\n  label?: string;\n  status?: string;\n  currentValue: number;\n  maxValue: number;\n  minValue?: number;\n  percentage?: number;\n}\n\nexport interface SensorPanelProps {\n  label: string;\n  value: string | number;\n  unit?: string;\n  status?: SensorStatus;\n  statusText?: string;\n  icon?: IconType;\n  iconVariant?: IconColorVariant;\n  rangeText?: string;\n  variant?: SensorVariant;\n  sensorId?: string;\n  trendDirection?: TrendDirection;\n  trendValue?: string;\n  trendLabel?: string;\n  stats?: SensorStat[];\n  threshold?: SensorThreshold;\n  lastUpdated?: string;\n  loading?: boolean;\n  className?: string;\n  onClick?: () => void;\n}\n\n// ========================================\n// SKELETON STYLES (memoized)\n// ========================================\n\nconst skeletonStyles = {\n  compactIcon: { width: 20, height: 20, borderRadius: 4 } as React.CSSProperties,\n  compactLabel: { height: 14, width: '60%', marginBottom: 8 } as React.CSSProperties,\n  compactValue: { height: 28, width: '40%' } as React.CSSProperties,\n  detailedIcon: { width: 40, height: 40, borderRadius: 'var(--radius-lg)' } as React.CSSProperties,\n  detailedTitle: { height: 18, width: '50%', marginBottom: 8 } as React.CSSProperties,\n  detailedSubtitle: { height: 14, width: '30%' } as React.CSSProperties,\n  detailedValue: { height: 40, width: '60%', marginBottom: 24 } as React.CSSProperties,\n  statLabel: { height: 14, width: '40%' } as React.CSSProperties,\n  statValue: { height: 14, width: '30%' } as React.CSSProperties,\n  basicIcon: { width: 56, height: 56, borderRadius: 'var(--radius-lg)' } as React.CSSProperties,\n  basicLabel: { height: 14, width: '60%', marginBottom: 8 } as React.CSSProperties,\n  basicValue: { height: 28, width: '40%' } as React.CSSProperties,\n  basicRange: { height: 13, width: '70%', marginTop: 16 } as React.CSSProperties,\n  flex1: { flex: 1 } as React.CSSProperties,\n};\n\n// ========================================\n// STAT ROW COMPONENT\n// ========================================\n\ninterface StatRowProps {\n  stat: SensorStat;\n}\n\nconst StatRow = memo<StatRowProps>(({ stat }) => (\n  <div className={styles.statRow}>\n    <span className={styles.statLabel}>{stat.label}</span>\n    <span className={styles.statValue}>{stat.value}</span>\n  </div>\n));\n\nStatRow.displayName = 'SensorPanel.StatRow';\n\n// ========================================\n// LOADING SKELETON\n// ========================================\n\ninterface SensorPanelSkeletonProps {\n  variant?: SensorVariant;\n  className?: string;\n}\n\nconst SensorPanelSkeleton = memo<SensorPanelSkeletonProps>(({ variant = 'basic', className }) => {\n  const containerClassName = useMemo(() => {\n    if (variant === 'compact') return `${styles.compactCard} ${className || ''}`;\n    if (variant === 'detailed') return `${styles.detailedCard} ${className || ''}`;\n    return `${styles.basicCard} ${className || ''}`;\n  }, [variant, className]);\n\n  if (variant === 'compact') {\n    return (\n      <div className={containerClassName}>\n        <div className={styles.compactHeader}>\n          <div className={`${styles.skeleton} ${styles.skeletonIcon}`} style={skeletonStyles.compactIcon} />\n          <div className={`${styles.skeleton} ${styles.skeletonBadge}`} />\n        </div>\n        <div className={styles.skeleton} style={skeletonStyles.compactLabel} />\n        <div className={styles.skeleton} style={skeletonStyles.compactValue} />\n      </div>\n    );\n  }\n\n  if (variant === 'detailed') {\n    return (\n      <div className={containerClassName}>\n        <div className={styles.cardHeader}>\n          <div className={styles.detailedSensorHeader}>\n            <div className={styles.skeleton} style={skeletonStyles.detailedIcon} />\n            <div style={skeletonStyles.flex1}>\n              <div className={styles.skeleton} style={skeletonStyles.detailedTitle} />\n              <div className={styles.skeleton} style={skeletonStyles.detailedSubtitle} />\n            </div>\n          </div>\n          <div className={`${styles.skeleton} ${styles.skeletonBadge}`} />\n        </div>\n        <div className={styles.cardBody}>\n          <div className={styles.skeleton} style={skeletonStyles.detailedValue} />\n          <div className={styles.sensorStatsBox}>\n            {[1, 2, 3].map((i) => (\n              <div key={`stat-skeleton-${i}`} className={styles.statRow}>\n                <div className={styles.skeleton} style={skeletonStyles.statLabel} />\n                <div className={styles.skeleton} style={skeletonStyles.statValue} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={containerClassName}>\n      <div className={styles.sensorHeader}>\n        <div className={styles.skeleton} style={skeletonStyles.basicIcon} />\n        <div style={skeletonStyles.flex1}>\n          <div className={styles.skeleton} style={skeletonStyles.basicLabel} />\n          <div className={styles.skeleton} style={skeletonStyles.basicValue} />\n        </div>\n        <div className={`${styles.skeleton} ${styles.skeletonBadge}`} />\n      </div>\n      <div className={styles.skeleton} style={skeletonStyles.basicRange} />\n    </div>\n  );\n});\n\nSensorPanelSkeleton.displayName = 'SensorPanel.Skeleton';\n\n// ========================================\n// SENSOR PANEL COMPONENT\n// ========================================\n\nconst SensorPanel = memo<SensorPanelProps>(({\n  label,\n  value,\n  unit,\n  status = 'normal',\n  statusText,\n  icon: Icon = Thermometer,\n  iconVariant = 'primary',\n  rangeText,\n  variant = 'basic',\n  sensorId,\n  trendDirection,\n  trendValue,\n  trendLabel = 'vs. last hour',\n  stats,\n  threshold,\n  lastUpdated,\n  loading = false,\n  className,\n  onClick,\n}) => {\n  const badgeClass = useMemo(() => {\n    switch (status) {\n      case 'normal':\n      case 'ok':\n        return 'Success';\n      case 'warning':\n        return 'Warning';\n      case 'error':\n        return 'Error';\n      default:\n        return 'Success';\n    }\n  }, [status]);\n\n  const displayStatusText = useMemo(() =>\n    statusText || (status === 'ok' ? 'OK' : status.charAt(0).toUpperCase() + status.slice(1)),\n    [statusText, status]\n  );\n\n  const iconColorStyle = useMemo(() =>\n    ({ color: `var(--color-${iconVariant}-600)` }),\n    [iconVariant]\n  );\n\n  const iconCircleClass = useMemo(() =>\n    styles[`iconCircle${iconVariant.charAt(0).toUpperCase()}${iconVariant.slice(1)}`],\n    [iconVariant]\n  );\n\n  const badgeClassName = useMemo(() =>\n    `${styles.badge} ${styles[`badge${badgeClass}`]}`,\n    [badgeClass]\n  );\n\n  const badgeXsClassName = useMemo(() =>\n    `${styles.badge} ${styles.badgeXs} ${styles[`badge${badgeClass}`]}`,\n    [badgeClass]\n  );\n\n  const containerClassName = useMemo(() => {\n    if (variant === 'compact') return `${styles.compactCard} ${className || ''}`;\n    if (variant === 'detailed') return `${styles.detailedCard} ${className || ''}`;\n    return `${styles.basicCard} ${className || ''}`;\n  }, [variant, className]);\n\n  const trendClassName = useMemo(() => {\n    if (trendDirection === 'down') return `${styles.trendValue} ${styles.trendPositive}`;\n    if (trendDirection === 'up') return `${styles.trendValue} ${styles.trendNegative}`;\n    return styles.trendValue;\n  }, [trendDirection]);\n\n  const progressWidth = useMemo(() => {\n    if (!threshold) return '0%';\n    return `${threshold.percentage || ((threshold.currentValue / threshold.maxValue) * 100)}%`;\n  }, [threshold]);\n\n  const progressStyle = useMemo(() => ({ width: progressWidth }), [progressWidth]);\n\n  if (loading) {\n    return <SensorPanelSkeleton variant={variant} className={className} />;\n  }\n\n  if (variant === 'compact') {\n    return (\n      <div\n        className={containerClassName}\n        onClick={onClick}\n        role={onClick ? 'button' : undefined}\n        tabIndex={onClick ? 0 : undefined}\n      >\n        <div className={styles.compactHeader}>\n          <Icon className={styles.compactIcon} style={iconColorStyle} />\n          <span className={badgeXsClassName}>\n            {displayStatusText}\n          </span>\n        </div>\n        <p className={styles.compactLabel}>{label}</p>\n        <p className={styles.compactValue}>\n          {value}\n          {unit && <span className={styles.compactUnit}>{unit}</span>}\n        </p>\n      </div>\n    );\n  }\n\n  if (variant === 'detailed') {\n    return (\n      <div className={containerClassName}>\n        <div className={styles.cardHeader}>\n          <div className={styles.detailedSensorHeader}>\n            <div className={`${styles.sensorIconCircle} ${iconCircleClass}`}>\n              <Icon size={20} />\n            </div>\n            <div className={styles.detailedSensorInfo}>\n              <h3 className={styles.cardTitle}>{label}</h3>\n              {sensorId && <p className={styles.detailedSensorId}>Sensor ID: {sensorId}</p>}\n            </div>\n          </div>\n          <span className={badgeClassName}>\n            {displayStatusText}\n          </span>\n        </div>\n\n        <div className={styles.cardBody}>\n          <div className={styles.sensorCurrent}>\n            <div>\n              <p className={styles.sensorLabel}>Current Usage</p>\n              <p className={styles.currentValue}>\n                {value} {unit && <span className={styles.currentUnit}>{unit}</span>}\n              </p>\n            </div>\n            {trendDirection && trendValue && (\n              <div className={styles.trendIndicator}>\n                <div className={trendClassName}>\n                  {trendDirection === 'up' ? <TrendingUp size={16} /> : trendDirection === 'down' ? <TrendingDown size={16} /> : null}\n                  <span>{trendValue}</span>\n                </div>\n                <p className={styles.trendLabel}>{trendLabel}</p>\n              </div>\n            )}\n          </div>\n\n          {stats && stats.length > 0 && (\n            <div className={styles.sensorStatsBox}>\n              {stats.map((stat) => (\n                <StatRow key={stat.label} stat={stat} />\n              ))}\n            </div>\n          )}\n\n          {threshold && (\n            <div className={styles.thresholdSection}>\n              <div className={styles.thresholdHeader}>\n                <span className={styles.thresholdLabel}>{threshold.label || 'Threshold Status'}</span>\n                <span className={styles.thresholdStatus}>{threshold.status || 'Within Limits'}</span>\n              </div>\n              <div className={styles.progress}>\n                <div\n                  className={`${styles.progressBar} ${styles.progressBarSuccess}`}\n                  style={progressStyle}\n                />\n              </div>\n              <div className={styles.thresholdRange}>\n                <span className={styles.rangeValue}>{threshold.minValue || 0} {unit}</span>\n                <span className={styles.rangeValue}>Max: {threshold.maxValue} {unit}</span>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {lastUpdated && (\n          <div className={styles.cardFooter}>\n            <div className={styles.sensorFooterTimestamp}>\n              <Clock size={14} />\n              <span>Last updated: {lastUpdated}</span>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className={containerClassName}\n      onClick={onClick}\n      role={onClick ? 'button' : undefined}\n      tabIndex={onClick ? 0 : undefined}\n    >\n      <div className={styles.sensorHeader}>\n        <div className={`${styles.sensorIconCircle} ${iconCircleClass}`}>\n          <Icon size={24} />\n        </div>\n        <div className={styles.sensorInfo}>\n          <h4 className={styles.sensorLabel}>{label}</h4>\n          <p className={styles.sensorValue}>\n            {value}\n            {unit}\n          </p>\n        </div>\n        <span className={badgeClassName}>\n          {displayStatusText}\n        </span>\n      </div>\n      {rangeText && <div className={styles.sensorRange}>{rangeText}</div>}\n    </div>\n  );\n});\n\nSensorPanel.displayName = 'SensorPanel';\n\n// ========================================\n// SENSOR PANEL GRID\n// ========================================\n\ninterface SensorPanelGridProps {\n  children: React.ReactNode;\n  variant?: 'basic' | 'compact';\n  className?: string;\n}\n\nconst SensorPanelGrid = memo<SensorPanelGridProps>(({ children, variant = 'basic', className }) => {\n  const gridClass = useMemo(() => {\n    const base = variant === 'compact' ? styles.compactSensorGrid : styles.sensorCardGrid;\n    return `${base} ${className || ''}`;\n  }, [variant, className]);\n\n  return <div className={gridClass}>{children}</div>;\n});\n\nSensorPanelGrid.displayName = 'SensorPanel.Grid';\n\n// ========================================\n// EMPTY STATE\n// ========================================\n\ninterface SensorPanelEmptyStateProps {\n  title?: string;\n  description?: string;\n  actionLabel?: string;\n  onAction?: () => void;\n  icon?: IconType;\n  className?: string;\n}\n\nconst SensorPanelEmptyState = memo<SensorPanelEmptyStateProps>(({\n  title = 'No Sensor Data',\n  description = 'No sensors are currently connected. Connect sensors to start monitoring real-time data.',\n  actionLabel = 'Add Sensor',\n  onAction,\n  icon: Icon = Activity,\n  className,\n}) => {\n  const containerClassName = useMemo(() =>\n    `${styles.emptyState} ${className || ''}`,\n    [className]\n  );\n\n  return (\n    <div className={containerClassName}>\n      <div className={styles.emptyStateIcon}>\n        <Icon size={64} />\n      </div>\n      <h3 className={styles.emptyStateTitle}>{title}</h3>\n      <p className={styles.emptyStateDescription}>{description}</p>\n      {onAction && (\n        <button className={styles.emptyStateButton} onClick={onAction}>\n          {actionLabel}\n        </button>\n      )}\n    </div>\n  );\n});\n\nSensorPanelEmptyState.displayName = 'SensorPanel.EmptyState';\n\nexport default SensorPanel;\nexport { SensorPanelGrid, SensorPanelEmptyState, SensorPanelSkeleton };\n","import React from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport styles from './StatusBadge.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Status Badge ====================\n\nexport type StatusType =\n  | 'online'\n  | 'offline'\n  | 'connecting'\n  | 'disconnected'\n  | 'active'\n  | 'idle'\n  | 'warning'\n  | 'error'\n  | 'maintenance'\n  | 'excellent'\n  | 'good'\n  | 'fair'\n  | 'poor'\n  | 'no-data'\n  | 'battery-full'\n  | 'battery-high'\n  | 'battery-medium'\n  | 'battery-low'\n  | 'battery-critical'\n  | 'signal-excellent'\n  | 'signal-good'\n  | 'signal-fair'\n  | 'signal-poor';\n\nexport interface StatusBadgeProps {\n  status: StatusType;\n  label?: string;\n  showIndicator?: boolean;\n  pulse?: boolean;\n  icon?: IconType;\n  className?: string;\n}\n\nexport const StatusBadge: React.FC<StatusBadgeProps> = ({\n  status,\n  label,\n  showIndicator = true,\n  pulse = false,\n  icon: Icon,\n  className = '',\n}) => {\n  const statusClassName = status.split('-').map((word, index) =>\n    index === 0 ? word : word.charAt(0).toUpperCase() + word.slice(1)\n  ).join('');\n\n  // Generate default label from status if not provided\n  const displayLabel = label ?? status.split('-').map(word =>\n    word.charAt(0).toUpperCase() + word.slice(1)\n  ).join(' ');\n\n  return (\n    <span className={`${styles.statusBadge} ${styles[`status${statusClassName.charAt(0).toUpperCase() + statusClassName.slice(1)}`]} ${className}`}>\n      {Icon && <Icon className={styles.statusIcon} />}\n      {showIndicator && (\n        <span\n          className={`${styles.statusIndicator} ${pulse ? styles.statusIndicatorPulse : ''}`}\n        />\n      )}\n      <span>{displayLabel}</span>\n    </span>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  StatusBadge,\n};\n","import React, { memo, useMemo } from 'react';\nimport { ChevronRight } from 'lucide-react';\nimport styles from './StatusCard.module.css';\n\ntype IconType = React.ComponentType<{ size?: number; className?: string; style?: React.CSSProperties }>;\n\nexport type StatusCardType = 'success' | 'warning' | 'error' | 'info';\n\nexport interface StatusItem {\n  icon?: IconType;\n  label: string;\n  value: string | number;\n  percent?: string | number;\n  status?: StatusCardType;\n  onClick?: () => void;\n}\n\nexport interface StatusCardProps {\n  title: string;\n  total?: string | number;\n  badge?: React.ReactNode;\n  items: StatusItem[];\n  variant?: 'default' | 'compact' | 'mini';\n  horizontalLayout?: boolean;\n  progress?: {\n    value: number;\n    color?: 'default' | 'success' | 'warning' | 'error';\n  };\n  footer?: React.ReactNode;\n  headerAction?: React.ReactNode;\n  onClick?: () => void;\n  loading?: boolean;\n  className?: string;\n}\n\n// StatusItem component\nconst StatusItemComponent = memo<StatusItem>(({\n  icon: Icon,\n  label,\n  value,\n  percent,\n  status = 'info',\n  onClick,\n}) => {\n  const itemClassName = useMemo(() =>\n    [styles.item, styles[status], onClick && styles.clickable]\n      .filter(Boolean)\n      .join(' '),\n    [status, onClick]\n  );\n\n  const content = (\n    <>\n      {Icon && (\n        <div className={styles.itemIcon}>\n          <Icon size={20} />\n        </div>\n      )}\n      <div className={styles.itemContent}>\n        <div className={styles.itemLabel}>{label}</div>\n        <div className={styles.itemValue}>{value}</div>\n      </div>\n      {percent !== undefined && (\n        <div className={styles.itemPercent}>{percent}</div>\n      )}\n      {onClick && (\n        <div className={styles.itemArrow}>\n          <ChevronRight size={16} />\n        </div>\n      )}\n    </>\n  );\n\n  if (onClick) {\n    return (\n      <div className={itemClassName} onClick={onClick} role=\"button\" tabIndex={0}>\n        {content}\n      </div>\n    );\n  }\n\n  return <div className={itemClassName}>{content}</div>;\n});\n\nStatusItemComponent.displayName = 'StatusCard.Item';\n\n// Compact status item\nconst CompactStatusItem = memo<StatusItem>(({ label, value, status = 'info' }) => {\n  const itemClassName = useMemo(() =>\n    [styles.compactItem, styles[status]].filter(Boolean).join(' '),\n    [status]\n  );\n\n  return (\n    <div className={itemClassName}>\n      <div className={styles.compactValue}>{value}</div>\n      <div className={styles.compactLabel}>{label}</div>\n    </div>\n  );\n});\n\nCompactStatusItem.displayName = 'StatusCard.CompactItem';\n\n// Main component\nexport const StatusCard = memo<StatusCardProps>(({\n  title,\n  total,\n  badge,\n  items,\n  variant = 'default',\n  horizontalLayout = false,\n  progress,\n  footer,\n  headerAction,\n  onClick,\n  loading = false,\n  className = '',\n}) => {\n  const cardClassName = useMemo(() =>\n    [\n      styles.statusCard,\n      variant === 'compact' && styles.compact,\n      variant === 'mini' && styles.mini,\n      onClick && styles.clickable,\n      loading && styles.loading,\n      className,\n    ]\n      .filter(Boolean)\n      .join(' '),\n    [variant, onClick, loading, className]\n  );\n\n  const progressClassName = useMemo(() => {\n    if (!progress?.color) return styles.progressBar;\n    return `${styles.progressBar} ${styles[`progress${progress.color.charAt(0).toUpperCase() + progress.color.slice(1)}`]}`;\n  }, [progress?.color]);\n\n  const progressStyle = useMemo(() =>\n    progress ? { width: `${progress.value}%` } : undefined,\n    [progress]\n  );\n\n  if (loading) {\n    return (\n      <div className={cardClassName}>\n        <div className={styles.header}>\n          <div className={styles.titleSkeleton} />\n          <div className={styles.badgeSkeleton} />\n        </div>\n        <div className={styles.body}>\n          {[1, 2, 3].map((i) => (\n            <div key={`skeleton-${i}`} className={styles.itemSkeleton}>\n              <div className={styles.iconSkeleton} />\n              <div className={styles.contentSkeleton}>\n                <div className={styles.labelSkeleton} />\n                <div className={styles.valueSkeleton} />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (variant === 'mini') {\n    const item = items[0];\n    if (!item) return null;\n\n    const Icon = item.icon;\n    const iconClassName = useMemo(() =>\n      [\n        styles.miniIcon,\n        item.status && styles[`icon${item.status.charAt(0).toUpperCase() + item.status.slice(1)}`],\n      ]\n        .filter(Boolean)\n        .join(' '),\n      [item.status]\n    );\n\n    return (\n      <div className={cardClassName} onClick={onClick}>\n        {Icon && (\n          <div className={iconClassName}>\n            <Icon size={24} />\n          </div>\n        )}\n        <div className={styles.miniContent}>\n          <div className={styles.miniValue}>{item.value}</div>\n          <div className={styles.miniLabel}>{item.label}</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cardClassName} onClick={onClick}>\n      <div className={styles.header}>\n        <h3 className={styles.title}>{title}</h3>\n        <div className={styles.headerRight}>\n          {total && <span className={styles.total}>{total}</span>}\n          {badge}\n          {headerAction}\n        </div>\n      </div>\n\n      {variant === 'compact' && horizontalLayout ? (\n        <div className={`${styles.body} ${styles.horizontal}`}>\n          {items.map((item) => (\n            <CompactStatusItem key={item.label} {...item} />\n          ))}\n        </div>\n      ) : (\n        <div className={styles.body}>\n          {items.map((item) => (\n            <StatusItemComponent key={item.label} {...item} />\n          ))}\n        </div>\n      )}\n\n      {progress && (\n        <div className={styles.progressContainer}>\n          <div className={progressClassName} style={progressStyle} />\n        </div>\n      )}\n\n      {footer && <div className={styles.footer}>{footer}</div>}\n    </div>\n  );\n});\n\nStatusCard.displayName = 'StatusCard';\n\n// Grid component\nexport interface StatusCardGridProps {\n  children: React.ReactNode;\n  columns?: number;\n  className?: string;\n}\n\nexport const StatusCardGrid = memo<StatusCardGridProps>(({\n  children,\n  columns = 4,\n  className = '',\n}) => {\n  const gridStyle = useMemo(() => ({\n    gridTemplateColumns: `repeat(auto-fit, minmax(${\n      columns === 2 ? '300px' : columns === 3 ? '250px' : '240px'\n    }, 1fr))`,\n  }), [columns]);\n\n  const gridClassName = useMemo(() =>\n    `${styles.grid} ${className}`,\n    [className]\n  );\n\n  return (\n    <div className={gridClassName} style={gridStyle}>\n      {children}\n    </div>\n  );\n});\n\nStatusCardGrid.displayName = 'StatusCard.Grid';\n\nexport default StatusCard;\n","import React, { useEffect } from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport styles from './ActionSheet.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Action Sheet ====================\n\nexport interface ActionSheetAction {\n  icon?: IconType;\n  label: string;\n  onAction: () => void;\n  danger?: boolean;\n  disabled?: boolean;\n}\n\nexport interface ActionSheetProps {\n  open: boolean;\n  onClose: () => void;\n  actions: ActionSheetAction[];\n  title?: string;\n  description?: string;\n  cancelLabel?: string;\n  showBackdrop?: boolean;\n  className?: string;\n}\n\nexport const ActionSheet: React.FC<ActionSheetProps> = ({\n  open,\n  onClose,\n  actions,\n  title,\n  description,\n  cancelLabel = 'Cancel',\n  showBackdrop = true,\n  className = '',\n}) => {\n  // Body scroll lock when open\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  const handleActionClick = (action: ActionSheetAction) => {\n    if (!action.disabled) {\n      action.onAction();\n      onClose();\n    }\n  };\n\n  const actionSheetClassName = `\n    ${styles.actionSheet}\n    ${open ? styles.open : ''}\n    ${className}\n  `.trim();\n\n  const backdropClassName = `\n    ${styles.actionSheetBackdrop}\n    ${open ? styles.show : ''}\n  `.trim();\n\n  if (!open) {\n    return null;\n  }\n\n  return (\n    <>\n      {showBackdrop && (\n        <div\n          className={backdropClassName}\n          onClick={onClose}\n          aria-hidden=\"true\"\n        />\n      )}\n\n      <div className={actionSheetClassName} role=\"dialog\" aria-modal=\"true\" aria-labelledby={title ? 'action-sheet-title' : undefined}>\n        <div className={styles.actionSheetContent}>\n          {(title || description) && (\n            <div className={styles.actionSheetHeader}>\n              {title && (\n                <h3 id=\"action-sheet-title\" className={styles.actionSheetTitle}>\n                  {title}\n                </h3>\n              )}\n              {description && (\n                <p className={styles.actionSheetDescription}>{description}</p>\n              )}\n            </div>\n          )}\n\n          {actions.map((action, index) => {\n            const Icon = action.icon;\n            return (\n              <button\n                key={index}\n                className={`\n                  ${styles.actionSheetItem}\n                  ${action.danger ? styles.danger : ''}\n                `.trim()}\n                onClick={() => handleActionClick(action)}\n                disabled={action.disabled}\n              >\n                {Icon && <Icon className={styles.actionIcon} />}\n                <span>{action.label}</span>\n              </button>\n            );\n          })}\n        </div>\n\n        <button className={styles.actionSheetCancel} onClick={onClose}>\n          {cancelLabel}\n        </button>\n      </div>\n    </>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default ActionSheet;\n","import React, { useEffect, useRef } from 'react';\nimport { X } from 'lucide-react';\nimport styles from './BottomSheet.module.css';\n\n\n// ==================== Bottom Sheet ====================\n\nexport type BottomSheetHeight = 'peek' | 'half' | 'full';\n\nexport interface BottomSheetProps {\n  open: boolean;\n  onClose: () => void;\n  height?: BottomSheetHeight;\n  title?: string;\n  showHandle?: boolean;\n  showBackdrop?: boolean;\n  closeButton?: boolean;\n  footer?: React.ReactNode;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const BottomSheet: React.FC<BottomSheetProps> = ({\n  open,\n  onClose,\n  height = 'half',\n  title,\n  showHandle = true,\n  showBackdrop = true,\n  closeButton = true,\n  footer,\n  children,\n  className = '',\n}) => {\n  const sheetRef = useRef<HTMLDivElement>(null);\n  const startYRef = useRef<number>(0);\n  const currentYRef = useRef<number>(0);\n\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  const handleDragStart = (clientY: number) => {\n    startYRef.current = clientY;\n    currentYRef.current = clientY;\n  };\n\n  const handleDragMove = (clientY: number) => {\n    const deltaY = clientY - startYRef.current;\n    if (deltaY > 0 && sheetRef.current) {\n      sheetRef.current.style.transform = `translateY(${deltaY}px)`;\n    }\n  };\n\n  const handleDragEnd = (clientY: number) => {\n    const deltaY = clientY - startYRef.current;\n    if (sheetRef.current) {\n      sheetRef.current.style.transform = '';\n      if (deltaY > 100) {\n        onClose();\n      }\n    }\n  };\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    handleDragStart(e.touches[0].clientY);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    handleDragMove(e.touches[0].clientY);\n  };\n\n  const handleTouchEnd = (e: React.TouchEvent) => {\n    handleDragEnd(e.changedTouches[0].clientY);\n  };\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    handleDragStart(e.clientY);\n\n    const handleMouseMove = (moveEvent: MouseEvent) => {\n      handleDragMove(moveEvent.clientY);\n    };\n\n    const handleMouseUp = (upEvent: MouseEvent) => {\n      handleDragEnd(upEvent.clientY);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  return (\n    <>\n      {showBackdrop && (\n        <div\n          className={`${styles.backdrop} ${open ? styles.backdropShow : ''}`}\n          onClick={onClose}\n        />\n      )}\n      <div\n        ref={sheetRef}\n        className={`${styles.bottomSheet} ${styles[height]} ${open ? styles.open : ''} ${className}`}\n      >\n        {showHandle && (\n          <div\n            className={styles.handle}\n            onTouchStart={handleTouchStart}\n            onTouchMove={handleTouchMove}\n            onTouchEnd={handleTouchEnd}\n            onMouseDown={handleMouseDown}\n          >\n            <div className={styles.dragIndicator} />\n          </div>\n        )}\n\n        {title && (\n          <div className={styles.header}>\n            <h3 className={styles.title}>{title}</h3>\n            {closeButton && (\n              <button className={styles.closeButton} onClick={onClose} aria-label=\"Close\">\n                <X className={styles.closeIcon} />\n              </button>\n            )}\n          </div>\n        )}\n\n        <div className={styles.content}>{children}</div>\n\n        {footer && <div className={styles.footer}>{footer}</div>}\n      </div>\n    </>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  BottomSheet,\n};\n","import React, { useEffect, useState } from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport styles from './FAB.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== FAB ====================\n\nexport type FABSize = 'standard' | 'mini' | 'extended';\nexport type FABPosition = 'bottom-right' | 'bottom-left' | 'bottom-center' | 'top-right';\nexport type FABColor = 'primary' | 'secondary' | 'success' | 'warning' | 'error';\n\nexport interface FABProps {\n  icon: IconType;\n  label?: string;\n  size?: FABSize;\n  position?: FABPosition;\n  color?: FABColor;\n  badge?: string | number;\n  hideOnScroll?: boolean;\n  onClick?: () => void;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport const FAB: React.FC<FABProps> = ({\n  icon: Icon,\n  label,\n  size = 'standard',\n  position = 'bottom-right',\n  color = 'primary',\n  badge,\n  hideOnScroll = false,\n  onClick,\n  disabled = false,\n  className = '',\n}) => {\n  const [hidden, setHidden] = useState(false);\n  const [lastScrollY, setLastScrollY] = useState(0);\n\n  useEffect(() => {\n    if (!hideOnScroll) return;\n\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY;\n\n      if (currentScrollY > lastScrollY && currentScrollY > 100) {\n        setHidden(true);\n      } else {\n        setHidden(false);\n      }\n\n      setLastScrollY(currentScrollY);\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [hideOnScroll, lastScrollY]);\n\n  const fabClassName = `\n    ${styles.fab}\n    ${styles[size]}\n    ${styles[position]}\n    ${color !== 'primary' ? styles[color] : ''}\n    ${hidden ? styles.hidden : ''}\n    ${className}\n  `.trim();\n\n  const content = (\n    <>\n      <Icon className={styles.icon} />\n      {label && size === 'extended' && <span className={styles.label}>{label}</span>}\n    </>\n  );\n\n  if (badge) {\n    return (\n      <div className={`${styles.fabWrapper} ${styles[position]}`}>\n        <button className={fabClassName} onClick={onClick} disabled={disabled}>\n          {content}\n        </button>\n        <span className={styles.badge}>{badge}</span>\n      </div>\n    );\n  }\n\n  return (\n    <button className={fabClassName} onClick={onClick} disabled={disabled}>\n      {content}\n    </button>\n  );\n};\n\n// ==================== Speed Dial FAB ====================\n\nexport interface SpeedDialAction {\n  icon: IconType;\n  label: string;\n  onClick: () => void;\n}\n\nexport interface SpeedDialFABProps {\n  icon: IconType;\n  actions: SpeedDialAction[];\n  position?: FABPosition;\n  color?: FABColor;\n  className?: string;\n}\n\nexport const SpeedDialFAB: React.FC<SpeedDialFABProps> = ({\n  icon: Icon,\n  actions,\n  position = 'bottom-right',\n  color = 'primary',\n  className = '',\n}) => {\n  const [open, setOpen] = useState(false);\n\n  const handleToggle = () => {\n    setOpen(!open);\n  };\n\n  const handleActionClick = (action: SpeedDialAction) => {\n    action.onClick();\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <div className={`${styles.speedDial} ${styles[position]} ${open ? styles.speedDialOpen : ''} ${className}`}>\n        <div className={styles.speedDialActions}>\n          {actions.map((action, index) => {\n            const ActionIcon = action.icon;\n            return (\n              <div key={index} className={styles.speedDialAction}>\n                <span className={styles.speedDialActionLabel}>{action.label}</span>\n                <button\n                  className={`${styles.fab} ${styles.mini}`}\n                  onClick={() => handleActionClick(action)}\n                >\n                  <ActionIcon className={styles.icon} />\n                </button>\n              </div>\n            );\n          })}\n        </div>\n        <button\n          className={`${styles.fab} ${styles.standard} ${color !== 'primary' ? styles[color] : ''}`}\n          onClick={handleToggle}\n        >\n          <Icon className={styles.icon} />\n        </button>\n      </div>\n      {open && (\n        <div\n          className={styles.speedDialBackdrop}\n          onClick={() => setOpen(false)}\n        />\n      )}\n    </>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default {\n  FAB,\n  SpeedDialFAB,\n};\n","import React from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport styles from './MobileNavBar.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Mobile Nav Bar ====================\n\nexport type MobileNavBarStyle = 'top-bar' | 'background' | 'bottom-bar' | 'filled' | 'outlined' | 'minimal';\n\nexport interface MobileNavItem {\n  icon: IconType;\n  label: string;\n  href?: string;\n  badge?: number | 'dot';\n  onClick?: () => void;\n  'aria-label'?: string;\n}\n\nexport interface MobileNavBarProps {\n  items: MobileNavItem[];\n  activeIndex?: number;\n  onItemClick?: (index: number) => void;\n  style?: MobileNavBarStyle;\n  withSafeArea?: boolean;\n  className?: string;\n}\n\nexport const MobileNavBar: React.FC<MobileNavBarProps> = ({\n  items,\n  activeIndex = 0,\n  onItemClick,\n  style = 'top-bar',\n  withSafeArea = true,\n  className = '',\n}) => {\n  const handleItemClick = (index: number, item: MobileNavItem) => {\n    if (item.onClick) {\n      item.onClick();\n    }\n    if (onItemClick) {\n      onItemClick(index);\n    }\n  };\n\n  const navClassName = `\n    ${styles.mobileNavBar}\n    ${style !== 'top-bar' ? styles[`style${style.charAt(0).toUpperCase() + style.slice(1).replace('-', '')}`] : ''}\n    ${withSafeArea ? styles.withSafeArea : ''}\n    ${className}\n  `.trim();\n\n  return (\n    <nav className={navClassName} role=\"navigation\" aria-label=\"Mobile navigation\">\n      {items.map((item, index) => {\n        const Icon = item.icon;\n        const isActive = index === activeIndex;\n\n        // If href is provided, render as link\n        if (item.href) {\n          return (\n            <a\n              key={index}\n              href={item.href}\n              className={`${styles.mobileNavItem} ${isActive ? styles.active : ''}`}\n              aria-label={item['aria-label'] || item.label}\n              aria-current={isActive ? 'page' : undefined}\n              onClick={(e) => {\n                if (item.onClick) {\n                  e.preventDefault();\n                  handleItemClick(index, item);\n                }\n              }}\n            >\n              <div className={styles.mobileNavIcon}>\n                <Icon className={styles.icon} />\n                {item.badge !== undefined && item.badge !== 0 && (\n                  <span className={`${styles.mobileNavBadge} ${item.badge === 'dot' ? styles.dot : ''}`}>\n                    {item.badge !== 'dot' ? item.badge : ''}\n                  </span>\n                )}\n              </div>\n              <span className={styles.mobileNavLabel}>{item.label}</span>\n            </a>\n          );\n        }\n\n        // Otherwise, render as button\n        return (\n          <button\n            key={index}\n            type=\"button\"\n            className={`${styles.mobileNavItem} ${isActive ? styles.active : ''}`}\n            aria-label={item['aria-label'] || item.label}\n            aria-current={isActive ? 'page' : undefined}\n            onClick={() => handleItemClick(index, item)}\n          >\n            <div className={styles.mobileNavIcon}>\n              <Icon className={styles.icon} />\n              {item.badge !== undefined && item.badge !== 0 && (\n                <span className={`${styles.mobileNavBadge} ${item.badge === 'dot' ? styles.dot : ''}`}>\n                  {item.badge !== 'dot' ? item.badge : ''}\n                </span>\n              )}\n            </div>\n            <span className={styles.mobileNavLabel}>{item.label}</span>\n          </button>\n        );\n      })}\n    </nav>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default MobileNavBar;\n","import React, { useRef, useState, useEffect } from 'react';\nimport { ArrowDown, RefreshCw } from 'lucide-react';\nimport styles from './PullToRefresh.module.css';\n\n// ==================== Pull to Refresh ====================\n\nexport type PullToRefreshStyle = 'default' | 'compact' | 'spinner';\n\nexport interface PullToRefreshProps {\n  onRefresh: () => Promise<void>;\n  children: React.ReactNode;\n  pullDistance?: number;\n  style?: PullToRefreshStyle;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport const PullToRefresh: React.FC<PullToRefreshProps> = ({\n  onRefresh,\n  children,\n  pullDistance = 80,\n  style = 'default',\n  disabled = false,\n  className = '',\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const contentRef = useRef<HTMLDivElement>(null);\n  const startYRef = useRef<number>(0);\n  const currentYRef = useRef<number>(0);\n  const [pullState, setPullState] = useState<'idle' | 'pulling' | 'release' | 'refreshing'>('idle');\n  const [translateY, setTranslateY] = useState(0);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container || disabled) return;\n\n    let isPulling = false;\n\n    const handleTouchStart = (e: TouchEvent) => {\n      if (container.scrollTop === 0 && pullState === 'idle') {\n        startYRef.current = e.touches[0].clientY;\n        isPulling = true;\n      }\n    };\n\n    const handleTouchMove = (e: TouchEvent) => {\n      if (!isPulling) return;\n\n      currentYRef.current = e.touches[0].clientY;\n      const deltaY = currentYRef.current - startYRef.current;\n\n      if (deltaY > 0) {\n        e.preventDefault();\n        // Apply resistance curve\n        const resistance = 0.5;\n        const translate = Math.min(deltaY * resistance, pullDistance * 1.5);\n        setTranslateY(translate);\n\n        if (translate >= pullDistance) {\n          setPullState('release');\n        } else {\n          setPullState('pulling');\n        }\n      }\n    };\n\n    const handleTouchEnd = async () => {\n      if (!isPulling) return;\n      isPulling = false;\n\n      if (translateY >= pullDistance) {\n        setPullState('refreshing');\n        setTranslateY(pullDistance);\n\n        try {\n          await onRefresh();\n        } catch (error) {\n          console.error('Refresh error:', error);\n        } finally {\n          setPullState('idle');\n          setTranslateY(0);\n        }\n      } else {\n        setPullState('idle');\n        setTranslateY(0);\n      }\n    };\n\n    // Mouse events for desktop testing\n    let isMousePulling = false;\n\n    const handleMouseDown = (e: MouseEvent) => {\n      if (container.scrollTop === 0 && pullState === 'idle') {\n        startYRef.current = e.clientY;\n        isMousePulling = true;\n      }\n    };\n\n    const handleMouseMove = (e: MouseEvent) => {\n      if (!isMousePulling) return;\n\n      currentYRef.current = e.clientY;\n      const deltaY = currentYRef.current - startYRef.current;\n\n      if (deltaY > 0) {\n        e.preventDefault();\n        const resistance = 0.5;\n        const translate = Math.min(deltaY * resistance, pullDistance * 1.5);\n        setTranslateY(translate);\n\n        if (translate >= pullDistance) {\n          setPullState('release');\n        } else {\n          setPullState('pulling');\n        }\n      }\n    };\n\n    const handleMouseUp = async () => {\n      if (!isMousePulling) return;\n      isMousePulling = false;\n\n      if (translateY >= pullDistance) {\n        setPullState('refreshing');\n        setTranslateY(pullDistance);\n\n        try {\n          await onRefresh();\n        } catch (error) {\n          console.error('Refresh error:', error);\n        } finally {\n          setPullState('idle');\n          setTranslateY(0);\n        }\n      } else {\n        setPullState('idle');\n        setTranslateY(0);\n      }\n    };\n\n    container.addEventListener('touchstart', handleTouchStart, { passive: true });\n    container.addEventListener('touchmove', handleTouchMove, { passive: false });\n    container.addEventListener('touchend', handleTouchEnd);\n\n    container.addEventListener('mousedown', handleMouseDown);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n\n    return () => {\n      container.removeEventListener('touchstart', handleTouchStart);\n      container.removeEventListener('touchmove', handleTouchMove);\n      container.removeEventListener('touchend', handleTouchEnd);\n\n      container.removeEventListener('mousedown', handleMouseDown);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [disabled, onRefresh, pullDistance, pullState, translateY]);\n\n  const containerClassName = `${styles.pullToRefresh} ${className}`.trim();\n\n  const contentClassName = `\n    ${styles.pullToRefreshContent}\n    ${pullState === 'pulling' ? styles.pulling : ''}\n    ${pullState === 'refreshing' ? styles.refreshing : ''}\n  `.trim();\n\n  const indicatorClassName = `\n    ${styles.pullIndicator}\n    ${translateY > 0 ? styles.visible : ''}\n    ${pullState !== 'idle' ? styles[`state${pullState.charAt(0).toUpperCase() + pullState.slice(1)}`] : ''}\n    ${style !== 'default' ? styles[`style${style.charAt(0).toUpperCase() + style.slice(1)}`] : ''}\n  `.trim();\n\n  const getPullText = () => {\n    switch (pullState) {\n      case 'pulling':\n        return 'Pull to refresh';\n      case 'release':\n        return 'Release to refresh';\n      case 'refreshing':\n        return 'Refreshing...';\n      default:\n        return 'Pull to refresh';\n    }\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      className={containerClassName}\n      style={{\n        ['--mobile-pull-distance' as string]: `${pullDistance}px`,\n      }}\n    >\n      <div className={indicatorClassName}>\n        {style === 'spinner' ? (\n          <>\n            {pullState === 'refreshing' ? (\n              <div className={styles.pullSpinner} />\n            ) : (\n              <div className={styles.pullIcon}>\n                <ArrowDown className={styles.icon} />\n              </div>\n            )}\n            <span className={styles.pullText}>{getPullText()}</span>\n          </>\n        ) : (\n          <>\n            <div className={styles.pullIcon}>\n              {pullState === 'refreshing' ? (\n                <RefreshCw className={styles.icon} />\n              ) : (\n                <ArrowDown className={styles.icon} />\n              )}\n            </div>\n            <span className={styles.pullText}>{getPullText()}</span>\n          </>\n        )}\n      </div>\n\n      <div\n        ref={contentRef}\n        className={contentClassName}\n        style={{\n          transform: `translateY(${translateY}px)`,\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default PullToRefresh;\n","import React, { useRef, useState, useEffect } from 'react';\nimport type { LucideIcon } from 'lucide-react';\nimport styles from './SwipeActions.module.css';\n\ntype IconType = LucideIcon;\n\n// ==================== Swipe Actions ====================\n\nexport type SwipeActionType = 'delete' | 'favorite' | 'archive' | 'edit';\n\nexport interface SwipeAction {\n  type: SwipeActionType;\n  icon: IconType;\n  label: string;\n  onAction: () => void;\n}\n\nexport interface SwipeActionsProps {\n  leftActions?: SwipeAction[];\n  rightActions?: SwipeAction[];\n  children: React.ReactNode;\n  threshold?: number;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport const SwipeActions: React.FC<SwipeActionsProps> = ({\n  leftActions = [],\n  rightActions = [],\n  children,\n  threshold = 80,\n  disabled = false,\n  className = '',\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const itemRef = useRef<HTMLDivElement>(null);\n  const startXRef = useRef<number>(0);\n  const currentXRef = useRef<number>(0);\n  const [translateX, setTranslateX] = useState(0);\n  const [isSwiping, setIsSwiping] = useState(false);\n\n  useEffect(() => {\n    const item = itemRef.current;\n    if (!item || disabled) return;\n\n    let isDragging = false;\n\n    const handleTouchStart = (e: TouchEvent) => {\n      startXRef.current = e.touches[0].clientX;\n      currentXRef.current = translateX;\n      isDragging = true;\n      setIsSwiping(true);\n    };\n\n    const handleTouchMove = (e: TouchEvent) => {\n      if (!isDragging) return;\n\n      const deltaX = e.touches[0].clientX - startXRef.current;\n      const newTranslateX = currentXRef.current + deltaX;\n\n      // Apply boundaries\n      const maxRight = leftActions.length > 0 ? leftActions.length * 80 : 0;\n      const maxLeft = rightActions.length > 0 ? -rightActions.length * 80 : 0;\n\n      const boundedTranslateX = Math.max(maxLeft, Math.min(maxRight, newTranslateX));\n      setTranslateX(boundedTranslateX);\n    };\n\n    const handleTouchEnd = () => {\n      if (!isDragging) return;\n      isDragging = false;\n      setIsSwiping(false);\n\n      // Snap to action or reset\n      if (Math.abs(translateX) >= threshold) {\n        // Snap to revealed actions\n        if (translateX > 0 && leftActions.length > 0) {\n          setTranslateX(leftActions.length * 80);\n        } else if (translateX < 0 && rightActions.length > 0) {\n          setTranslateX(-rightActions.length * 80);\n        } else {\n          setTranslateX(0);\n        }\n      } else {\n        // Reset to center\n        setTranslateX(0);\n      }\n    };\n\n    // Mouse events for desktop testing\n    let isMouseDragging = false;\n\n    const handleMouseDown = (e: MouseEvent) => {\n      startXRef.current = e.clientX;\n      currentXRef.current = translateX;\n      isMouseDragging = true;\n      setIsSwiping(true);\n    };\n\n    const handleMouseMove = (e: MouseEvent) => {\n      if (!isMouseDragging) return;\n\n      const deltaX = e.clientX - startXRef.current;\n      const newTranslateX = currentXRef.current + deltaX;\n\n      const maxRight = leftActions.length > 0 ? leftActions.length * 80 : 0;\n      const maxLeft = rightActions.length > 0 ? -rightActions.length * 80 : 0;\n\n      const boundedTranslateX = Math.max(maxLeft, Math.min(maxRight, newTranslateX));\n      setTranslateX(boundedTranslateX);\n    };\n\n    const handleMouseUp = () => {\n      if (!isMouseDragging) return;\n      isMouseDragging = false;\n      setIsSwiping(false);\n\n      if (Math.abs(translateX) >= threshold) {\n        if (translateX > 0 && leftActions.length > 0) {\n          setTranslateX(leftActions.length * 80);\n        } else if (translateX < 0 && rightActions.length > 0) {\n          setTranslateX(-rightActions.length * 80);\n        } else {\n          setTranslateX(0);\n        }\n      } else {\n        setTranslateX(0);\n      }\n    };\n\n    item.addEventListener('touchstart', handleTouchStart, { passive: true });\n    item.addEventListener('touchmove', handleTouchMove, { passive: true });\n    item.addEventListener('touchend', handleTouchEnd);\n\n    item.addEventListener('mousedown', handleMouseDown);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n\n    return () => {\n      item.removeEventListener('touchstart', handleTouchStart);\n      item.removeEventListener('touchmove', handleTouchMove);\n      item.removeEventListener('touchend', handleTouchEnd);\n\n      item.removeEventListener('mousedown', handleMouseDown);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [disabled, leftActions.length, rightActions.length, threshold, translateX]);\n\n  const handleActionClick = (action: SwipeAction) => {\n    action.onAction();\n    setTranslateX(0); // Reset position after action\n  };\n\n  const containerClassName = `${styles.swipeContainer} ${className}`.trim();\n  const itemClassName = `${styles.swipeItem} ${isSwiping ? styles.swiping : ''}`.trim();\n\n  return (\n    <div ref={containerRef} className={containerClassName}>\n      {leftActions.length > 0 && (\n        <div className={styles.swipeActionsLeft}>\n          {leftActions.map((action, index) => {\n            const Icon = action.icon;\n            return (\n              <button\n                key={index}\n                className={`${styles.swipeAction} ${styles[action.type]}`}\n                onClick={() => handleActionClick(action)}\n              >\n                <Icon className={styles.actionIcon} />\n                <span>{action.label}</span>\n              </button>\n            );\n          })}\n        </div>\n      )}\n\n      {rightActions.length > 0 && (\n        <div className={styles.swipeActionsRight}>\n          {rightActions.map((action, index) => {\n            const Icon = action.icon;\n            return (\n              <button\n                key={index}\n                className={`${styles.swipeAction} ${styles[action.type]}`}\n                onClick={() => handleActionClick(action)}\n              >\n                <Icon className={styles.actionIcon} />\n                <span>{action.label}</span>\n              </button>\n            );\n          })}\n        </div>\n      )}\n\n      <div\n        ref={itemRef}\n        className={itemClassName}\n        style={{\n          transform: `translateX(${translateX}px)`,\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\n// ==================== Main Export ====================\n\nexport default SwipeActions;\n"],"names":["Button","React","variant","size","loading","icon","iconOnly","children","className","disabled","type","rest","ref","classNames","styles","jsxs","jsx","ButtonGroup","groupClasses","Input","state","labelPosition","label","helperText","errorMessage","successMessage","warningMessage","required","fullWidth","leftIcon","rightIcon","wrapperClassName","readOnly","id","inputId","message","wrapperClasses","inputClasses","messageClasses","Fragment","OptionItem","memo","option","isSelected","isFocused","onSelect","handleClick","useCallback","useMemo","Select","name","controlledValue","defaultValue","placeholder","options","groups","onChange","selectId","isOpen","setIsOpen","useState","selectedValue","setSelectedValue","focusedIndex","setFocusedIndex","containerRef","useRef","dropdownRef","triggerRef","isControlled","currentValue","allOptions","opts","group","opt","selectedOption","handleOptionClick","foundOption","toggleDropdown","prev","useEffect","handleClickOutside","event","handleKeyDown","focusedElement","setRefs","node","containerClassName","selectClassName","triggerClassName","renderOptions","globalIndex","dropdownContent","nativeOptions","noop","ChevronDown","Checkbox","error","indeterminate","props","checkboxId","messageId","hasMessage","internalRef","checkboxRef","sizeClass","iconSize","Check","Radio","radioId","Toggle","checked","defaultChecked","ariaLabel","ariaLabelledBy","toggleId","handleChange","Textarea","rows","showCounter","resize","renderCounter","value","maxLength","textareaId","charCount","setCharCount","stateClass","messageClass","resizeStyle","FileUpload","accept","maxSize","maxFiles","multiple","showPreview","useNativeInput","uploadText","hintText","onFilesChange","onFileRemove","validator","files","setFiles","isDragging","setIsDragging","inputRef","dropZoneRef","generateFileId","validateFile","file","acceptedTypes","t","fileExt","fileMimeType","main","processFiles","fileList","newFiles","fileArray","fileWithMeta","reader","e","preview","f","handleFileChange","handleDragEnter","handleDragLeave","handleDragOver","handleDrop","droppedFiles","handleRemove","fileToRemove","formatFileSize","bytes","k","sizes","i","UploadCloud","FileText","X","isRangeSlider","Slider","RangeSliderComponent","SingleSliderComponent","min","max","step","showValue","formatValue","v","showMinMax","minLabel","maxLabel","iconBefore","iconAfter","internalValue","setInternalValue","newValue","containerClasses","hasIcons","minVal","maxVal","minValue","maxValue","updateValue","newMin","newMax","updatedValue","handleMinChange","handleMaxChange","minPercent","maxPercent","Rating","count","allowHalf","reviewCount","description","hoverValue","setHoverValue","IconComponent","Heart","Circle","Star","getStarState","index","starValue","displayValue","rect","clickX","halfWidth","handleMouseEnter","hoverVal","mouseX","handleMouseLeave","key","newIndex","handleBlur","handleFocus","interactionProps","_","isInteractive","starClasses","hexToRgb","hex","result","rgbToHex","r","g","b","x","isValidHex","DEFAULT_PRESETS","RECENT_COLORS_KEY","MAX_RECENT_COLORS","ColorSwatchButton","color","isActive","style","PresetColorButton","RecentColorItem","RgbInput","ColorPicker","presets","showRecent","compact","allowCustom","uncontrolledValue","setUncontrolledValue","hexInput","setHexInput","rgb","setRgb","recentColors","setRecentColors","customPickerOpen","setCustomPickerOpen","stored","rgbValue","handleColorChange","newColor","updated","c","handleColorSelect","handleHexChange","handleRChange","numValue","newRgb","handleGChange","handleBChange","handleApply","handleCancel","toggleOpen","toggleCustomPicker","closeCustomPicker","handleCustomApply","compactContainerClassName","swatchesClassName","previewStyle","currentSwatchStyle","Plus","Palette","koKRLocale","enUSLocale","defaultLocale","mergeLocale","base","override","getLocaleByCode","code","getOrderedWeekdays","weekdayNames","weekStartsOn","getMonthName","month","locale","long","CalendarHeader","currentDate","viewMode","onViewModeChange","onPrevious","onNext","minDate","maxDate","year","canGoPrevious","canGoNext","renderTitle","decadeStart","ChevronLeft","ChevronRight","isSameDay","date1","date2","isSameMonth","isSameYear","isToday","date","isDateInRange","startDate","endDate","time","getStartOfDay","isBefore","isAfter","isDateDisabled","filterDate","getEndOfDay","getStartOfMonth","getEndOfMonth","getStartOfWeek","day","diff","getEndOfWeek","addDays","days","getDaysAgo","from","addMonths","months","addYears","years","getDaysInMonth","getQuarter","getStartOfQuarter","startMonth","getEndOfQuarter","endMonth","getWeekNumber","d","dayNum","yearStart","getMonthDays","firstDayOfMonth","getYearMonths","getDecadeYears","startYear","getDecadeStart","getTimeSlots","intervals","minTime","maxTime","slots","minMinutes","maxMinutes","minutes","getTimeFromDate","setTimeToDate","compareTime","time1","time2","minutes1","minutes2","CalendarGrid","selectedDate","rangeMode","rangeStart","rangeEnd","hoverDate","onHoverChange","weekdays","getCellInfo","isCurrentMonth","isInRange","isRangeStart","isRangeEnd","effectiveEnd","isWeekend","getCellClassName","info","classes","dayIndex","isWeekendDay","MonthGrid","currentYear","currentMonth","currentFullYear","isDisabled","minMonth","maxMonth","YearGrid","currentDecade","isCurrentYear","isOutside","formatDate","format","hours","seconds","tokens","sortedTokens","a","token","formatTime","use24Hour","parseDate","dateString","tokenRegex","match","numbers","formatRelativeDate","formatQuarter","quarter","formatWeek","weekNum","getISOWeek","TimeSelector","timeIntervals","listRef","timeSlots","selectedTime","newDate","selectedIndex","slot","buttons","CalendarPopover","onClose","popoverRef","position","setPosition","calculatePosition","triggerRect","scrollY","scrollX","top","left","popoverRect","viewportWidth","viewportHeight","target","timeoutId","handleEscape","createPortal","useCalendarState","initialDate","initialViewMode","setCurrentDate","setSelectedDate","setViewMode","selectDate","clearDate","goToPrevious","current","goToNext","goToToday","goToMonth","goToYear","useRangeState","initialStartDate","initialEndDate","setStartDate","setEndDate","setHoverDate","selectionMode","setSelectionMode","clearRange","DatePicker","inline","localeProp","clearable","onOpen","ariaDescribedBy","onFocus","onBlur","dateFormat","inputValue","setInputValue","handleOpen","handleClose","handleSelect","handleClear","handleInputChange","parsed","handleInputBlur","handlePrevious","handleNext","inputClassName","calendarClassName","renderCalendarContent","Calendar","defaultPresets","yesterday","DateRangePicker","startDateProp","endDateProp","showPresets","startPlaceholder","endPlaceholder","monthsShown","startInputValue","setStartInputValue","endInputValue","setEndInputValue","currentDate2","setCurrentDate2","presetList","isSecondCalendar","newStart","newEnd","handlePresetSelect","preset","range","renderPresets","TimePicker","timeFormat","renderTimeSelector","Clock","DateTimePicker","handleDateSelect","handleTimeSelect","Transfer","dataSource","controlledTargetKeys","defaultTargetKeys","sourceTitle","targetTitle","showSearch","sourceSearchPlaceholder","targetSearchPlaceholder","showSelectAll","emptyText","render","uncontrolledTargetKeys","setUncontrolledTargetKeys","sourceSearch","setSourceSearch","targetSearch","setTargetSearch","sourceSelected","setSourceSelected","targetSelected","setTargetSelected","targetKeys","sourceItems","targetItems","source","item","filterItems","items","searchQuery","query","filteredSourceItems","filteredTargetItems","newTargetKeys","direction","moveKeys","moveToTarget","moveToSource","moveAllToTarget","moveAllToSource","toggleSourceItem","newSelected","toggleTargetItem","toggleSourceSelectAll","selectableKeys","toggleTargetSelectAll","renderPanel","filteredItems","selectedKeys","onToggle","onToggleSelectAll","title","searchValue","onSearchChange","searchPlaceholder","selectableItems","isAllSelected","Search","Inbox","ChevronsRight","ChevronsLeft","TreeSelect","data","setSearchQuery","expandedNodes","setExpandedNodes","handleNodeSelect","nodeValue","currentValues","newValues","toggleNode","next","getSelectedLabels","values","labels","findLabels","nodes","filterTree","q","filtered","matches","filteredChildren","getMatchingParentNodes","parentNodes","traverse","nodeList","child","nodesToExpand","filteredData","renderNode","level","hasChildren","isExpanded","selectedLabel","showClearButton","CascadeSelect","selectedPath","setSelectedPath","hoveredPath","setHoveredPath","hoveredOptionRefs","setHoveredOptionRefs","getDisplayText","currentOptions","val","getOptionsForLevel","pathToUse","getVisibleLevels","levels","pathToCheck","handleOptionHover","element","newPath","o","optionValue","triggerClasses","visibleLevels","levelOptions","subpanelClasses","topOffset","hoveredElement","subpanelStyle","optionClasses","defaultFilterFn","lowerQuery","Autocomplete","emptyMessage","minChars","filterFn","highlightedIndex","setHighlightedIndex","filteredOptions","groupedOptions","category","selectedValues","valueToRemove","handleInputFocus","highlightedItem","selectedOptions","multipleClass","Loader2","SearchX","categoryOptions","isHighlighted","Knob","showLabels","showIndicator","knobRef","startAngleRef","startValueRef","clampValue","roundToStep","decimals","clamped","calculateAngle","clientX","clientY","centerX","centerY","dx","dy","angle","handleMouseDown","handleTouchStart","touch","pageStep","handleMove","angleDiff","valueRange","valueChange","handleMouseMove","handleTouchMove","handleEnd","radius","circumference","percentage","startAngle","angleRange","angleDeg","currentArcLength","strokeDashoffset","angleRad","handleX","handleY","knobClasses","CardHeader","CardTitle","CardMedia","image","alt","height","mediaStyle","CardContent","CardFooter","Card","hoverable","selectable","selected","onClick","cardClasses","ListItem","interactive","href","ListEmptyState","action","List","listClasses","TableContext","createContext","useTableContext","useContext","SkeletonRow","cellCount","cellIndex","TableContainer","TableWrapper","TableHead","TableBody","TableRow","rowClasses","TableCell","width","align","TableHeaderCell","sortable","sortDirection","onSort","sortClass","headerClasses","ExpandableRow","expandedContent","defaultExpanded","setIsExpanded","toggleExpand","rowClassName","TableEmptyState","Table","striped","stickyHeader","tableClasses","contextValue","functionalUpdate","updater","input","makeStateUpdater","instance","old","isFunction","isNumberArray","flattenBy","arr","getChildren","flat","recurse","subArr","getDeps","fn","deps","depArgs","depTime","newDeps","dep","resultTime","depEndTime","resultEndTime","resultFpsPercentage","pad","str","num","getMemoOptions","tableOptions","debugLevel","_tableOptions$debugAl","createCell","table","row","column","columnId","getRenderValue","_cell$getValue","cell","feature","createColumn","columnDef","depth","parent","_ref","_resolvedColumnDef$id","resolvedColumnDef","accessorKey","accessorFn","originalRow","_result","_column$columns","orderColumns","_column$columns2","leafColumns","debug","createHeader","_options$id","header","leafHeaders","recurseHeader","h","Headers","allColumns","right","_left$map$filter","_right$map$filter","leftColumns","rightColumns","centerColumns","buildHeaderGroups","_left$map$filter2","orderedLeafColumns","_right$map$filter2","headerGroups","headerGroup","flatHeaders","_header$subHeaders","_header$subHeaders2","_header$subHeaders3","center","_left$0$headers","_left$","_center$0$headers","_center$","_right$0$headers","_right$","columnsToGroup","headerFamily","_headerGroups$0$heade","_headerGroups$","maxDepth","findMaxDepth","columns","createHeaderGroup","headersToGroup","pendingParentHeaders","headerToGroup","latestPendingParentHeader","isLeafHeader","isPlaceholder","bottomHeaders","recurseHeadersForSpans","headers","colSpan","rowSpan","childRowSpans","childColSpan","childRowSpan","minChildRowSpan","createRow","original","rowIndex","subRows","parentId","_row$getValue","parentRows","currentRow","parentRow","allCells","acc","ColumnFaceting","includesString","filterValue","_filterValue$toString","search","testFalsey","includesStringSensitive","_row$getValue2","equalsString","_row$getValue3","arrIncludes","_row$getValue4","arrIncludesAll","_row$getValue5","arrIncludesSome","_row$getValue6","equals","weakEquals","inNumberRange","rowValue","unsafeMin","unsafeMax","parsedMin","parsedMax","temp","filterFns","ColumnFiltering","firstRow","_table$options$filter","_table$options$filter2","_column$columnDef$ena","_table$options$enable","_table$options$enable2","_table$getState$colum","_table$getState$colum2","_table$getState$colum3","previousFilter","newFilter","shouldAutoRemoveFilter","_old$filter","newFilterObj","_old$map","_table","updateFn","_functionalUpdate","filter","defaultState","_table$initialState$c","_table$initialState","sum","_leafRows","childRows","nextValue","extent","mean","leafRows","median","mid","nums","unique","uniqueCount","_columnId","aggregationFns","ColumnGrouping","_toString","_props$getValue","_table$getState$group","_table$getState$group2","canGroup","_table$options$aggreg","_table$options$aggreg2","_table$initialState$g","_row$subRows","grouping","groupedColumnMode","nonGroupingColumns","col","ColumnOrdering","_getVisibleLeafColumns","_columns$","_columns","columnOrder","orderedColumns","columnOrderCopy","columnsCopy","targetColumnId","foundIndex","getDefaultColumnPinningState","ColumnPinning","columnIds","_old$left3","_old$right3","_old$left","_old$right","_old$left2","_old$right2","_d$columnDef$enablePi","leafColumnIds","isLeft","isRight","leftAndRight","_pinningState$positio","pinningState","_pinningState$left","_pinningState$right","safelyAccessDocument","_document","defaultColumnSizing","getDefaultColumnSizingInfoState","ColumnSizing","_column$columnDef$min","_column$columnDef$max","columnSize","_ref2","_header$column$getSiz","prevSiblingHeader","_contextDocument","canResize","isTouchStartEvent","startSize","columnSizingStart","newColumnSizing","updateOffset","eventType","clientXPos","_old$startOffset","_old$startSize","deltaDirection","deltaOffset","deltaPercentage","_ref3","headerSize","onMove","onEnd","contextDocument","mouseEvents","touchEvents","_e$touches$","passiveIfSupported","passiveEventSupported","_table$initialState$c2","_table$getHeaderGroup","_table$getHeaderGroup2","_table$getLeftHeaderG","_table$getLeftHeaderG2","_table$getCenterHeade","_table$getCenterHeade2","_table$getRightHeader","_table$getRightHeader2","passiveSupported","supported","ColumnVisibility","childColumns","cells","makeVisibleColumnsMethod","getColumns","_value","obj","_target","GlobalFaceting","GlobalFiltering","_table$getCoreRowMode","_table$options$getCol","globalFilterFn","RowExpanding","registered","queued","_table$options$autoRe","expanded","_table$initialState$e","splitId","_expanded","exists","oldExpanded","rowId","_table$options$getIsR","_table$options$getRow","isFullyExpanded","canExpand","defaultPageIndex","defaultPageSize","getDefaultPaginationState","RowPagination","safeUpdater","_table$initialState$p","pageIndex","maxPageIndex","_table$initialState$p2","_table$initialState$p3","_table$initialState2","pageSize","topRowIndex","_table$options$pageCo","newPageCount","pageCount","pageOptions","_table$options$pageCo2","_table$options$rowCou","getDefaultRowPinningState","RowPinning","includeLeafRows","includeParentRows","leafRowIds","parentRowIds","rowIds","_old$top3","_old$bottom3","_old$top","_old$bottom","_old$top2","_old$bottom2","enableRowPinning","enablePinning","bottom","isTop","isBottom","_ref4","_visiblePinnedRowIds$","visiblePinnedRowIds","_ref5","_table$initialState$r","_pinningState$top","_pinningState$bottom","visibleRows","pinnedRowIds","_table$options$keepPi","allRows","topPinnedRowIds","bottomPinnedRowIds","topAndBottom","RowSelection","rowSelection","preGroupedFlatRows","resolvedValue","mutateRowIsSelected","rowModel","selectRowsFn","isAllRowsSelected","paginationFlatRows","isAllPageRowsSelected","_table$getState$rowSe","totalSelected","_opts$selectChildren","selectedRowIds","isRowSelected","isSubRowSelected","_table$options$enable3","canSelect","includeChildren","newSelectedFlatRows","newSelectedRowsById","recurseRows","_row$subRows2","selection","_selection$row$id","_row$subRows3","allChildrenSelected","someSelected","subRow","subRowChildrenSelected","reSplitAlphaNumeric","alphanumeric","rowA","rowB","compareAlphanumeric","toString","alphanumericCaseSensitive","text","compareBasic","textCaseSensitive","datetime","basic","aStr","bStr","aa","bb","an","bn","combo","sortingFns","RowSorting","firstRows","isString","_table$options$sortin","_table$options$sortin2","desc","multi","nextSortingOrder","hasManualValue","existingSorting","existingIndex","newSorting","sortAction","nextDesc","_table$options$maxMul","_column$columnDef$sor","firstSortDirection","isSorted","_column$columnDef$ena2","_table$getState$sorti","columnSort","_table$getState$sorti2","_table$getState$sorti3","canSort","_table$initialState$s","builtInFeatures","createTable","_options$_features","_options$initialState","_features","defaultOptions","mergeOptions","initialState","_feature$getInitialSt","queuedTimeout","coreInstance","cb","newOptions","searchAll","defaultColumn","_defaultColumn","_props$renderValue$to","_props$renderValue","columnDefs","recurseColumns","groupingColumnDef","flatColumns","getCoreRowModel","accessRows","originalRows","_row$originalSubRows","getExpandedRowModel","paginateExpandedRows","expandRows","expandedRows","handleRow","getFacetedMinMaxValues","_table$getColumn","facetedRowModel","uniqueValues","flatRow","_flatRow$getUniqueVal","facetedMinValue","facetedMaxValue","filterRows","filterRowImpl","filterRowModelFromLeafs","filterRowModelFromRoot","rowsToFilter","filterRow","_table$options$maxLea","newFilteredFlatRows","newFilteredRowsById","recurseFilterRows","newRow","_table$options$maxLea2","getFacetedRowModel","preRowModel","columnFilters","globalFilter","filterableIds","filterRowsImpl","getFacetedUniqueValues","facetedUniqueValues","j","_facetedUniqueValues$","getFilteredRowModel","resolvedColumnFilters","resolvedGlobalFilters","_filterFn$resolveFilt","globallyFilterableColumns","_globalFilterFn$resol","currentColumnFilter","currentGlobalFilter","filterMeta","getGroupedRowModel","existingGrouping","groupedFlatRows","groupedRowsById","groupUpRecursively","rowGroupsMap","groupBy","groupingValue","groupedRows","_groupedRows$0$getVal","aggregateFn","groupMap","map","resKey","previous","getPaginationRowModel","pagination","flatRows","rowsById","pageStart","pageEnd","paginatedRowModel","getSortedRowModel","sorting","sortingState","sortedFlatRows","availableSorting","sort","columnInfoById","sortEntry","sortData","sortedData","_sortEntry$desc","columnInfo","sortUndefined","isDesc","sortInt","aValue","bValue","aUndefined","bUndefined","flexRender","Comp","isReactComponent","component","isClassComponent","isExoticComponent","proto","useReactTable","resolvedOptions","tableRef","setState","isInitial","memoizedFunction","_a","_b","_c","notUndefined","msg","approxEqual","debounce","targetWindow","ms","args","getRect","offsetWidth","offsetHeight","defaultKeyExtractor","defaultRangeExtractor","start","end","observeElementRect","handler","observer","entries","run","entry","box","addEventListenerOptions","supportsScrollend","observeElementOffset","offset","fallback","createHandler","isScrolling","horizontal","isRtl","endHandler","registerScrollendEvent","measureElement","elementScroll","adjustments","behavior","toOffset","Virtualizer","_ro","get","opts2","sync","scrollElement","cached","measurements","furthestMeasurementsFound","furthestMeasurements","m","measurement","previousFurthestMeasurement","paddingStart","scrollMargin","getItemKey","enabled","lanes","itemSizeCache","laneLastIndex","cachedLane","lane","prevIndex","prevInLane","furthestMeasurement","measuredSize","outerSize","scrollOffset","calculateRange","startIndex","endIndex","rangeExtractor","overscan","attributeName","indexStr","prevNode","itemSize","delta","indexes","virtualItems","len","findNearestBinarySearch","maxOffset","initialAlign","attempts","maxAttempts","tryScroll","currentAlign","offsetInfo","currentOffset","afterInfo","scheduleRetry","endByLane","low","high","getCurrentValue","middle","lastIndex","getOffset","endPerLane","pos","startPerLane","useIsomorphicLayoutEffect","useVirtualizerBase","rerender","instance2","flushSync","useVirtualizer","characterMap","chars","allAccents","removeAccents","rankings","rankItem","_options$threshold","rank","getMatchRanking","valuesToRank","getAllValuesToRank","rankingInfo","rankValue","newRank","minRanking","maxRanking","threshold","testString","stringToRank","prepareValueForComparison","getAcronym","getClosenessRanking","string","acronym","wordInString","splitByHyphenWord","matchingInOrderCharCount","charNumber","findMatchingCharacter","matchChar","J","getRanking","spread","spreadPercentage","inOrderPercentage","firstIndex","I","keepDiacritics","getItemValues","accessor","accessors","allValues","attributes","getAccessorAttributes","itemValues","defaultKeyAttributes","useCombinedRefs","_len","refs","_key","canUseDOM","isWindow","elementString","isNode","getWindow","_target$ownerDocument","_target$ownerDocument2","isDocument","Document","isHTMLElement","isSVGElement","getOwnerDocument","useLayoutEffect","useEvent","handlerRef","useInterval","intervalRef","set","listener","duration","clear","useLatestValue","dependencies","valueRef","useLazyMemo","callback","useNodeRef","onChangeHandler","setNodeRef","usePrevious","ids","useUniqueId","prefix","createAdjustmentFn","modifier","object","accumulator","adjustment","valueAdjustment","add","subtract","hasViewportRelativeCoordinates","isKeyboardEvent","KeyboardEvent","isTouchEvent","TouchEvent","getEventCoordinates","y","CSS","transform","scaleX","scaleY","property","easing","SELECTOR","findFirstFocusableNode","hiddenStyles","HiddenText","LiveRegion","announcement","ariaLiveType","visuallyHidden","useAnnouncement","setAnnouncement","DndMonitorContext","useDndMonitor","registerListener","useDndMonitorProvider","listeners","_listener$type","defaultScreenReaderInstructions","defaultAnnouncements","active","over","Accessibility","announcements","container","hiddenTextDescribedById","screenReaderInstructions","announce","liveRegionId","mounted","setMounted","_ref6","markup","Action","useSensor","sensor","useSensors","sensors","defaultCoordinates","distanceBetween","p1","p2","getRelativeTransformOrigin","eventCoordinates","transformOrigin","sortCollisionsAsc","sortCollisionsDesc","getFirstCollision","collisions","firstCollision","centerOfRectangle","closestCenter","collisionRect","droppableRects","droppableContainers","centerRect","droppableContainer","distBetween","getIntersectionRatio","targetArea","entryArea","intersectionArea","intersectionRatio","rectIntersection","adjustScale","rect1","rect2","getRectDelta","createRectAdjustmentFn","getAdjustedRect","parseTransform","transformArray","inverseTransform","parsedTransform","translateX","translateY","w","getClientRect","getTransformAgnosticClientRect","getWindowClientRect","isFixed","computedStyle","isScrollable","overflowRegex","getScrollableAncestors","limit","scrollParents","findScrollableAncestors","getFirstScrollableAncestor","firstScrollableAncestor","getScrollableElement","getScrollXCoordinate","getScrollYCoordinate","getScrollCoordinates","Direction","isDocumentScrollingElement","getScrollPosition","scrollingContainer","minScroll","dimensions","maxScroll","defaultThreshold","getScrollDirectionAndSpeed","scrollContainer","scrollContainerRect","acceleration","thresholdPercentage","speed","getScrollElementRect","innerWidth","innerHeight","getScrollOffsets","scrollableAncestors","getScrollXOffset","getScrollYOffset","scrollIntoViewIfNeeded","measure","properties","Rect","scrollOffsets","axis","keys","getScrollOffset","currentOffsets","scrollOffsetsDeltla","Listeners","_this$target","eventName","_this$target2","getEventListenerTarget","EventTarget","hasExceededDistance","EventName","preventDefault","stopPropagation","KeyboardCode","defaultKeyboardCodes","defaultKeyboardCoordinateGetter","currentCoordinates","KeyboardSensor","activeNode","onStart","context","keyboardCodes","coordinateGetter","scrollBehavior","newCoordinates","coordinatesDelta","scrollDelta","scrollElementRect","clampedCoordinates","canScrollX","canScrollY","newScrollCoordinates","canScrollToNewCoordinates","coordinates","onCancel","onActivation","activator","isDistanceConstraint","constraint","isDelayConstraint","AbstractPointerSensor","events","listenerTarget","_getEventCoordinates","activationConstraint","bypassActivationConstraint","onPending","initialCoordinates","_getEventCoordinates2","activated","onAbort","_this$document$getSel","PointerSensor","events$1","MouseButton","MouseSensor","events$2","TouchSensor","touches","AutoScrollActivator","TraversalOrder","useAutoScroller","canScroll","draggingRect","interval","order","pointerCoordinates","scrollableAncestorRects","scrollIntent","useScrollIntent","setAutoScrollInterval","clearAutoScrollInterval","scrollSpeed","scrollDirection","scrollContainerRef","autoScroll","scrollLeft","scrollTop","sortedScrollableAncestors","defaultScrollIntent","previousDelta","previousIntent","useCachedNode","draggableNodes","draggableNode","cachedNode","useCombineActivators","getSyntheticHandler","Sensor","sensorActivators","MeasuringStrategy","MeasuringFrequency","useDroppableMeasuring","containers","dragging","config","queue","setQueue","frequency","strategy","containersRef","disabledRef","measureDroppableContainers","previousValue","useInitialValue","computeFn","useInitialRect","useMutationObserver","handleMutations","mutationObserver","MutationObserver","useResizeObserver","handleResize","resizeObserver","ResizeObserver","defaultMeasure","useRect","fallbackRect","setRect","measureRect","currentRect","newRect","records","record","useRectDelta","initialRect","defaultValue$1","useScrollableAncestors","previousNode","ancestors","useScrollOffsets","elements","scrollCoordinates","setScrollCoordinates","prevElements","handleScroll","scrollingElement","previousElements","cleanup","scrollableElement","useScrollOffsetsDelta","initialScrollOffsets","hasScrollOffsets","useSensorSetup","teardownFns","teardown","useSyntheticListeners","useWindowRect","defaultValue$2","useRects","firstElement","windowRect","rects","setRects","measureRects","getMeasurableNode","firstChild","useDragOverlayMeasuring","handleNodeChange","nodeRef","setRef","defaultSensors","defaultData","defaultMeasuringConfiguration","DroppableContainersMap","_super$get","_this$get$node$curren","_this$get","defaultPublicContext","defaultInternalContext","InternalContext","PublicContext","getInitialState","reducer","RestoreFocus","activatorEvent","previousActivatorEvent","previousActiveId","activatorNode","focusableNode","applyModifiers","modifiers","useMeasuringConfiguration","useLayoutShiftScrollCompensation","initialized","rectDelta","ActiveDraggableContext","Status","DndContext","_sensorContext$curren","_dragOverlay$nodeRef$","_dragOverlay$rect","_over$rect","accessibility","collisionDetection","measuring","store","useReducer","dispatch","dispatchMonitorEvent","registerMonitorListener","status","setStatus","isInitialized","activeId","translate","activeRects","_node$data","activeRef","activeSensor","setActiveSensor","setActivatorEvent","latestProps","draggableDescribedById","enabledDroppableContainers","measuringConfiguration","measuringScheduled","activationCoordinates","autoScrollOptions","getAutoScrollerOptions","initialActiveNodeRect","activeNodeRect","containerNodeRect","sensorContext","overNode","dragOverlay","draggingNode","draggingNodeRect","usesDragOverlay","nodeRectDelta","modifiedTranslate","scrollAdjustment","activeNodeScrollDelta","scrollAdjustedTranslate","overId","setOver","appliedTranslate","activeSensorRef","instantiateSensor","sensorInstance","onDragAbort","onDragPending","onDragStart","unstable_batchedUpdates","cancelDrop","bindActivatorToSensorInstantiator","nativeEvent","activeDraggableNode","activationContext","activators","onDragMove","onDragOver","overContainer","publicContext","internalContext","activeSensorDisablesAutoscroll","autoScrollGloballyDisabled","NullContext","defaultRole","ID_PREFIX","useDraggable","ariaDescribedById","role","roleDescription","tabIndex","setActivatorNodeRef","dataRef","memoizedAttributes","useDndContext","ID_PREFIX$1","defaultResizeObserverConfig","useDroppable","resizeObserverConfig","resizeObserverConnected","callbackId","resizeObserverDisabled","updateMeasurementsFor","resizeObserverTimeout","newElement","previousElement","AnimationManager","animation","clonedChildren","setClonedChildren","setElement","previousChildren","cloneElement","defaultTransform","NullifiedContextProvider","baseStyles","defaultTransition","PositionedOverlay","forwardRef","as","transition","scaleAdjustedTransform","defaultDropAnimationSideEffects","originalStyles","defaultKeyframeResolver","initial","final","defaultDropAnimationConfiguration","useDropAnimation","activeDraggable","measurableNode","createDefaultDropAnimation","sideEffects","keyframes","scale","finalTransform","animationKeyframes","firstKeyframe","lastKeyframe","resolve","useKey","DragOverlay","dropAnimationConfig","wrapperElement","zIndex","modifiedTransform","dropAnimation","arrayMove","array","to","newArray","getSortedRects","isValidIndex","itemsEqual","normalizeDisabled","defaultScale","horizontalListSortingStrategy","_rects$activeIndex","fallbackActiveRect","activeIndex","overIndex","itemGap","getItemGap","newIndexRect","previousRect","nextRect","rectSortingStrategy","newRects","oldRect","defaultScale$1","verticalListSortingStrategy","overIndexRect","getItemGap$1","clientRects","Context","SortableContext","userDefinedItems","disabledProp","containerId","useDragOverlay","previousItemsRef","itemsHaveChanged","disableTransforms","defaultNewIndexGetter","defaultAnimateLayoutChanges","isSorting","wasDragging","previousItems","previousContainerId","transitionProperty","disabledTransition","defaultAttributes","useDerivedTransform","derivedTransform","setDerivedtransform","previousIndex","useSortable","animateLayoutChanges","userDefinedAttributes","localDisabled","customData","getNewIndex","localStrategy","globalDisabled","sortedRects","globalStrategy","normalizeLocalDisabled","itemsAfterCurrentSortable","isOver","setDroppableNodeRef","setDraggableNodeRef","displaceItem","shouldDisplaceDragSource","dragSourceDisplacement","shouldAnimateLayoutChanges","getTransition","_localDisabled$dragga","_localDisabled$droppa","DEFAULT_PAGE_SIZE_OPTIONS","DEFAULT_ESTIMATE_ROW_HEIGHT","DEFAULT_ESTIMATE_COLUMN_WIDTH","DEFAULT_OVERSCAN","DEFAULT_HEIGHT","DEFAULT_EMPTY_MESSAGE","IndeterminateCheckbox","Minus","RadioButton","DraggableHeaderCell","GripVertical","DraggableRow","rowStyle","SortableRow","RowDragHandle","ContextMenu","onAction","menuRef","newX","newY","getDefaultCellMenuItems","Copy","Filter","ArrowUpDown","getDefaultRowMenuItems","Square","CheckSquare","Expand","Pin","PinOff","Trash2","getDefaultHeaderMenuItems","isPinned","ChevronUp","EyeOff","SelectFilter","isMulti","customOptions","columnFilterValue","facetedValues","clearFilter","displayText","DateFilter","isRange","handleDateChange","ColumnFilter","filterType","filterOptions","FilterComponent","NumberRangeFilter","TextFilter","sortedUniqueValues","EditableCell","initialValue","onEdit","EditComponent","editorType","editorOptions","validateCell","setValue","isEditing","setIsEditing","setError","selectRef","validate","handleSave","validationError","formatDisplayValue","renderEditor","ColumnVisibilityDropdown","open","setOpen","Columns","DataGridInner","columnsProp","getRowId","enableSorting","enableMultiSort","sortingProp","onSortingChange","manualSorting","enableFiltering","enableGlobalFilter","globalFilterProp","onGlobalFilterChange","columnFiltersProp","onColumnFiltersChange","manualFiltering","enableFuzzyFilter","enablePagination","pageSizeOptions","paginationProp","onPaginationChange","rowCount","manualPagination","enableRowSelection","enableMultiRowSelection","getRowCanSelect","enableSubRowSelection","selectAllMode","rowSelectionProp","onRowSelectionChange","onRowClick","onRowDoubleClick","enableExpanding","renderExpandedRow","getSubRows","enableExpandAll","expandedProp","onExpandedChange","enableGrouping","groupingProp","onGroupingChange","enableColumnResizing","columnResizeMode","enableColumnPinning","enableColumnOrdering","enableColumnVisibility","columnVisibilityProp","onColumnVisibilityChange","columnOrderProp","onColumnOrderChange","columnPinningProp","onColumnPinningChange","columnSizingProp","onColumnSizingChange","enableCellEditing","onCellEdit","rowPinningProp","onRowPinningChange","keepPinnedRows","enableRowOrdering","onRowOrderChange","enableColumnDrag","enableContextMenu","cellContextMenuItems","rowContextMenuItems","headerContextMenuItems","onContextMenuAction","enableClipboard","enableRangeSelection","onPaste","onCopy","enableVirtualization","enableColumnVirtualization","estimateRowHeight","estimateColumnWidth","virtualPageSize","virtualPageSizeOptions","onVirtualPageSizeChange","heightProp","bordered","showHeader","showFooter","renderEmpty","showToolbar","toolbarContent","enableKeyboardNavigation","setSorting","setColumnFilters","setGlobalFilter","setRowSelection","setExpanded","setGrouping","columnVisibility","setColumnVisibility","setColumnOrder","columnPinning","setColumnPinning","columnSizing","setColumnSizing","rowPinning","setRowPinning","setPagination","focusedCell","setFocusedCell","focusedCellRef","activeColumnId","setActiveColumnId","activeRowId","setActiveRowId","contextMenu","setContextMenu","rangeSelectionStart","setRangeSelectionStart","rangeSelectionEnd","setRangeSelectionEnd","selectedCells","setSelectedCells","isSelecting","setIsSelecting","tableContainerRef","virtualScrollElement","setVirtualScrollElement","internalVirtualPageSize","setInternalVirtualPageSize","effectiveVirtualPageSize","HEADER_HEIGHT","TOOLBAR_HEIGHT","handleVirtualPageSizeChange","newSize","handleVirtualScrollRef","cols","isSingleSelection","isSomeSelected","toggleHandler","colDef","addMeta","itemRank","dateValue","startStr","endStr","rowVirtualizer","virtualRows","totalSize","timer","visibleColumns","handleColumnDragStart","handleColumnDragEnd","oldIndex","newOrder","handleRowDragStart","handleRowDragEnd","newData","visibleColumnIds","calculateSelectedCells","minRowIndex","maxRowIndex","startColIndex","endColIndex","minColIndex","maxColIndex","colIndex","isCellSelected","handleCellMouseDown","handleCellMouseEnter","handleMouseUp","getCellValueAsString","handleCopyToClipboard","cellsToCopy","rowMap","existing","sortedRowIndices","dataRows","rowCells","err","parseClipboardData","lines","line","handlePasteFromClipboard","startPosition","minRow","cellsInMinRow","handleContextMenu","handleContextMenuAction","actionId","closeContextMenu","handleTableKeyDown","totalColumns","totalRows","columnIndex","handled","editable","prevFocused","prevCell","newCell","getExportDataFn","selectedOnly","includeHeaders","headerMap","excludeColumns","exportColumns","downloadFile","content","filename","mimeType","blob","url","escapeCSV","useImperativeHandle","csvRows","tsvRows","jsonData","XLSX","wsData","ws","wb","renderHeaderCell","sorted","canFilter","canPin","ChevronsUpDown","renderRow","virtualRow","isGrouped","isPinnedRow","rowContent","isCellInRange","renderPagination","containerClass","Shrink","headerIndex","isLastColumn","isSpecialColumn","footerGroup","DataGrid","TreeNode","selectedNodes","onCheck","onNodeClick","isLeaf","handleExpandClick","handleCheckboxChange","handleContentClick","nodeClasses","Tree","defaultExpandAll","getDefaultExpandedNodes","expandedSet","setSelectedNodes","handleToggle","nodeId","newSet","handleCheck","newSelectedNodes","getDescendantIds","findNode","found","targetNode","handleNodeClick","treeClasses","Badge","badgeClasses","AvatarBase","src","initials","shape","avatarClasses","statusClasses","AvatarGroup","Avatar","Tag","removable","onRemove","clickable","tagClasses","handleRemoveClick","TagGroup","DescriptionsItem","span","itemClasses","Descriptions","extra","vertical","Statistic","suffix","trend","getTrendIcon","iconProps","ArrowUp","ArrowDown","TrendingUp","TrendingDown","statisticClasses","trendClasses","iconClasses","trendLabel","Timeline","mode","timelineClasses","TimelineItem","meta","Carousel","autoPlay","effect","showArrows","showIndicators","showThumbnails","defaultIndex","controlledIndex","pauseOnHover","loop","internalIndex","setInternalIndex","isPaused","setIsPaused","touchStart","setTouchStart","touchEnd","setTouchEnd","autoPlayRef","currentIndex","slides","Children","slideCount","goToSlide","goToPrev","handleTouchEnd","thumbnail","CarouselSlide","caption","slideClasses","Image","fit","imageStatus","setImageStatus","showLightbox","setShowLightbox","handleLoad","handleError","handleImageClick","handleCloseLightbox","imgClasses","wrapperStyle","renderContent","ImageOff","ImageIcon","Maximize2","imageElement","lightbox","ImageViewer","images","initialIndex","toolbar","closable","maskClosable","keyboard","navigation","thumbnails","minZoom","maxZoom","zoomStep","onNavigate","setCurrentIndex","zoom","setZoom","rotation","setRotation","setLoading","imageRef","previousFocusRef","isGallery","currentImage","navigatePrevious","navigateNext","handleZoomIn","handleZoomOut","handleRotateRight","handleRotateLeft","handleReset","nextIndex","goToImage","handleMaskClick","handleImageLoad","isPrevDisabled","isNextDisabled","viewer","ZoomOut","ZoomIn","RotateCcw","RotateCw","OrderListItem","_props","OrderList","actions","draggable","onReorder","childrenArray","setItems","draggedIndex","setDraggedIndex","dragOverIndex","currentItems","moveItem","fromIndex","toIndex","newItems","movedItem","handleMoveUp","handleMoveDown","handleDragStart","handleDragEnd","itemProps","isFirst","isLast","variantIcons","Info","CheckCircle","AlertTriangle","XCircle","Alert","Icon","Toast","iconMap","Message","visible","Modal","closeOnOverlayClick","closeOnEscape","modalRef","previousActiveElement","firstFocusable","handleTabKey","focusableElements","lastElement","handleOverlayClick","ModalHeader","showCloseButton","ModalTitle","ModalBody","ModalFooter","Drawer","placement","closeOnEsc","ariaLabelledby","drawerRef","scrollbarWidth","handleTab","lastFocusable","drawerContent","DrawerHeader","showClose","DrawerBody","bodyClasses","DrawerFooter","footerClasses","Progress","ProgressBar","animated","variantClass","stripedClass","animatedClass","indeterminateClass","ProgressCircular","strokeWidth","showLabel","variantColor","ProgressSpinner","Skeleton","skeletonClasses","skeletonStyle","Spin","spinnerClasses","renderSpinner","SpinContainer","SpinOverlay","SpinFullscreen","DEFAULT_ICONS","ICON_LABELS","Result","displayIcon","ariaRole","ariaLive","renderExtra","EmptyState","emptyStateClasses","Popconfirm","iconType","okText","cancelText","okType","onConfirm","controlledOpen","onOpenChange","uncontrolledOpen","setUncontrolledOpen","handleTriggerClick","handleConfirm","trigger","isValidElement","originalOnClick","placementClass","iconClass","Menu","wide","newOpen","menuClass","MenuItem","shortcut","danger","itemClass","MenuDivider","dividerClass","MenuHeader","headerClass","Navbar","isMobileMenuOpen","setIsMobileMenuOpen","toggleMobileMenu","closeMobileMenu","childrenWithProps","NavbarNav","NavbarBrand","logo","handleItemClick","NavbarItem","onMobileClick","NavbarSearch","NavbarActions","NavbarDropdown","NavbarDropdownItem","NavbarDropdownDivider","Sidebar","isMobileOpen","setIsMobileOpen","handleBackdropClick","handleEscapeKey","SidebarNav","SidebarHeader","onItemClick","SidebarItem","badge","SidebarDivider","SidebarFooter","isGroup","Sidemenu","activeKey","controlledCollapsed","defaultCollapsed","onCollapse","brandIcon","brandText","userInfo","storageKey","uncontrolledCollapsed","setUncontrolledCollapsed","expandedKeys","setExpandedKeys","isCollapsed","handleToggleCollapse","newCollapsed","matchesSearch","titleMatch","childMatch","renderMenuItem","ItemTag","renderGroup","renderUserAvatar","n","Breadcrumb","separator","breadcrumbClass","BreadcrumbItem","BreadcrumbSeparator","separatorClass","generatePageNumbers","currentPage","totalPages","siblings","pages","leftSibling","rightSibling","page","PaginationButton","buttonClass","PageButton","onPageChange","Pagination","showPrevNext","showFirstLast","prevLabel","nextLabel","firstLabel","lastLabel","canGoPrev","paginationClass","goToFirst","goToLast","PaginationInfo","totalItems","infoClass","rangeInfo","SimplePagination","showInfo","TabsContext","useTabsContext","Tabs","orientation","TabsList","tabsClass","Tab","tabValue","counter","tabClass","TabPanel","panelValue","keepMounted","panelClass","TabContent","contentClass","Steps","getStepStatus","handleStepClick","renderIcon","isClickable","stepClasses","stepContent","Anchor","controlledActiveKey","offsetTop","sticky","rootMargin","smooth","setActiveKey","anchorRef","linksRef","observerRef","currentActiveKey","flattenItems","allItems","sections","targetId","section","observerOptions","visibleSections","firstVisible","foundItem","newActiveKey","targetSection","yOffset","allLinks","targetIndex","renderAnchorItem","el","childIndex","BackTop","_duration","showText","setVisible","rafRef","getScrollTop","targetElement","scrollToTop","buttonClasses","Affix","offsetBottom","affixed","setAffixed","affixRef","placeholderRef","affixStyle","setAffixStyle","placeholderStyle","setPlaceholderStyle","affixedRef","measurementsRef","rafIdRef","hasTop","updateMeasurements","affixElement","placeholderElement","originalOffsetTop","originalOffsetLeft","elementWidth","elementHeight","shouldAffix","offsetValue","elementBottom","Tooltip","delay","rich","generatedId","useId","tooltipId","isVisible","setIsVisible","tooltipPosition","setTooltipPosition","timeoutRef","tooltipRef","showTooltip","hideTooltip","tooltip","tooltipRect","margin","childProps","positionClass","richClass","Popover","popover","wideClass","PopoverHeader","PopoverContent","PopoverFooter","PopoverTitle","PopoverClose","Tour","steps","controlledCurrent","onFinish","onSkip","mask","showSkip","showProgress","defaultPlacement","uncontrolledCurrent","setUncontrolledCurrent","popupPosition","setPopupPosition","popupPlacement","setPopupPlacement","popupRef","setTargetElement","currentStep","setCurrentStep","updatePosition","targetRect","popupRect","handlePrev","handleSkip","isFirstStep","isLastStep","Divider","thickness","lineStyle","spacing","textAlign","dividerClasses","AccordionItem","defaultOpen","contentRef","headerId","contentId","toggleAccordion","maxHeight","Accordion","Segmented","block","SplitButton","menuItems","handleToggleClick","handleActionClick","handleMenuItemClick","Toolbar","bulk","bulkClass","ToolbarSection","ToolbarDivider","ToolbarSearch","ToolbarSelect","ToolbarBulkCount","Watermark","fontSize","rotate","opacity","gap","fullscreen","watermarkItems","setWatermarkItems","generateWatermark","diagonal","watermarkStyle","textStyle","watermarkLayer","NotificationCenter","NotificationCenterHeader","NotificationCenterTitle","NotificationCenterBody","NotificationCenterFooter","NotificationTabs","NotificationTab","NotificationItem","unread","NotificationIcon","NotificationContent","NotificationContentCompact","NotificationTitle","NotificationMessage","NotificationTime","NotificationAction","NotificationArrow","NotificationTrigger","Bell","NotificationDot","NotificationViewAll","DeviceCard","DeviceCardHeader","DeviceCardBody","DeviceCardFooter","DeviceCardIcon","background","DeviceCardTitleSection","subtitle","DeviceCardMetrics","DeviceCardMetric","DeviceCardInfo","LogContainer","filters","bodyStyle","LogEntry","details","timestamp","entryClassName","iconClassName","TimelineMetaItemComponent","ActivityLogItem","itemClassName","markerClassName","TimelineContainer","LogGroup","groupClassName","GroupedLogContainer","LogStat","statClassName","valueClassName","LogStats","containerStyle","AlarmPanel","summary","viewAllLink","onViewAll","handleViewAllClick","FilterButton","AlarmPanelFilters","activeFilter","onFilterChange","handleSearchChange","AlarmMetaItemComponent","AlarmItem","severity","isNew","isAcknowledged","isResolved","AlarmItemCompact","AutomationRule","onDuplicate","onDelete","setEnabled","newState","Edit","ArrowRight","ConnectionIndicator","showPulse","pulseClass","ConnectionDot","SignalIndicator","strength","getSignalStrength","bars","getConnectionStatus","isConnected","isConnecting","hasWarning","StatWidget","iconColor","iconBackground","ChartWidget","stats","chart","headerAction","stat","ListWidget","StatusWidget","StatusItem","colorMap","AnalyticsCard","iconGradient","change","ChartCard","DeviceHealthItem","_status","healthScore","healthLevel","metrics","statusBadge","metric","InsightItem","actionText","onActionClick","iconColorMap","ControlItem","handleSliderChange","DeviceControlCard","iconVariant","deviceId","switchLabel","sliderLabel","switchValue","sliderValue","sliderMin","sliderMax","sliderStep","onSwitchChange","onSliderChange","isOn","setIsOn","handleSwitchChange","iconCircleClassName","ModeButton","ModeSelection","modes","selectedMode","onModeChange","TemperatureControl","unit","FanSpeedOption","FanSpeedSelect","skeletonStyles","LoadingSkeleton","ListLoadingSkeleton","CompactLoadingSkeleton","StatItem","MetaItemComponent","GridCard","device","Cpu","gradientClass","statusClass","statusLabel","onPrimaryAction","primaryActionLabel","onSecondaryAction","secondaryActionLabel","handlePrimaryClick","handleSecondaryClick","Settings","RefreshCw","BarChart2","CompactCard","onMoreActions","badgeClass","metaText","handleMoreClick","MoreVertical","DeviceList","devices","view","emptyDescription","onEmptyAction","emptyActionLabel","onDeviceClick","DeviceListItem","showCheckbox","onCheckChange","offline","DeviceListContainer","spaced","severityBadgeClasses","EventRow","onSelectRow","onView","handleViewClick","badgeClassName","severityLabel","Eye","MoreHorizontal","currentFilter","EventDataTable","searchable","filterable","exportable","onExport","selectedFilter","setSelectedFilter","selectedIds","setSelectedIds","sortColumn","setSortColumn","setSortDirection","filteredEvents","matchesFilter","sortedEvents","severityOrder","handleFilterChange","handleSortTime","handleSortSeverity","handleSelectAll","allIds","ev","handleSelectRow","AlertCircle","Download","EventTimeline","EventItem","EventItemCompact","EventGroupHeader","KpiCardSkeleton","KpiCard","trendValue","trendDescription","iconStyle","trendIcon","cleanTrendValue","trendClassName","KpiCardGrid","gridStyle","gridClassName","MapMarker","DeviceInfoPopup","deviceName","location","onViewDetails","statusLabels","MapPin","MapLegend","HeatmapLegend","gradient","MapContainer","controls","footer","MapPlaceholder","ComparativeItem","valueStyle","MetricCard","subtext","progress","comparative","cardClassName","changeClassName","progressClassName","progressStyle","MetricCardGrid","ChartBar","MiniChart","getColor","total","intensity","StatusIndicator","RealtimeMetricCard","changeType","DataStreamTable","MonitorContainer","lastUpdate","onPause","onDownload","Play","Pause","MetricGrid","StatRow","SensorPanelSkeleton","SensorPanel","statusText","Thermometer","rangeText","sensorId","trendDirection","lastUpdated","displayStatusText","iconColorStyle","iconCircleClass","badgeXsClassName","progressWidth","SensorPanelGrid","gridClass","SensorPanelEmptyState","actionLabel","Activity","StatusBadge","pulse","statusClassName","word","displayLabel","StatusItemComponent","percent","CompactStatusItem","StatusCard","horizontalLayout","StatusCardGrid","ActionSheet","cancelLabel","showBackdrop","actionSheetClassName","backdropClassName","BottomSheet","showHandle","closeButton","sheetRef","startYRef","currentYRef","handleDragMove","deltaY","moveEvent","upEvent","FAB","hideOnScroll","hidden","setHidden","lastScrollY","setLastScrollY","currentScrollY","fabClassName","SpeedDialFAB","ActionIcon","MobileNavBar","withSafeArea","navClassName","PullToRefresh","onRefresh","pullDistance","pullState","setPullState","setTranslateY","isPulling","isMousePulling","contentClassName","indicatorClassName","getPullText","SwipeActions","leftActions","rightActions","itemRef","startXRef","currentXRef","setTranslateX","isSwiping","setIsSwiping","deltaX","newTranslateX","maxRight","maxLeft","boundedTranslateX","isMouseDragging"],"mappings":"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,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,GAAG;AAAA,EACH,GAAG;AAAA,EACH,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AACN,GACMC,KAAQ,OAAO,KAAKD,EAAY,EAAE,KAAK,GAAG,GAC1CE,KAAa,IAAI,OAAOD,IAAO,GAAG;AACxC,SAASE,GAAc5nB,GAAK;AAC1B,SAAOA,EAAI,QAAQ2nB,IAAY,CAAAt/B,MACtBo/B,GAAap/B,CAAK,CAC1B;AACH;AASA,MAAMw/B,KAAW;AAAA,EACf,sBAAsB;AAAA,EACtB,OAAO;AAAA,EACP,aAAa;AAAA,EACb,kBAAkB;AAAA,EAClB,UAAU;AAAA,EACV,SAAS;AAAA,EACT,SAAS;AAAA,EACT,UAAU;AACZ;AAQA,SAASC,GAAS/2B,GAAMtc,GAAOpE,GAAS;AACtC,MAAI03C;AAGJ,MAFA13C,IAAUA,KAAW,CAAA,GACrBA,EAAQ,aAAa03C,IAAqB13C,EAAQ,cAAc,OAAO03C,IAAqBF,GAAS,SACjG,CAACx3C,EAAQ,WAAW;AAEtB,UAAM23C,IAAOC,GAAgBl3B,GAAMtc,GAAOpE,CAAO;AACjD,WAAO;AAAA;AAAA,MAEL,aAAa0gB;AAAA,MACb,MAAAi3B;AAAA,MACA,eAAe;AAAA,MACf,mBAAmB33C,EAAQ;AAAA,MAC3B,QAAQ23C,KAAQ33C,EAAQ;AAAA,IAC9B;AAAA,EACE;AACA,QAAM63C,IAAeC,GAAmBp3B,GAAM1gB,EAAQ,SAAS,GACzD+3C,IAAc;AAAA,IAClB,aAAar3B;AAAA,IACb,MAAM82B,GAAS;AAAA,IACf,eAAe;AAAA,IACf,mBAAmBx3C,EAAQ;AAAA,IAC3B,QAAQ;AAAA,EACZ;AACE,WAAS,IAAI,GAAG,IAAI63C,EAAa,QAAQ,KAAK;AAC5C,UAAMG,IAAYH,EAAa,CAAC;AAChC,QAAII,IAAUL,GAAgBI,EAAU,WAAW5zC,GAAOpE,CAAO;AACjE,UAAM;AAAA,MACJ,YAAAk4C;AAAA,MACA,YAAAC;AAAA,MACA,WAAAC,IAAYp4C,EAAQ;AAAA,IAC1B,IAAQg4C,EAAU;AACd,IAAIC,IAAUC,KAAcD,KAAWT,GAAS,UAC9CS,IAAUC,IACDD,IAAUE,MACnBF,IAAUE,IAEZF,IAAU,KAAK,IAAIA,GAASE,CAAU,GAClCF,KAAWG,KAAaH,IAAUF,EAAY,SAChDA,EAAY,OAAOE,GACnBF,EAAY,SAAS,IACrBA,EAAY,gBAAgB,GAC5BA,EAAY,oBAAoBK,GAChCL,EAAY,cAAcC,EAAU;AAAA,EAExC;AACA,SAAOD;AACT;AASA,SAASH,GAAgBS,GAAYC,GAAct4C,GAAS;AAK1D,SAJAq4C,IAAaE,GAA0BF,GAAYr4C,CAAO,GAC1Ds4C,IAAeC,GAA0BD,GAAct4C,CAAO,GAG1Ds4C,EAAa,SAASD,EAAW,SAC5Bb,GAAS,WAIda,MAAeC,IACVd,GAAS,wBAIlBa,IAAaA,EAAW,YAAW,GACnCC,IAAeA,EAAa,YAAW,GAGnCD,MAAeC,IACVd,GAAS,QAIda,EAAW,WAAWC,CAAY,IAC7Bd,GAAS,cAIda,EAAW,SAAS,IAAIC,CAAY,EAAE,IACjCd,GAAS,mBAIda,EAAW,SAASC,CAAY,IAC3Bd,GAAS,WACPc,EAAa,WAAW,IAI1Bd,GAAS,WAIdgB,GAAWH,CAAU,EAAE,SAASC,CAAY,IACvCd,GAAS,UAKXiB,GAAoBJ,GAAYC,CAAY;AACrD;AAQA,SAASE,GAAWE,GAAQ;AAC1B,MAAIC,IAAU;AAEd,SADsBD,EAAO,MAAM,GAAG,EACxB,QAAQ,CAAAE,MAAgB;AAEpC,IAD2BA,EAAa,MAAM,GAAG,EAC9B,QAAQ,CAAAC,MAAqB;AAC9C,MAAAF,KAAWE,EAAkB,OAAO,GAAG,CAAC;AAAA,IAC1C,CAAC;AAAA,EACH,CAAC,GACMF;AACT;AAYA,SAASF,GAAoBJ,GAAYC,GAAc;AACrD,MAAIQ,IAA2B,GAC3BC,IAAa;AACjB,WAASC,EAAsBC,GAAWP,GAAQ/tC,GAAO;AACvD,aAAS4hC,IAAI5hC,GAAOuuC,IAAIR,EAAO,QAAQnM,IAAI2M,GAAG3M;AAE5C,UADmBmM,EAAOnM,CAAC,MACR0M;AACjB,eAAAH,KAA4B,GACrBvM,IAAI;AAGf,WAAO;AAAA,EACT;AACA,WAAS4M,EAAWC,GAAQ;AAC1B,UAAMC,IAAmB,IAAID,GACvBE,IAAoBR,IAA2BR,EAAa;AAElE,WADgBd,GAAS,UAAU8B,IAAoBD;AAAA,EAEzD;AACA,QAAME,IAAaP,EAAsBV,EAAa,CAAC,GAAGD,GAAY,CAAC;AACvE,MAAIkB,IAAa;AACf,WAAO/B,GAAS;AAElB,EAAAuB,IAAaQ;AACb,WAAS5xC,IAAI,GAAG6xC,IAAIlB,EAAa,QAAQ3wC,IAAI6xC,GAAG7xC,KAAK;AACnD,UAAMsxC,IAAYX,EAAa3wC,CAAC;AAGhC,QAFAoxC,IAAaC,EAAsBC,GAAWZ,GAAYU,CAAU,GAEhE,EADUA,IAAa;AAEzB,aAAOvB,GAAS;AAAA,EAEpB;AACA,QAAM4B,IAASL,IAAaQ;AAC5B,SAAOJ,EAAWC,CAAM;AAC1B;AAkBA,SAASb,GAA0Bn0C,GAAO0sB,GAAM;AAC9C,MAAI;AAAA,IACF,gBAAA2oB;AAAA,EACJ,IAAM3oB;AAGJ,SAAA1sB,IAAQ,GAAGA,CAAK,IACXq1C,MACHr1C,IAAQmzC,GAAcnzC,CAAK,IAEtBA;AACT;AAQA,SAASs1C,GAAch5B,GAAMi5B,GAAU;AACrC,MAAIzoB,IAAayoB;AACjB,EAAI,OAAOA,KAAa,aACtBzoB,IAAayoB,EAAS;AAExB,QAAMv1C,IAAQ8sB,EAAWxQ,CAAI;AAG7B,SAAItc,KAAS,OACJ,CAAA,IAEL,MAAM,QAAQA,CAAK,IACdA,IAEF,CAAC,OAAOA,CAAK,CAAC;AACvB;AAQA,SAAS0zC,GAAmBp3B,GAAMk5B,GAAW;AAC3C,QAAMC,IAAY,CAAA;AAClB,WAAStN,IAAI,GAAG2M,IAAIU,EAAU,QAAQrN,IAAI2M,GAAG3M,KAAK;AAChD,UAAMoN,IAAWC,EAAUrN,CAAC,GACtBuN,IAAaC,GAAsBJ,CAAQ,GAC3CK,IAAaN,GAAch5B,GAAMi5B,CAAQ;AAC/C,aAAShyC,IAAI,GAAG6xC,IAAIQ,EAAW,QAAQryC,IAAI6xC,GAAG7xC;AAC5C,MAAAkyC,EAAU,KAAK;AAAA,QACb,WAAWG,EAAWryC,CAAC;AAAA,QACvB,YAAAmyC;AAAA,MACR,CAAO;AAAA,EAEL;AACA,SAAOD;AACT;AACA,MAAMI,KAAuB;AAAA,EAC3B,YAAY;AAAA,EACZ,YAAY;AACd;AAMA,SAASF,GAAsBJ,GAAU;AACvC,SAAI,OAAOA,KAAa,aACfM,KAEF;AAAA,IACL,GAAGA;AAAA,IACH,GAAGN;AAAA,EACP;AACA;AChsBA,SAASO,KAAkB;AACzB,WAASC,IAAO,UAAU,QAAQC,IAAO,IAAI,MAAMD,CAAI,GAAGE,IAAO,GAAGA,IAAOF,GAAME;AAC/E,IAAAD,EAAKC,CAAI,IAAI,UAAUA,CAAI;AAG7B,SAAO36C;AAAA,IAAQ,MAAM,CAAAsC,MAAQ;AAC3B,MAAAo4C,EAAK,QAAQ,CAAA98C,MAAOA,EAAI0E,CAAI,CAAC;AAAA,IAC/B;AAAA;AAAA,IACAo4C;AAAA,EAAI;AACN;AAGA,MAAME,KAAY,OAAO,SAAW,OAAe,OAAO,OAAO,WAAa,OAAe,OAAO,OAAO,SAAS,gBAAkB;AAEtI,SAASC,GAASx0B,GAAS;AACzB,QAAMy0B,IAAgB,OAAO,UAAU,SAAS,KAAKz0B,CAAO;AAC5D,SAAOy0B,MAAkB;AAAA,EACzBA,MAAkB;AACpB;AAEA,SAASC,GAAOz4C,GAAM;AACpB,SAAO,cAAcA;AACvB;AAEA,SAAS04C,GAAU3gC,GAAQ;AACzB,MAAI4gC,GAAuBC;AAE3B,SAAK7gC,IAIDwgC,GAASxgC,CAAM,IACVA,IAGJ0gC,GAAO1gC,CAAM,MAIV4gC,KAAyBC,IAAyB7gC,EAAO,kBAAkB,OAAO,SAAS6gC,EAAuB,gBAAgB,OAAOD,IAHxI,SARA;AAYX;AAEA,SAASE,GAAW74C,GAAM;AACxB,QAAM;AAAA,IACJ,UAAA84C;AAAA,EACJ,IAAMJ,GAAU14C,CAAI;AAClB,SAAOA,aAAgB84C;AACzB;AAEA,SAASC,GAAc/4C,GAAM;AAC3B,SAAIu4C,GAASv4C,CAAI,IACR,KAGFA,aAAgB04C,GAAU14C,CAAI,EAAE;AACzC;AAEA,SAASg5C,GAAah5C,GAAM;AAC1B,SAAOA,aAAgB04C,GAAU14C,CAAI,EAAE;AACzC;AAEA,SAASi5C,GAAiBlhC,GAAQ;AAChC,SAAKA,IAIDwgC,GAASxgC,CAAM,IACVA,EAAO,WAGX0gC,GAAO1gC,CAAM,IAId8gC,GAAW9gC,CAAM,IACZA,IAGLghC,GAAchhC,CAAM,KAAKihC,GAAajhC,CAAM,IACvCA,EAAO,gBAGT,WAXE,WARA;AAoBX;AAOA,MAAM+8B,KAA4BwD,KAAYY,KAAkBx5C;AAEhE,SAASy5C,GAASzJ,GAAS;AACzB,QAAM0J,IAAax6C,EAAO8wC,CAAO;AACjC,SAAAoF,GAA0B,MAAM;AAC9B,IAAAsE,EAAW,UAAU1J;AAAA,EACvB,CAAC,GACMjyC,EAAY,WAAY;AAC7B,aAAS06C,IAAO,UAAU,QAAQlJ,IAAO,IAAI,MAAMkJ,CAAI,GAAGE,IAAO,GAAGA,IAAOF,GAAME;AAC/E,MAAApJ,EAAKoJ,CAAI,IAAI,UAAUA,CAAI;AAG7B,WAAOe,EAAW,WAAW,OAAO,SAASA,EAAW,QAAQ,GAAGnK,CAAI;AAAA,EACzE,GAAG,CAAA,CAAE;AACP;AAEA,SAASoK,KAAc;AACrB,QAAMC,IAAc16C,EAAO,IAAI,GACzB26C,IAAM97C,EAAY,CAAC+7C,GAAUC,MAAa;AAC9C,IAAAH,EAAY,UAAU,YAAYE,GAAUC,CAAQ;AAAA,EACtD,GAAG,CAAA,CAAE,GACCC,IAAQj8C,EAAY,MAAM;AAC9B,IAAI67C,EAAY,YAAY,SAC1B,cAAcA,EAAY,OAAO,GACjCA,EAAY,UAAU;AAAA,EAE1B,GAAG,CAAA,CAAE;AACL,SAAO,CAACC,GAAKG,CAAK;AACpB;AAEA,SAASC,GAAev3C,GAAOw3C,GAAc;AAC3C,EAAIA,MAAiB,WACnBA,IAAe,CAACx3C,CAAK;AAGvB,QAAMy3C,IAAWj7C,EAAOwD,CAAK;AAC7B,SAAA0yC,GAA0B,MAAM;AAC9B,IAAI+E,EAAS,YAAYz3C,MACvBy3C,EAAS,UAAUz3C;AAAA,EAEvB,GAAGw3C,CAAY,GACRC;AACT;AAEA,SAASC,GAAYC,GAAUH,GAAc;AAC3C,QAAMC,IAAWj7C,EAAM;AACvB,SAAOlB;AAAA,IAAQ,MAAM;AACnB,YAAMsJ,IAAW+yC,EAASF,EAAS,OAAO;AAC1C,aAAAA,EAAS,UAAU7yC,GACZA;AAAA,IACT;AAAA;AAAA,IACA,CAAC,GAAG4yC,CAAY;AAAA,EAAC;AACnB;AAEA,SAASI,GAAW97C,GAAU;AAC5B,QAAM+7C,IAAkBd,GAASj7C,CAAQ,GACnC8B,IAAOpB,EAAO,IAAI,GAClBs7C,IAAaz8C;AAAA,IAAY,CAAAsmB,MAAW;AACxC,MAAIA,MAAY/jB,EAAK,WACgBi6C,IAAgBl2B,GAAS/jB,EAAK,OAAO,GAG1EA,EAAK,UAAU+jB;AAAA,IACjB;AAAA;AAAA,IACA;EAAE;AACF,SAAO,CAAC/jB,GAAMk6C,CAAU;AAC1B;AAEA,SAASC,GAAY/3C,GAAO;AAC1B,QAAM9G,IAAMsD,EAAM;AAClB,SAAAc,EAAU,MAAM;AACd,IAAApE,EAAI,UAAU8G;AAAA,EAChB,GAAG,CAACA,CAAK,CAAC,GACH9G,EAAI;AACb;AAEA,IAAI8+C,KAAM,CAAA;AACV,SAASC,GAAYC,GAAQl4C,GAAO;AAClC,SAAO1E,EAAQ,MAAM;AACnB,QAAI0E;AACF,aAAOA;AAGT,UAAMzF,IAAKy9C,GAAIE,CAAM,KAAK,OAAO,IAAIF,GAAIE,CAAM,IAAI;AACnD,WAAAF,GAAIE,CAAM,IAAI39C,GACP29C,IAAS,MAAM39C;AAAA,EACxB,GAAG,CAAC29C,GAAQl4C,CAAK,CAAC;AACpB;AAEA,SAASm4C,GAAmBC,GAAU;AACpC,SAAO,SAAUC,GAAQ;AACvB,aAAStC,IAAO,UAAU,QAAQtH,IAAc,IAAI,MAAMsH,IAAO,IAAIA,IAAO,IAAI,CAAC,GAAGE,IAAO,GAAGA,IAAOF,GAAME;AACzG,MAAAxH,EAAYwH,IAAO,CAAC,IAAI,UAAUA,CAAI;AAGxC,WAAOxH,EAAY,OAAO,CAAC6J,GAAaC,MAAe;AACrD,YAAM/K,IAAU,OAAO,QAAQ+K,CAAU;AAEzC,iBAAW,CAACtxC,GAAKuxC,CAAe,KAAKhL,GAAS;AAC5C,cAAMxtC,IAAQs4C,EAAYrxC,CAAG;AAE7B,QAAIjH,KAAS,SACXs4C,EAAYrxC,CAAG,IAAIjH,IAAQo4C,IAAWI;AAAA,MAE1C;AAEA,aAAOF;AAAA,IACT,GAAG;AAAA,MAAE,GAAGD;AAAA,IACZ,CAAK;AAAA,EACH;AACF;AAEA,MAAMI,KAAmB,gBAAAN,GAAmB,CAAC,GACvCO,KAAwB,gBAAAP,GAAmB,EAAE;AAEnD,SAASQ,GAA+Bn7C,GAAO;AAC7C,SAAO,aAAaA,KAAS,aAAaA;AAC5C;AAEA,SAASo7C,GAAgBp7C,GAAO;AAC9B,MAAI,CAACA;AACH,WAAO;AAGT,QAAM;AAAA,IACJ,eAAAq7C;AAAA,EACJ,IAAMvC,GAAU94C,EAAM,MAAM;AAC1B,SAAOq7C,KAAiBr7C,aAAiBq7C;AAC3C;AAEA,SAASC,GAAat7C,GAAO;AAC3B,MAAI,CAACA;AACH,WAAO;AAGT,QAAM;AAAA,IACJ,YAAAu7C;AAAA,EACJ,IAAMzC,GAAU94C,EAAM,MAAM;AAC1B,SAAOu7C,KAAcv7C,aAAiBu7C;AACxC;AAMA,SAASC,GAAoBx7C,GAAO;AAClC,MAAIs7C,GAAat7C,CAAK;AACpB,QAAIA,EAAM,WAAWA,EAAM,QAAQ,QAAQ;AACzC,YAAM;AAAA,QACJ,SAASwK;AAAA,QACT,SAASixC;AAAA,MACjB,IAAUz7C,EAAM,QAAQ,CAAC;AACnB,aAAO;AAAA,QACL,GAAAwK;AAAA,QACA,GAAAixC;AAAA,MACR;AAAA,IACI,WAAWz7C,EAAM,kBAAkBA,EAAM,eAAe,QAAQ;AAC9D,YAAM;AAAA,QACJ,SAASwK;AAAA,QACT,SAASixC;AAAA,MACjB,IAAUz7C,EAAM,eAAe,CAAC;AAC1B,aAAO;AAAA,QACL,GAAAwK;AAAA,QACA,GAAAixC;AAAA,MACR;AAAA,IACI;AAAA;AAGF,SAAIN,GAA+Bn7C,CAAK,IAC/B;AAAA,IACL,GAAGA,EAAM;AAAA,IACT,GAAGA,EAAM;AAAA,EACf,IAGS;AACT;AAEA,MAAM07C,KAAmB,uBAAO,OAAO;AAAA,EACrC,WAAW;AAAA,IACT,SAASC,GAAW;AAClB,UAAI,CAACA;AACH;AAGF,YAAM;AAAA,QACJ,GAAAnxC;AAAA,QACA,GAAAixC;AAAA,MACR,IAAUE;AACJ,aAAO,kBAAkBnxC,IAAI,KAAK,MAAMA,CAAC,IAAI,KAAK,UAAUixC,IAAI,KAAK,MAAMA,CAAC,IAAI,KAAK;AAAA,IACvF;AAAA,EAEJ;AAAA,EACE,OAAO;AAAA,IACL,SAASE,GAAW;AAClB,UAAI,CAACA;AACH;AAGF,YAAM;AAAA,QACJ,QAAAC;AAAA,QACA,QAAAC;AAAA,MACR,IAAUF;AACJ,aAAO,YAAYC,IAAS,cAAcC,IAAS;AAAA,IACrD;AAAA,EAEJ;AAAA,EACE,WAAW;AAAA,IACT,SAASF,GAAW;AAClB,UAAKA;AAIL,eAAO,CAACD,GAAI,UAAU,SAASC,CAAS,GAAGD,GAAI,MAAM,SAASC,CAAS,CAAC,EAAE,KAAK,GAAG;AAAA,IACpF;AAAA,EAEJ;AAAA,EACE,YAAY;AAAA,IACV,SAASzsB,GAAM;AACb,UAAI;AAAA,QACF,UAAA4sB;AAAA,QACA,UAAAjC;AAAA,QACA,QAAAkC;AAAA,MACR,IAAU7sB;AACJ,aAAO4sB,IAAW,MAAMjC,IAAW,QAAQkC;AAAA,IAC7C;AAAA,EAEJ;AACA,CAAC,GAEKC,KAAW;AACjB,SAASC,GAAuB93B,GAAS;AACvC,SAAIA,EAAQ,QAAQ63B,EAAQ,IACnB73B,IAGFA,EAAQ,cAAc63B,EAAQ;AACvC;ACvUA,MAAME,KAAe;AAAA,EACnB,SAAS;AACX;AACA,SAASC,GAAWjtB,GAAM;AACxB,MAAI;AAAA,IACF,IAAAnyB;AAAA,IACA,OAAAyF;AAAA,EACJ,IAAM0sB;AACJ,SAAOn0B,GAAM,cAAc,OAAO;AAAA,IAChC,IAAIgC;AAAA,IACJ,OAAOm/C;AAAA,EACX,GAAK15C,CAAK;AACV;AAEA,SAAS45C,GAAWltB,GAAM;AACxB,MAAI;AAAA,IACF,IAAAnyB;AAAA,IACA,cAAAs/C;AAAA,IACA,cAAAC,IAAe;AAAA,EACnB,IAAMptB;AAEJ,QAAMqtB,IAAiB;AAAA,IACrB,UAAU;AAAA,IACV,KAAK;AAAA,IACL,MAAM;AAAA,IACN,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,UAAU;AAAA,IACV,MAAM;AAAA,IACN,UAAU;AAAA,IACV,YAAY;AAAA,EAChB;AACE,SAAOxhD,GAAM,cAAc,OAAO;AAAA,IAChC,IAAIgC;AAAA,IACJ,OAAOw/C;AAAA,IACP,MAAM;AAAA,IACN,aAAaD;AAAA,IACb,eAAe;AAAA,EACnB,GAAKD,CAAY;AACjB;AAEA,SAASG,KAAkB;AACzB,QAAM,CAACH,GAAcI,CAAe,IAAI/9C,EAAS,EAAE;AAMnD,SAAO;AAAA,IACL,UANeb,EAAY,CAAA2E,MAAS;AACpC,MAAIA,KAAS,QACXi6C,EAAgBj6C,CAAK;AAAA,IAEzB,GAAG,CAAA,CAAE;AAAA,IAGH,cAAA65C;AAAA,EACJ;AACA;ACpDA,MAAMK,KAAiC,gBAAAtyB,GAAc,IAAI;AAEzD,SAASuyB,GAAc/C,GAAU;AAC/B,QAAMgD,IAAmBtyB,GAAWoyB,EAAiB;AACrD,EAAA58C,EAAU,MAAM;AACd,QAAI,CAAC88C;AACH,YAAM,IAAI,MAAM,8DAA8D;AAIhF,WADoBA,EAAiBhD,CAAQ;AAAA,EAE/C,GAAG,CAACA,GAAUgD,CAAgB,CAAC;AACjC;AAEA,SAASC,KAAwB;AAC/B,QAAM,CAACC,CAAS,IAAIp+C,EAAS,MAAM,oBAAI,IAAG,CAAE,GACtCk+C,IAAmB/+C,EAAY,CAAA+7C,OACnCkD,EAAU,IAAIlD,CAAQ,GACf,MAAMkD,EAAU,OAAOlD,CAAQ,IACrC,CAACkD,CAAS,CAAC;AAYd,SAAO,CAXUj/C,EAAY,CAAAqxB,MAAQ;AACnC,QAAI;AAAA,MACF,MAAA1zB;AAAA,MACA,OAAAwE;AAAA,IACN,IAAQkvB;AACJ,IAAA4tB,EAAU,QAAQ,CAAAlD,MAAY;AAC5B,UAAImD;AAEJ,cAAQA,IAAiBnD,EAASp+C,CAAI,MAAM,OAAO,SAASuhD,EAAe,KAAKnD,GAAU55C,CAAK;AAAA,IACjG,CAAC;AAAA,EACH,GAAG,CAAC88C,CAAS,CAAC,GACIF,CAAgB;AACpC;AAEA,MAAMI,KAAkC;AAAA,EACtC,WAAW;AAAA;AAAA;AAAA;AAAA;AACb,GACMC,KAAuB;AAAA,EAC3B,YAAY/tB,GAAM;AAChB,QAAI;AAAA,MACF,QAAAguB;AAAA,IACN,IAAQhuB;AACJ,WAAO,8BAA8BguB,EAAO,KAAK;AAAA,EACnD;AAAA,EAEA,WAAWliB,GAAO;AAChB,QAAI;AAAA,MACF,QAAAkiB;AAAA,MACA,MAAAC;AAAA,IACN,IAAQniB;AAEJ,WAAImiB,IACK,oBAAoBD,EAAO,KAAK,oCAAoCC,EAAK,KAAK,MAGhF,oBAAoBD,EAAO,KAAK;AAAA,EACzC;AAAA,EAEA,UAAUjhB,GAAO;AACf,QAAI;AAAA,MACF,QAAAihB;AAAA,MACA,MAAAC;AAAA,IACN,IAAQlhB;AAEJ,WAAIkhB,IACK,oBAAoBD,EAAO,KAAK,sCAAsCC,EAAK,KAG7E,oBAAoBD,EAAO,KAAK;AAAA,EACzC;AAAA,EAEA,aAAa3b,GAAO;AAClB,QAAI;AAAA,MACF,QAAA2b;AAAA,IACN,IAAQ3b;AACJ,WAAO,4CAA4C2b,EAAO,KAAK;AAAA,EACjE;AAEF;AAEA,SAASE,GAAcluB,GAAM;AAC3B,MAAI;AAAA,IACF,eAAAmuB,IAAgBJ;AAAA,IAChB,WAAAK;AAAA,IACA,yBAAAC;AAAA,IACA,0BAAAC,IAA2BR;AAAA,EAC/B,IAAM9tB;AACJ,QAAM;AAAA,IACJ,UAAAuuB;AAAA,IACA,cAAApB;AAAA,EACJ,IAAMG,GAAe,GACbkB,IAAejD,GAAY,eAAe,GAC1C,CAACkD,GAASC,CAAU,IAAIl/C,EAAS,EAAK;AA+D5C,MA9DAoB,EAAU,MAAM;AACd,IAAA89C,EAAW,EAAI;AAAA,EACjB,GAAG,CAAA,CAAE,GACLjB,GAAc7+C,EAAQ,OAAO;AAAA,IAC3B,YAAYk9B,GAAO;AACjB,UAAI;AAAA,QACF,QAAAkiB;AAAA,MACR,IAAUliB;AACJ,MAAAyiB,EAASJ,EAAc,YAAY;AAAA,QACjC,QAAAH;AAAA,MACR,CAAO,CAAC;AAAA,IACJ;AAAA,IAEA,WAAWjhB,GAAO;AAChB,UAAI;AAAA,QACF,QAAAihB;AAAA,QACA,MAAAC;AAAA,MACR,IAAUlhB;AAEJ,MAAIohB,EAAc,cAChBI,EAASJ,EAAc,WAAW;AAAA,QAChC,QAAAH;AAAA,QACA,MAAAC;AAAA,MACV,CAAS,CAAC;AAAA,IAEN;AAAA,IAEA,WAAW5b,GAAO;AAChB,UAAI;AAAA,QACF,QAAA2b;AAAA,QACA,MAAAC;AAAA,MACR,IAAU5b;AACJ,MAAAkc,EAASJ,EAAc,WAAW;AAAA,QAChC,QAAAH;AAAA,QACA,MAAAC;AAAA,MACR,CAAO,CAAC;AAAA,IACJ;AAAA,IAEA,UAAUzb,GAAO;AACf,UAAI;AAAA,QACF,QAAAwb;AAAA,QACA,MAAAC;AAAA,MACR,IAAUzb;AACJ,MAAA+b,EAASJ,EAAc,UAAU;AAAA,QAC/B,QAAAH;AAAA,QACA,MAAAC;AAAA,MACR,CAAO,CAAC;AAAA,IACJ;AAAA,IAEA,aAAaU,GAAO;AAClB,UAAI;AAAA,QACF,QAAAX;AAAA,QACA,MAAAC;AAAA,MACR,IAAUU;AACJ,MAAAJ,EAASJ,EAAc,aAAa;AAAA,QAClC,QAAAH;AAAA,QACA,MAAAC;AAAA,MACR,CAAO,CAAC;AAAA,IACJ;AAAA,EAEJ,IAAM,CAACM,GAAUJ,CAAa,CAAC,CAAC,GAE1B,CAACM;AACH,WAAO;AAGT,QAAMG,IAAS/iD,GAAM,cAAcA,GAAM,UAAU,MAAMA,GAAM,cAAcohD,IAAY;AAAA,IACvF,IAAIoB;AAAA,IACJ,OAAOC,EAAyB;AAAA,EACpC,CAAG,GAAGziD,GAAM,cAAcqhD,IAAY;AAAA,IAClC,IAAIsB;AAAA,IACJ,cAAcrB;AAAA,EAClB,CAAG,CAAC;AACF,SAAOiB,IAAYhlC,GAAawlC,GAAQR,CAAS,IAAIQ;AACvD;AAEA,IAAIC;AAAA,CAEH,SAAUA,GAAQ;AACjB,EAAAA,EAAO,YAAe,aACtBA,EAAO,WAAc,YACrBA,EAAO,UAAa,WACpBA,EAAO,aAAgB,cACvBA,EAAO,WAAc,YACrBA,EAAO,oBAAuB,qBAC9BA,EAAO,uBAA0B,wBACjCA,EAAO,sBAAyB;AAClC,GAAGA,OAAWA,KAAS,CAAA,EAAG;AAE1B,SAASn9C,KAAO;AAAC;AAEjB,SAASo9C,GAAUC,GAAQ7/C,GAAS;AAClC,SAAON;AAAA,IAAQ,OAAO;AAAA,MACpB,QAAAmgD;AAAA,MACA,SAAS7/C,KAA4B,CAAA;AAAA,IACzC;AAAA;AAAA,IACE,CAAC6/C,GAAQ7/C,CAAO;AAAA,EAAC;AACnB;AAEA,SAAS8/C,KAAa;AACpB,WAAS3F,IAAO,UAAU,QAAQ4F,IAAU,IAAI,MAAM5F,CAAI,GAAGE,IAAO,GAAGA,IAAOF,GAAME;AAClF,IAAA0F,EAAQ1F,CAAI,IAAI,UAAUA,CAAI;AAGhC,SAAO36C;AAAA,IAAQ,MAAM,CAAC,GAAGqgD,CAAO,EAAE,OAAO,CAAAF,MAAUA,KAAU,IAAI;AAAA;AAAA,IACjE,CAAC,GAAGE,CAAO;AAAA,EAAC;AACd;AAEA,MAAMC,KAAkC,uBAAO,OAAO;AAAA,EACpD,GAAG;AAAA,EACH,GAAG;AACL,CAAC;AAKD,SAASC,GAAgBC,GAAIC,GAAI;AAC/B,SAAO,KAAK,KAAK,KAAK,IAAID,EAAG,IAAIC,EAAG,GAAG,CAAC,IAAI,KAAK,IAAID,EAAG,IAAIC,EAAG,GAAG,CAAC,CAAC;AACtE;AAEA,SAASC,GAA2Bx+C,GAAOkJ,GAAM;AAC/C,QAAMu1C,IAAmBjD,GAAoBx7C,CAAK;AAElD,MAAI,CAACy+C;AACH,WAAO;AAGT,QAAMC,IAAkB;AAAA,IACtB,IAAID,EAAiB,IAAIv1C,EAAK,QAAQA,EAAK,QAAQ;AAAA,IACnD,IAAIu1C,EAAiB,IAAIv1C,EAAK,OAAOA,EAAK,SAAS;AAAA,EACvD;AACE,SAAOw1C,EAAgB,IAAI,OAAOA,EAAgB,IAAI;AACxD;AAKA,SAASC,GAAkBzvB,GAAM8L,GAAO;AACtC,MAAI;AAAA,IACF,MAAM;AAAA,MACJ,OAAOnlB;AAAA,IACb;AAAA,EACA,IAAMqZ,GACA;AAAA,IACF,MAAM;AAAA,MACJ,OAAO3kB;AAAA,IACb;AAAA,EACA,IAAMywB;AACJ,SAAOnlB,IAAItL;AACb;AAKA,SAASq0C,GAAmB3iB,GAAOsF,GAAO;AACxC,MAAI;AAAA,IACF,MAAM;AAAA,MACJ,OAAO1rB;AAAA,IACb;AAAA,EACA,IAAMomB,GACA;AAAA,IACF,MAAM;AAAA,MACJ,OAAO1xB;AAAA,IACb;AAAA,EACA,IAAMg3B;AACJ,SAAOh3B,IAAIsL;AACb;AA2BA,SAASgpC,GAAkBC,GAAYhD,GAAU;AAC/C,MAAI,CAACgD,KAAcA,EAAW,WAAW;AACvC,WAAO;AAGT,QAAM,CAACC,CAAc,IAAID;AACzB,SAAkBC,EAAejD,CAAQ;AAC3C;AAMA,SAASkD,GAAkB91C,GAAM6O,GAAMD,GAAK;AAC1C,SAAIC,MAAS,WACXA,IAAO7O,EAAK,OAGV4O,MAAQ,WACVA,IAAM5O,EAAK,MAGN;AAAA,IACL,GAAG6O,IAAO7O,EAAK,QAAQ;AAAA,IACvB,GAAG4O,IAAM5O,EAAK,SAAS;AAAA,EAC3B;AACA;AAOA,MAAM+1C,KAAgB,CAAA/vB,MAAQ;AAC5B,MAAI;AAAA,IACF,eAAAgwB;AAAA,IACA,gBAAAC;AAAA,IACA,qBAAAC;AAAA,EACJ,IAAMlwB;AACJ,QAAMmwB,IAAaL,GAAkBE,GAAeA,EAAc,MAAMA,EAAc,GAAG,GACnFJ,IAAa,CAAA;AAEnB,aAAWQ,KAAsBF,GAAqB;AACpD,UAAM;AAAA,MACJ,IAAAriD;AAAA,IACN,IAAQuiD,GACEp2C,IAAOi2C,EAAe,IAAIpiD,CAAE;AAElC,QAAImM,GAAM;AACR,YAAMq2C,IAAclB,GAAgBW,GAAkB91C,CAAI,GAAGm2C,CAAU;AACvE,MAAAP,EAAW,KAAK;AAAA,QACd,IAAA/hD;AAAA,QACA,MAAM;AAAA,UACJ,oBAAAuiD;AAAA,UACA,OAAOC;AAAA,QACjB;AAAA,MACA,CAAO;AAAA,IACH;AAAA,EACF;AAEA,SAAOT,EAAW,KAAKH,EAAiB;AAC1C;AA6CA,SAASa,GAAqBtP,GAAO/3B,GAAQ;AAC3C,QAAML,IAAM,KAAK,IAAIK,EAAO,KAAK+3B,EAAM,GAAG,GACpCn4B,IAAO,KAAK,IAAII,EAAO,MAAM+3B,EAAM,IAAI,GACvC5f,IAAQ,KAAK,IAAInY,EAAO,OAAOA,EAAO,OAAO+3B,EAAM,OAAOA,EAAM,KAAK,GACrE9O,IAAS,KAAK,IAAIjpB,EAAO,MAAMA,EAAO,QAAQ+3B,EAAM,MAAMA,EAAM,MAAM,GACtEjlB,IAAQqF,IAAQvY,GAChBmR,IAASkY,IAAStpB;AAExB,MAAIC,IAAOuY,KAASxY,IAAMspB,GAAQ;AAChC,UAAMqe,IAAatnC,EAAO,QAAQA,EAAO,QACnCunC,IAAYxP,EAAM,QAAQA,EAAM,QAChCyP,IAAmB10B,IAAQ/B,GAC3B02B,IAAoBD,KAAoBF,IAAaC,IAAYC;AACvE,WAAO,OAAOC,EAAkB,QAAQ,CAAC,CAAC;AAAA,EAC5C;AAGA,SAAO;AACT;AAMA,MAAMC,KAAmB,CAAA3wB,MAAQ;AAC/B,MAAI;AAAA,IACF,eAAAgwB;AAAA,IACA,gBAAAC;AAAA,IACA,qBAAAC;AAAA,EACJ,IAAMlwB;AACJ,QAAM4vB,IAAa,CAAA;AAEnB,aAAWQ,KAAsBF,GAAqB;AACpD,UAAM;AAAA,MACJ,IAAAriD;AAAA,IACN,IAAQuiD,GACEp2C,IAAOi2C,EAAe,IAAIpiD,CAAE;AAElC,QAAImM,GAAM;AACR,YAAM02C,IAAoBJ,GAAqBt2C,GAAMg2C,CAAa;AAElE,MAAIU,IAAoB,KACtBd,EAAW,KAAK;AAAA,QACd,IAAA/hD;AAAA,QACA,MAAM;AAAA,UACJ,oBAAAuiD;AAAA,UACA,OAAOM;AAAA,QACnB;AAAA,MACA,CAAS;AAAA,IAEL;AAAA,EACF;AAEA,SAAOd,EAAW,KAAKF,EAAkB;AAC3C;AA+DA,SAASkB,GAAYnE,GAAWoE,GAAOC,GAAO;AAC5C,SAAO;AAAA,IAAE,GAAGrE;AAAA,IACV,QAAQoE,KAASC,IAAQD,EAAM,QAAQC,EAAM,QAAQ;AAAA,IACrD,QAAQD,KAASC,IAAQD,EAAM,SAASC,EAAM,SAAS;AAAA,EAC3D;AACA;AAEA,SAASC,GAAaF,GAAOC,GAAO;AAClC,SAAOD,KAASC,IAAQ;AAAA,IACtB,GAAGD,EAAM,OAAOC,EAAM;AAAA,IACtB,GAAGD,EAAM,MAAMC,EAAM;AAAA,EACzB,IAAM5B;AACN;AAEA,SAAS8B,GAAuBtF,GAAU;AACxC,SAAO,SAA0B1xC,GAAM;AACrC,aAASqvC,IAAO,UAAU,QAAQtH,IAAc,IAAI,MAAMsH,IAAO,IAAIA,IAAO,IAAI,CAAC,GAAGE,IAAO,GAAGA,IAAOF,GAAME;AACzG,MAAAxH,EAAYwH,IAAO,CAAC,IAAI,UAAUA,CAAI;AAGxC,WAAOxH,EAAY,OAAO,CAACnd,GAAKinB,OAAgB;AAAA,MAAE,GAAGjnB;AAAA,MACnD,KAAKA,EAAI,MAAM8mB,IAAWG,EAAW;AAAA,MACrC,QAAQjnB,EAAI,SAAS8mB,IAAWG,EAAW;AAAA,MAC3C,MAAMjnB,EAAI,OAAO8mB,IAAWG,EAAW;AAAA,MACvC,OAAOjnB,EAAI,QAAQ8mB,IAAWG,EAAW;AAAA,IAC/C,IAAQ;AAAA,MAAE,GAAG7xC;AAAA,IACb,CAAK;AAAA,EACH;AACF;AACA,MAAMi3C,KAA+B,gBAAAD,GAAuB,CAAC;AAE7D,SAASE,GAAezE,GAAW;AACjC,MAAIA,EAAU,WAAW,WAAW,GAAG;AACrC,UAAM0E,IAAiB1E,EAAU,MAAM,GAAG,EAAE,EAAE,MAAM,IAAI;AACxD,WAAO;AAAA,MACL,GAAG,CAAC0E,EAAe,EAAE;AAAA,MACrB,GAAG,CAACA,EAAe,EAAE;AAAA,MACrB,QAAQ,CAACA,EAAe,CAAC;AAAA,MACzB,QAAQ,CAACA,EAAe,CAAC;AAAA,IAC/B;AAAA,EACE,WAAW1E,EAAU,WAAW,SAAS,GAAG;AAC1C,UAAM0E,IAAiB1E,EAAU,MAAM,GAAG,EAAE,EAAE,MAAM,IAAI;AACxD,WAAO;AAAA,MACL,GAAG,CAAC0E,EAAe,CAAC;AAAA,MACpB,GAAG,CAACA,EAAe,CAAC;AAAA,MACpB,QAAQ,CAACA,EAAe,CAAC;AAAA,MACzB,QAAQ,CAACA,EAAe,CAAC;AAAA,IAC/B;AAAA,EACE;AAEA,SAAO;AACT;AAEA,SAASC,GAAiBp3C,GAAMyyC,GAAW+C,GAAiB;AAC1D,QAAM6B,IAAkBH,GAAezE,CAAS;AAEhD,MAAI,CAAC4E;AACH,WAAOr3C;AAGT,QAAM;AAAA,IACJ,QAAA0yC;AAAA,IACA,QAAAC;AAAA,IACA,GAAG2E;AAAA,IACH,GAAGC;AAAA,EACP,IAAMF,GACE/1C,IAAItB,EAAK,OAAOs3C,KAAc,IAAI5E,KAAU,WAAW8C,CAAe,GACtEjD,IAAIvyC,EAAK,MAAMu3C,KAAc,IAAI5E,KAAU,WAAW6C,EAAgB,MAAMA,EAAgB,QAAQ,GAAG,IAAI,CAAC,CAAC,GAC7GgC,IAAI9E,IAAS1yC,EAAK,QAAQ0yC,IAAS1yC,EAAK,OACxCinB,IAAI0rB,IAAS3yC,EAAK,SAAS2yC,IAAS3yC,EAAK;AAC/C,SAAO;AAAA,IACL,OAAOw3C;AAAA,IACP,QAAQvwB;AAAA,IACR,KAAKsrB;AAAA,IACL,OAAOjxC,IAAIk2C;AAAA,IACX,QAAQjF,IAAItrB;AAAA,IACZ,MAAM3lB;AAAA,EACV;AACA;AAEA,MAAM68B,KAAiB;AAAA,EACrB,iBAAiB;AACnB;AAKA,SAASsZ,GAAcx8B,GAAS/lB,GAAS;AACvC,EAAIA,MAAY,WACdA,IAAUipC;AAGZ,MAAIn+B,IAAOib,EAAQ,sBAAqB;AAExC,MAAI/lB,EAAQ,iBAAiB;AAC3B,UAAM;AAAA,MACJ,WAAAu9C;AAAA,MACA,iBAAA+C;AAAA,IACN,IAAQ5F,GAAU30B,CAAO,EAAE,iBAAiBA,CAAO;AAE/C,IAAIw3B,MACFzyC,IAAOo3C,GAAiBp3C,GAAMyyC,GAAW+C,CAAe;AAAA,EAE5D;AAEA,QAAM;AAAA,IACJ,KAAA5mC;AAAA,IACA,MAAAC;AAAA,IACA,OAAAkT;AAAA,IACA,QAAA/B;AAAA,IACA,QAAAkY;AAAA,IACA,OAAA9Q;AAAA,EACJ,IAAMpnB;AACJ,SAAO;AAAA,IACL,KAAA4O;AAAA,IACA,MAAAC;AAAA,IACA,OAAAkT;AAAA,IACA,QAAA/B;AAAA,IACA,QAAAkY;AAAA,IACA,OAAA9Q;AAAA,EACJ;AACA;AAUA,SAASswB,GAA+Bz8B,GAAS;AAC/C,SAAOw8B,GAAcx8B,GAAS;AAAA,IAC5B,iBAAiB;AAAA,EACrB,CAAG;AACH;AAEA,SAAS08B,GAAoB18B,GAAS;AACpC,QAAM8G,IAAQ9G,EAAQ,YAChB+E,IAAS/E,EAAQ;AACvB,SAAO;AAAA,IACL,KAAK;AAAA,IACL,MAAM;AAAA,IACN,OAAO8G;AAAA,IACP,QAAQ/B;AAAA,IACR,OAAA+B;AAAA,IACA,QAAA/B;AAAA,EACJ;AACA;AAEA,SAAS43B,GAAQ1gD,GAAM2gD,GAAe;AACpC,SAAIA,MAAkB,WACpBA,IAAgBjI,GAAU14C,CAAI,EAAE,iBAAiBA,CAAI,IAGhD2gD,EAAc,aAAa;AACpC;AAEA,SAASC,GAAa78B,GAAS48B,GAAe;AAC5C,EAAIA,MAAkB,WACpBA,IAAgBjI,GAAU30B,CAAO,EAAE,iBAAiBA,CAAO;AAG7D,QAAM88B,IAAgB;AAEtB,SADmB,CAAC,YAAY,aAAa,WAAW,EACtC,KAAK,CAAAnF,MAAY;AACjC,UAAMt5C,IAAQu+C,EAAcjF,CAAQ;AACpC,WAAO,OAAOt5C,KAAU,WAAWy+C,EAAc,KAAKz+C,CAAK,IAAI;AAAA,EACjE,CAAC;AACH;AAEA,SAAS0+C,GAAuB/8B,GAASg9B,GAAO;AAC9C,QAAMC,IAAgB,CAAA;AAEtB,WAASC,EAAwBjhD,GAAM;AAKrC,QAJI+gD,KAAS,QAAQC,EAAc,UAAUD,KAIzC,CAAC/gD;AACH,aAAOghD;AAGT,QAAInI,GAAW74C,CAAI,KAAKA,EAAK,oBAAoB,QAAQ,CAACghD,EAAc,SAAShhD,EAAK,gBAAgB;AACpG,aAAAghD,EAAc,KAAKhhD,EAAK,gBAAgB,GACjCghD;AAOT,QAJI,CAACjI,GAAc/4C,CAAI,KAAKg5C,GAAah5C,CAAI,KAIzCghD,EAAc,SAAShhD,CAAI;AAC7B,aAAOghD;AAGT,UAAML,IAAgBjI,GAAU30B,CAAO,EAAE,iBAAiB/jB,CAAI;AAQ9D,WANIA,MAAS+jB,KACP68B,GAAa5gD,GAAM2gD,CAAa,KAClCK,EAAc,KAAKhhD,CAAI,GAIvB0gD,GAAQ1gD,GAAM2gD,CAAa,IACtBK,IAGFC,EAAwBjhD,EAAK,UAAU;AAAA,EAChD;AAEA,SAAK+jB,IAIEk9B,EAAwBl9B,CAAO,IAH7Bi9B;AAIX;AACA,SAASE,GAA2BlhD,GAAM;AACxC,QAAM,CAACmhD,CAAuB,IAAIL,GAAuB9gD,GAAM,CAAC;AAChE,SAAOmhD,KAA4D;AACrE;AAEA,SAASC,GAAqBr9B,GAAS;AACrC,SAAI,CAACu0B,MAAa,CAACv0B,IACV,OAGLw0B,GAASx0B,CAAO,IACXA,IAGJ00B,GAAO10B,CAAO,IAIf80B,GAAW90B,CAAO,KAAKA,MAAYk1B,GAAiBl1B,CAAO,EAAE,mBACxD,SAGLg1B,GAAch1B,CAAO,IAChBA,IAGF,OAXE;AAYX;AAEA,SAASs9B,GAAqBt9B,GAAS;AACrC,SAAIw0B,GAASx0B,CAAO,IACXA,EAAQ,UAGVA,EAAQ;AACjB;AACA,SAASu9B,GAAqBv9B,GAAS;AACrC,SAAIw0B,GAASx0B,CAAO,IACXA,EAAQ,UAGVA,EAAQ;AACjB;AACA,SAASw9B,GAAqBx9B,GAAS;AACrC,SAAO;AAAA,IACL,GAAGs9B,GAAqBt9B,CAAO;AAAA,IAC/B,GAAGu9B,GAAqBv9B,CAAO;AAAA,EACnC;AACA;AAEA,IAAIy9B;AAAA,CAEH,SAAUA,GAAW;AACpB,EAAAA,EAAUA,EAAU,UAAa,CAAC,IAAI,WACtCA,EAAUA,EAAU,WAAc,EAAE,IAAI;AAC1C,GAAGA,OAAcA,KAAY,CAAA,EAAG;AAEhC,SAASC,GAA2B19B,GAAS;AAC3C,SAAI,CAACu0B,MAAa,CAACv0B,IACV,KAGFA,MAAY,SAAS;AAC9B;AAEA,SAAS29B,GAAkBC,GAAoB;AAC7C,QAAMC,IAAY;AAAA,IAChB,GAAG;AAAA,IACH,GAAG;AAAA,EACP,GACQC,IAAaJ,GAA2BE,CAAkB,IAAI;AAAA,IAClE,QAAQ,OAAO;AAAA,IACf,OAAO,OAAO;AAAA,EAClB,IAAM;AAAA,IACF,QAAQA,EAAmB;AAAA,IAC3B,OAAOA,EAAmB;AAAA,EAC9B,GACQG,IAAY;AAAA,IAChB,GAAGH,EAAmB,cAAcE,EAAW;AAAA,IAC/C,GAAGF,EAAmB,eAAeE,EAAW;AAAA,EACpD,GACQ5gB,IAAQ0gB,EAAmB,aAAaC,EAAU,GAClD/nB,IAAS8nB,EAAmB,cAAcC,EAAU,GACpD1gB,IAAWygB,EAAmB,aAAaG,EAAU,GACrDhoB,IAAU6nB,EAAmB,cAAcG,EAAU;AAC3D,SAAO;AAAA,IACL,OAAA7gB;AAAA,IACA,QAAApH;AAAA,IACA,UAAAqH;AAAA,IACA,SAAApH;AAAA,IACA,WAAAgoB;AAAA,IACA,WAAAF;AAAA,EACJ;AACA;AAEA,MAAMG,KAAmB;AAAA,EACvB,GAAG;AAAA,EACH,GAAG;AACL;AACA,SAASC,GAA2BC,GAAiBC,GAAqBpzB,GAAMqzB,GAAcC,GAAqB;AACjH,MAAI;AAAA,IACF,KAAA1qC;AAAA,IACA,MAAAC;AAAA,IACA,OAAAuY;AAAA,IACA,QAAA8Q;AAAA,EACJ,IAAMlS;AAEJ,EAAIqzB,MAAiB,WACnBA,IAAe,KAGbC,MAAwB,WAC1BA,IAAsBL;AAGxB,QAAM;AAAA,IACJ,OAAA9gB;AAAA,IACA,UAAAC;AAAA,IACA,QAAArH;AAAA,IACA,SAAAC;AAAA,EACJ,IAAM4nB,GAAkBO,CAAe,GAC/B/iC,IAAY;AAAA,IAChB,GAAG;AAAA,IACH,GAAG;AAAA,EACP,GACQmjC,IAAQ;AAAA,IACZ,GAAG;AAAA,IACH,GAAG;AAAA,EACP,GACQjM,IAAY;AAAA,IAChB,QAAQ8L,EAAoB,SAASE,EAAoB;AAAA,IACzD,OAAOF,EAAoB,QAAQE,EAAoB;AAAA,EAC3D;AAEE,SAAI,CAACnhB,KAASvpB,KAAOwqC,EAAoB,MAAM9L,EAAU,UAEvDl3B,EAAU,IAAIsiC,GAAU,UACxBa,EAAM,IAAIF,IAAe,KAAK,KAAKD,EAAoB,MAAM9L,EAAU,SAAS1+B,KAAO0+B,EAAU,MAAM,KAC9F,CAAClV,KAAYF,KAAUkhB,EAAoB,SAAS9L,EAAU,WAEvEl3B,EAAU,IAAIsiC,GAAU,SACxBa,EAAM,IAAIF,IAAe,KAAK,KAAKD,EAAoB,SAAS9L,EAAU,SAASpV,KAAUoV,EAAU,MAAM,IAG3G,CAACtc,KAAW5J,KAASgyB,EAAoB,QAAQ9L,EAAU,SAE7Dl3B,EAAU,IAAIsiC,GAAU,SACxBa,EAAM,IAAIF,IAAe,KAAK,KAAKD,EAAoB,QAAQ9L,EAAU,QAAQlmB,KAASkmB,EAAU,KAAK,KAChG,CAACvc,KAAUliB,KAAQuqC,EAAoB,OAAO9L,EAAU,UAEjEl3B,EAAU,IAAIsiC,GAAU,UACxBa,EAAM,IAAIF,IAAe,KAAK,KAAKD,EAAoB,OAAO9L,EAAU,QAAQz+B,KAAQy+B,EAAU,KAAK,IAGlG;AAAA,IACL,WAAAl3B;AAAA,IACA,OAAAmjC;AAAA,EACJ;AACA;AAEA,SAASC,GAAqBv+B,GAAS;AACrC,MAAIA,MAAY,SAAS,kBAAkB;AACzC,UAAM;AAAA,MACJ,YAAAw+B;AAAA,MACA,aAAAC;AAAA,IACN,IAAQ;AACJ,WAAO;AAAA,MACL,KAAK;AAAA,MACL,MAAM;AAAA,MACN,OAAOD;AAAA,MACP,QAAQC;AAAA,MACR,OAAOD;AAAA,MACP,QAAQC;AAAA,IACd;AAAA,EACE;AAEA,QAAM;AAAA,IACJ,KAAA9qC;AAAA,IACA,MAAAC;AAAA,IACA,OAAAuY;AAAA,IACA,QAAA8Q;AAAA,EACJ,IAAMjd,EAAQ,sBAAqB;AACjC,SAAO;AAAA,IACL,KAAArM;AAAA,IACA,MAAAC;AAAA,IACA,OAAAuY;AAAA,IACA,QAAA8Q;AAAA,IACA,OAAOjd,EAAQ;AAAA,IACf,QAAQA,EAAQ;AAAA,EACpB;AACA;AAEA,SAAS0+B,GAAiBC,GAAqB;AAC7C,SAAOA,EAAoB,OAAO,CAAChvB,GAAK1zB,MAC/B66C,GAAInnB,GAAK6tB,GAAqBvhD,CAAI,CAAC,GACzCg+C,EAAkB;AACvB;AACA,SAAS2E,GAAiBD,GAAqB;AAC7C,SAAOA,EAAoB,OAAO,CAAChvB,GAAK1zB,MAC/B0zB,IAAM2tB,GAAqBrhD,CAAI,GACrC,CAAC;AACN;AACA,SAAS4iD,GAAiBF,GAAqB;AAC7C,SAAOA,EAAoB,OAAO,CAAChvB,GAAK1zB,MAC/B0zB,IAAM4tB,GAAqBthD,CAAI,GACrC,CAAC;AACN;AAEA,SAAS6iD,GAAuB9+B,GAAS++B,GAAS;AAKhD,MAJIA,MAAY,WACdA,IAAUvC,KAGR,CAACx8B;AACH;AAGF,QAAM;AAAA,IACJ,KAAArM;AAAA,IACA,MAAAC;AAAA,IACA,QAAAqpB;AAAA,IACA,OAAA9Q;AAAA,EACJ,IAAM4yB,EAAQ/+B,CAAO;AAGnB,EAFgCm9B,GAA2Bn9B,CAAO,MAM9Did,KAAU,KAAK9Q,KAAS,KAAKxY,KAAO,OAAO,eAAeC,KAAQ,OAAO,eAC3EoM,EAAQ,eAAe;AAAA,IACrB,OAAO;AAAA,IACP,QAAQ;AAAA,EACd,CAAK;AAEL;AAEA,MAAMg/B,KAAa,CAAC,CAAC,KAAK,CAAC,QAAQ,OAAO,GAAGJ,EAAgB,GAAG,CAAC,KAAK,CAAC,OAAO,QAAQ,GAAGC,EAAgB,CAAC;AAC1G,MAAMI,GAAK;AAAA,EACT,YAAYl6C,GAAMib,GAAS;AACzB,SAAK,OAAO,QACZ,KAAK,QAAQ,QACb,KAAK,SAAS,QACd,KAAK,MAAM,QACX,KAAK,SAAS,QACd,KAAK,QAAQ,QACb,KAAK,OAAO;AACZ,UAAM2+B,IAAsB5B,GAAuB/8B,CAAO,GACpDk/B,IAAgBR,GAAiBC,CAAmB;AAC1D,SAAK,OAAO;AAAA,MAAE,GAAG55C;AAAA,IACrB,GACI,KAAK,QAAQA,EAAK,OAClB,KAAK,SAASA,EAAK;AAEnB,eAAW,CAACo6C,GAAMC,GAAMC,CAAe,KAAKL;AAC1C,iBAAW15C,KAAO85C;AAChB,eAAO,eAAe,MAAM95C,GAAK;AAAA,UAC/B,KAAK,MAAM;AACT,kBAAMg6C,IAAiBD,EAAgBV,CAAmB,GACpDY,IAAsBL,EAAcC,CAAI,IAAIG;AAClD,mBAAO,KAAK,KAAKh6C,CAAG,IAAIi6C;AAAA,UAC1B;AAAA,UACA,YAAY;AAAA,QACtB,CAAS;AAIL,WAAO,eAAe,MAAM,QAAQ;AAAA,MAClC,YAAY;AAAA,IAClB,CAAK;AAAA,EACH;AAEF;AAEA,MAAMC,GAAU;AAAA,EACd,YAAYxrC,GAAQ;AAClB,SAAK,SAAS,QACd,KAAK,YAAY,CAAA,GAEjB,KAAK,YAAY,MAAM;AACrB,WAAK,UAAU,QAAQ,CAAAyhC,MAAY;AACjC,YAAIgK;AAEJ,gBAAQA,IAAe,KAAK,WAAW,OAAO,SAASA,EAAa,oBAAoB,GAAGhK,CAAQ;AAAA,MACrG,CAAC;AAAA,IACH,GAEA,KAAK,SAASzhC;AAAA,EAChB;AAAA,EAEA,IAAI0rC,GAAW/T,GAAS1xC,GAAS;AAC/B,QAAI0lD;AAEJ,KAACA,IAAgB,KAAK,WAAW,QAAgBA,EAAc,iBAAiBD,GAAW/T,GAAS1xC,CAAO,GAC3G,KAAK,UAAU,KAAK,CAACylD,GAAW/T,GAAS1xC,CAAO,CAAC;AAAA,EACnD;AAEF;AAEA,SAAS2lD,GAAuB5rC,GAAQ;AAMtC,QAAM;AAAA,IACJ,aAAA6rC;AAAA,EACJ,IAAMlL,GAAU3gC,CAAM;AACpB,SAAOA,aAAkB6rC,IAAc7rC,IAASkhC,GAAiBlhC,CAAM;AACzE;AAEA,SAAS8rC,GAAoBxQ,GAAO1B,GAAa;AAC/C,QAAM5qB,IAAK,KAAK,IAAIssB,EAAM,CAAC,GACrBrsB,IAAK,KAAK,IAAIqsB,EAAM,CAAC;AAE3B,SAAI,OAAO1B,KAAgB,WAClB,KAAK,KAAK5qB,KAAM,IAAIC,KAAM,CAAC,IAAI2qB,IAGpC,OAAOA,KAAe,OAAOA,IACxB5qB,IAAK4qB,EAAY,KAAK3qB,IAAK2qB,EAAY,IAG5C,OAAOA,IACF5qB,IAAK4qB,EAAY,IAGtB,OAAOA,IACF3qB,IAAK2qB,EAAY,IAGnB;AACT;AAEA,IAAImS;AAAA,CAEH,SAAUA,GAAW;AACpB,EAAAA,EAAU,QAAW,SACrBA,EAAU,YAAe,aACzBA,EAAU,UAAa,WACvBA,EAAU,cAAiB,eAC3BA,EAAU,SAAY,UACtBA,EAAU,kBAAqB,mBAC/BA,EAAU,mBAAsB;AAClC,GAAGA,OAAcA,KAAY,CAAA,EAAG;AAEhC,SAASC,GAAenkD,GAAO;AAC7B,EAAAA,EAAM,eAAc;AACtB;AACA,SAASokD,GAAgBpkD,GAAO;AAC9B,EAAAA,EAAM,gBAAe;AACvB;AAEA,IAAIqkD;AAAA,CAEH,SAAUA,GAAc;AACvB,EAAAA,EAAa,QAAW,SACxBA,EAAa,OAAU,aACvBA,EAAa,QAAW,cACxBA,EAAa,OAAU,aACvBA,EAAa,KAAQ,WACrBA,EAAa,MAAS,UACtBA,EAAa,QAAW,SACxBA,EAAa,MAAS;AACxB,GAAGA,OAAiBA,KAAe,CAAA,EAAG;AAEtC,MAAMC,KAAuB;AAAA,EAC3B,OAAO,CAACD,GAAa,OAAOA,GAAa,KAAK;AAAA,EAC9C,QAAQ,CAACA,GAAa,GAAG;AAAA,EACzB,KAAK,CAACA,GAAa,OAAOA,GAAa,OAAOA,GAAa,GAAG;AAChE,GACME,KAAkC,CAACvkD,GAAOkvB,MAAS;AACvD,MAAI;AAAA,IACF,oBAAAs1B;AAAA,EACJ,IAAMt1B;AAEJ,UAAQlvB,EAAM,MAAI;AAAA,IAChB,KAAKqkD,GAAa;AAChB,aAAO;AAAA,QAAE,GAAGG;AAAA,QACV,GAAGA,EAAmB,IAAI;AAAA,MAClC;AAAA,IAEI,KAAKH,GAAa;AAChB,aAAO;AAAA,QAAE,GAAGG;AAAA,QACV,GAAGA,EAAmB,IAAI;AAAA,MAClC;AAAA,IAEI,KAAKH,GAAa;AAChB,aAAO;AAAA,QAAE,GAAGG;AAAA,QACV,GAAGA,EAAmB,IAAI;AAAA,MAClC;AAAA,IAEI,KAAKH,GAAa;AAChB,aAAO;AAAA,QAAE,GAAGG;AAAA,QACV,GAAGA,EAAmB,IAAI;AAAA,MAClC;AAAA,EACA;AAGA;AAEA,MAAMC,GAAe;AAAA,EACnB,YAAYxjD,GAAO;AACjB,SAAK,QAAQ,QACb,KAAK,oBAAoB,IACzB,KAAK,uBAAuB,QAC5B,KAAK,YAAY,QACjB,KAAK,kBAAkB,QACvB,KAAK,QAAQA;AACb,UAAM;AAAA,MACJ,OAAO;AAAA,QACL,QAAAkX;AAAA,MACR;AAAA,IACA,IAAQlX;AACJ,SAAK,QAAQA,GACb,KAAK,YAAY,IAAI0iD,GAAUtK,GAAiBlhC,CAAM,CAAC,GACvD,KAAK,kBAAkB,IAAIwrC,GAAU7K,GAAU3gC,CAAM,CAAC,GACtD,KAAK,gBAAgB,KAAK,cAAc,KAAK,IAAI,GACjD,KAAK,eAAe,KAAK,aAAa,KAAK,IAAI,GAC/C,KAAK,OAAM;AAAA,EACb;AAAA,EAEA,SAAS;AACP,SAAK,YAAW,GAChB,KAAK,gBAAgB,IAAI+rC,GAAU,QAAQ,KAAK,YAAY,GAC5D,KAAK,gBAAgB,IAAIA,GAAU,kBAAkB,KAAK,YAAY,GACtE,WAAW,MAAM,KAAK,UAAU,IAAIA,GAAU,SAAS,KAAK,aAAa,CAAC;AAAA,EAC5E;AAAA,EAEA,cAAc;AACZ,UAAM;AAAA,MACJ,YAAAQ;AAAA,MACA,SAAAC;AAAA,IACN,IAAQ,KAAK,OACHvkD,IAAOskD,EAAW,KAAK;AAE7B,IAAItkD,KACF6iD,GAAuB7iD,CAAI,GAG7BukD,EAAQvG,EAAkB;AAAA,EAC5B;AAAA,EAEA,cAAcp+C,GAAO;AACnB,QAAIo7C,GAAgBp7C,CAAK,GAAG;AAC1B,YAAM;AAAA,QACJ,QAAAk9C;AAAA,QACA,SAAA0H;AAAA,QACA,SAAAxmD;AAAA,MACR,IAAU,KAAK,OACH;AAAA,QACJ,eAAAymD,IAAgBP;AAAA,QAChB,kBAAAQ,IAAmBP;AAAA,QACnB,gBAAAQ,IAAiB;AAAA,MACzB,IAAU3mD,GACE;AAAA,QACJ,MAAA+P;AAAA,MACR,IAAUnO;AAEJ,UAAI6kD,EAAc,IAAI,SAAS12C,CAAI,GAAG;AACpC,aAAK,UAAUnO,CAAK;AACpB;AAAA,MACF;AAEA,UAAI6kD,EAAc,OAAO,SAAS12C,CAAI,GAAG;AACvC,aAAK,aAAanO,CAAK;AACvB;AAAA,MACF;AAEA,YAAM;AAAA,QACJ,eAAAk/C;AAAA,MACR,IAAU0F,EAAQ,SACNJ,IAAqBtF,IAAgB;AAAA,QACzC,GAAGA,EAAc;AAAA,QACjB,GAAGA,EAAc;AAAA,MACzB,IAAUd;AAEJ,MAAK,KAAK,yBACR,KAAK,uBAAuBoG;AAG9B,YAAMQ,IAAiBF,EAAiB9kD,GAAO;AAAA,QAC7C,QAAAk9C;AAAA,QACA,SAAS0H,EAAQ;AAAA,QACjB,oBAAAJ;AAAA,MACR,CAAO;AAED,UAAIQ,GAAgB;AAClB,cAAMC,IAAmB/J,GAAS8J,GAAgBR,CAAkB,GAC9DU,IAAc;AAAA,UAClB,GAAG;AAAA,UACH,GAAG;AAAA,QACb,GACc;AAAA,UACJ,qBAAApC;AAAA,QACV,IAAY8B,EAAQ;AAEZ,mBAAWvC,KAAmBS,GAAqB;AACjD,gBAAMxjC,IAAYtf,EAAM,MAClB;AAAA,YACJ,OAAAqhC;AAAA,YACA,SAAAnH;AAAA,YACA,QAAAD;AAAA,YACA,UAAAqH;AAAA,YACA,WAAA4gB;AAAA,YACA,WAAAF;AAAA,UACZ,IAAcF,GAAkBO,CAAe,GAC/B8C,IAAoBzC,GAAqBL,CAAe,GACxD+C,IAAqB;AAAA,YACzB,GAAG,KAAK,IAAI9lC,MAAc+kC,GAAa,QAAQc,EAAkB,QAAQA,EAAkB,QAAQ,IAAIA,EAAkB,OAAO,KAAK,IAAI7lC,MAAc+kC,GAAa,QAAQc,EAAkB,OAAOA,EAAkB,OAAOA,EAAkB,QAAQ,GAAGH,EAAe,CAAC,CAAC;AAAA,YAC5Q,GAAG,KAAK,IAAI1lC,MAAc+kC,GAAa,OAAOc,EAAkB,SAASA,EAAkB,SAAS,IAAIA,EAAkB,QAAQ,KAAK,IAAI7lC,MAAc+kC,GAAa,OAAOc,EAAkB,MAAMA,EAAkB,MAAMA,EAAkB,SAAS,GAAGH,EAAe,CAAC,CAAC;AAAA,UACxR,GACgBK,IAAa/lC,MAAc+kC,GAAa,SAAS,CAACnqB,KAAW5a,MAAc+kC,GAAa,QAAQ,CAACpqB,GACjGqrB,IAAahmC,MAAc+kC,GAAa,QAAQ,CAAC/iB,KAAYhiB,MAAc+kC,GAAa,MAAM,CAAChjB;AAErG,cAAIgkB,KAAcD,EAAmB,MAAMJ,EAAe,GAAG;AAC3D,kBAAMO,IAAuBlD,EAAgB,aAAa4C,EAAiB,GACrEO,IAA4BlmC,MAAc+kC,GAAa,SAASkB,KAAwBrD,EAAU,KAAK5iC,MAAc+kC,GAAa,QAAQkB,KAAwBvD,EAAU;AAElL,gBAAIwD,KAA6B,CAACP,EAAiB,GAAG;AAGpD,cAAA5C,EAAgB,SAAS;AAAA,gBACvB,MAAMkD;AAAA,gBACN,UAAUR;AAAA,cAC1B,CAAe;AACD;AAAA,YACF;AAEA,YAAIS,IACFN,EAAY,IAAI7C,EAAgB,aAAakD,IAE7CL,EAAY,IAAI5lC,MAAc+kC,GAAa,QAAQhC,EAAgB,aAAaH,EAAU,IAAIG,EAAgB,aAAaL,EAAU,GAGnIkD,EAAY,KACd7C,EAAgB,SAAS;AAAA,cACvB,MAAM,CAAC6C,EAAY;AAAA,cACnB,UAAUH;AAAA,YAC1B,CAAe;AAGH;AAAA,UACF,WAAWO,KAAcF,EAAmB,MAAMJ,EAAe,GAAG;AAClE,kBAAMO,IAAuBlD,EAAgB,YAAY4C,EAAiB,GACpEO,IAA4BlmC,MAAc+kC,GAAa,QAAQkB,KAAwBrD,EAAU,KAAK5iC,MAAc+kC,GAAa,MAAMkB,KAAwBvD,EAAU;AAE/K,gBAAIwD,KAA6B,CAACP,EAAiB,GAAG;AAGpD,cAAA5C,EAAgB,SAAS;AAAA,gBACvB,KAAKkD;AAAA,gBACL,UAAUR;AAAA,cAC1B,CAAe;AACD;AAAA,YACF;AAEA,YAAIS,IACFN,EAAY,IAAI7C,EAAgB,YAAYkD,IAE5CL,EAAY,IAAI5lC,MAAc+kC,GAAa,OAAOhC,EAAgB,YAAYH,EAAU,IAAIG,EAAgB,YAAYL,EAAU,GAGhIkD,EAAY,KACd7C,EAAgB,SAAS;AAAA,cACvB,KAAK,CAAC6C,EAAY;AAAA,cAClB,UAAUH;AAAA,YAC1B,CAAe;AAGH;AAAA,UACF;AAAA,QACF;AAEA,aAAK,WAAW/kD,GAAOi7C,GAAIC,GAAS8J,GAAgB,KAAK,oBAAoB,GAAGE,CAAW,CAAC;AAAA,MAC9F;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAWllD,GAAOylD,GAAa;AAC7B,UAAM;AAAA,MACJ,QAAAtpB;AAAA,IACN,IAAQ,KAAK;AACT,IAAAn8B,EAAM,eAAc,GACpBm8B,EAAOspB,CAAW;AAAA,EACpB;AAAA,EAEA,UAAUzlD,GAAO;AACf,UAAM;AAAA,MACJ,OAAAo8B;AAAA,IACN,IAAQ,KAAK;AACT,IAAAp8B,EAAM,eAAc,GACpB,KAAK,OAAM,GACXo8B,EAAK;AAAA,EACP;AAAA,EAEA,aAAap8B,GAAO;AAClB,UAAM;AAAA,MACJ,UAAA0lD;AAAA,IACN,IAAQ,KAAK;AACT,IAAA1lD,EAAM,eAAc,GACpB,KAAK,OAAM,GACX0lD,EAAQ;AAAA,EACV;AAAA,EAEA,SAAS;AACP,SAAK,UAAU,UAAS,GACxB,KAAK,gBAAgB,UAAS;AAAA,EAChC;AAEF;AACAjB,GAAe,aAAa,CAAC;AAAA,EAC3B,WAAW;AAAA,EACX,SAAS,CAACzkD,GAAOkvB,GAAM8L,MAAU;AAC/B,QAAI;AAAA,MACF,eAAA6pB,IAAgBP;AAAA,MAChB,cAAAqB;AAAA,IACN,IAAQz2B,GACA;AAAA,MACF,QAAAguB;AAAA,IACN,IAAQliB;AACJ,UAAM;AAAA,MACJ,MAAA7sB;AAAA,IACN,IAAQnO,EAAM;AAEV,QAAI6kD,EAAc,MAAM,SAAS12C,CAAI,GAAG;AACtC,YAAMy3C,IAAY1I,EAAO,cAAc;AAEvC,aAAI0I,KAAa5lD,EAAM,WAAW4lD,IACzB,MAGT5lD,EAAM,eAAc,GACY2lD,IAAa;AAAA,QAC3C,OAAO3lD,EAAM;AAAA,MACrB,CAAO,GACM;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AACF,CAAC;AAED,SAAS6lD,GAAqBC,GAAY;AACxC,SAAO,GAAQA,KAAc,cAAcA;AAC7C;AAEA,SAASC,GAAkBD,GAAY;AACrC,SAAO,GAAQA,KAAc,WAAWA;AAC1C;AAEA,MAAME,GAAsB;AAAA,EAC1B,YAAY/kD,GAAOglD,GAAQC,GAAgB;AACzC,QAAIC;AAEJ,IAAID,MAAmB,WACrBA,IAAiBnC,GAAuB9iD,EAAM,MAAM,MAAM,IAG5D,KAAK,QAAQ,QACb,KAAK,SAAS,QACd,KAAK,oBAAoB,IACzB,KAAK,WAAW,QAChB,KAAK,YAAY,IACjB,KAAK,qBAAqB,QAC1B,KAAK,YAAY,MACjB,KAAK,YAAY,QACjB,KAAK,oBAAoB,QACzB,KAAK,kBAAkB,QACvB,KAAK,QAAQA,GACb,KAAK,SAASglD;AACd,UAAM;AAAA,MACJ,OAAAjmD;AAAA,IACN,IAAQiB,GACE;AAAA,MACJ,QAAAkX;AAAA,IACN,IAAQnY;AACJ,SAAK,QAAQiB,GACb,KAAK,SAASglD,GACd,KAAK,WAAW5M,GAAiBlhC,CAAM,GACvC,KAAK,oBAAoB,IAAIwrC,GAAU,KAAK,QAAQ,GACpD,KAAK,YAAY,IAAIA,GAAUuC,CAAc,GAC7C,KAAK,kBAAkB,IAAIvC,GAAU7K,GAAU3gC,CAAM,CAAC,GACtD,KAAK,sBAAsBguC,IAAuB3K,GAAoBx7C,CAAK,MAAM,OAAOmmD,IAAuB/H,IAC/G,KAAK,cAAc,KAAK,YAAY,KAAK,IAAI,GAC7C,KAAK,aAAa,KAAK,WAAW,KAAK,IAAI,GAC3C,KAAK,YAAY,KAAK,UAAU,KAAK,IAAI,GACzC,KAAK,eAAe,KAAK,aAAa,KAAK,IAAI,GAC/C,KAAK,gBAAgB,KAAK,cAAc,KAAK,IAAI,GACjD,KAAK,sBAAsB,KAAK,oBAAoB,KAAK,IAAI,GAC7D,KAAK,OAAM;AAAA,EACb;AAAA,EAEA,SAAS;AACP,UAAM;AAAA,MACJ,QAAA6H;AAAA,MACA,OAAO;AAAA,QACL,SAAS;AAAA,UACP,sBAAAG;AAAA,UACA,4BAAAC;AAAA,QACV;AAAA,MACA;AAAA,IACA,IAAQ;AAgBJ,QAfA,KAAK,UAAU,IAAIJ,EAAO,KAAK,MAAM,KAAK,YAAY;AAAA,MACpD,SAAS;AAAA,IACf,CAAK,GACD,KAAK,UAAU,IAAIA,EAAO,IAAI,MAAM,KAAK,SAAS,GAE9CA,EAAO,UACT,KAAK,UAAU,IAAIA,EAAO,OAAO,MAAM,KAAK,YAAY,GAG1D,KAAK,gBAAgB,IAAI/B,GAAU,QAAQ,KAAK,YAAY,GAC5D,KAAK,gBAAgB,IAAIA,GAAU,WAAWC,EAAc,GAC5D,KAAK,gBAAgB,IAAID,GAAU,kBAAkB,KAAK,YAAY,GACtE,KAAK,gBAAgB,IAAIA,GAAU,aAAaC,EAAc,GAC9D,KAAK,kBAAkB,IAAID,GAAU,SAAS,KAAK,aAAa,GAE5DkC,GAAsB;AACxB,UAAIC,KAA8B,QAAQA,EAA2B;AAAA,QACnE,OAAO,KAAK,MAAM;AAAA,QAClB,YAAY,KAAK,MAAM;AAAA,QACvB,SAAS,KAAK,MAAM;AAAA,MAC5B,CAAO;AACC,eAAO,KAAK,YAAW;AAGzB,UAAIN,GAAkBK,CAAoB,GAAG;AAC3C,aAAK,YAAY,WAAW,KAAK,aAAaA,EAAqB,KAAK,GACxE,KAAK,cAAcA,CAAoB;AACvC;AAAA,MACF;AAEA,UAAIP,GAAqBO,CAAoB,GAAG;AAC9C,aAAK,cAAcA,CAAoB;AACvC;AAAA,MACF;AAAA,IACF;AAEA,SAAK,YAAW;AAAA,EAClB;AAAA,EAEA,SAAS;AACP,SAAK,UAAU,UAAS,GACxB,KAAK,gBAAgB,aAGrB,WAAW,KAAK,kBAAkB,WAAW,EAAE,GAE3C,KAAK,cAAc,SACrB,aAAa,KAAK,SAAS,GAC3B,KAAK,YAAY;AAAA,EAErB;AAAA,EAEA,cAAcN,GAAYvV,GAAQ;AAChC,UAAM;AAAA,MACJ,QAAA2M;AAAA,MACA,WAAAoJ;AAAA,IACN,IAAQ,KAAK;AACT,IAAAA,EAAUpJ,GAAQ4I,GAAY,KAAK,oBAAoBvV,CAAM;AAAA,EAC/D;AAAA,EAEA,cAAc;AACZ,UAAM;AAAA,MACJ,oBAAAgW;AAAA,IACN,IAAQ,MACE;AAAA,MACJ,SAAA5B;AAAA,IACN,IAAQ,KAAK;AAET,IAAI4B,MACF,KAAK,YAAY,IAEjB,KAAK,kBAAkB,IAAIrC,GAAU,OAAOE,IAAiB;AAAA,MAC3D,SAAS;AAAA,IACjB,CAAO,GAED,KAAK,oBAAmB,GAExB,KAAK,kBAAkB,IAAIF,GAAU,iBAAiB,KAAK,mBAAmB,GAC9ES,EAAQ4B,CAAkB;AAAA,EAE9B;AAAA,EAEA,WAAWvmD,GAAO;AAChB,QAAIwmD;AAEJ,UAAM;AAAA,MACJ,WAAAC;AAAA,MACA,oBAAAF;AAAA,MACA,OAAAtlD;AAAA,IACN,IAAQ,MACE;AAAA,MACJ,QAAAk7B;AAAA,MACA,SAAS;AAAA,QACP,sBAAAiqB;AAAA,MACR;AAAA,IACA,IAAQnlD;AAEJ,QAAI,CAACslD;AACH;AAGF,UAAMd,KAAee,IAAwBhL,GAAoBx7C,CAAK,MAAM,OAAOwmD,IAAwBpI,IACrG3K,IAAQyH,GAASqL,GAAoBd,CAAW;AAEtD,QAAI,CAACgB,KAAaL,GAAsB;AACtC,UAAIP,GAAqBO,CAAoB,GAAG;AAC9C,YAAIA,EAAqB,aAAa,QAAQnC,GAAoBxQ,GAAO2S,EAAqB,SAAS;AACrG,iBAAO,KAAK,aAAY;AAG1B,YAAInC,GAAoBxQ,GAAO2S,EAAqB,QAAQ;AAC1D,iBAAO,KAAK,YAAW;AAAA,MAE3B;AAEA,UAAIL,GAAkBK,CAAoB,KACpCnC,GAAoBxQ,GAAO2S,EAAqB,SAAS;AAC3D,eAAO,KAAK,aAAY;AAI5B,WAAK,cAAcA,GAAsB3S,CAAK;AAC9C;AAAA,IACF;AAEA,IAAIzzC,EAAM,cACRA,EAAM,eAAc,GAGtBm8B,EAAOspB,CAAW;AAAA,EACpB;AAAA,EAEA,YAAY;AACV,UAAM;AAAA,MACJ,SAAAiB;AAAA,MACA,OAAAtqB;AAAA,IACN,IAAQ,KAAK;AACT,SAAK,OAAM,GAEN,KAAK,aACRsqB,EAAQ,KAAK,MAAM,MAAM,GAG3BtqB,EAAK;AAAA,EACP;AAAA,EAEA,eAAe;AACb,UAAM;AAAA,MACJ,SAAAsqB;AAAA,MACA,UAAAhB;AAAA,IACN,IAAQ,KAAK;AACT,SAAK,OAAM,GAEN,KAAK,aACRgB,EAAQ,KAAK,MAAM,MAAM,GAG3BhB,EAAQ;AAAA,EACV;AAAA,EAEA,cAAc1lD,GAAO;AACnB,IAAIA,EAAM,SAASqkD,GAAa,OAC9B,KAAK,aAAY;AAAA,EAErB;AAAA,EAEA,sBAAsB;AACpB,QAAIsC;AAEJ,KAACA,IAAwB,KAAK,SAAS,aAAY,MAAO,QAAgBA,EAAsB,gBAAe;AAAA,EACjH;AAEF;AAEA,MAAMV,KAAS;AAAA,EACb,QAAQ;AAAA,IACN,MAAM;AAAA,EACV;AAAA,EACE,MAAM;AAAA,IACJ,MAAM;AAAA,EACV;AAAA,EACE,KAAK;AAAA,IACH,MAAM;AAAA,EACV;AACA;AACA,MAAMW,WAAsBZ,GAAsB;AAAA,EAChD,YAAY/kD,GAAO;AACjB,UAAM;AAAA,MACJ,OAAAjB;AAAA,IACN,IAAQiB,GAGEilD,IAAiB7M,GAAiBr5C,EAAM,MAAM;AACpD,UAAMiB,GAAOglD,IAAQC,CAAc;AAAA,EACrC;AAEF;AACAU,GAAc,aAAa,CAAC;AAAA,EAC1B,WAAW;AAAA,EACX,SAAS,CAAC13B,GAAM8L,MAAU;AACxB,QAAI;AAAA,MACF,aAAah7B;AAAA,IACnB,IAAQkvB,GACA;AAAA,MACF,cAAAy2B;AAAA,IACN,IAAQ3qB;AAEJ,WAAI,CAACh7B,EAAM,aAAaA,EAAM,WAAW,IAChC,MAGuB2lD,IAAa;AAAA,MAC3C,OAAA3lD;AAAA,IACN,CAAK,GACM;AAAA,EACT;AACF,CAAC;AAED,MAAM6mD,KAAW;AAAA,EACf,MAAM;AAAA,IACJ,MAAM;AAAA,EACV;AAAA,EACE,KAAK;AAAA,IACH,MAAM;AAAA,EACV;AACA;AACA,IAAIC;AAAA,CAEH,SAAUA,GAAa;AACtB,EAAAA,EAAYA,EAAY,aAAgB,CAAC,IAAI;AAC/C,GAAGA,OAAgBA,KAAc,CAAA,EAAG;AAEpC,MAAMC,WAAoBf,GAAsB;AAAA,EAC9C,YAAY/kD,GAAO;AACjB,UAAMA,GAAO4lD,IAAUxN,GAAiBp4C,EAAM,MAAM,MAAM,CAAC;AAAA,EAC7D;AAEF;AACA8lD,GAAY,aAAa,CAAC;AAAA,EACxB,WAAW;AAAA,EACX,SAAS,CAAC73B,GAAM8L,MAAU;AACxB,QAAI;AAAA,MACF,aAAah7B;AAAA,IACnB,IAAQkvB,GACA;AAAA,MACF,cAAAy2B;AAAA,IACN,IAAQ3qB;AAEJ,WAAIh7B,EAAM,WAAW8mD,GAAY,aACxB,MAGuBnB,IAAa;AAAA,MAC3C,OAAA3lD;AAAA,IACN,CAAK,GACM;AAAA,EACT;AACF,CAAC;AAED,MAAMgnD,KAAW;AAAA,EACf,QAAQ;AAAA,IACN,MAAM;AAAA,EACV;AAAA,EACE,MAAM;AAAA,IACJ,MAAM;AAAA,EACV;AAAA,EACE,KAAK;AAAA,IACH,MAAM;AAAA,EACV;AACA;AACA,MAAMC,WAAoBjB,GAAsB;AAAA,EAC9C,YAAY/kD,GAAO;AACjB,UAAMA,GAAO+lD,EAAQ;AAAA,EACvB;AAAA,EAEA,OAAO,QAAQ;AAIb,kBAAO,iBAAiBA,GAAS,KAAK,MAAMpmD,GAAM;AAAA,MAChD,SAAS;AAAA,MACT,SAAS;AAAA,IACf,CAAK,GACM,WAAoB;AACzB,aAAO,oBAAoBomD,GAAS,KAAK,MAAMpmD,CAAI;AAAA,IACrD;AAGA,aAASA,IAAO;AAAA,IAAC;AAAA,EACnB;AAEF;AACAqmD,GAAY,aAAa,CAAC;AAAA,EACxB,WAAW;AAAA,EACX,SAAS,CAAC/3B,GAAM8L,MAAU;AACxB,QAAI;AAAA,MACF,aAAah7B;AAAA,IACnB,IAAQkvB,GACA;AAAA,MACF,cAAAy2B;AAAA,IACN,IAAQ3qB;AACJ,UAAM;AAAA,MACJ,SAAAksB;AAAA,IACN,IAAQlnD;AAEJ,WAAIknD,EAAQ,SAAS,IACZ,MAGuBvB,IAAa;AAAA,MAC3C,OAAA3lD;AAAA,IACN,CAAK,GACM;AAAA,EACT;AACF,CAAC;AAED,IAAImnD;AAAA,CAEH,SAAUA,GAAqB;AAC9B,EAAAA,EAAoBA,EAAoB,UAAa,CAAC,IAAI,WAC1DA,EAAoBA,EAAoB,gBAAmB,CAAC,IAAI;AAClE,GAAGA,OAAwBA,KAAsB,CAAA,EAAG;AAEpD,IAAIC;AAAA,CAEH,SAAUA,GAAgB;AACzB,EAAAA,EAAeA,EAAe,YAAe,CAAC,IAAI,aAClDA,EAAeA,EAAe,oBAAuB,CAAC,IAAI;AAC5D,GAAGA,OAAmBA,KAAiB,CAAA,EAAG;AAE1C,SAASC,GAAgBn4B,GAAM;AAC7B,MAAI;AAAA,IACF,cAAAqzB;AAAA,IACA,WAAAqD,IAAYuB,GAAoB;AAAA,IAChC,WAAAG;AAAA,IACA,cAAAC;AAAA,IACA,SAAAnV;AAAA,IACA,UAAAoV,IAAW;AAAA,IACX,OAAAC,IAAQL,GAAe;AAAA,IACvB,oBAAAM;AAAA,IACA,qBAAA5E;AAAA,IACA,yBAAA6E;AAAA,IACA,OAAAlU;AAAA,IACA,WAAA+C;AAAA,EACJ,IAAMtnB;AACJ,QAAM04B,IAAeC,GAAgB;AAAA,IACnC,OAAApU;AAAA,IACA,UAAU,CAACrB;AAAA,EACf,CAAG,GACK,CAAC0V,GAAuBC,CAAuB,IAAItO,GAAW,GAC9DuO,IAAchpD,EAAO;AAAA,IACzB,GAAG;AAAA,IACH,GAAG;AAAA,EACP,CAAG,GACKipD,IAAkBjpD,EAAO;AAAA,IAC7B,GAAG;AAAA,IACH,GAAG;AAAA,EACP,CAAG,GACKkK,IAAOpL,EAAQ,MAAM;AACzB,YAAQ8nD,GAAS;AAAA,MACf,KAAKuB,GAAoB;AACvB,eAAOO,IAAqB;AAAA,UAC1B,KAAKA,EAAmB;AAAA,UACxB,QAAQA,EAAmB;AAAA,UAC3B,MAAMA,EAAmB;AAAA,UACzB,OAAOA,EAAmB;AAAA,QACpC,IAAY;AAAA,MAEN,KAAKP,GAAoB;AACvB,eAAOI;AAAA,IACf;AAAA,EACE,GAAG,CAAC3B,GAAW2B,GAAcG,CAAkB,CAAC,GAC1CQ,IAAqBlpD,EAAO,IAAI,GAChCmpD,IAAatqD,EAAY,MAAM;AACnC,UAAMwkD,IAAkB6F,EAAmB;AAE3C,QAAI,CAAC7F;AACH;AAGF,UAAM+F,IAAaJ,EAAY,QAAQ,IAAIC,EAAgB,QAAQ,GAC7DI,IAAYL,EAAY,QAAQ,IAAIC,EAAgB,QAAQ;AAClE,IAAA5F,EAAgB,SAAS+F,GAAYC,CAAS;AAAA,EAChD,GAAG,CAAA,CAAE,GACCC,IAA4BxqD,EAAQ,MAAM2pD,MAAUL,GAAe,YAAY,CAAC,GAAGtE,CAAmB,EAAE,QAAO,IAAKA,GAAqB,CAAC2E,GAAO3E,CAAmB,CAAC;AAC3K,EAAAhjD;AAAA,IAAU,MAAM;AACd,UAAI,CAACsyC,KAAW,CAAC0Q,EAAoB,UAAU,CAAC55C,GAAM;AACpD,QAAA6+C,EAAuB;AACvB;AAAA,MACF;AAEA,iBAAW1F,KAAmBiG,GAA2B;AACvD,YAAkChB,IAAUjF,CAAe,MAAO;AAChE;AAGF,cAAMt5C,IAAQ+5C,EAAoB,QAAQT,CAAe,GACnDC,IAAsBqF,EAAwB5+C,CAAK;AAEzD,YAAI,CAACu5C;AACH;AAGF,cAAM;AAAA,UACJ,WAAAhjC;AAAA,UACA,OAAAmjC;AAAA,QACR,IAAUL,GAA2BC,GAAiBC,GAAqBp5C,GAAMq5C,GAAc/L,CAAS;AAElG,mBAAW8M,KAAQ,CAAC,KAAK,GAAG;AAC1B,UAAKsE,EAAatE,CAAI,EAAEhkC,EAAUgkC,CAAI,CAAC,MACrCb,EAAMa,CAAI,IAAI,GACdhkC,EAAUgkC,CAAI,IAAI;AAItB,YAAIb,EAAM,IAAI,KAAKA,EAAM,IAAI,GAAG;AAC9B,UAAAsF,EAAuB,GACvBG,EAAmB,UAAU7F,GAC7ByF,EAAsBK,GAAYX,CAAQ,GAC1CQ,EAAY,UAAUvF,GACtBwF,EAAgB,UAAU3oC;AAC1B;AAAA,QACF;AAAA,MACF;AAEA,MAAA0oC,EAAY,UAAU;AAAA,QACpB,GAAG;AAAA,QACH,GAAG;AAAA,MACT,GACIC,EAAgB,UAAU;AAAA,QACxB,GAAG;AAAA,QACH,GAAG;AAAA,MACT,GACIF,EAAuB;AAAA,IACzB;AAAA;AAAA,IACA;AAAA,MAACxF;AAAA,MAAc4F;AAAA,MAAYb;AAAA,MAAWS;AAAA,MAAyB3V;AAAA,MAASoV;AAAA;AAAA,MACxE,KAAK,UAAUt+C,CAAI;AAAA;AAAA,MACnB,KAAK,UAAU0+C,CAAY;AAAA,MAAGE;AAAA,MAAuBhF;AAAA,MAAqBwF;AAAA,MAA2BX;AAAA;AAAA,MACrG,KAAK,UAAUnR,CAAS;AAAA,IAAC;AAAA,EAAC;AAC5B;AACA,MAAM+R,KAAsB;AAAA,EAC1B,GAAG;AAAA,IACD,CAAC3G,GAAU,QAAQ,GAAG;AAAA,IACtB,CAACA,GAAU,OAAO,GAAG;AAAA,EACzB;AAAA,EACE,GAAG;AAAA,IACD,CAACA,GAAU,QAAQ,GAAG;AAAA,IACtB,CAACA,GAAU,OAAO,GAAG;AAAA,EACzB;AACA;AAEA,SAASiG,GAAgB7sB,GAAO;AAC9B,MAAI;AAAA,IACF,OAAAyY;AAAA,IACA,UAAAl4C;AAAA,EACJ,IAAMy/B;AACJ,QAAMwtB,IAAgBjO,GAAY9G,CAAK;AACvC,SAAOyG,GAAY,CAAAuO,MAAkB;AACnC,QAAIltD,KAAY,CAACitD,KAAiB,CAACC;AAEjC,aAAOF;AAGT,UAAMjpC,IAAY;AAAA,MAChB,GAAG,KAAK,KAAKm0B,EAAM,IAAI+U,EAAc,CAAC;AAAA,MACtC,GAAG,KAAK,KAAK/U,EAAM,IAAI+U,EAAc,CAAC;AAAA,IAC5C;AAEI,WAAO;AAAA,MACL,GAAG;AAAA,QACD,CAAC5G,GAAU,QAAQ,GAAG6G,EAAe,EAAE7G,GAAU,QAAQ,KAAKtiC,EAAU,MAAM;AAAA,QAC9E,CAACsiC,GAAU,OAAO,GAAG6G,EAAe,EAAE7G,GAAU,OAAO,KAAKtiC,EAAU,MAAM;AAAA,MACpF;AAAA,MACM,GAAG;AAAA,QACD,CAACsiC,GAAU,QAAQ,GAAG6G,EAAe,EAAE7G,GAAU,QAAQ,KAAKtiC,EAAU,MAAM;AAAA,QAC9E,CAACsiC,GAAU,OAAO,GAAG6G,EAAe,EAAE7G,GAAU,OAAO,KAAKtiC,EAAU,MAAM;AAAA,MACpF;AAAA,IACA;AAAA,EACE,GAAG,CAAC/jB,GAAUk4C,GAAO+U,CAAa,CAAC;AACrC;AAEA,SAASE,GAAcC,GAAgB5rD,GAAI;AACzC,QAAM6rD,IAAgB7rD,KAAM,OAAO4rD,EAAe,IAAI5rD,CAAE,IAAI,QACtDqD,IAAOwoD,IAAgBA,EAAc,KAAK,UAAU;AAC1D,SAAO1O,GAAY,CAAA2O,MAAc;AAC/B,QAAI35B;AAEJ,WAAInyB,KAAM,OACD,QAMDmyB,IAAO9uB,KAAsByoD,MAAe,OAAO35B,IAAO;AAAA,EACpE,GAAG,CAAC9uB,GAAMrD,CAAE,CAAC;AACf;AAEA,SAAS+rD,GAAqB3K,GAAS4K,GAAqB;AAC1D,SAAOjrD,EAAQ,MAAMqgD,EAAQ,OAAO,CAACrD,GAAamD,MAAW;AAC3D,UAAM;AAAA,MACJ,QAAQ+K;AAAA,IACd,IAAQ/K,GACEgL,IAAmBD,EAAO,WAAW,IAAI,CAAApD,OAAc;AAAA,MAC3D,WAAWA,EAAU;AAAA,MACrB,SAASmD,EAAoBnD,EAAU,SAAS3H,CAAM;AAAA,IAC5D,EAAM;AACF,WAAO,CAAC,GAAGnD,GAAa,GAAGmO,CAAgB;AAAA,EAC7C,GAAG,CAAA,CAAE,GAAG,CAAC9K,GAAS4K,CAAmB,CAAC;AACxC;AAEA,IAAIG;AAAA,CAEH,SAAUA,GAAmB;AAC5B,EAAAA,EAAkBA,EAAkB,SAAY,CAAC,IAAI,UACrDA,EAAkBA,EAAkB,iBAAoB,CAAC,IAAI,kBAC7DA,EAAkBA,EAAkB,gBAAmB,CAAC,IAAI;AAC9D,GAAGA,OAAsBA,KAAoB,CAAA,EAAG;AAEhD,IAAIC;AAAA,CAEH,SAAUA,GAAoB;AAC7B,EAAAA,EAAmB,YAAe;AACpC,GAAGA,OAAuBA,KAAqB,CAAA,EAAG;AAElD,MAAMjrD,KAA4B,oBAAI,IAAG;AACzC,SAASkrD,GAAsBC,GAAYn6B,GAAM;AAC/C,MAAI;AAAA,IACF,UAAAo6B;AAAA,IACA,cAAAtP;AAAA,IACA,QAAAuP;AAAA,EACJ,IAAMr6B;AACJ,QAAM,CAACs6B,GAAOC,CAAQ,IAAI/qD,EAAS,IAAI,GACjC;AAAA,IACJ,WAAAgrD;AAAA,IACA,SAAAxG;AAAA,IACA,UAAAyG;AAAA,EACJ,IAAMJ,GACEK,IAAgB5qD,EAAOqqD,CAAU,GACjC9tD,IAAWyZ,EAAU,GACrB60C,IAAc9P,GAAex+C,CAAQ,GACrCuuD,IAA6BjsD,EAAY,SAAU28C,GAAK;AAK5D,IAJIA,MAAQ,WACVA,IAAM,CAAA,IAGJ,CAAAqP,EAAY,WAIhBJ,EAAS,CAAAjnD,MACHA,MAAU,OACLg4C,IAGFh4C,EAAM,OAAOg4C,EAAI,OAAO,CAAAz9C,MAAM,CAACyF,EAAM,SAASzF,CAAE,CAAC,CAAC,CAC1D;AAAA,EACH,GAAG,CAAC8sD,CAAW,CAAC,GACVzxC,IAAYpZ,EAAO,IAAI,GACvBmgD,IAAiBjF,GAAY,CAAA6P,MAAiB;AAClD,QAAIxuD,KAAY,CAAC+tD;AACf,aAAOprD;AAGT,QAAI,CAAC6rD,KAAiBA,MAAkB7rD,MAAgB0rD,EAAc,YAAYP,KAAcG,KAAS,MAAM;AAC7G,YAAMtd,IAAM,oBAAI,IAAG;AAEnB,eAASoR,KAAa+L,GAAY;AAChC,YAAI,CAAC/L;AACH;AAGF,YAAIkM,KAASA,EAAM,SAAS,KAAK,CAACA,EAAM,SAASlM,EAAU,EAAE,KAAKA,EAAU,KAAK,SAAS;AAExF,UAAApR,EAAI,IAAIoR,EAAU,IAAIA,EAAU,KAAK,OAAO;AAC5C;AAAA,QACF;AAEA,cAAMl9C,IAAOk9C,EAAU,KAAK,SACtBp0C,IAAO9I,IAAO,IAAIgjD,GAAKF,EAAQ9iD,CAAI,GAAGA,CAAI,IAAI;AACpD,QAAAk9C,EAAU,KAAK,UAAUp0C,GAErBA,KACFgjC,EAAI,IAAIoR,EAAU,IAAIp0C,CAAI;AAAA,MAE9B;AAEA,aAAOgjC;AAAA,IACT;AAEA,WAAO6d;AAAA,EACT,GAAG,CAACV,GAAYG,GAAOF,GAAU/tD,GAAU2nD,CAAO,CAAC;AACnD,SAAApjD,EAAU,MAAM;AACd,IAAA8pD,EAAc,UAAUP;AAAA,EAC1B,GAAG,CAACA,CAAU,CAAC,GACfvpD;AAAA,IAAU,MAAM;AACd,MAAIvE,KAIJuuD,EAA0B;AAAA,IAC5B;AAAA;AAAA,IACA,CAACR,GAAU/tD,CAAQ;AAAA,EAAC,GACpBuE;AAAA,IAAU,MAAM;AACd,MAAI0pD,KAASA,EAAM,SAAS,KAC1BC,EAAS,IAAI;AAAA,IAEjB;AAAA;AAAA,IACA,CAAC,KAAK,UAAUD,CAAK,CAAC;AAAA,EAAC,GACvB1pD;AAAA,IAAU,MAAM;AACd,MAAIvE,KAAY,OAAOmuD,KAAc,YAAYtxC,EAAU,YAAY,SAIvEA,EAAU,UAAU,WAAW,MAAM;AACnC,QAAA0xC,EAA0B,GAC1B1xC,EAAU,UAAU;AAAA,MACtB,GAAGsxC,CAAS;AAAA,IACd;AAAA;AAAA,IACA,CAACA,GAAWnuD,GAAUuuD,GAA4B,GAAG9P,CAAY;AAAA,EAAC,GAC3D;AAAA,IACL,gBAAAmF;AAAA,IACA,4BAAA2K;AAAA,IACA,oBAAoBN,KAAS;AAAA,EACjC;AAEE,WAASx0C,IAAa;AACpB,YAAQ20C,GAAQ;AAAA,MACd,KAAKT,GAAkB;AACrB,eAAO;AAAA,MAET,KAAKA,GAAkB;AACrB,eAAOI;AAAA,MAET;AACE,eAAO,CAACA;AAAA,IAChB;AAAA,EACE;AACF;AAEA,SAASU,GAAgBxnD,GAAOynD,GAAW;AACzC,SAAO/P,GAAY,CAAA6P,MACZvnD,IAIDunD,MAIG,OAAOE,KAAc,aAAaA,EAAUznD,CAAK,IAAIA,KAPnD,MAQR,CAACynD,GAAWznD,CAAK,CAAC;AACvB;AAEA,SAAS0nD,GAAe9pD,GAAM8iD,GAAS;AACrC,SAAO8G,GAAgB5pD,GAAM8iD,CAAO;AACtC;AAOA,SAASiH,GAAoBj7B,GAAM;AACjC,MAAI;AAAA,IACF,UAAAirB;AAAA,IACA,UAAA5+C;AAAA,EACJ,IAAM2zB;AACJ,QAAMk7B,IAAkB7Q,GAASY,CAAQ,GACnCkQ,IAAmBvsD,EAAQ,MAAM;AACrC,QAAIvC,KAAY,OAAO,SAAW,OAAe,OAAO,OAAO,mBAAqB;AAClF;AAGF,UAAM;AAAA,MACJ,kBAAA+uD;AAAA,IACN,IAAQ;AACJ,WAAO,IAAIA,EAAiBF,CAAe;AAAA,EAC7C,GAAG,CAACA,GAAiB7uD,CAAQ,CAAC;AAC9B,SAAAuE,EAAU,MACD,MAA0CuqD,GAAiB,WAAU,GAC3E,CAACA,CAAgB,CAAC,GACdA;AACT;AAOA,SAASE,GAAkBr7B,GAAM;AAC/B,MAAI;AAAA,IACF,UAAAirB;AAAA,IACA,UAAA5+C;AAAA,EACJ,IAAM2zB;AACJ,QAAMs7B,IAAejR,GAASY,CAAQ,GAChCsQ,IAAiB3sD;AAAA,IAAQ,MAAM;AACnC,UAAIvC,KAAY,OAAO,SAAW,OAAe,OAAO,OAAO,iBAAmB;AAChF;AAGF,YAAM;AAAA,QACJ,gBAAAmvD;AAAA,MACN,IAAQ;AACJ,aAAO,IAAIA,EAAeF,CAAY;AAAA,IACxC;AAAA;AAAA,IACA,CAACjvD,CAAQ;AAAA,EAAC;AACV,SAAAuE,EAAU,MACD,MAAwC2qD,GAAe,WAAU,GACvE,CAACA,CAAc,CAAC,GACZA;AACT;AAEA,SAASE,GAAexmC,GAAS;AAC/B,SAAO,IAAIi/B,GAAKzC,GAAcx8B,CAAO,GAAGA,CAAO;AACjD;AAEA,SAASymC,GAAQzmC,GAAS++B,GAAS2H,GAAc;AAC/C,EAAI3H,MAAY,WACdA,IAAUyH;AAGZ,QAAM,CAACzhD,GAAM4hD,CAAO,IAAIpsD,EAAS,IAAI;AAErC,WAASqsD,IAAc;AACrB,IAAAD,EAAQ,CAAAE,MAAe;AACrB,UAAI,CAAC7mC;AACH,eAAO;AAGT,UAAIA,EAAQ,gBAAgB,IAAO;AACjC,YAAI+K;AAIJ,gBAAQA,IAAO87B,KAAoCH,MAAiB,OAAO37B,IAAO;AAAA,MACpF;AAEA,YAAM+7B,IAAU/H,EAAQ/+B,CAAO;AAE/B,aAAI,KAAK,UAAU6mC,CAAW,MAAM,KAAK,UAAUC,CAAO,IACjDD,IAGFC;AAAA,IACT,CAAC;AAAA,EACH;AAEA,QAAMZ,IAAmBF,GAAoB;AAAA,IAC3C,SAASe,GAAS;AAChB,UAAK/mC;AAIL,mBAAWgnC,KAAUD,GAAS;AAC5B,gBAAM;AAAA,YACJ,MAAA1vD;AAAA,YACA,QAAA2c;AAAA,UACV,IAAYgzC;AAEJ,cAAI3vD,MAAS,eAAe2c,aAAkB,eAAeA,EAAO,SAASgM,CAAO,GAAG;AACrF,YAAA4mC,EAAW;AACX;AAAA,UACF;AAAA,QACF;AAAA,IACF;AAAA,EAEJ,CAAG,GACKN,IAAiBF,GAAkB;AAAA,IACvC,UAAUQ;AAAA,EACd,CAAG;AACD,SAAA7V,GAA0B,MAAM;AAC9B,IAAA6V,EAAW,GAEP5mC,KACgCsmC,GAAe,QAAQtmC,CAAO,GAC5BkmC,GAAiB,QAAQ,SAAS,MAAM;AAAA,MAC1E,WAAW;AAAA,MACX,SAAS;AAAA,IACjB,CAAO,MAEiCI,GAAe,WAAU,GACvBJ,GAAiB,WAAU;AAAA,EAEnE,GAAG,CAAClmC,CAAO,CAAC,GACLjb;AACT;AAEA,SAASkiD,GAAaliD,GAAM;AAC1B,QAAMmiD,IAAcrB,GAAgB9gD,CAAI;AACxC,SAAO+2C,GAAa/2C,GAAMmiD,CAAW;AACvC;AAEA,MAAMC,KAAiB,CAAA;AACvB,SAASC,GAAuBnrD,GAAM;AACpC,QAAMorD,IAAexsD,EAAOoB,CAAI,GAC1BqrD,IAAYvR,GAAY,CAAA6P,MACvB3pD,IAID2pD,KAAiBA,MAAkBuB,MAAkBlrD,KAAQorD,EAAa,WAAWprD,EAAK,eAAeorD,EAAa,QAAQ,aACzHzB,IAGF7I,GAAuB9gD,CAAI,IAPzBkrD,IAQR,CAAClrD,CAAI,CAAC;AACT,SAAAN,EAAU,MAAM;AACd,IAAA0rD,EAAa,UAAUprD;AAAA,EACzB,GAAG,CAACA,CAAI,CAAC,GACFqrD;AACT;AAEA,SAASC,GAAiBC,GAAU;AAClC,QAAM,CAACC,GAAmBC,CAAoB,IAAIntD,EAAS,IAAI,GACzDotD,IAAe9sD,EAAO2sD,CAAQ,GAE9BI,IAAeluD,EAAY,CAAAmC,MAAS;AACxC,UAAMgsD,IAAmBxK,GAAqBxhD,EAAM,MAAM;AAE1D,IAAKgsD,KAILH,EAAqB,CAAAD,MACdA,KAILA,EAAkB,IAAII,GAAkBrK,GAAqBqK,CAAgB,CAAC,GACvE,IAAI,IAAIJ,CAAiB,KAJvB,IAKV;AAAA,EACH,GAAG,CAAA,CAAE;AACL,SAAA9rD,EAAU,MAAM;AACd,UAAMmsD,IAAmBH,EAAa;AAEtC,QAAIH,MAAaM,GAAkB;AACjC,MAAAC,EAAQD,CAAgB;AACxB,YAAMjc,IAAU2b,EAAS,IAAI,CAAAxnC,MAAW;AACtC,cAAMgoC,IAAoB3K,GAAqBr9B,CAAO;AAEtD,eAAIgoC,KACFA,EAAkB,iBAAiB,UAAUJ,GAAc;AAAA,UACzD,SAAS;AAAA,QACrB,CAAW,GACM,CAACI,GAAmBxK,GAAqBwK,CAAiB,CAAC,KAG7D;AAAA,MACT,CAAC,EAAE,OAAO,CAAAjc,MAASA,KAAS,IAAI;AAChC,MAAA2b,EAAqB7b,EAAQ,SAAS,IAAI,IAAIA,CAAO,IAAI,IAAI,GAC7D8b,EAAa,UAAUH;AAAA,IACzB;AAEA,WAAO,MAAM;AACX,MAAAO,EAAQP,CAAQ,GAChBO,EAAQD,CAAgB;AAAA,IAC1B;AAEA,aAASC,EAAQP,GAAU;AACzB,MAAAA,EAAS,QAAQ,CAAAxnC,MAAW;AAC1B,cAAMgoC,IAAoB3K,GAAqBr9B,CAAO;AACtD,QAAqCgoC,GAAkB,oBAAoB,UAAUJ,CAAY;AAAA,MACnG,CAAC;AAAA,IACH;AAAA,EACF,GAAG,CAACA,GAAcJ,CAAQ,CAAC,GACpB7tD,EAAQ,MACT6tD,EAAS,SACJC,IAAoB,MAAM,KAAKA,EAAkB,OAAM,CAAE,EAAE,OAAO,CAAC93B,GAAK2xB,MAAgBxK,GAAInnB,GAAK2xB,CAAW,GAAGrH,EAAkB,IAAIyE,GAAiB8I,CAAQ,IAGhKvN,IACN,CAACuN,GAAUC,CAAiB,CAAC;AAClC;AAEA,SAASQ,GAAsB/I,GAAerJ,GAAc;AAC1D,EAAIA,MAAiB,WACnBA,IAAe,CAAA;AAGjB,QAAMqS,IAAuBrtD,EAAO,IAAI;AACxC,SAAAc;AAAA,IAAU,MAAM;AACd,MAAAusD,EAAqB,UAAU;AAAA,IACjC;AAAA;AAAA,IACArS;AAAA,EAAY,GACZl6C,EAAU,MAAM;AACd,UAAMwsD,IAAmBjJ,MAAkBjF;AAE3C,IAAIkO,KAAoB,CAACD,EAAqB,YAC5CA,EAAqB,UAAUhJ,IAG7B,CAACiJ,KAAoBD,EAAqB,YAC5CA,EAAqB,UAAU;AAAA,EAEnC,GAAG,CAAChJ,CAAa,CAAC,GACXgJ,EAAqB,UAAUnR,GAASmI,GAAegJ,EAAqB,OAAO,IAAIjO;AAChG;AAEA,SAASmO,GAAepO,GAAS;AAC/B,EAAAr+C;AAAA,IAAU,MAAM;AACd,UAAI,CAAC44C;AACH;AAGF,YAAM8T,IAAcrO,EAAQ,IAAI,CAAAjvB,MAAQ;AACtC,YAAI;AAAA,UACF,QAAA+uB;AAAA,QACR,IAAU/uB;AACJ,eAAO+uB,EAAO,SAAS,OAAO,SAASA,EAAO,MAAK;AAAA,MACrD,CAAC;AACD,aAAO,MAAM;AACX,mBAAWwO,KAAYD;AACrB,UAA4BC,IAAQ;AAAA,MAExC;AAAA,IACF;AAAA;AAAA;AAAA,IAEAtO,EAAQ,IAAI,CAAAnjB,MAAS;AACnB,UAAI;AAAA,QACF,QAAAijB;AAAA,MACN,IAAQjjB;AACJ,aAAOijB;AAAA,IACT,CAAC;AAAA,EAAC;AACJ;AAEA,SAASyO,GAAsB5P,GAAW//C,GAAI;AAC5C,SAAOe,EAAQ,MACNg/C,EAAU,OAAO,CAAChpB,GAAK5E,MAAS;AACrC,QAAI;AAAA,MACF,WAAA20B;AAAA,MACA,SAAA/T;AAAA,IACR,IAAU5gB;AAEJ,WAAA4E,EAAI+vB,CAAS,IAAI,CAAA7jD,MAAS;AACxB,MAAA8vC,EAAQ9vC,GAAOjD,CAAE;AAAA,IACnB,GAEO+2B;AAAA,EACT,GAAG,CAAA,CAAE,GACJ,CAACgpB,GAAW//C,CAAE,CAAC;AACpB;AAEA,SAAS4vD,GAAcxoC,GAAS;AAC9B,SAAOrmB,EAAQ,MAAMqmB,IAAU08B,GAAoB18B,CAAO,IAAI,MAAM,CAACA,CAAO,CAAC;AAC/E;AAEA,MAAMyoC,KAAiB,CAAA;AACvB,SAASC,GAASlB,GAAUzI,GAAS;AACnC,EAAIA,MAAY,WACdA,IAAUvC;AAGZ,QAAM,CAACmM,CAAY,IAAInB,GACjBoB,IAAaJ,GAAcG,IAAehU,GAAUgU,CAAY,IAAI,IAAI,GACxE,CAACE,GAAOC,CAAQ,IAAIvuD,EAASkuD,EAAc;AAEjD,WAASM,IAAe;AACtB,IAAAD,EAAS,MACFtB,EAAS,SAIPA,EAAS,IAAI,CAAAxnC,MAAW09B,GAA2B19B,CAAO,IAAI4oC,IAAa,IAAI3J,GAAKF,EAAQ/+B,CAAO,GAAGA,CAAO,CAAC,IAH5GyoC,EAIV;AAAA,EACH;AAEA,QAAMnC,IAAiBF,GAAkB;AAAA,IACvC,UAAU2C;AAAA,EACd,CAAG;AACD,SAAAhY,GAA0B,MAAM;AAC9B,IAAkCuV,GAAe,WAAU,GAC3DyC,EAAY,GACZvB,EAAS,QAAQ,CAAAxnC,MAA6CsmC,GAAe,QAAQtmC,CAAO,CAAC;AAAA,EAC/F,GAAG,CAACwnC,CAAQ,CAAC,GACNqB;AACT;AAEA,SAASG,GAAkB/sD,GAAM;AAC/B,MAAI,CAACA;AACH,WAAO;AAGT,MAAIA,EAAK,SAAS,SAAS;AACzB,WAAOA;AAGT,QAAMgtD,IAAahtD,EAAK,SAAS,CAAC;AAClC,SAAO+4C,GAAciU,CAAU,IAAIA,IAAahtD;AAClD;AAEA,SAASitD,GAAwBn+B,GAAM;AACrC,MAAI;AAAA,IACF,SAAAg0B;AAAA,EACJ,IAAMh0B;AACJ,QAAM,CAAChmB,GAAM4hD,CAAO,IAAIpsD,EAAS,IAAI,GAC/B8rD,IAAe3sD,EAAY,CAAAmyC,MAAW;AAC1C,eAAW;AAAA,MACT,QAAA73B;AAAA,IACN,KAAS63B;AACH,UAAImJ,GAAchhC,CAAM,GAAG;AACzB,QAAA2yC,EAAQ,CAAA5hD,MAAQ;AACd,gBAAM+hD,IAAU/H,EAAQ/qC,CAAM;AAC9B,iBAAOjP,IAAO;AAAA,YAAE,GAAGA;AAAA,YACjB,OAAO+hD,EAAQ;AAAA,YACf,QAAQA,EAAQ;AAAA,UAC5B,IAAcA;AAAA,QACN,CAAC;AACD;AAAA,MACF;AAAA,EAEJ,GAAG,CAAC/H,CAAO,CAAC,GACNuH,IAAiBF,GAAkB;AAAA,IACvC,UAAUC;AAAA,EACd,CAAG,GACK8C,IAAmBzvD,EAAY,CAAAsmB,MAAW;AAC9C,UAAM/jB,IAAO+sD,GAAkBhpC,CAAO;AACtC,IAAkCsmC,GAAe,WAAU,GAEvDrqD,KACgCqqD,GAAe,QAAQrqD,CAAI,GAG/D0qD,EAAQ1qD,IAAO8iD,EAAQ9iD,CAAI,IAAI,IAAI;AAAA,EACrC,GAAG,CAAC8iD,GAASuH,CAAc,CAAC,GACtB,CAAC8C,GAASC,CAAM,IAAIpT,GAAWkT,CAAgB;AACrD,SAAOxvD,EAAQ,OAAO;AAAA,IACpB,SAAAyvD;AAAA,IACA,MAAArkD;AAAA,IACA,QAAAskD;AAAA,EACJ,IAAM,CAACtkD,GAAMqkD,GAASC,CAAM,CAAC;AAC7B;AAEA,MAAMC,KAAiB,CAAC;AAAA,EACtB,QAAQ7G;AAAA,EACR,SAAS,CAAA;AACX,GAAG;AAAA,EACD,QAAQnC;AAAA,EACR,SAAS,CAAA;AACX,CAAC,GACKiJ,KAAc;AAAA,EAClB,SAAS,CAAA;AACX,GACMC,KAAgC;AAAA,EACpC,WAAW;AAAA,IACT,SAAS/M;AAAA,EACb;AAAA,EACE,WAAW;AAAA,IACT,SAASA;AAAA,IACT,UAAUsI,GAAkB;AAAA,IAC5B,WAAWC,GAAmB;AAAA,EAClC;AAAA,EACE,aAAa;AAAA,IACX,SAASxI;AAAA,EACb;AACA;AAEA,MAAMiN,WAA+B,IAAI;AAAA,EACvC,IAAI7wD,GAAI;AACN,QAAI8wD;AAEJ,WAAO9wD,KAAM,SAAQ8wD,IAAa,MAAM,IAAI9wD,CAAE,MAAM,OAAO8wD,IAAyB;AAAA,EACtF;AAAA,EAEA,UAAU;AACR,WAAO,MAAM,KAAK,KAAK,OAAM,CAAE;AAAA,EACjC;AAAA,EAEA,aAAa;AACX,WAAO,KAAK,UAAU,OAAO,CAAA3+B,MAAQ;AACnC,UAAI;AAAA,QACF,UAAA3zB;AAAA,MACR,IAAU2zB;AACJ,aAAO,CAAC3zB;AAAA,IACV,CAAC;AAAA,EACH;AAAA,EAEA,WAAWwB,GAAI;AACb,QAAI+wD,GAAuBC;AAE3B,YAAQD,KAAyBC,IAAY,KAAK,IAAIhxD,CAAE,MAAM,OAAO,SAASgxD,EAAU,KAAK,YAAY,OAAOD,IAAwB;AAAA,EAC1I;AAEF;AAEA,MAAME,KAAuB;AAAA,EAC3B,gBAAgB;AAAA,EAChB,QAAQ;AAAA,EACR,YAAY;AAAA,EACZ,gBAAgB;AAAA,EAChB,YAAY;AAAA,EACZ,mBAAmB;AAAA,EACnB,gBAA6B,oBAAI,IAAG;AAAA,EACpC,gBAA6B,oBAAI,IAAG;AAAA,EACpC,qBAAkC,oBAAIJ,GAAsB;AAAA,EAC5D,MAAM;AAAA,EACN,aAAa;AAAA,IACX,SAAS;AAAA,MACP,SAAS;AAAA,IACf;AAAA,IACI,MAAM;AAAA,IACN,QAAQhtD;AAAA,EACZ;AAAA,EACE,qBAAqB,CAAA;AAAA,EACrB,yBAAyB,CAAA;AAAA,EACzB,wBAAwB+sD;AAAA,EACxB,4BAA4B/sD;AAAA,EAC5B,YAAY;AAAA,EACZ,oBAAoB;AACtB,GACMqtD,KAAyB;AAAA,EAC7B,gBAAgB;AAAA,EAChB,YAAY,CAAA;AAAA,EACZ,QAAQ;AAAA,EACR,gBAAgB;AAAA,EAChB,mBAAmB;AAAA,IACjB,WAAW;AAAA,EACf;AAAA,EACE,UAAUrtD;AAAA,EACV,gBAA6B,oBAAI,IAAG;AAAA,EACpC,MAAM;AAAA,EACN,4BAA4BA;AAC9B,GACMstD,KAA+B,gBAAA9jC,GAAc6jC,EAAsB,GACnEE,KAA6B,gBAAA/jC,GAAc4jC,EAAoB;AAErE,SAASI,KAAkB;AACzB,SAAO;AAAA,IACL,WAAW;AAAA,MACT,QAAQ;AAAA,MACR,oBAAoB;AAAA,QAClB,GAAG;AAAA,QACH,GAAG;AAAA,MACX;AAAA,MACM,OAAO,oBAAI,IAAG;AAAA,MACd,WAAW;AAAA,QACT,GAAG;AAAA,QACH,GAAG;AAAA,MACX;AAAA,IACA;AAAA,IACI,WAAW;AAAA,MACT,YAAY,IAAIR,GAAsB;AAAA,IAC5C;AAAA,EACA;AACA;AACA,SAASS,GAAQnyD,GAAO8tB,GAAQ;AAC9B,UAAQA,EAAO,MAAI;AAAA,IACjB,KAAK+zB,GAAO;AACV,aAAO;AAAA,QAAE,GAAG7hD;AAAA,QACV,WAAW;AAAA,UAAE,GAAGA,EAAM;AAAA,UACpB,oBAAoB8tB,EAAO;AAAA,UAC3B,QAAQA,EAAO;AAAA,QACzB;AAAA,MACA;AAAA,IAEI,KAAK+zB,GAAO;AACV,aAAI7hD,EAAM,UAAU,UAAU,OACrBA,IAGF;AAAA,QAAE,GAAGA;AAAA,QACV,WAAW;AAAA,UAAE,GAAGA,EAAM;AAAA,UACpB,WAAW;AAAA,YACT,GAAG8tB,EAAO,YAAY,IAAI9tB,EAAM,UAAU,mBAAmB;AAAA,YAC7D,GAAG8tB,EAAO,YAAY,IAAI9tB,EAAM,UAAU,mBAAmB;AAAA,UACzE;AAAA,QACA;AAAA,MACA;AAAA,IAEI,KAAK6hD,GAAO;AAAA,IACZ,KAAKA,GAAO;AACV,aAAO;AAAA,QAAE,GAAG7hD;AAAA,QACV,WAAW;AAAA,UAAE,GAAGA,EAAM;AAAA,UACpB,QAAQ;AAAA,UACR,oBAAoB;AAAA,YAClB,GAAG;AAAA,YACH,GAAG;AAAA,UACf;AAAA,UACU,WAAW;AAAA,YACT,GAAG;AAAA,YACH,GAAG;AAAA,UACf;AAAA,QACA;AAAA,MACA;AAAA,IAEI,KAAK6hD,GAAO,mBACV;AACE,YAAM;AAAA,QACJ,SAAA55B;AAAA,MACV,IAAY6F,GACE;AAAA,QACJ,IAAAjtB;AAAA,MACV,IAAYonB,GACEklC,IAAa,IAAIuE,GAAuB1xD,EAAM,UAAU,UAAU;AACxE,aAAAmtD,EAAW,IAAItsD,GAAIonB,CAAO,GACnB;AAAA,QAAE,GAAGjoB;AAAA,QACV,WAAW;AAAA,UAAE,GAAGA,EAAM;AAAA,UACpB,YAAAmtD;AAAA,QACZ;AAAA,MACA;AAAA,IACM;AAAA,IAEF,KAAKtL,GAAO,sBACV;AACE,YAAM;AAAA,QACJ,IAAAhhD;AAAA,QACA,KAAA0M;AAAA,QACA,UAAAlO;AAAA,MACV,IAAYyuB,GACE7F,IAAUjoB,EAAM,UAAU,WAAW,IAAIa,CAAE;AAEjD,UAAI,CAAConB,KAAW1a,MAAQ0a,EAAQ;AAC9B,eAAOjoB;AAGT,YAAMmtD,IAAa,IAAIuE,GAAuB1xD,EAAM,UAAU,UAAU;AACxE,aAAAmtD,EAAW,IAAItsD,GAAI;AAAA,QAAE,GAAGonB;AAAA,QACtB,UAAA5oB;AAAA,MACV,CAAS,GACM;AAAA,QAAE,GAAGW;AAAA,QACV,WAAW;AAAA,UAAE,GAAGA,EAAM;AAAA,UACpB,YAAAmtD;AAAA,QACZ;AAAA,MACA;AAAA,IACM;AAAA,IAEF,KAAKtL,GAAO,qBACV;AACE,YAAM;AAAA,QACJ,IAAAhhD;AAAA,QACA,KAAA0M;AAAA,MACV,IAAYugB,GACE7F,IAAUjoB,EAAM,UAAU,WAAW,IAAIa,CAAE;AAEjD,UAAI,CAAConB,KAAW1a,MAAQ0a,EAAQ;AAC9B,eAAOjoB;AAGT,YAAMmtD,IAAa,IAAIuE,GAAuB1xD,EAAM,UAAU,UAAU;AACxE,aAAAmtD,EAAW,OAAOtsD,CAAE,GACb;AAAA,QAAE,GAAGb;AAAA,QACV,WAAW;AAAA,UAAE,GAAGA,EAAM;AAAA,UACpB,YAAAmtD;AAAA,QACZ;AAAA,MACA;AAAA,IACM;AAAA,IAEF;AAEI,aAAOntD;AAAA,EAEf;AACA;AAEA,SAASoyD,GAAap/B,GAAM;AAC1B,MAAI;AAAA,IACF,UAAA3zB;AAAA,EACJ,IAAM2zB;AACJ,QAAM;AAAA,IACJ,QAAAguB;AAAA,IACA,gBAAAqR;AAAA,IACA,gBAAA5F;AAAA,EACJ,IAAMr+B,GAAW4jC,EAAe,GACxBM,IAAyBjU,GAAYgU,CAAc,GACnDE,IAAmBlU,GAAsC2C,GAAO,EAAE;AAExE,SAAAp9C,EAAU,MAAM;AACd,QAAI,CAAAvE,KAIA,CAACgzD,KAAkBC,KAA0BC,KAAoB,MAAM;AAKzE,UAJI,CAACrT,GAAgBoT,CAAsB,KAIvC,SAAS,kBAAkBA,EAAuB;AAEpD;AAGF,YAAM5F,IAAgBD,EAAe,IAAI8F,CAAgB;AAEzD,UAAI,CAAC7F;AACH;AAGF,YAAM;AAAA,QACJ,eAAA8F;AAAA,QACA,MAAAtuD;AAAA,MACR,IAAUwoD;AAEJ,UAAI,CAAC8F,EAAc,WAAW,CAACtuD,EAAK;AAClC;AAGF,4BAAsB,MAAM;AAC1B,mBAAW+jB,KAAW,CAACuqC,EAAc,SAAStuD,EAAK,OAAO,GAAG;AAC3D,cAAI,CAAC+jB;AACH;AAGF,gBAAMwqC,IAAgB1S,GAAuB93B,CAAO;AAEpD,cAAIwqC,GAAe;AACjB,YAAAA,EAAc,MAAK;AACnB;AAAA,UACF;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF,GAAG,CAACJ,GAAgBhzD,GAAUotD,GAAgB8F,GAAkBD,CAAsB,CAAC,GAChF;AACT;AAEA,SAASI,GAAeC,GAAW3/B,GAAM;AACvC,MAAI;AAAA,IACF,WAAAysB;AAAA,IACA,GAAGtM;AAAA,EACP,IAAMngB;AACJ,SAAO2/B,KAAa,QAAQA,EAAU,SAASA,EAAU,OAAO,CAAC/T,GAAaF,MACrEA,EAAS;AAAA,IACd,WAAWE;AAAA,IACX,GAAGzL;AAAA,EACT,CAAK,GACAsM,CAAS,IAAIA;AAClB;AAEA,SAASmT,GAA0BvF,GAAQ;AACzC,SAAOzrD;AAAA,IAAQ,OAAO;AAAA,MACpB,WAAW;AAAA,QAAE,GAAG6vD,GAA8B;AAAA,QAC5C,GAA8BpE,GAAO;AAAA,MAC3C;AAAA,MACI,WAAW;AAAA,QAAE,GAAGoE,GAA8B;AAAA,QAC5C,GAA8BpE,GAAO;AAAA,MAC3C;AAAA,MACI,aAAa;AAAA,QAAE,GAAGoE,GAA8B;AAAA,QAC9C,GAA8BpE,GAAO;AAAA,MAC3C;AAAA,IACA;AAAA;AAAA,IACE,CAA2BA,GAAO,WAAqCA,GAAO,WAAqCA,GAAO,WAAW;AAAA,EAAC;AACxI;AAEA,SAASwF,GAAiC7/B,GAAM;AAC9C,MAAI;AAAA,IACF,YAAAw1B;AAAA,IACA,SAAAxB;AAAA,IACA,aAAAmI;AAAA,IACA,QAAA9B,IAAS;AAAA,EACb,IAAMr6B;AACJ,QAAM8/B,IAAchwD,EAAO,EAAK,GAC1B;AAAA,IACJ,GAAAwL;AAAA,IACA,GAAAixC;AAAA,EACJ,IAAM,OAAO8N,KAAW,YAAY;AAAA,IAChC,GAAGA;AAAA,IACH,GAAGA;AAAA,EACP,IAAMA;AACJ,EAAArU,GAA0B,MAAM;AAG9B,QAFiB,CAAC1qC,KAAK,CAACixC,KAER,CAACiJ,GAAY;AAC3B,MAAAsK,EAAY,UAAU;AACtB;AAAA,IACF;AAEA,QAAIA,EAAY,WAAW,CAAC3D;AAG1B;AAIF,UAAMjrD,IAAqCskD,GAAW,KAAK;AAE3D,QAAI,CAACtkD,KAAQA,EAAK,gBAAgB;AAGhC;AAGF,UAAM8I,IAAOg6C,EAAQ9iD,CAAI,GACnB6uD,IAAYhP,GAAa/2C,GAAMmiD,CAAW;AAahD,QAXK7gD,MACHykD,EAAU,IAAI,IAGXxT,MACHwT,EAAU,IAAI,IAIhBD,EAAY,UAAU,IAElB,KAAK,IAAIC,EAAU,CAAC,IAAI,KAAK,KAAK,IAAIA,EAAU,CAAC,IAAI,GAAG;AAC1D,YAAM1N,IAA0BD,GAA2BlhD,CAAI;AAE/D,MAAImhD,KACFA,EAAwB,SAAS;AAAA,QAC/B,KAAK0N,EAAU;AAAA,QACf,MAAMA,EAAU;AAAA,MAC1B,CAAS;AAAA,IAEL;AAAA,EACF,GAAG,CAACvK,GAAYl6C,GAAGixC,GAAG4P,GAAanI,CAAO,CAAC;AAC7C;AAEA,MAAMgM,KAAsC,gBAAA9kC,GAAc;AAAA,EAAE,GAAGg0B;AAAA,EAC7D,QAAQ;AAAA,EACR,QAAQ;AACV,CAAC;AACD,IAAI+Q;AAAA,CAEH,SAAUA,GAAQ;AACjB,EAAAA,EAAOA,EAAO,gBAAmB,CAAC,IAAI,iBACtCA,EAAOA,EAAO,eAAkB,CAAC,IAAI,gBACrCA,EAAOA,EAAO,cAAiB,CAAC,IAAI;AACtC,GAAGA,OAAWA,KAAS,CAAA,EAAG;AAE1B,MAAMC,KAA0B7xD,gBAAAA,GAAK,SAAoB2xB,GAAM;AAC7D,MAAImgC,GAAuBC,GAAuBC,GAAmBC;AAErE,MAAI;AAAA,IACF,IAAAzyD;AAAA,IACA,eAAA0yD;AAAA,IACA,YAAAtH,IAAa;AAAA,IACb,UAAA9sD;AAAA,IACA,SAAA8iD,IAAUsP;AAAA,IACV,oBAAAiC,IAAqB7P;AAAA,IACrB,WAAA8P;AAAA,IACA,WAAAd;AAAA,IACA,GAAG5tD;AAAA,EACP,IAAMiuB;AACJ,QAAM0gC,IAAQC,GAAWxB,IAAS,QAAWD,EAAe,GACtD,CAAClyD,GAAO4zD,CAAQ,IAAIF,GACpB,CAACG,GAAsBC,CAAuB,IAAInT,GAAqB,GACvE,CAACoT,GAAQC,CAAS,IAAIxxD,EAASywD,GAAO,aAAa,GACnDgB,IAAgBF,MAAWd,GAAO,aAClC;AAAA,IACJ,WAAW;AAAA,MACT,QAAQiB;AAAA,MACR,OAAOzH;AAAA,MACP,WAAA0H;AAAA,IACN;AAAA,IACI,WAAW;AAAA,MACT,YAAYjR;AAAA,IAClB;AAAA,EACA,IAAMljD,GACEkE,IAAOgwD,KAAY,OAAOzH,EAAe,IAAIyH,CAAQ,IAAI,MACzDE,IAActxD,EAAO;AAAA,IACzB,SAAS;AAAA,IACT,YAAY;AAAA,EAChB,CAAG,GACKk+C,IAASp/C,EAAQ,MAAM;AAC3B,QAAIyyD;AAEJ,WAAOH,KAAY,OAAO;AAAA,MACxB,IAAIA;AAAA;AAAA,MAEJ,OAAOG,KAAqCnwD,GAAK,SAAS,OAAOmwD,KAAa7C;AAAA,MAC9E,MAAM4C;AAAA,IACZ,IAAQ;AAAA,EACN,GAAG,CAACF,GAAUhwD,CAAI,CAAC,GACbowD,IAAYxxD,EAAO,IAAI,GACvB,CAACyxD,GAAcC,CAAe,IAAIhyD,EAAS,IAAI,GAC/C,CAAC6vD,GAAgBoC,CAAiB,IAAIjyD,EAAS,IAAI,GACnDkyD,IAAc7W,GAAe94C,GAAO,OAAO,OAAOA,CAAK,CAAC,GACxD4vD,IAAyBpW,GAAY,kBAAkB19C,CAAE,GACzD+zD,KAA6BhzD,EAAQ,MAAMshD,EAAoB,WAAU,GAAI,CAACA,CAAmB,CAAC,GAClG2R,IAAyBjC,GAA0Ba,CAAS,GAC5D;AAAA,IACJ,gBAAAxQ;AAAA,IACA,4BAAA2K;AAAA,IACA,oBAAAkH;AAAA,EACJ,IAAM5H,GAAsB0H,IAA4B;AAAA,IACpD,UAAUX;AAAA,IACV,cAAc,CAACE,EAAU,GAAGA,EAAU,CAAC;AAAA,IACvC,QAAQU,EAAuB;AAAA,EACnC,CAAG,GACKrM,IAAagE,GAAcC,GAAgByH,CAAQ,GACnDa,IAAwBnzD,EAAQ,MAAMywD,IAAiB/S,GAAoB+S,CAAc,IAAI,MAAM,CAACA,CAAc,CAAC,GACnH2C,IAAoBC,GAAsB,GAC1CC,KAAwBlH,GAAexF,GAAYqM,EAAuB,UAAU,OAAO;AACjG,EAAAhC,GAAiC;AAAA,IAC/B,YAAYqB,KAAY,OAAOzH,EAAe,IAAIyH,CAAQ,IAAI;AAAA,IAC9D,QAAQc,EAAkB;AAAA,IAC1B,aAAaE;AAAA,IACb,SAASL,EAAuB,UAAU;AAAA,EAC9C,CAAG;AACD,QAAMM,KAAiBzG,GAAQlG,GAAYqM,EAAuB,UAAU,SAASK,EAAqB,GACpGE,KAAoB1G,GAAQlG,IAAaA,EAAW,gBAAgB,IAAI,GACxE6M,KAAgBvyD,EAAO;AAAA,IAC3B,gBAAgB;AAAA,IAChB,QAAQ;AAAA,IACR,YAAA0lD;AAAA,IACA,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,gBAAAvF;AAAA,IACA,gBAAAwJ;AAAA,IACA,cAAc;AAAA,IACd,kBAAkB;AAAA,IAClB,qBAAAvJ;AAAA,IACA,MAAM;AAAA,IACN,qBAAqB,CAAA;AAAA,IACrB,yBAAyB;AAAA,EAC7B,CAAG,GACKoS,KAAWpS,EAAoB,YAAYiQ,IAAwBkC,GAAc,QAAQ,SAAS,OAAO,SAASlC,EAAsB,EAAE,GAC1IoC,KAAcpE,GAAwB;AAAA,IAC1C,SAAS0D,EAAuB,YAAY;AAAA,EAChD,CAAG,GAEKW,MAAgBpC,IAAwBmC,GAAY,QAAQ,YAAY,OAAOnC,IAAwB5K,GACvGiN,KAAmBxB,KAAiBZ,IAAoBkC,GAAY,SAAS,OAAOlC,IAAoB8B,KAAiB,MACzHO,KAAkB,GAAQH,GAAY,QAAQ,WAAWA,GAAY,OAGrEI,KAAgBzG,GAAawG,KAAkB,OAAOP,EAAc,GAEpEtE,KAAaJ,GAAc+E,KAAe5Y,GAAU4Y,EAAY,IAAI,IAAI,GAExE5O,KAAsByI,GAAuB4E,IAAgBqB,MAA8B9M,IAAa,IAAI,GAC5GiD,KAA0BkF,GAAS/J,EAAmB,GAEtDgP,KAAoBlD,GAAeC,GAAW;AAAA,IAClD,WAAW;AAAA,MACT,GAAGwB,EAAU,IAAIwB,GAAc;AAAA,MAC/B,GAAGxB,EAAU,IAAIwB,GAAc;AAAA,MAC/B,QAAQ;AAAA,MACR,QAAQ;AAAA,IACd;AAAA,IACI,gBAAAtD;AAAA,IACA,QAAArR;AAAA,IACA,gBAAAmU;AAAA,IACA,mBAAAC;AAAA,IACA,kBAAAK;AAAA,IACA,MAAMJ,GAAc,QAAQ;AAAA,IAC5B,iBAAiBE,GAAY;AAAA,IAC7B,qBAAA3O;AAAA,IACA,yBAAA6E;AAAA,IACA,YAAAoF;AAAA,EACJ,CAAG,GACKrF,KAAqBuJ,IAAwBhW,GAAIgW,GAAuBZ,CAAS,IAAI,MACrFhN,KAAgBqI,GAAiB5I,EAAmB,GAEpDiP,KAAmB3F,GAAsB/I,EAAa,GAEtD2O,KAAwB5F,GAAsB/I,IAAe,CAACgO,EAAc,CAAC,GAC7EY,KAA0BhX,GAAI6W,IAAmBC,EAAgB,GACjE7S,KAAgByS,KAAmBxR,GAAgBwR,IAAkBG,EAAiB,IAAI,MAC1FhT,KAAa5B,KAAUgC,KAAgBwQ,EAAmB;AAAA,IAC9D,QAAAxS;AAAA,IACA,eAAAgC;AAAA,IACA,gBAAAC;AAAA,IACA,qBAAqB2R;AAAA,IACrB,oBAAApJ;AAAA,EACJ,CAAG,IAAI,MACCwK,KAASrT,GAAkBC,IAAY,IAAI,GAC3C,CAAC3B,IAAMgV,EAAO,IAAIzzD,EAAS,IAAI,GAG/B0zD,KAAmBR,KAAkBE,KAAoB7W,GAAI6W,IAAmBE,EAAqB,GACrGrW,KAAYmE,GAAYsS,KAAmB5C,IAAqCrS,IAAK,SAAS,OAAOqS,IAAa,MAAM6B,EAAc,GACtIgB,KAAkBrzD,EAAO,IAAI,GAC7BszD,KAAoBz0D;AAAA,IAAY,CAACmC,IAAOg7B,OAAU;AACtD,UAAI;AAAA,QACF,QAAQguB;AAAA,QACR,SAAA5qD;AAAA,MACN,IAAQ48B;AAEJ,UAAIw1B,EAAU,WAAW;AACvB;AAGF,YAAM9L,KAAaiE,EAAe,IAAI6H,EAAU,OAAO;AAEvD,UAAI,CAAC9L;AACH;AAGF,YAAM6J,KAAiBvuD,GAAM,aACvBuyD,KAAiB,IAAIvJ,GAAO;AAAA,QAChC,QAAQwH,EAAU;AAAA,QAClB,YAAA9L;AAAA,QACA,OAAO6J;AAAA,QACP,SAAAnwD;AAAA;AAAA;AAAA,QAGA,SAASmzD;AAAA,QAET,QAAQx0D,IAAI;AAGV,cAAI,CAFkB4rD,EAAe,IAAI5rD,EAAE;AAGzC;AAGF,gBAAM;AAAA,YACJ,aAAAy1D;AAAA,UACV,IAAY5B,EAAY,SACV5wD,KAAQ;AAAA,YACZ,IAAAjD;AAAA,UACV;AACQ,UAA+By1D,KAAYxyD,EAAK,GAChD+vD,EAAqB;AAAA,YACnB,MAAM;AAAA,YACN,OAAA/vD;AAAA,UACV,CAAS;AAAA,QACH;AAAA,QAEA,UAAUjD,IAAI+oD,IAAYS,IAAoBhW,IAAQ;AAGpD,cAAI,CAFkBoY,EAAe,IAAI5rD,EAAE;AAGzC;AAGF,gBAAM;AAAA,YACJ,eAAA01D;AAAA,UACV,IAAY7B,EAAY,SACV5wD,KAAQ;AAAA,YACZ,IAAAjD;AAAA,YACA,YAAA+oD;AAAA,YACA,oBAAAS;AAAA,YACA,QAAAhW;AAAA,UACV;AACQ,UAAiCkiB,KAAczyD,EAAK,GACpD+vD,EAAqB;AAAA,YACnB,MAAM;AAAA,YACN,OAAA/vD;AAAA,UACV,CAAS;AAAA,QACH;AAAA,QAEA,QAAQumD,IAAoB;AAC1B,gBAAMxpD,KAAKyzD,EAAU;AAErB,cAAIzzD,MAAM;AACR;AAGF,gBAAM6rD,KAAgBD,EAAe,IAAI5rD,EAAE;AAE3C,cAAI,CAAC6rD;AACH;AAGF,gBAAM;AAAA,YACJ,aAAA8J;AAAA,UACV,IAAY9B,EAAY,SACV5wD,KAAQ;AAAA,YACZ,gBAAAuuD;AAAA,YACA,QAAQ;AAAA,cACN,IAAAxxD;AAAA,cACA,MAAM6rD,GAAc;AAAA,cACpB,MAAM0H;AAAA,YAClB;AAAA,UACA;AACQ,UAAAqC,GAAwB,MAAM;AAC5B,YAA+BD,KAAY1yD,EAAK,GAChDkwD,EAAUf,GAAO,YAAY,GAC7BW,EAAS;AAAA,cACP,MAAM/R,GAAO;AAAA,cACb,oBAAAwI;AAAA,cACA,QAAQxpD;AAAA,YACpB,CAAW,GACDgzD,EAAqB;AAAA,cACnB,MAAM;AAAA,cACN,OAAA/vD;AAAA,YACZ,CAAW,GACD0wD,EAAgB2B,GAAgB,OAAO,GACvC1B,EAAkBpC,EAAc;AAAA,UAClC,CAAC;AAAA,QACH;AAAA,QAEA,OAAO9I,IAAa;AAClB,UAAAqK,EAAS;AAAA,YACP,MAAM/R,GAAO;AAAA,YACb,aAAA0H;AAAA,UACV,CAAS;AAAA,QACH;AAAA,QAEA,OAAOhV,GAAcsN,GAAO,OAAO;AAAA,QACnC,UAAUtN,GAAcsN,GAAO,UAAU;AAAA,MAC/C,CAAK;AACD,MAAAsU,GAAgB,UAAUE;AAE1B,eAAS9hB,GAAcj1C,IAAM;AAC3B,eAAO,iBAAyB;AAC9B,gBAAM;AAAA,YACJ,QAAA0hD;AAAA,YACA,YAAA4B;AAAA,YACA,MAAA3B;AAAA,YACA,yBAAA8U;AAAA,UACV,IAAYV,GAAc;AAClB,cAAIvxD,KAAQ;AAEZ,cAAIk9C,MAAU+U,IAAyB;AACrC,kBAAM;AAAA,cACJ,YAAAW;AAAA,YACZ,IAAchC,EAAY;AAChB,YAAA5wD,KAAQ;AAAA,cACN,gBAAAuuD;AAAA,cACA,QAAQrR;AAAA,cACR,YAAA4B;AAAA,cACA,OAAOmT;AAAA,cACP,MAAA9U;AAAA,YACZ,GAEc3hD,OAASuiD,GAAO,WAAW,OAAO6U,MAAe,cAC9B,MAAM,QAAQ,QAAQA,GAAW5yD,EAAK,CAAC,MAG1DxE,KAAOuiD,GAAO;AAAA,UAGpB;AAEA,UAAAyS,EAAU,UAAU,MACpBmC,GAAwB,MAAM;AAC5B,YAAA7C,EAAS;AAAA,cACP,MAAAt0D;AAAA,YACZ,CAAW,GACD00D,EAAUf,GAAO,aAAa,GAC9BgD,GAAQ,IAAI,GACZzB,EAAgB,IAAI,GACpBC,EAAkB,IAAI,GACtB0B,GAAgB,UAAU;AAC1B,kBAAMxO,KAAYroD,OAASuiD,GAAO,UAAU,cAAc;AAE1D,gBAAI/9C,IAAO;AACT,oBAAM8vC,KAAU8gB,EAAY,QAAQ/M,EAAS;AAC7C,cAA2B/T,KAAQ9vC,EAAK,GACxC+vD,EAAqB;AAAA,gBACnB,MAAMlM;AAAA,gBACN,OAAA7jD;AAAA,cACd,CAAa;AAAA,YACH;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF;AAAA,IACF;AAAA;AAAA,IACA,CAAC2oD,CAAc;AAAA,EAAC,GACVkK,KAAoCh1D,EAAY,CAACiyC,IAASmO,OACvD,CAACj+C,IAAOk9C,OAAW;AACxB,UAAM4V,KAAc9yD,GAAM,aACpB+yD,KAAsBpK,EAAe,IAAIzL,EAAM;AAErD;AAAA;AAAA,MACAsT,EAAU,YAAY;AAAA,MACtB,CAACuC;AAAA,MACDD,GAAY,UAAUA,GAAY;AAAA;AAChC;AAGF,UAAME,KAAoB;AAAA,MACxB,QAAQD;AAAA,IAChB;AAGM,IAFuBjjB,GAAQ9vC,IAAOi+C,GAAO,SAAS+U,EAAiB,MAEhD,OACrBF,GAAY,SAAS;AAAA,MACnB,YAAY7U,GAAO;AAAA,IAC7B,GACQuS,EAAU,UAAUtT,IACpBoV,GAAkBtyD,IAAOi+C,EAAM;AAAA,EAEnC,GACC,CAAC0K,GAAgB2J,EAAiB,CAAC,GAChCW,KAAanK,GAAqB3K,GAAS0U,EAAiC;AAClF,EAAAtG,GAAepO,CAAO,GACtBjJ,GAA0B,MAAM;AAC9B,IAAImc,MAAkBpB,MAAWd,GAAO,gBACtCe,EAAUf,GAAO,WAAW;AAAA,EAEhC,GAAG,CAACkC,IAAgBpB,CAAM,CAAC,GAC3BnwD;AAAA,IAAU,MAAM;AACd,YAAM;AAAA,QACJ,YAAAozD;AAAA,MACN,IAAQtC,EAAY,SACV;AAAA,QACJ,QAAA1T;AAAA,QACA,gBAAAqR;AAAA,QACA,YAAAzP;AAAA,QACA,MAAA3B;AAAA,MACN,IAAQoU,GAAc;AAElB,UAAI,CAACrU,MAAU,CAACqR;AACd;AAGF,YAAMvuD,KAAQ;AAAA,QACZ,QAAAk9C;AAAA,QACA,gBAAAqR;AAAA,QACA,YAAAzP;AAAA,QACA,OAAO;AAAA,UACL,GAAGmT,GAAwB;AAAA,UAC3B,GAAGA,GAAwB;AAAA,QACnC;AAAA,QACM,MAAA9U;AAAA,MACN;AACI,MAAAwV,GAAwB,MAAM;AAC5B,QAA8BO,KAAWlzD,EAAK,GAC9C+vD,EAAqB;AAAA,UACnB,MAAM;AAAA,UACN,OAAA/vD;AAAA,QACR,CAAO;AAAA,MACH,CAAC;AAAA,IACH;AAAA;AAAA,IACA,CAACiyD,GAAwB,GAAGA,GAAwB,CAAC;AAAA,EAAC,GACtDnyD;AAAA,IAAU,MAAM;AACd,YAAM;AAAA,QACJ,QAAAo9C;AAAA,QACA,gBAAAqR;AAAA,QACA,YAAAzP;AAAA,QACA,qBAAAM;AAAA,QACA,yBAAA6S;AAAA,MACN,IAAQV,GAAc;AAElB,UAAI,CAACrU,MAAUsT,EAAU,WAAW,QAAQ,CAACjC,MAAkB,CAAC0D;AAC9D;AAGF,YAAM;AAAA,QACJ,YAAAkB;AAAA,MACN,IAAQvC,EAAY,SACVwC,KAAgBhU,GAAoB,IAAI8S,EAAM,GAC9C/U,KAAOiW,MAAiBA,GAAc,KAAK,UAAU;AAAA,QACzD,IAAIA,GAAc;AAAA,QAClB,MAAMA,GAAc,KAAK;AAAA,QACzB,MAAMA,GAAc;AAAA,QACpB,UAAUA,GAAc;AAAA,MAC9B,IAAQ,MACEpzD,KAAQ;AAAA,QACZ,QAAAk9C;AAAA,QACA,gBAAAqR;AAAA,QACA,YAAAzP;AAAA,QACA,OAAO;AAAA,UACL,GAAGmT,GAAwB;AAAA,UAC3B,GAAGA,GAAwB;AAAA,QACnC;AAAA,QACM,MAAA9U;AAAA,MACN;AACI,MAAAwV,GAAwB,MAAM;AAC5B,QAAAR,GAAQhV,EAAI,GACkBgW,KAAWnzD,EAAK,GAC9C+vD,EAAqB;AAAA,UACnB,MAAM;AAAA,UACN,OAAA/vD;AAAA,QACR,CAAO;AAAA,MACH,CAAC;AAAA,IACH;AAAA;AAAA,IACA,CAACkyD,EAAM;AAAA,EAAC,GACRhd,GAA0B,MAAM;AAC9B,IAAAqc,GAAc,UAAU;AAAA,MACtB,gBAAAhD;AAAA,MACA,QAAArR;AAAA,MACA,YAAAwH;AAAA,MACA,eAAAxF;AAAA,MACA,YAAAJ;AAAA,MACA,gBAAAK;AAAA,MACA,gBAAAwJ;AAAA,MACA,cAAA+I;AAAA,MACA,kBAAAC;AAAA,MACA,qBAAAvS;AAAA,MACA,MAAAjC;AAAA,MACA,qBAAA2F;AAAA,MACA,yBAAAmP;AAAA,IACN,GACI3B,EAAY,UAAU;AAAA,MACpB,SAASqB;AAAA,MACT,YAAYzS;AAAA,IAClB;AAAA,EACE,GAAG,CAAChC,GAAQwH,GAAY5F,IAAYI,IAAeyJ,GAAgB+I,IAAcC,IAAkBxS,IAAgBC,GAAqBjC,IAAM2F,IAAqBmP,EAAuB,CAAC,GAC3L5K,GAAgB;AAAA,IAAE,GAAG6J;AAAA,IACnB,OAAOb;AAAA,IACP,cAAcnR;AAAA,IACd,oBAAAwI;AAAA,IACA,qBAAA5E;AAAA,IACA,yBAAA6E;AAAA,EACJ,CAAG;AACD,QAAM0L,KAAgBv1D,EAAQ,OACZ;AAAA,IACd,QAAAo/C;AAAA,IACA,YAAAwH;AAAA,IACA,gBAAA2M;AAAA,IACA,gBAAA9C;AAAA,IACA,YAAAzP;AAAA,IACA,mBAAAwS;AAAA,IACA,aAAAG;AAAA,IACA,gBAAA9I;AAAA,IACA,qBAAAvJ;AAAA,IACA,gBAAAD;AAAA,IACA,MAAAhC;AAAA,IACA,4BAAA2M;AAAA,IACA,qBAAAhH;AAAA,IACA,yBAAA6E;AAAA,IACA,wBAAAoJ;AAAA,IACA,oBAAAC;AAAA,IACA,YAAAjE;AAAA,EACN,IAEK,CAAC7P,GAAQwH,GAAY2M,IAAgB9C,GAAgBzP,IAAYwS,IAAmBG,IAAa9I,GAAgBvJ,GAAqBD,IAAgBhC,IAAM2M,IAA4BhH,IAAqB6E,IAAyBoJ,GAAwBC,IAAoBjE,EAAU,CAAC,GAC1RuG,KAAkBx1D,EAAQ,OACd;AAAA,IACd,gBAAAywD;AAAA,IACA,YAAA0E;AAAA,IACA,QAAA/V;AAAA,IACA,gBAAAmU;AAAA,IACA,mBAAmB;AAAA,MACjB,WAAWR;AAAA,IACnB;AAAA,IACM,UAAAf;AAAA,IACA,gBAAAnH;AAAA,IACA,MAAAxL;AAAA,IACA,4BAAA2M;AAAA,EACN,IAEK,CAACyE,GAAgB0E,IAAY/V,GAAQmU,IAAgBvB,GAAUe,GAAwBlI,GAAgBxL,IAAM2M,EAA0B,CAAC;AAC3I,SAAO/uD,GAAM,cAAc2hD,GAAkB,UAAU;AAAA,IACrD,OAAOsT;AAAA,EACX,GAAKj1D,GAAM,cAAcmzD,GAAgB,UAAU;AAAA,IAC/C,OAAOoF;AAAA,EACX,GAAKv4D,GAAM,cAAcozD,GAAc,UAAU;AAAA,IAC7C,OAAOkF;AAAA,EACX,GAAKt4D,GAAM,cAAcm0D,GAAuB,UAAU;AAAA,IACtD,OAAOvT;AAAA,EACX,GAAKtgD,CAAQ,CAAC,GAAGN,GAAM,cAAcuzD,IAAc;AAAA,IAC/C,UAA4CmB,GAAc,iBAAkB;AAAA,EAChF,CAAG,CAAC,GAAG10D,GAAM,cAAcqiD,IAAe;AAAA,IAAE,GAAGqS;AAAA,IAC3C,yBAAyBoB;AAAA,EAC7B,CAAG,CAAC;AAEF,WAASM,KAAyB;AAChC,UAAMoC,KAAkE9C,GAAa,sBAAuB,IACtG+C,KAA6B,OAAOrL,KAAe,WAAWA,EAAW,YAAY,KAAQA,MAAe,IAC5G/V,KAAU+d,KAAiB,CAACoD,MAAkC,CAACC;AAErE,WAAI,OAAOrL,KAAe,WACjB;AAAA,MAAE,GAAGA;AAAA,MACV,SAAA/V;AAAA,IACR,IAGW;AAAA,MACL,SAAAA;AAAA,IACN;AAAA,EACE;AACF,CAAC,GAEKqhB,KAA2B,gBAAArpC,GAAc,IAAI,GAC7CspC,KAAc,UACdC,KAAY;AAClB,SAASC,GAAa1kC,GAAM;AAC1B,MAAI;AAAA,IACF,IAAAnyB;AAAA,IACA,MAAAmkB;AAAA,IACA,UAAA3lB,IAAW;AAAA,IACX,YAAA28C;AAAA,EACJ,IAAMhpB;AACJ,QAAMzlB,IAAMgxC,GAAYkZ,EAAS,GAC3B;AAAA,IACJ,YAAAV;AAAA,IACA,gBAAA1E;AAAA,IACA,QAAArR;AAAA,IACA,gBAAAmU;AAAA,IACA,mBAAAwC;AAAA,IACA,gBAAAlL;AAAA,IACA,MAAAxL;AAAA,EACJ,IAAM7yB,GAAW4jC,EAAe,GACxB;AAAA,IACJ,MAAA4F,IAAOJ;AAAA,IACP,iBAAAK,IAAkB;AAAA,IAClB,UAAAC,IAAW;AAAA,EACf,IAAM9b,KAAkC,CAAA,GAChCp0C,IAAwCo5C,GAAO,OAAQngD,GACvD4+C,IAAYrxB,GAAWxmB,IAAaorD,KAAyBuE,EAAW,GACxE,CAACrzD,GAAMk6C,CAAU,IAAIF,GAAU,GAC/B,CAACsU,GAAeuF,CAAmB,IAAI7Z,GAAU,GACjD0C,IAAY4P,GAAsBuG,GAAYl2D,CAAE,GAChDm3D,IAAUna,GAAe74B,CAAI;AACnC,EAAAg0B;AAAA,IAA0B,OACxByT,EAAe,IAAI5rD,GAAI;AAAA,MACrB,IAAAA;AAAA,MACA,KAAA0M;AAAA,MACA,MAAArJ;AAAA,MACA,eAAAsuD;AAAA,MACA,MAAMwF;AAAA,IACZ,CAAK,GACM,MAAM;AACX,YAAM9zD,IAAOuoD,EAAe,IAAI5rD,CAAE;AAElC,MAAIqD,KAAQA,EAAK,QAAQqJ,KACvBk/C,EAAe,OAAO5rD,CAAE;AAAA,IAE5B;AAAA;AAAA,IAEF,CAAC4rD,GAAgB5rD,CAAE;AAAA,EAAC;AACpB,QAAMo3D,IAAqBr2D,EAAQ,OAAO;AAAA,IACxC,MAAAg2D;AAAA,IACA,UAAAE;AAAA,IACA,iBAAiBz4D;AAAA,IACjB,gBAAgBuI,KAAcgwD,MAASJ,KAAc,KAAO;AAAA,IAC5D,wBAAwBK;AAAA,IACxB,oBAAoBF,EAAkB;AAAA,EAC1C,IAAM,CAACt4D,GAAUu4D,GAAME,GAAUlwD,GAAYiwD,GAAiBF,EAAkB,SAAS,CAAC;AACxF,SAAO;AAAA,IACL,QAAA3W;AAAA,IACA,gBAAAqR;AAAA,IACA,gBAAA8C;AAAA,IACA,YAAY8C;AAAA,IACZ,YAAArwD;AAAA,IACA,WAAWvI,IAAW,SAAYuhD;AAAA,IAClC,MAAA18C;AAAA,IACA,MAAA+8C;AAAA,IACA,YAAA7C;AAAA,IACA,qBAAA2Z;AAAA,IACA,WAAAtY;AAAA,EACJ;AACA;AAEA,SAASyY,KAAgB;AACvB,SAAO9pC,GAAW6jC,EAAa;AACjC;AAEA,MAAMkG,KAAc,aACdC,KAA8B;AAAA,EAClC,SAAS;AACX;AACA,SAASC,GAAarlC,GAAM;AAC1B,MAAI;AAAA,IACF,MAAAhO;AAAA,IACA,UAAA3lB,IAAW;AAAA,IACX,IAAAwB;AAAA,IACA,sBAAAy3D;AAAA,EACJ,IAAMtlC;AACJ,QAAMzlB,IAAMgxC,GAAY4Z,EAAW,GAC7B;AAAA,IACJ,QAAAnX;AAAA,IACA,UAAA4S;AAAA,IACA,MAAA3S;AAAA,IACA,4BAAA2M;AAAA,EACJ,IAAMx/B,GAAW4jC,EAAe,GACxB9hB,IAAWptC,EAAO;AAAA,IACtB,UAAAzD;AAAA,EACJ,CAAG,GACKk5D,IAA0Bz1D,EAAO,EAAK,GACtCkK,IAAOlK,EAAO,IAAI,GAClB01D,IAAa11D,EAAO,IAAI,GACxB;AAAA,IACJ,UAAU21D;AAAA,IACV,uBAAAC;AAAA,IACA,SAASC;AAAA,EACb,IAAM;AAAA,IAAE,GAAGP;AAAA,IACP,GAAGE;AAAA,EACP,GACQha,IAAMT,GAAe6a,KAAwD73D,CAAE,GAC/EytD,IAAe3sD;AAAA,IAAY,MAAM;AACrC,UAAI,CAAC42D,EAAwB,SAAS;AAGpC,QAAAA,EAAwB,UAAU;AAClC;AAAA,MACF;AAEA,MAAIC,EAAW,WAAW,QACxB,aAAaA,EAAW,OAAO,GAGjCA,EAAW,UAAU,WAAW,MAAM;AACpC,QAAA5K,EAA2B,MAAM,QAAQtP,EAAI,OAAO,IAAIA,EAAI,UAAU,CAACA,EAAI,OAAO,CAAC,GACnFka,EAAW,UAAU;AAAA,MACvB,GAAGG,CAAqB;AAAA,IAC1B;AAAA;AAAA,IACA,CAACA,CAAqB;AAAA,EAAC,GACjBpK,IAAiBF,GAAkB;AAAA,IACvC,UAAUC;AAAA,IACV,UAAUmK,KAA0B,CAACzX;AAAA,EACzC,CAAG,GACKoQ,IAAmBzvD,EAAY,CAACi3D,GAAYC,MAAoB;AACpE,IAAKtK,MAIDsK,MACFtK,EAAe,UAAUsK,CAAe,GACxCN,EAAwB,UAAU,KAGhCK,KACFrK,EAAe,QAAQqK,CAAU;AAAA,EAErC,GAAG,CAACrK,CAAc,CAAC,GACb,CAAC8C,GAASjT,CAAU,IAAIF,GAAWkT,CAAgB,GACnD4G,IAAUna,GAAe74B,CAAI;AACnC,SAAAphB,EAAU,MAAM;AACd,IAAI,CAAC2qD,KAAkB,CAAC8C,EAAQ,YAIhC9C,EAAe,WAAU,GACzBgK,EAAwB,UAAU,IAClChK,EAAe,QAAQ8C,EAAQ,OAAO;AAAA,EACxC,GAAG,CAACA,GAAS9C,CAAc,CAAC,GAC5B3qD;AAAA,IAAU,OACRgwD,EAAS;AAAA,MACP,MAAM/R,GAAO;AAAA,MACb,SAAS;AAAA,QACP,IAAAhhD;AAAA,QACA,KAAA0M;AAAA,QACA,UAAAlO;AAAA,QACA,MAAMgyD;AAAA,QACN,MAAArkD;AAAA,QACA,MAAMgrD;AAAA,MACd;AAAA,IACA,CAAK,GACM,MAAMpE,EAAS;AAAA,MACpB,MAAM/R,GAAO;AAAA,MACb,KAAAt0C;AAAA,MACA,IAAA1M;AAAA,IACN,CAAK;AAAA;AAAA,IAEH,CAACA,CAAE;AAAA,EAAC,GACJ+C,EAAU,MAAM;AACd,IAAIvE,MAAa6wC,EAAS,QAAQ,aAChC0jB,EAAS;AAAA,MACP,MAAM/R,GAAO;AAAA,MACb,IAAAhhD;AAAA,MACA,KAAA0M;AAAA,MACA,UAAAlO;AAAA,IACR,CAAO,GACD6wC,EAAS,QAAQ,WAAW7wC;AAAA,EAEhC,GAAG,CAACwB,GAAI0M,GAAKlO,GAAUu0D,CAAQ,CAAC,GACzB;AAAA,IACL,QAAA5S;AAAA,IACA,MAAAh0C;AAAA,IACA,QAAiCi0C,GAAK,OAAQpgD;AAAA,IAC9C,MAAMwwD;AAAA,IACN,MAAApQ;AAAA,IACA,YAAA7C;AAAA,EACJ;AACA;AAEA,SAAS0a,GAAiB9lC,GAAM;AAC9B,MAAI;AAAA,IACF,WAAA+lC;AAAA,IACA,UAAA55D;AAAA,EACJ,IAAM6zB;AACJ,QAAM,CAACgmC,GAAgBC,CAAiB,IAAIz2D,EAAS,IAAI,GACnD,CAACylB,GAASixC,CAAU,IAAI12D,EAAS,IAAI,GACrC22D,IAAmB9a,GAAYl/C,CAAQ;AAE7C,SAAI,CAACA,KAAY,CAAC65D,KAAkBG,KAClCF,EAAkBE,CAAgB,GAGpCngB,GAA0B,MAAM;AAC9B,QAAI,CAAC/wB;AACH;AAGF,UAAM1a,IAAwCyrD,GAAe,KACvDn4D,IAAuCm4D,GAAe,MAAM;AAElE,QAAIzrD,KAAO,QAAQ1M,KAAM,MAAM;AAC7B,MAAAo4D,EAAkB,IAAI;AACtB;AAAA,IACF;AAEA,YAAQ,QAAQF,EAAUl4D,GAAIonB,CAAO,CAAC,EAAE,KAAK,MAAM;AACjD,MAAAgxC,EAAkB,IAAI;AAAA,IACxB,CAAC;AAAA,EACH,GAAG,CAACF,GAAWC,GAAgB/wC,CAAO,CAAC,GAChCppB,GAAM,cAAcA,GAAM,UAAU,MAAMM,GAAU65D,IAAiBI,GAAaJ,GAAgB;AAAA,IACvG,KAAKE;AAAA,EACT,CAAG,IAAI,IAAI;AACX;AAEA,MAAMG,KAAmB;AAAA,EACvB,GAAG;AAAA,EACH,GAAG;AAAA,EACH,QAAQ;AAAA,EACR,QAAQ;AACV;AACA,SAASC,GAAyBtmC,GAAM;AACtC,MAAI;AAAA,IACF,UAAA7zB;AAAA,EACJ,IAAM6zB;AACJ,SAAOn0B,GAAM,cAAcmzD,GAAgB,UAAU;AAAA,IACnD,OAAOD;AAAA,EACX,GAAKlzD,GAAM,cAAcm0D,GAAuB,UAAU;AAAA,IACtD,OAAOqG;AAAA,EACX,GAAKl6D,CAAQ,CAAC;AACd;AAEA,MAAMo6D,KAAa;AAAA,EACjB,UAAU;AAAA,EACV,aAAa;AACf,GAEMC,KAAoB,CAAAnH,MACInT,GAAgBmT,CAAc,IAC7B,yBAAyB,QAGlDoH,KAAiC,gBAAAC,GAAW,CAAC1mC,GAAMxzB,MAAQ;AAC/D,MAAI;AAAA,IACF,IAAAm6D;AAAA,IACA,gBAAAtH;AAAA,IACA,aAAAzO;AAAA,IACA,UAAAzkD;AAAA,IACA,WAAAC;AAAA,IACA,MAAA4N;AAAA,IACA,OAAA8B;AAAA,IACA,WAAA2wC;AAAA,IACA,YAAAma,IAAaJ;AAAAA,EACjB,IAAMxmC;AAEJ,MAAI,CAAChmB;AACH,WAAO;AAGT,QAAM6sD,IAAyBjW,IAAcnE,IAAY;AAAA,IAAE,GAAGA;AAAA,IAC5D,QAAQ;AAAA,IACR,QAAQ;AAAA,EACZ,GACQ//C,IAAS;AAAA,IAAE,GAAG65D;AAAA,IAClB,OAAOvsD,EAAK;AAAA,IACZ,QAAQA,EAAK;AAAA,IACb,KAAKA,EAAK;AAAA,IACV,MAAMA,EAAK;AAAA,IACX,WAAWwyC,GAAI,UAAU,SAASqa,CAAsB;AAAA,IACxD,iBAAiBjW,KAAeyO,IAAiB/P,GAA2B+P,GAAgBrlD,CAAI,IAAI;AAAA,IACpG,YAAY,OAAO4sD,KAAe,aAAaA,EAAWvH,CAAc,IAAIuH;AAAA,IAC5E,GAAG9qD;AAAA,EACP;AACE,SAAOjQ,GAAM,cAAc86D,GAAI;AAAA,IAC7B,WAAAv6D;AAAA,IACA,OAAOM;AAAA,IACP,KAAAF;AAAA,EACJ,GAAKL,CAAQ;AACb,CAAC,GAEK26D,KAAkC,CAAA53D,MAAW,CAAA8wB,MAAQ;AACzD,MAAI;AAAA,IACF,QAAAguB;AAAA,IACA,aAAAuU;AAAA,EACJ,IAAMviC;AACJ,QAAM+mC,IAAiB,CAAA,GACjB;AAAA,IACJ,QAAAr6D;AAAA,IACA,WAAAN;AAAA,EACJ,IAAM8C;AAEJ,MAAIxC,KAAU,QAAQA,EAAO;AAC3B,eAAW,CAAC6N,GAAKjH,CAAK,KAAK,OAAO,QAAQ5G,EAAO,MAAM;AACrD,MAAI4G,MAAU,WAIdyzD,EAAexsD,CAAG,IAAIyzC,EAAO,KAAK,MAAM,iBAAiBzzC,CAAG,GAC5DyzC,EAAO,KAAK,MAAM,YAAYzzC,GAAKjH,CAAK;AAI5C,MAAI5G,KAAU,QAAQA,EAAO;AAC3B,eAAW,CAAC6N,GAAKjH,CAAK,KAAK,OAAO,QAAQ5G,EAAO,WAAW;AAC1D,MAAI4G,MAAU,UAIdivD,EAAY,KAAK,MAAM,YAAYhoD,GAAKjH,CAAK;AAIjD,SAAIlH,KAAa,QAAQA,EAAU,UACjC4hD,EAAO,KAAK,UAAU,IAAI5hD,EAAU,MAAM,GAGxCA,KAAa,QAAQA,EAAU,eACjCm2D,EAAY,KAAK,UAAU,IAAIn2D,EAAU,WAAW,GAG/C,WAAmB;AACxB,eAAW,CAACmO,GAAKjH,CAAK,KAAK,OAAO,QAAQyzD,CAAc;AACtD,MAAA/Y,EAAO,KAAK,MAAM,YAAYzzC,GAAKjH,CAAK;AAG1C,IAAIlH,KAAa,QAAQA,EAAU,UACjC4hD,EAAO,KAAK,UAAU,OAAO5hD,EAAU,MAAM;AAAA,EAEjD;AACF,GAEM46D,KAA0B,CAAAl7B,MAAS;AACvC,MAAI;AAAA,IACF,WAAW;AAAA,MACT,SAAAm7B;AAAA,MACA,OAAAC;AAAA,IACN;AAAA,EACA,IAAMp7B;AACJ,SAAO,CAAC;AAAA,IACN,WAAW0gB,GAAI,UAAU,SAASya,CAAO;AAAA,EAC7C,GAAK;AAAA,IACD,WAAWza,GAAI,UAAU,SAAS0a,CAAK;AAAA,EAC3C,CAAG;AACH,GAEMC,KAAoC;AAAA,EACxC,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,WAAWH;AAAA,EACX,aAA0B,gBAAAF,GAAgC;AAAA,IACxD,QAAQ;AAAA,MACN,QAAQ;AAAA,QACN,SAAS;AAAA,MACjB;AAAA,IACA;AAAA,EACA,CAAG;AACH;AACA,SAASM,GAAiBr6B,GAAO;AAC/B,MAAI;AAAA,IACF,QAAAstB;AAAA,IACA,gBAAAZ;AAAA,IACA,qBAAAvJ;AAAA,IACA,wBAAA2R;AAAA,EACJ,IAAM90B;AACJ,SAAOsd,GAAS,CAACx8C,GAAIqD,MAAS;AAC5B,QAAImpD,MAAW;AACb;AAGF,UAAMgN,IAAkB5N,EAAe,IAAI5rD,CAAE;AAE7C,QAAI,CAACw5D;AACH;AAGF,UAAM7R,IAAa6R,EAAgB,KAAK;AAExC,QAAI,CAAC7R;AACH;AAGF,UAAM8R,IAAiBrJ,GAAkB/sD,CAAI;AAE7C,QAAI,CAACo2D;AACH;AAGF,UAAM;AAAA,MACJ,WAAA7a;AAAA,IACN,IAAQ7C,GAAU14C,CAAI,EAAE,iBAAiBA,CAAI,GACnCmgD,IAAkBH,GAAezE,CAAS;AAEhD,QAAI,CAAC4E;AACH;AAGF,UAAM0U,IAAY,OAAO1L,KAAW,aAAaA,IAASkN,GAA2BlN,CAAM;AAC3F,WAAAtG,GAAuByB,GAAYqM,EAAuB,UAAU,OAAO,GACpEkE,EAAU;AAAA,MACf,QAAQ;AAAA,QACN,IAAAl4D;AAAA,QACA,MAAMw5D,EAAgB;AAAA,QACtB,MAAM7R;AAAA,QACN,MAAMqM,EAAuB,UAAU,QAAQrM,CAAU;AAAA,MACjE;AAAA,MACM,gBAAAiE;AAAA,MACA,aAAa;AAAA,QACX,MAAAvoD;AAAA,QACA,MAAM2wD,EAAuB,YAAY,QAAQyF,CAAc;AAAA,MACvE;AAAA,MACM,qBAAApX;AAAA,MACA,wBAAA2R;AAAA,MACA,WAAWxQ;AAAA,IACjB,CAAK;AAAA,EACH,CAAC;AACH;AAEA,SAASkW,GAA2Br4D,GAAS;AAC3C,QAAM;AAAA,IACJ,UAAAy7C;AAAA,IACA,QAAAkC;AAAA,IACA,aAAA2a;AAAA,IACA,WAAAC;AAAA,EACJ,IAAM;AAAA,IAAE,GAAGN;AAAA,IACP,GAAGj4D;AAAA,EACP;AACE,SAAO,CAAAmjC,MAAS;AACd,QAAI;AAAA,MACF,QAAA2b;AAAA,MACA,aAAAuU;AAAA,MACA,WAAA9V;AAAA,MACA,GAAGlgD;AAAA,IACT,IAAQ8lC;AAEJ,QAAI,CAACsY;AAEH;AAGF,UAAMpG,IAAQ;AAAA,MACZ,GAAGge,EAAY,KAAK,OAAOvU,EAAO,KAAK;AAAA,MACvC,GAAGuU,EAAY,KAAK,MAAMvU,EAAO,KAAK;AAAA,IAC5C,GACU0Z,IAAQ;AAAA,MACZ,QAAQjb,EAAU,WAAW,IAAIuB,EAAO,KAAK,QAAQvB,EAAU,SAAS8V,EAAY,KAAK,QAAQ;AAAA,MACjG,QAAQ9V,EAAU,WAAW,IAAIuB,EAAO,KAAK,SAASvB,EAAU,SAAS8V,EAAY,KAAK,SAAS;AAAA,IACzG,GACUoF,IAAiB;AAAA,MACrB,GAAGlb,EAAU,IAAIlI,EAAM;AAAA,MACvB,GAAGkI,EAAU,IAAIlI,EAAM;AAAA,MACvB,GAAGmjB;AAAA,IACT,GACUE,IAAqBH,EAAU;AAAA,MAAE,GAAGl7D;AAAA,MACxC,QAAAyhD;AAAA,MACA,aAAAuU;AAAA,MACA,WAAW;AAAA,QACT,SAAS9V;AAAA,QACT,OAAOkb;AAAA,MACf;AAAA,IACA,CAAK,GACK,CAACE,CAAa,IAAID,GAClBE,IAAeF,EAAmBA,EAAmB,SAAS,CAAC;AAErE,QAAI,KAAK,UAAUC,CAAa,MAAM,KAAK,UAAUC,CAAY;AAE/D;AAGF,UAAM9K,IAAyCwK,IAAY;AAAA,MACzD,QAAAxZ;AAAA,MACA,aAAAuU;AAAA,MACA,GAAGh2D;AAAA,IACT,CAAK,GACKw5D,IAAYxD,EAAY,KAAK,QAAQqF,GAAoB;AAAA,MAC7D,UAAAjd;AAAA,MACA,QAAAkC;AAAA,MACA,MAAM;AAAA,IACZ,CAAK;AACD,WAAO,IAAI,QAAQ,CAAAkb,MAAW;AAC5B,MAAAhC,EAAU,WAAW,MAAM;AACzB,QAA2B/I,IAAO,GAClC+K,EAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AACF;AAEA,IAAIxtD,KAAM;AACV,SAASytD,GAAOn6D,GAAI;AAClB,SAAOe,EAAQ,MAAM;AACnB,QAAIf,KAAM;AAIV,aAAA0M,MACOA;AAAA,EACT,GAAG,CAAC1M,CAAE,CAAC;AACT;AAEA,MAAMo6D,KAA2Bp8D,gBAAAA,GAAM,KAAK,CAAAm0B,MAAQ;AAClD,MAAI;AAAA,IACF,aAAA4wB,IAAc;AAAA,IACd,UAAAzkD;AAAA,IACA,eAAe+7D;AAAA,IACf,OAAApsD;AAAA,IACA,YAAA8qD;AAAA,IACA,WAAAjH;AAAA,IACA,gBAAAwI,IAAiB;AAAA,IACjB,WAAA/7D;AAAA,IACA,QAAAg8D,IAAS;AAAA,EACb,IAAMpoC;AACJ,QAAM;AAAA,IACJ,gBAAAq/B;AAAA,IACA,QAAArR;AAAA,IACA,gBAAAmU;AAAA,IACA,mBAAAC;AAAA,IACA,gBAAA3I;AAAA,IACA,qBAAAvJ;AAAA,IACA,aAAAqS;AAAA,IACA,MAAAtU;AAAA,IACA,wBAAA4T;AAAA,IACA,qBAAAjO;AAAA,IACA,yBAAA6E;AAAA,IACA,YAAAoF;AAAA,EACJ,IAAMqH,GAAa,GACXzY,IAAYrxB,GAAW4kC,EAAsB,GAC7CzlD,IAAMytD,GAAiCha,GAAO,EAAE,GAChDqa,IAAoB3I,GAAeC,GAAW;AAAA,IAClD,gBAAAN;AAAA,IACA,QAAArR;AAAA,IACA,gBAAAmU;AAAA,IACA,mBAAAC;AAAA,IACA,kBAAkBG,EAAY;AAAA,IAC9B,MAAAtU;AAAA,IACA,iBAAiBsU,EAAY;AAAA,IAC7B,qBAAA3O;AAAA,IACA,yBAAA6E;AAAA,IACA,WAAAhM;AAAA,IACA,YAAAoR;AAAA,EACJ,CAAG,GACK1B,IAAcrB,GAAgBqH,CAAc,GAC5CmG,IAAgBlB,GAAiB;AAAA,IACrC,QAAQc;AAAA,IACR,gBAAAzO;AAAA,IACA,qBAAAvJ;AAAA,IACA,wBAAA2R;AAAA,EACJ,CAAG,GAGKr1D,IAAM2vD,IAAcoG,EAAY,SAAS;AAC/C,SAAO12D,GAAM,cAAcy6D,IAA0B,MAAMz6D,GAAM,cAAci6D,IAAkB;AAAA,IAC/F,WAAWwC;AAAA,EACf,GAAKta,KAAUzzC,IAAM1O,GAAM,cAAc46D,IAAmB;AAAA,IACxD,KAAKlsD;AAAA,IACL,IAAIyzC,EAAO;AAAA,IACX,KAAKxhD;AAAA,IACL,IAAI27D;AAAA,IACJ,gBAAgB9I;AAAA,IAChB,aAAazO;AAAA,IACb,WAAWxkD;AAAA,IACX,YAAYw6D;AAAA,IACZ,MAAMzK;AAAA,IACN,OAAO;AAAA,MACL,QAAAiM;AAAA,MACA,GAAGtsD;AAAA,IACT;AAAA,IACI,WAAWusD;AAAA,EACf,GAAKl8D,CAAQ,IAAI,IAAI,CAAC;AACtB,CAAC;ACt3HD,SAASo8D,GAAUC,GAAOtmD,GAAMumD,GAAI;AAClC,QAAMC,IAAWF,EAAM,MAAK;AAC5B,SAAAE,EAAS,OAAOD,IAAK,IAAIC,EAAS,SAASD,IAAKA,GAAI,GAAGC,EAAS,OAAOxmD,GAAM,CAAC,EAAE,CAAC,CAAC,GAC3EwmD;AACT;AAYA,SAASC,GAAe74C,GAAOguC,GAAO;AACpC,SAAOhuC,EAAM,OAAO,CAAC87B,GAAa/9C,GAAIgM,MAAU;AAC9C,UAAMG,IAAO8jD,EAAM,IAAIjwD,CAAE;AAEzB,WAAImM,MACF4xC,EAAY/xC,CAAK,IAAIG,IAGhB4xC;AAAA,EACT,GAAG,MAAM97B,EAAM,MAAM,CAAC;AACxB;AAEA,SAAS84C,GAAa/uD,GAAO;AAC3B,SAAOA,MAAU,QAAQA,KAAS;AACpC;AAEA,SAASgvD,GAAWliD,GAAGtL,GAAG;AACxB,MAAIsL,MAAMtL;AACR,WAAO;AAGT,MAAIsL,EAAE,WAAWtL,EAAE;AACjB,WAAO;AAGT,WAASxE,IAAI,GAAGA,IAAI8P,EAAE,QAAQ9P;AAC5B,QAAI8P,EAAE9P,CAAC,MAAMwE,EAAExE,CAAC;AACd,aAAO;AAIX,SAAO;AACT;AAEA,SAASiyD,GAAkBz8D,GAAU;AACnC,SAAI,OAAOA,KAAa,YACf;AAAA,IACL,WAAWA;AAAA,IACX,WAAWA;AAAA,EACjB,IAGSA;AACT;AAGA,MAAM08D,KAAe;AAAA,EACnB,QAAQ;AAAA,EACR,QAAQ;AACV,GACMC,KAAgC,CAAAhpC,MAAQ;AAC5C,MAAIipC;AAEJ,MAAI;AAAA,IACF,OAAAnL;AAAA,IACA,gBAAgBoL;AAAA,IAChB,aAAAC;AAAA,IACA,WAAAC;AAAA,IACA,OAAAvvD;AAAA,EACJ,IAAMmmB;AACJ,QAAMmiC,KAAkB8G,IAAqBnL,EAAMqL,CAAW,MAAM,OAAOF,IAAqBC;AAEhG,MAAI,CAAC/G;AACH,WAAO;AAGT,QAAMkH,IAAUC,GAAWxL,GAAOjkD,GAAOsvD,CAAW;AAEpD,MAAItvD,MAAUsvD,GAAa;AACzB,UAAMI,IAAezL,EAAMsL,CAAS;AAEpC,WAAKG,IAIE;AAAA,MACL,GAAGJ,IAAcC,IAAYG,EAAa,OAAOA,EAAa,SAASpH,EAAe,OAAOA,EAAe,SAASoH,EAAa,OAAOpH,EAAe;AAAA,MACxJ,GAAG;AAAA,MACH,GAAG4G;AAAA,IACT,IAPa;AAAA,EAQX;AAEA,SAAIlvD,IAAQsvD,KAAetvD,KAASuvD,IAC3B;AAAA,IACL,GAAG,CAACjH,EAAe,QAAQkH;AAAA,IAC3B,GAAG;AAAA,IACH,GAAGN;AAAA,EACT,IAGMlvD,IAAQsvD,KAAetvD,KAASuvD,IAC3B;AAAA,IACL,GAAGjH,EAAe,QAAQkH;AAAA,IAC1B,GAAG;AAAA,IACH,GAAGN;AAAA,EACT,IAGS;AAAA,IACL,GAAG;AAAA,IACH,GAAG;AAAA,IACH,GAAGA;AAAA,EACP;AACA;AAEA,SAASO,GAAWxL,GAAOjkD,GAAOsvD,GAAa;AAC7C,QAAMrN,IAAcgC,EAAMjkD,CAAK,GACzB2vD,IAAe1L,EAAMjkD,IAAQ,CAAC,GAC9B4vD,IAAW3L,EAAMjkD,IAAQ,CAAC;AAEhC,SAAI,CAACiiD,KAAe,CAAC0N,KAAgB,CAACC,IAC7B,IAGLN,IAActvD,IACT2vD,IAAe1N,EAAY,QAAQ0N,EAAa,OAAOA,EAAa,SAASC,EAAS,QAAQ3N,EAAY,OAAOA,EAAY,SAG/H2N,IAAWA,EAAS,QAAQ3N,EAAY,OAAOA,EAAY,SAASA,EAAY,QAAQ0N,EAAa,OAAOA,EAAa;AAClI;AAEA,MAAME,KAAsB,CAAA1pC,MAAQ;AAClC,MAAI;AAAA,IACF,OAAA89B;AAAA,IACA,aAAAqL;AAAA,IACA,WAAAC;AAAA,IACA,OAAAvvD;AAAA,EACJ,IAAMmmB;AACJ,QAAM2pC,IAAWpB,GAAUzK,GAAOsL,GAAWD,CAAW,GAClDS,IAAU9L,EAAMjkD,CAAK,GACrBkiD,IAAU4N,EAAS9vD,CAAK;AAE9B,SAAI,CAACkiD,KAAW,CAAC6N,IACR,OAGF;AAAA,IACL,GAAG7N,EAAQ,OAAO6N,EAAQ;AAAA,IAC1B,GAAG7N,EAAQ,MAAM6N,EAAQ;AAAA,IACzB,QAAQ7N,EAAQ,QAAQ6N,EAAQ;AAAA,IAChC,QAAQ7N,EAAQ,SAAS6N,EAAQ;AAAA,EACrC;AACA,GAmCMC,KAAiB;AAAA,EACrB,QAAQ;AAAA,EACR,QAAQ;AACV,GACMC,KAA8B,CAAA9pC,MAAQ;AAC1C,MAAIipC;AAEJ,MAAI;AAAA,IACF,aAAAE;AAAA,IACA,gBAAgBD;AAAA,IAChB,OAAArvD;AAAA,IACA,OAAAikD;AAAA,IACA,WAAAsL;AAAA,EACJ,IAAMppC;AACJ,QAAMmiC,KAAkB8G,IAAqBnL,EAAMqL,CAAW,MAAM,OAAOF,IAAqBC;AAEhG,MAAI,CAAC/G;AACH,WAAO;AAGT,MAAItoD,MAAUsvD,GAAa;AACzB,UAAMY,IAAgBjM,EAAMsL,CAAS;AAErC,WAAKW,IAIE;AAAA,MACL,GAAG;AAAA,MACH,GAAGZ,IAAcC,IAAYW,EAAc,MAAMA,EAAc,UAAU5H,EAAe,MAAMA,EAAe,UAAU4H,EAAc,MAAM5H,EAAe;AAAA,MAC1J,GAAG0H;AAAA,IACT,IAPa;AAAA,EAQX;AAEA,QAAMR,IAAUW,GAAalM,GAAOjkD,GAAOsvD,CAAW;AAEtD,SAAItvD,IAAQsvD,KAAetvD,KAASuvD,IAC3B;AAAA,IACL,GAAG;AAAA,IACH,GAAG,CAACjH,EAAe,SAASkH;AAAA,IAC5B,GAAGQ;AAAA,EACT,IAGMhwD,IAAQsvD,KAAetvD,KAASuvD,IAC3B;AAAA,IACL,GAAG;AAAA,IACH,GAAGjH,EAAe,SAASkH;AAAA,IAC3B,GAAGQ;AAAA,EACT,IAGS;AAAA,IACL,GAAG;AAAA,IACH,GAAG;AAAA,IACH,GAAGA;AAAA,EACP;AACA;AAEA,SAASG,GAAaC,GAAapwD,GAAOsvD,GAAa;AACrD,QAAMrN,IAAcmO,EAAYpwD,CAAK,GAC/B2vD,IAAeS,EAAYpwD,IAAQ,CAAC,GACpC4vD,IAAWQ,EAAYpwD,IAAQ,CAAC;AAEtC,SAAKiiD,IAIDqN,IAActvD,IACT2vD,IAAe1N,EAAY,OAAO0N,EAAa,MAAMA,EAAa,UAAUC,IAAWA,EAAS,OAAO3N,EAAY,MAAMA,EAAY,UAAU,IAGjJ2N,IAAWA,EAAS,OAAO3N,EAAY,MAAMA,EAAY,UAAU0N,IAAe1N,EAAY,OAAO0N,EAAa,MAAMA,EAAa,UAAU,IAP7I;AAQX;AAEA,MAAM/E,KAAY,YACZyF,KAAuBr+D,gBAAAA,GAAM,cAAc;AAAA,EAC/C,aAAa;AAAA,EACb,aAAa44D;AAAA,EACb,mBAAmB;AAAA,EACnB,OAAO,CAAA;AAAA,EACP,WAAW;AAAA,EACX,gBAAgB;AAAA,EAChB,aAAa,CAAA;AAAA,EACb,UAAUiF;AAAA,EACV,UAAU;AAAA,IACR,WAAW;AAAA,IACX,WAAW;AAAA,EACf;AACA,CAAC;AACD,SAASS,GAAgBnqC,GAAM;AAC7B,MAAI;AAAA,IACF,UAAA7zB;AAAA,IACA,IAAA0B;AAAA,IACA,OAAOu8D;AAAA,IACP,UAAA3P,IAAWiP;AAAA,IACX,UAAUW,IAAe;AAAA,EAC7B,IAAMrqC;AACJ,QAAM;AAAA,IACJ,QAAAguB;AAAA,IACA,aAAAuU;AAAA,IACA,gBAAAtS;AAAA,IACA,MAAAhC;AAAA,IACA,4BAAA2M;AAAA,EACJ,IAAMsK,GAAa,GACXoF,IAAc/e,GAAYkZ,IAAW52D,CAAE,GACvC08D,IAAyBhI,EAAY,SAAS,MAC9CzyC,IAAQlhB,EAAQ,MAAMw7D,EAAiB,IAAI,CAAAx6C,MAAQ,OAAOA,KAAS,YAAY,QAAQA,IAAOA,EAAK,KAAKA,CAAI,GAAG,CAACw6C,CAAgB,CAAC,GACjIx1D,IAAao5C,KAAU,MACvBmb,IAAcnb,IAASl+B,EAAM,QAAQk+B,EAAO,EAAE,IAAI,IAClDob,IAAYnb,IAAOn+B,EAAM,QAAQm+B,EAAK,EAAE,IAAI,IAC5Cuc,IAAmB16D,EAAOggB,CAAK,GAC/B26C,IAAmB,CAAC5B,GAAW/4C,GAAO06C,EAAiB,OAAO,GAC9DE,IAAoBtB,MAAc,MAAMD,MAAgB,MAAMsB,GAC9Dp+D,IAAWy8D,GAAkBuB,CAAY;AAC/C,EAAArkB,GAA0B,MAAM;AAC9B,IAAIykB,KAAoB71D,KACtBgmD,EAA2B9qC,CAAK;AAAA,EAEpC,GAAG,CAAC26C,GAAkB36C,GAAOlb,GAAYgmD,CAA0B,CAAC,GACpEhqD,EAAU,MAAM;AACd,IAAA45D,EAAiB,UAAU16C;AAAA,EAC7B,GAAG,CAACA,CAAK,CAAC;AACV,QAAMoN,IAAetuB;AAAA,IAAQ,OAAO;AAAA,MAClC,aAAAu6D;AAAA,MACA,aAAAmB;AAAA,MACA,UAAAj+D;AAAA,MACA,mBAAAq+D;AAAA,MACA,OAAA56C;AAAA,MACA,WAAAs5C;AAAA,MACA,gBAAAmB;AAAA,MACA,aAAa5B,GAAe74C,GAAOmgC,CAAc;AAAA,MACjD,UAAAwK;AAAA,IACJ;AAAA;AAAA,IACE,CAAC0O,GAAamB,GAAaj+D,EAAS,WAAWA,EAAS,WAAWq+D,GAAmB56C,GAAOs5C,GAAWnZ,GAAgBsa,GAAgB9P,CAAQ;AAAA,EAAC;AACjJ,SAAO5uD,GAAM,cAAcq+D,GAAQ,UAAU;AAAA,IAC3C,OAAOhtC;AAAA,EACX,GAAK/wB,CAAQ;AACb;AAEA,MAAMw+D,KAAwB,CAAA3qC,MAAQ;AACpC,MAAI;AAAA,IACF,IAAAnyB;AAAA,IACA,OAAAiiB;AAAA,IACA,aAAAq5C;AAAA,IACA,WAAAC;AAAA,EACJ,IAAMppC;AACJ,SAAOuoC,GAAUz4C,GAAOq5C,GAAaC,CAAS,EAAE,QAAQv7D,CAAE;AAC5D,GACM+8D,KAA8B,CAAA9+B,MAAS;AAC3C,MAAI;AAAA,IACF,aAAAw+B;AAAA,IACA,WAAAO;AAAA,IACA,aAAAC;AAAA,IACA,OAAAjxD;AAAA,IACA,OAAAiW;AAAA,IACA,UAAAtV;AAAA,IACA,eAAAuwD;AAAA,IACA,qBAAAC;AAAA,IACA,YAAApE;AAAA,EACJ,IAAM96B;AAMJ,SAJI,CAAC86B,KAAc,CAACkE,KAIhBC,MAAkBj7C,KAASjW,MAAUW,IAChC,KAGLqwD,IACK,KAGFrwD,MAAaX,KAASywD,MAAgBU;AAC/C,GACMxE,KAAoB;AAAA,EACxB,UAAU;AAAA,EACV,QAAQ;AACV,GACMyE,KAAqB,aACrBC,KAAkC,gBAAA1e,GAAI,WAAW,SAAS;AAAA,EAC9D,UAAUye;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AACV,CAAC,GACKE,KAAoB;AAAA,EACxB,iBAAiB;AACnB;AAOA,SAASC,GAAoBprC,GAAM;AACjC,MAAI;AAAA,IACF,UAAA3zB;AAAA,IACA,OAAAwN;AAAA,IACA,MAAA3I;AAAA,IACA,MAAA8I;AAAA,EACJ,IAAMgmB;AACJ,QAAM,CAACqrC,GAAkBC,CAAmB,IAAI97D,EAAS,IAAI,GACvD+7D,IAAgBz7D,EAAO+J,CAAK;AAClC,SAAAmsC,GAA0B,MAAM;AAC9B,QAAI,CAAC35C,KAAYwN,MAAU0xD,EAAc,WAAWr6D,EAAK,SAAS;AAChE,YAAM+1D,IAAUjtD,EAAK;AAErB,UAAIitD,GAAS;AACX,cAAMn9C,IAAU2nC,GAAcvgD,EAAK,SAAS;AAAA,UAC1C,iBAAiB;AAAA,QAC3B,CAAS,GACKqzC,IAAQ;AAAA,UACZ,GAAG0iB,EAAQ,OAAOn9C,EAAQ;AAAA,UAC1B,GAAGm9C,EAAQ,MAAMn9C,EAAQ;AAAA,UACzB,QAAQm9C,EAAQ,QAAQn9C,EAAQ;AAAA,UAChC,QAAQm9C,EAAQ,SAASn9C,EAAQ;AAAA,QAC3C;AAEQ,SAAIy6B,EAAM,KAAKA,EAAM,MACnB+mB,EAAoB/mB,CAAK;AAAA,MAE7B;AAAA,IACF;AAEA,IAAI1qC,MAAU0xD,EAAc,YAC1BA,EAAc,UAAU1xD;AAAA,EAE5B,GAAG,CAACxN,GAAUwN,GAAO3I,GAAM8I,CAAI,CAAC,GAChCpJ,EAAU,MAAM;AACd,IAAIy6D,KACFC,EAAoB,IAAI;AAAA,EAE5B,GAAG,CAACD,CAAgB,CAAC,GACdA;AACT;AAEA,SAASG,GAAYxrC,GAAM;AACzB,MAAI;AAAA,IACF,sBAAAyrC,IAAuBb;AAAA,IACvB,YAAYc;AAAA,IACZ,UAAUC;AAAA,IACV,MAAMC;AAAA,IACN,aAAAC,IAAclB;AAAA,IACd,IAAA98D;AAAA,IACA,UAAUi+D;AAAA,IACV,sBAAAxG;AAAA,IACA,YAAAsB,IAAaJ;AAAA,EACjB,IAAMxmC;AACJ,QAAM;AAAA,IACJ,OAAAlQ;AAAA,IACA,aAAAw6C;AAAA,IACA,aAAAnB;AAAA,IACA,UAAU4C;AAAA,IACV,mBAAArB;AAAA,IACA,aAAAsB;AAAA,IACA,WAAA5C;AAAA,IACA,gBAAAmB;AAAA,IACA,UAAU0B;AAAA,EACd,IAAM7wC,GAAW8uC,EAAO,GAChB79D,IAAW6/D,GAAuBP,GAAeI,CAAc,GAC/DlyD,IAAQiW,EAAM,QAAQjiB,CAAE,GACxBmkB,IAAOpjB,EAAQ,OAAO;AAAA,IAC1B,UAAU;AAAA,MACR,aAAA07D;AAAA,MACA,OAAAzwD;AAAA,MACA,OAAAiW;AAAA,IACN;AAAA,IACI,GAAG87C;AAAA,EACP,IAAM,CAACtB,GAAasB,GAAY/xD,GAAOiW,CAAK,CAAC,GACrCq8C,IAA4Bv9D,EAAQ,MAAMkhB,EAAM,MAAMA,EAAM,QAAQjiB,CAAE,CAAC,GAAG,CAACiiB,GAAOjiB,CAAE,CAAC,GACrF;AAAA,IACJ,MAAAmM;AAAA,IACA,MAAA9I;AAAA,IACA,QAAAk7D;AAAA,IACA,YAAYC;AAAA,EAChB,IAAMhH,GAAa;AAAA,IACf,IAAAx3D;AAAA,IACA,MAAAmkB;AAAA,IACA,UAAU3lB,EAAS;AAAA,IACnB,sBAAsB;AAAA,MACpB,uBAAuB8/D;AAAA,MACvB,GAAG7G;AAAA,IACT;AAAA,EACA,CAAG,GACK;AAAA,IACJ,QAAAtX;AAAA,IACA,gBAAAqR;AAAA,IACA,gBAAA8C;AAAA,IACA,YAAAnZ;AAAA,IACA,YAAYsjB;AAAA,IACZ,WAAA1e;AAAA,IACA,YAAAh5C;AAAA,IACA,MAAAq5C;AAAA,IACA,qBAAA8W;AAAA,IACA,WAAAtY;AAAA,EACJ,IAAMiY,GAAa;AAAA,IACf,IAAA72D;AAAA,IACA,MAAAmkB;AAAA,IACA,YAAY;AAAA,MAAE,GAAGm5C;AAAA,MACf,GAAGO;AAAA,IACT;AAAA,IACI,UAAUr/D,EAAS;AAAA,EACvB,CAAG,GACK++C,KAAahC,GAAgBijB,GAAqBC,CAAmB,GACrEzB,IAAY,EAAQ7c,GACpBue,KAAe1B,KAAa,CAACH,KAAqB9B,GAAaO,CAAW,KAAKP,GAAaQ,CAAS,GACrGoD,KAA2B,CAACjC,KAAkB31D,GAC9C63D,KAAyBD,MAA4BD,KAAe9f,IAAY,MAEhFkb,IAAiB4E,KAAeE,OADrBX,KAAwCG,GACgD;AAAA,IACvG,OAAOD;AAAA,IACP,gBAAA7J;AAAA,IACA,aAAAgH;AAAA,IACA,WAAAC;AAAA,IACA,OAAAvvD;AAAA,EACJ,CAAG,IAAI,MACCW,IAAWouD,GAAaO,CAAW,KAAKP,GAAaQ,CAAS,IAAIyC,EAAY;AAAA,IAClF,IAAAh+D;AAAA,IACA,OAAAiiB;AAAA,IACA,aAAAq5C;AAAA,IACA,WAAAC;AAAA,EACJ,CAAG,IAAIvvD,GACCqnD,KAAqClT,GAAO,IAC5C9Q,KAAWptC,EAAO;AAAA,IACtB,UAAAoxD;AAAA,IACA,OAAApxC;AAAA,IACA,UAAAtV;AAAA,IACA,aAAA8vD;AAAA,EACJ,CAAG,GACKG,KAAmB36C,MAAUotB,GAAS,QAAQ,OAC9CwvB,KAA6BjB,EAAqB;AAAA,IACtD,QAAAzd;AAAA,IACA,aAAAsc;AAAA,IACA,YAAA11D;AAAA,IACA,WAAAi2D;AAAA,IACA,IAAAh9D;AAAA,IACA,OAAAgM;AAAA,IACA,OAAAiW;AAAA,IACA,UAAUotB,GAAS,QAAQ;AAAA,IAC3B,eAAeA,GAAS,QAAQ;AAAA,IAChC,qBAAqBA,GAAS,QAAQ;AAAA,IACtC,YAAA0pB;AAAA,IACA,aAAa1pB,GAAS,QAAQ,YAAY;AAAA,EAC9C,CAAG,GACKmuB,KAAmBD,GAAoB;AAAA,IAC3C,UAAU,CAACsB;AAAA,IACX,OAAA7yD;AAAA,IACA,MAAA3I;AAAA,IACA,MAAA8I;AAAA,EACJ,CAAG;AACD,SAAApJ,EAAU,MAAM;AACd,IAAIi6D,KAAa3tB,GAAS,QAAQ,aAAa1iC,MAC7C0iC,GAAS,QAAQ,WAAW1iC,IAG1B8vD,MAAgBptB,GAAS,QAAQ,gBACnCA,GAAS,QAAQ,cAAcotB,IAG7Bx6C,MAAUotB,GAAS,QAAQ,UAC7BA,GAAS,QAAQ,QAAQptB;AAAA,EAE7B,GAAG,CAAC+6C,GAAWrwD,GAAU8vD,GAAax6C,CAAK,CAAC,GAC5Clf,EAAU,MAAM;AACd,QAAIswD,OAAahkB,GAAS,QAAQ;AAChC;AAGF,QAAIgkB,MAAY,QAAQhkB,GAAS,QAAQ,YAAY,MAAM;AACzD,MAAAA,GAAS,QAAQ,WAAWgkB;AAC5B;AAAA,IACF;AAEA,UAAMh4C,KAAY,WAAW,MAAM;AACjC,MAAAg0B,GAAS,QAAQ,WAAWgkB;AAAA,IAC9B,GAAG,EAAE;AACL,WAAO,MAAM,aAAah4C,EAAS;AAAA,EACrC,GAAG,CAACg4C,EAAQ,CAAC,GACN;AAAA,IACL,QAAAlT;AAAA,IACA,aAAAmb;AAAA,IACA,YAAAngB;AAAA,IACA,MAAAh3B;AAAA,IACA,MAAAhY;AAAA,IACA,OAAAH;AAAA,IACA,UAAAW;AAAA,IACA,OAAAsV;AAAA,IACA,QAAAs8C;AAAA,IACA,WAAAvB;AAAA,IACA,YAAAj2D;AAAA,IACA,WAAAg5C;AAAA,IACA,MAAA18C;AAAA,IACA,WAAAk4D;AAAA,IACA,MAAAnb;AAAA,IACA,YAAA7C;AAAA,IACA,qBAAA2Z;AAAA,IACA,qBAAAsH;AAAA,IACA,qBAAAC;AAAA,IACA,WAAWjB,MAA8C1D;AAAA,IACzD,YAAYgF,GAAa;AAAA,EAC7B;AAEE,WAASA,KAAgB;AACvB;AAAA;AAAA,MACAtB;AAAA,MACAZ,MAAoBvtB,GAAS,QAAQ,aAAarjC;AAAA;AAChD,aAAOqxD;AAGT,QAAI,EAAAsB,MAA4B,CAACtgB,GAAgBmT,CAAc,KAAK,CAACuH,OAIjEiE,KAAa6B;AACf,aAAOlgB,GAAI,WAAW,SAAS;AAAA,QAAE,GAAGoa;AAAA,QAClC,UAAUqE;AAAA,MAClB,CAAO;AAAA,EAIL;AACF;AAEA,SAASiB,GAAuBP,GAAeI,GAAgB;AAC7D,MAAIa,GAAuBC;AAE3B,SAAI,OAAOlB,KAAkB,YACpB;AAAA,IACL,WAAWA;AAAA;AAAA,IAEX,WAAW;AAAA,EACjB,IAGS;AAAA,IACL,YAAYiB,IAAyDjB,GAAc,cAAc,OAAOiB,IAAwBb,EAAe;AAAA,IAC/I,YAAYc,IAAyDlB,GAAc,cAAc,OAAOkB,IAAwBd,EAAe;AAAA,EACnJ;AACA;AAgBoB5W,GAAa,MAAMA,GAAa,OAAOA,GAAa,IAAIA,GAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCxiBnF2X,KAA4B,CAAC,IAAI,IAAI,IAAI,GAAG,GAC5CC,KAA8B,IAC9BC,KAAgC,KAChCC,KAAmB,IACnBC,KAAiB,KACjBC,KAAwB,qBA8WxBC,KAAwB/+D,GAAK,CAAC;AAAA,EAClC,eAAAyD;AAAA,EACA,SAAAa;AAAA,EACA,UAAAvD;AAAA,EACA,UAAA/C;AAAA,EACA,WAAAD;AACF,MAMM;AACJ,QAAMI,IAAMsD,EAAyB,IAAI;AAEzC,SAAAc,EAAU,MAAM;AACd,IAAIpE,EAAI,YACNA,EAAI,QAAQ,gBAAgBsF,KAAiB;AAAA,EAEjD,GAAG,CAACA,CAAa,CAAC,GAGhB,gBAAAnF,EAAC,WAAM,WAAW,GAAGD,EAAO,QAAQ,IAAIN,KAAa,EAAE,IACrD,UAAA;AAAA,IAAA,gBAAAQ;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,KAAAJ;AAAA,QACA,SAAAmG;AAAA,QACA,UAAAvD;AAAA,QACA,UAAA/C;AAAA,QACA,WAAWK,EAAO;AAAA,MAAA;AAAA,IAAA;AAAA,sBAEnB,QAAA,EAAK,WAAWA,EAAO,cACrB,cAAgB,gBAAAE,EAACygE,IAAA,EAAM,MAAM,GAAA,CAAI,IAAK16D,IAAU,gBAAA/F,EAAC2F,MAAM,MAAM,IAAI,IAAK,KAAA,CACzE;AAAA,EAAA,GACF;AAEJ,CAAC;AAED66D,GAAsB,cAAc;AAGpC,MAAME,KAAcj/D,GAAK,CAAC;AAAA,EACxB,SAAAsE;AAAA,EACA,UAAAvD;AAAA,EACA,UAAA/C;AAAA,EACA,WAAAD;AACF,MAOI,gBAAAO,EAAC,WAAM,WAAW,GAAGD,EAAO,KAAK,IAAIN,KAAa,EAAE,IAClD,UAAA;AAAA,EAAA,gBAAAQ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAA+F;AAAA,MACA,UAAAvD;AAAA,MACA,UAAA/C;AAAA,MACA,WAAWK,EAAO;AAAA,IAAA;AAAA,EAAA;AAAA,EAEpB,gBAAAE,EAAC,QAAA,EAAK,WAAWF,EAAO,WACrB,UAAAiG,KAAW,gBAAA/F,EAAC,QAAA,EAAK,WAAWF,EAAO,WAAA,CAAY,EAAA,CAClD;AAAA,GACF,CAEH;AAED4gE,GAAY,cAAc;AAS1B,MAAMC,KAAsBl/D,GAAK,CAAC,EAAE,IAAAR,GAAI,UAAA1B,GAAU,UAAAE,IAAW,SAAsC;AACjG,QAAM;AAAA,IACJ,YAAA28C;AAAA,IACA,WAAA4E;AAAA,IACA,YAAAxC;AAAA,IACA,WAAAqB;AAAA,IACA,YAAAma;AAAA,IACA,YAAAhyD;AAAA,EAAA,IACE42D,GAAY,EAAE,IAAA39D,GAAI,UAAAxB,GAAU,GAE1ByP,IAA6B;AAAA,IACjC,WAAW0wC,GAAI,UAAU,SAASC,CAAS;AAAA,IAC3C,YAAAma;AAAA,IACA,SAAShyD,IAAa,MAAM;AAAA,IAC5B,QAAQvI,IAAW,YAAY;AAAA,IAC/B,UAAU;AAAA,EAAA;AAGZ,SACE,gBAAAM;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAKy+C;AAAA,MACL,OAAAtvC;AAAA,MACA,WAAW,GAAGpP,EAAO,eAAe,IAAIkI,IAAalI,EAAO,WAAW,EAAE;AAAA,MACxE,GAAGs8C;AAAA,MACH,GAAG4E;AAAA,MAEH,UAAA;AAAA,QAAA,CAACvhD,KACA,gBAAAO,EAAC,QAAA,EAAK,WAAWF,EAAO,YACtB,UAAA,gBAAAE,EAAC4gE,IAAA,EAAa,MAAM,GAAA,CAAI,EAAA,CAC1B;AAAA,QAEDrhE;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGP,CAAC;AAEDohE,GAAoB,cAAc;AAWlC,MAAME,KAAep/D,GAAK,CAAC,EAAE,IAAAR,GAAI,UAAA1B,GAAU,UAAAE,IAAW,IAAO,WAAAD,IAAY,IAAI,OAAOshE,IAAW,CAAA,QAA4B;AACzH,QAAM;AAAA,IACJ,YAAA1kB;AAAA,IACA,WAAA4E;AAAA,IACA,YAAAxC;AAAA,IACA,WAAAqB;AAAA,IACA,YAAAma;AAAA,IACA,YAAAhyD;AAAA,EAAA,IACE42D,GAAY,EAAE,IAAA39D,GAAI,UAAAxB,GAAU,GAE1ByP,IAA6B;AAAA,IACjC,GAAG4xD;AAAA,IACH,WAAWlhB,GAAI,UAAU,SAASC,CAAS;AAAA,IAC3C,YAAAma;AAAA,IACA,SAAShyD,IAAa,MAAM;AAAA,IAC5B,UAAU;AAAA,IACV,QAAQA,IAAa,IAAI;AAAA,EAAA;AAG3B,SACE,gBAAAjI;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAKy+C;AAAA,MACL,OAAAtvC;AAAA,MACA,WAAW,GAAG1P,CAAS,IAAIwI,IAAalI,EAAO,cAAc,EAAE;AAAA,MAC9D,GAAGs8C;AAAA,MAGJ,UAAA;AAAA,QAAA,gBAAAp8C,EAAC,MAAA,EAAG,WAAWF,EAAO,gBAAiB,GAAGkhD,GACxC,UAAA,gBAAAhhD,EAAC4gE,IAAA,EAAa,MAAM,IAAI,WAAW9gE,EAAO,eAAe,GAC3D;AAAA,QACCP;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGP,CAAC;AAEDshE,GAAa,cAAc;AAa3B,MAAME,KAAct/D,GAAK,CAAC,EAAE,IAAAR,GAAI,UAAA1B,GAAU,WAAAC,IAAY,IAAI,OAAOshE,IAAW,IAAI,GAAG37D,QAA8B;AAC/G,QAAM;AAAA,IACJ,YAAAi3C;AAAA,IACA,WAAA4E;AAAA,IACA,YAAAxC;AAAA,IACA,WAAAqB;AAAA,IACA,YAAAma;AAAA,IACA,YAAAhyD;AAAA,EAAA,IACE42D,GAAY,EAAE,IAAA39D,GAAI,GAEhBiO,IAA6B;AAAA,IACjC,GAAG4xD;AAAA,IACH,WAAWlhB,GAAI,UAAU,SAASC,CAAS;AAAA,IAC3C,YAAAma;AAAA,IACA,SAAShyD,IAAa,MAAM;AAAA,IAC5B,iBAAiBA,IAAa,mCAAmC;AAAA,EAAA;AAGnE,SACE,gBAAAhI;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAKw+C;AAAA,MACL,OAAAtvC;AAAA,MACA,WAAW,GAAG1P,CAAS,IAAIwI,IAAalI,EAAO,cAAc,EAAE;AAAA,MAC9D,GAAGs8C;AAAA,MACH,GAAGj3C;AAAA,MAEH,UAAA5F;AAAA,IAAA;AAAA,EAAA;AAGP,CAAC;AAEDwhE,GAAY,cAAc;AAG1B,MAAMC,KAAgBv/D,GAAK,CAAC,EAAE,OAAAshC,QAA+B;AAC3D,QAAM,EAAE,YAAAqZ,GAAY,WAAA4E,EAAA,IAAc4d,GAAY,EAAE,IAAI77B,GAAO;AAE3D,2BACG,MAAA,EAAG,WAAWjjC,EAAO,gBAAiB,GAAGs8C,GAAa,GAAG4E,GACxD,UAAA,gBAAAhhD,EAAC4gE,MAAa,MAAM,IAAI,WAAW9gE,EAAO,eAAe,GAC3D;AAEJ,CAAC;AAEDkhE,GAAc,cAAc;AAW5B,MAAMC,KAAcx/D,GAAK,CAAC,EAAE,GAAAiN,GAAG,GAAAixC,GAAG,OAAAz8B,GAAO,UAAAg+C,GAAU,SAAA1lD,QAAgC;AACjF,QAAM2lD,IAAUj+D,EAAuB,IAAI;AAE3C,EAAAc,EAAU,MAAM;AACd,UAAMC,IAAqB,CAACiF,MAAkB;AAC5C,MAAIi4D,EAAQ,WAAW,CAACA,EAAQ,QAAQ,SAASj4D,EAAE,MAAc,KAC/DsS,EAAA;AAAA,IAEJ,GAEMe,IAAe,CAACrT,MAAqB;AACzC,MAAIA,EAAE,QAAQ,YACZsS,EAAA;AAAA,IAEJ;AAEA,oBAAS,iBAAiB,aAAavX,CAAkB,GACzD,SAAS,iBAAiB,WAAWsY,CAAY,GAE1C,MAAM;AACX,eAAS,oBAAoB,aAAatY,CAAkB,GAC5D,SAAS,oBAAoB,WAAWsY,CAAY;AAAA,IACtD;AAAA,EACF,GAAG,CAACf,CAAO,CAAC;AAGZ,QAAM,CAACE,GAAUC,CAAW,IAAI/Y,EAAS,EAAE,GAAA8L,GAAG,GAAAixC,GAAG;AAEjD,SAAA37C,EAAU,MAAM;AACd,QAAIm9D,EAAQ,SAAS;AACnB,YAAM/zD,IAAO+zD,EAAQ,QAAQ,sBAAA,GACvBhlD,IAAgB,OAAO,YACvBC,IAAiB,OAAO;AAE9B,UAAIglD,IAAO1yD,GACP2yD,IAAO1hB;AAEX,MAAIjxC,IAAItB,EAAK,QAAQ+O,MACnBilD,IAAOjlD,IAAgB/O,EAAK,QAAQ,KAElCuyC,IAAIvyC,EAAK,SAASgP,MACpBilD,IAAOjlD,IAAiBhP,EAAK,SAAS,KAGxCuO,EAAY,EAAE,GAAGylD,GAAM,GAAGC,GAAM;AAAA,IAClC;AAAA,EACF,GAAG,CAAC3yD,GAAGixC,CAAC,CAAC,GAGP,gBAAA3/C;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAKmhE;AAAA,MACL,WAAWrhE,EAAO;AAAA,MAClB,OAAO;AAAA,QACL,UAAU;AAAA,QACV,MAAM4b,EAAS;AAAA,QACf,KAAKA,EAAS;AAAA,QACd,QAAQ;AAAA,MAAA;AAAA,MAGT,UAAAwH,EAAM,IAAI,CAACF,GAAM/V,MAChB+V,EAAK,UACH,gBAAAhjB,EAAC,OAAA,EAA6B,WAAWF,EAAO,mBAAA,GAAtC,WAAWmN,CAAK,EAA0C,IAEpE,gBAAAlN;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,WAAW,GAAGD,EAAO,eAAe,IAAIkjB,EAAK,WAAWljB,EAAO,0BAA0B,EAAE;AAAA,UAC3F,SAAS,MAAM;AACb,YAAKkjB,EAAK,aACRk+C,EAASl+C,EAAK,EAAE,GAChBxH,EAAA;AAAA,UAEJ;AAAA,UACA,UAAUwH,EAAK;AAAA,UAEd,UAAA;AAAA,YAAAA,EAAK,QAAQ,gBAAAhjB,EAAC,QAAA,EAAK,WAAWF,EAAO,iBAAkB,YAAK,KAAA,CAAK;AAAA,8BACjE,QAAA,EAAK,WAAWA,EAAO,kBAAmB,YAAK,OAAM;AAAA,YACrDkjB,EAAK,YAAY,gBAAAhjB,EAAC,QAAA,EAAK,WAAWF,EAAO,qBAAsB,YAAK,SAAA,CAAS;AAAA,UAAA;AAAA,QAAA;AAAA,QAZzEkjB,EAAK;AAAA,MAAA,CAef;AAAA,IAAA;AAAA,EAAA;AAGP,CAAC;AAEDi+C,GAAY,cAAc;AAG1B,MAAMK,KAA0B,MAAyB;AAAA,EACvD,EAAE,IAAI,QAAQ,OAAO,QAAQ,MAAM,gBAAAthE,EAACuhE,IAAA,EAAK,MAAM,GAAA,CAAI,GAAI,UAAU,SAAA;AAAA,EACjE,EAAE,IAAI,YAAY,OAAO,IAAI,SAAS,GAAA;AAAA,EACtC,EAAE,IAAI,UAAU,OAAO,mBAAmB,MAAM,gBAAAvhE,EAACwhE,IAAA,EAAO,MAAM,GAAA,CAAI,EAAA;AAAA,EAClE,EAAE,IAAI,YAAY,OAAO,eAAe,MAAM,gBAAAxhE,EAACyhE,IAAA,EAAY,MAAM,GAAA,CAAI,EAAA;AAAA,EACrE,EAAE,IAAI,aAAa,OAAO,eAAe,MAAM,gBAAAzhE,EAACyhE,IAAA,EAAY,MAAM,IAAI,EAAA;AACxE,GAEMC,KAAyB,CAAC//D,MAA2C;AAAA,EACzE,EAAE,IAAI,UAAU,OAAOA,IAAa,iBAAiB,cAAc,MAAMA,IAAa,gBAAA3B,EAAC2hE,IAAA,EAAO,MAAM,GAAA,CAAI,sBAAMC,IAAA,EAAY,MAAM,IAAI,EAAA;AAAA,EACpI,EAAE,IAAI,YAAY,OAAO,IAAI,SAAS,GAAA;AAAA,EACtC,EAAE,IAAI,UAAU,OAAO,cAAc,MAAM,gBAAA5hE,EAAC6hE,IAAA,EAAO,MAAM,GAAA,CAAI,EAAA;AAAA,EAC7D,EAAE,IAAI,WAAW,OAAO,cAAc,MAAM,gBAAA7hE,EAAC8hE,IAAA,EAAI,MAAM,GAAA,CAAI,EAAA;AAAA,EAC3D,EAAE,IAAI,cAAc,OAAO,iBAAiB,MAAM,gBAAA9hE,EAAC8hE,IAAA,EAAI,MAAM,GAAA,CAAI,EAAA;AAAA,EACjE,EAAE,IAAI,SAAS,OAAO,aAAa,MAAM,gBAAA9hE,EAAC+hE,IAAA,EAAO,MAAM,GAAA,CAAI,EAAA;AAAA,EAC3D,EAAE,IAAI,YAAY,OAAO,IAAI,SAAS,GAAA;AAAA,EACtC,EAAE,IAAI,UAAU,OAAO,cAAc,MAAM,gBAAA/hE,EAACgiE,IAAA,EAAO,MAAM,IAAI,EAAA;AAC/D,GAEMC,KAA4B,CAACC,MAAgD;AAAA,EACjF,EAAE,IAAI,YAAY,OAAO,kBAAkB,MAAM,gBAAAliE,EAACmiE,IAAA,EAAU,MAAM,GAAA,CAAI,EAAA;AAAA,EACtE,EAAE,IAAI,aAAa,OAAO,mBAAmB,MAAM,gBAAAniE,EAAC+E,IAAA,EAAY,MAAM,GAAA,CAAI,EAAA;AAAA,EAC1E,EAAE,IAAI,cAAc,OAAO,cAAc,MAAM,gBAAA/E,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI,EAAA;AAAA,EAC5D,EAAE,IAAI,YAAY,OAAO,IAAI,SAAS,GAAA;AAAA,EACtC,EAAE,IAAI,YAAY,OAAO,eAAe,MAAM,gBAAApK,EAAC8hE,IAAA,EAAI,MAAM,GAAA,CAAI,GAAI,UAAUI,MAAa,OAAA;AAAA,EACxF,EAAE,IAAI,aAAa,OAAO,gBAAgB,MAAM,gBAAAliE,EAAC8hE,IAAA,EAAI,MAAM,GAAA,CAAI,GAAI,UAAUI,MAAa,QAAA;AAAA,EAC1F,EAAE,IAAI,SAAS,OAAO,gBAAgB,MAAM,gBAAAliE,EAAC+hE,IAAA,EAAO,MAAM,GAAA,CAAI,GAAI,UAAU,CAACG,EAAA;AAAA,EAC7E,EAAE,IAAI,YAAY,OAAO,IAAI,SAAS,GAAA;AAAA,EACtC,EAAE,IAAI,QAAQ,OAAO,eAAe,MAAM,gBAAAliE,EAACoiE,IAAA,EAAO,MAAM,IAAI,EAAA;AAC9D,GAGMC,KAAe5gE,GAAK,CAAC;AAAA,EACzB,QAAAixB;AAAA,EACA,SAAA4vC,IAAU;AAAA,EACV,SAASC;AACX,MAIM;AACJ,QAAM,CAAC7/D,GAAQC,CAAS,IAAIC,EAAS,EAAK,GACpCO,IAAcD,EAAuB,IAAI,GACzCs/D,IAAoB9vC,EAAO,eAAA,GAC3B+vC,IAAgB/vC,EAAO,uBAAA,GAGvBpwB,IAAUN,EAAQ,MAClBugE,KAAiBA,EAAc,SAAS,IACnCA,IAEY,MAAM,KAAKE,EAAc,MAAM,EAEjD,OAAO,CAAC33D,MAA4BA,KAAK,IAAI,EAC7C,IAAI,CAACpE,OAAW;AAAA,IACf,OAAO,OAAOA,CAAK;AAAA,IACnB,OAAO,OAAOA,CAAK;AAAA,EAAA,EACnB,EACD,KAAK,CAACqT,GAAGtL,MAAMsL,EAAE,MAAM,cAActL,EAAE,KAAK,CAAC,GAE/C,CAACg0D,EAAc,MAAM/vC,EAAO,IAAI6vC,CAAa,CAAC;AAGjD,EAAAv+D,EAAU,MAAM;AACd,UAAMC,IAAqB,CAACC,MAAsB;AAChD,MAAIf,EAAY,WAAW,CAACA,EAAY,QAAQ,SAASe,EAAM,MAAc,KAC3EvB,EAAU,EAAK;AAAA,IAEnB;AACA,oBAAS,iBAAiB,aAAasB,CAAkB,GAClD,MAAM,SAAS,oBAAoB,aAAaA,CAAkB;AAAA,EAC3E,GAAG,CAAA,CAAE;AAEL,QAAM2lB,IAAiB5nB,EAAQ,MACxBwgE,IACD,MAAM,QAAQA,CAAiB,IAAUA,IACtC,CAACA,CAAiB,IAFM,CAAA,GAG9B,CAACA,CAAiB,CAAC,GAEhB3jD,IAAe9c,EAAY,CAAC2E,MAAkB;AAClD,QAAI47D,GAAS;AACX,YAAM38C,IAAYiE,EAAe,SAASljB,CAAK,IAC3CkjB,EAAe,OAAO,CAAC9e,MAAMA,MAAMpE,CAAK,IACxC,CAAC,GAAGkjB,GAAgBljB,CAAK;AAC7B,MAAAgsB,EAAO,eAAe/M,EAAU,SAAS,IAAIA,IAAY,MAAS;AAAA,IACpE;AACE,MAAA+M,EAAO,eAAe9I,EAAe,SAASljB,CAAK,IAAI,SAAYA,CAAK,GACxE/D,EAAU,EAAK;AAAA,EAEnB,GAAG,CAAC+vB,GAAQ4vC,GAAS14C,CAAc,CAAC,GAE9B84C,IAAc3gE,EAAY,CAACmH,MAAwB;AACvD,IAAAA,EAAE,gBAAA,GACFwpB,EAAO,eAAe,MAAS;AAAA,EACjC,GAAG,CAACA,CAAM,CAAC,GAELiwC,IAAc3gE,EAAQ,MACtB4nB,EAAe,WAAW,IAAU04C,IAAU,cAAc,QAC5D14C,EAAe,WAAW,IAChBtnB,EAAQ,KAAK,CAACimB,MAAMA,EAAE,UAAUqB,EAAe,CAAC,CAAC,GACjD,SAASA,EAAe,CAAC,IAEhC,GAAGA,EAAe,MAAM,aAC9B,CAACA,GAAgBtnB,GAASggE,CAAO,CAAC;AAErC,2BACG,OAAA,EAAI,WAAWxiE,EAAO,cAAc,KAAKqD,GACxC,UAAA;AAAA,IAAA,gBAAApD;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAWD,EAAO;AAAA,QAClB,SAAS,MAAM6C,EAAU,CAACD,CAAM;AAAA,QAEhC,UAAA;AAAA,UAAA,gBAAA1C,EAAC,QAAA,EAAK,WAAWF,EAAO,kBAAmB,UAAA6iE,GAAY;AAAA,UACtD/4C,EAAe,SAAS,KACvB,gBAAA5pB,EAAC,UAAK,WAAWF,EAAO,mBAAmB,SAAS4iE,GAClD,UAAA,gBAAA1iE,EAACoK,IAAA,EAAE,MAAM,IAAI,GACf;AAAA,4BAEDrF,IAAA,EAAY,MAAM,IAAI,WAAWjF,EAAO,iBAAA,CAAkB;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,IAE5D4C,KACC,gBAAA1C,EAAC,OAAA,EAAI,WAAWF,EAAO,sBACpB,YAAQ,WAAW,sBACjB,OAAA,EAAI,WAAWA,EAAO,mBAAmB,UAAA,aAAA,CAAU,IAEpDwC,EAAQ,IAAI,CAACZ,MACX,gBAAA3B;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,WAAW,GAAGD,EAAO,kBAAkB,IAAI8pB,EAAe,SAASloB,EAAO,KAAK,IAAI5B,EAAO,WAAW,EAAE;AAAA,QAEvG,UAAA;AAAA,UAAA,gBAAAE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAMsiE,IAAU,aAAa;AAAA,cAC7B,SAAS14C,EAAe,SAASloB,EAAO,KAAK;AAAA,cAC7C,UAAU,MAAMmd,EAAand,EAAO,KAAK;AAAA,cACzC,WAAW5B,EAAO;AAAA,YAAA;AAAA,UAAA;AAAA,UAEpB,gBAAAE,EAAC,QAAA,EAAM,UAAA0B,EAAO,MAAA,CAAM;AAAA,QAAA;AAAA,MAAA;AAAA,MATfA,EAAO;AAAA,IAAA,CAWf,EAAA,CAEL;AAAA,EAAA,GAEJ;AAEJ,CAAC;AAED2gE,GAAa,cAAc;AAG3B,MAAMO,KAAanhE,GAAK,CAAC;AAAA,EACvB,QAAAixB;AAAA,EACA,SAAAmwC,IAAU;AACZ,MAGM;AACJ,QAAML,IAAoB9vC,EAAO,eAAA,GAE3BowC,IAAmB/gE,EAAY,CAAC2E,GAAegV,MAA+B;AAClF,QAAImnD,GAAS;AACX,YAAMv/D,IAAgBk/D,KAA0C,CAAC,IAAI,EAAE;AACvE,MAAI9mD,MAAa,UACfgX,EAAO,eAAe,CAAChsB,GAAOpD,EAAa,CAAC,CAAC,CAAC,IAE9CovB,EAAO,eAAe,CAACpvB,EAAa,CAAC,GAAGoD,CAAK,CAAC;AAAA,IAElD;AACE,MAAAgsB,EAAO,eAAehsB,KAAS,MAAS;AAAA,EAE5C,GAAG,CAACgsB,GAAQ8vC,GAAmBK,CAAO,CAAC;AAEvC,MAAIA,GAAS;AACX,UAAM,CAACzuD,GAAWC,CAAO,IAAKmuD,KAA0C,CAAC,IAAI,EAAE;AAC/E,WACE,gBAAAziE,EAAC,OAAA,EAAI,WAAWD,EAAO,aACrB,UAAA;AAAA,MAAA,gBAAAE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAOoU;AAAA,UACP,UAAU,CAAClL,MAAM45D,EAAiB55D,EAAE,OAAO,OAAO,OAAO;AAAA,UACzD,WAAWpJ,EAAO;AAAA,UAClB,aAAY;AAAA,QAAA;AAAA,MAAA;AAAA,MAEd,gBAAAE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAOqU;AAAA,UACP,UAAU,CAACnL,MAAM45D,EAAiB55D,EAAE,OAAO,OAAO,KAAK;AAAA,UACvD,WAAWpJ,EAAO;AAAA,UAClB,aAAY;AAAA,QAAA;AAAA,MAAA;AAAA,IACd,GACF;AAAA,EAEJ;AAEA,SACE,gBAAAE,EAAC,OAAA,EAAI,WAAWF,EAAO,eACrB,UAAA,gBAAAE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,OAAQwiE,KAAgC;AAAA,MACxC,UAAU,CAACt5D,MAAM45D,EAAiB55D,EAAE,OAAO,KAAK;AAAA,MAChD,WAAWpJ,EAAO;AAAA,IAAA;AAAA,EAAA,GAEtB;AAEJ,CAAC;AAED8iE,GAAW,cAAc;AAGzB,MAAMG,KAAethE,GAAK,CAAC;AAAA,EACzB,QAAAixB;AAAA,EACA,OAAAF;AACF,MAGM;AACJ,QAAMS,IAAYP,EAAO,WACnBswC,IAAyB/vC,EAAU,MAAM,cAAcA,EAAU,YACjEgwC,IAA4ChwC,EAAU,MAAM,iBAAiBA,EAAU,eACvFiwC,IAAkBjwC,EAAU,MAAM,mBAAmBA,EAAU;AAGrE,MAAIiwC;AACF,WAAO,gBAAAljE,EAACkjE,GAAA,EAAgB,QAAAxwC,GAAgB,OAAAF,EAAA,CAAc;AAIxD,UAAQwwC,GAAA;AAAA,IACN,KAAK;AACH,+BAAQX,IAAA,EAAa,QAAA3vC,GAAgB,SAAS,IAAO,SAASuwC,GAAe;AAAA,IAC/E,KAAK;AACH,+BAAQZ,IAAA,EAAa,QAAA3vC,GAAgB,SAAS,IAAM,SAASuwC,GAAe;AAAA,IAC9E,KAAK;AACH,aAAO,gBAAAjjE,EAAC4iE,IAAA,EAAW,QAAAlwC,GAAgB,SAAS,GAAA,CAAO;AAAA,IACrD,KAAK;AACH,aAAO,gBAAA1yB,EAAC4iE,IAAA,EAAW,QAAAlwC,GAAgB,SAAS,GAAA,CAAM;AAAA,IACpD,KAAK;AACH,aAAO,gBAAA1yB,EAACmjE,MAAkB,QAAAzwC,GAAgB;AAAA,IAC5C,KAAK;AAAA,IACL;AAME,aAAI,OAJeF,EAChB,yBACA,SAAS,CAAC,GAAG,SAASE,EAAO,EAAE,KAER,WACjB,gBAAA1yB,EAACmjE,MAAkB,QAAAzwC,GAAgB,IAGrC,gBAAA1yB,EAACojE,MAAW,QAAA1wC,GAAgB;AAAA,EAAA;AAEzC,CAAC;AAEDqwC,GAAa,cAAc;AAG3B,MAAMI,KAAoB1hE,GAAK,CAAC,EAAE,QAAAixB,QAA8B;AAC9D,QAAM8vC,IAAoB9vC,EAAO,eAAA,GAC3B,CAACjoB,GAAKC,CAAG,IAAIgoB,EAAO,4BAA4B,CAAC,GAAG,CAAC;AAE3D,SACE,gBAAA3yB,EAAC,OAAA,EAAI,WAAWD,EAAO,aACrB,UAAA;AAAA,IAAA,gBAAAE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,KAAK,OAAOyK,KAAO,EAAE;AAAA,QACrB,KAAK,OAAOC,KAAO,EAAE;AAAA,QACrB,OAAQ83D,IAAyC,CAAC,KAAK;AAAA,QACvD,UAAU,CAACt5D,MACTwpB,EAAO,eAAe,CAAC9B,MAA0B;AAAA,UAC/C1nB,EAAE,OAAO;AAAA,UACT0nB,IAAM,CAAC;AAAA,QAAA,CACR;AAAA,QAEH,aAAY;AAAA,QACZ,WAAW9wB,EAAO;AAAA,MAAA;AAAA,IAAA;AAAA,IAEpB,gBAAAE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,KAAK,OAAOyK,KAAO,EAAE;AAAA,QACrB,KAAK,OAAOC,KAAO,EAAE;AAAA,QACrB,OAAQ83D,IAAyC,CAAC,KAAK;AAAA,QACvD,UAAU,CAACt5D,MACTwpB,EAAO,eAAe,CAAC9B,MAA0B;AAAA,UAC/CA,IAAM,CAAC;AAAA,UACP1nB,EAAE,OAAO;AAAA,QAAA,CACV;AAAA,QAEH,aAAY;AAAA,QACZ,WAAWpJ,EAAO;AAAA,MAAA;AAAA,IAAA;AAAA,EACpB,GACF;AAEJ,CAAC;AAEDqjE,GAAkB,cAAc;AAGhC,MAAMC,KAAa3hE,GAAK,CAAC,EAAE,QAAAixB,QAA8B;AACvD,QAAM8vC,IAAoB9vC,EAAO,eAAA,GAC3B+vC,IAAgB/vC,EAAO,uBAAA,GACvB2wC,IAAqBrhE;AAAA,IACzB,MAAM,MAAM,KAAKygE,EAAc,KAAA,CAAM,EAAE,KAAA;AAAA;AAAA,IAEvC,CAACA,EAAc,MAAM/vC,EAAO,EAAE;AAAA,EAAA;AAGhC,SACE,gBAAA3yB,EAAC,OAAA,EAAI,WAAWD,EAAO,eACrB,UAAA;AAAA,IAAA,gBAAAE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAQwiE,KAAqB;AAAA,QAC7B,UAAU,CAACt5D,MAAMwpB,EAAO,eAAexpB,EAAE,OAAO,KAAK;AAAA,QACrD,aAAa,cAAcu5D,EAAc,IAAI;AAAA,QAC7C,WAAW3iE,EAAO;AAAA,QAClB,MAAM4yB,EAAO,KAAK;AAAA,MAAA;AAAA,IAAA;AAAA,IAEpB,gBAAA1yB,EAAC,YAAA,EAAS,IAAI0yB,EAAO,KAAK,QACvB,UAAA2wC,EAAmB,MAAM,GAAG,GAAI,EAAE,IAAI,CAAC38D,MACtC,gBAAA1G,EAAC,UAAA,EAAO,OAAO,OAAO0G,CAAK,KAAQ,OAAOA,CAAK,CAAG,CACnD,EAAA,CACH;AAAA,EAAA,GACF;AAEJ,CAAC;AAED08D,GAAW,cAAc;AAGzB,MAAME,KAAe7hE,GAAK,CAAC;AAAA,EACzB,OAAO8hE;AAAA,EACP,KAAA9wC;AAAA,EACA,QAAAC;AAAA,EACA,QAAA8wC;AAAA,EACA,eAAeC;AAAA,EACf,YAAAC,IAAa;AAAA,EACb,eAAAC;AAAA,EACA,cAAAC;AACF,MASM;AACJ,QAAM,CAACl9D,GAAOm9D,CAAQ,IAAIjhE,EAAS2gE,CAAY,GACzC,CAACO,GAAWC,CAAY,IAAInhE,EAAS,EAAK,GAC1C,CAACqC,GAAO++D,CAAQ,IAAIphE,EAAwB,IAAI,GAChDsF,IAAWhF,EAAyB,IAAI,GACxC+gE,IAAY/gE,EAA0B,IAAI;AAEhD,EAAAc,EAAU,MAAM;AACd,IAAA6/D,EAASN,CAAY,GACrBS,EAAS,IAAI;AAAA,EACf,GAAG,CAACT,CAAY,CAAC,GAEjBv/D,EAAU,MAAM;AACd,IAAI8/D,MACE57D,EAAS,WACXA,EAAS,QAAQ,MAAA,IACbw7D,MAAe,UAAUA,MAAe,aAC1Cx7D,EAAS,QAAQ,OAAA,KAEV+7D,EAAU,WACnBA,EAAU,QAAQ,MAAA;AAAA,EAGxB,GAAG,CAACH,GAAWJ,CAAU,CAAC;AAE1B,QAAMQ,IAAWniE,EAAY,CAAC+lB,MACvB87C,IACEA,EAAa97C,GAAK2K,EAAI,QAAQ,IADX,MAEzB,CAACmxC,GAAcnxC,EAAI,QAAQ,CAAC,GAEzB0xC,IAAapiE,EAAY,MAAM;AACnC,UAAMqiE,IAAkBF,EAASx9D,CAAK;AACtC,WAAI09D,KACFJ,EAASI,CAAe,GACjB,OAETL,EAAa,EAAK,GAClBC,EAAS,IAAI,GACTt9D,MAAU68D,KACZC,IAAS/wC,EAAI,IAAIC,EAAO,IAAIhsB,CAAK,GAE5B;AAAA,EACT,GAAG,CAACA,GAAO68D,GAAc9wC,EAAI,IAAIC,EAAO,IAAI8wC,GAAQU,CAAQ,CAAC,GAEvDr2D,IAAa9L,EAAY,MAAM;AACnC,IAAAoiE,EAAA;AAAA,EACF,GAAG,CAACA,CAAU,CAAC,GAEThgE,IAAgBpC,EAAY,CAACmH,MAA2B;AAC5D,IAAIA,EAAE,QAAQ,WACZA,EAAE,eAAA,GACFi7D,EAAA,KACSj7D,EAAE,QAAQ,aACnB26D,EAASN,CAAY,GACrBS,EAAS,IAAI,GACbD,EAAa,EAAK;AAAA,EAEtB,GAAG,CAACI,GAAYZ,CAAY,CAAC,GAEvBn9D,IAAerE,EAAY,CAACuJ,MAAsB;AAGtD,QAFAu4D,EAASv4D,CAAQ,GAEbrG,GAAO;AACT,YAAMm/D,IAAkBF,EAAS54D,CAAQ;AACzC,MAAA04D,EAASI,CAAe;AAAA,IAC1B;AAAA,EACF,GAAG,CAACn/D,GAAOi/D,CAAQ,CAAC,GAGdG,IAAqB,CAACv8C,MACtBA,KAAO,OAAa,KACpB47C,MAAe,YAAYC,IACdA,EAAc,KAAK,CAAAjgE,MAAOA,EAAI,UAAUokB,CAAG,GAC3C,SAAS,OAAOA,CAAG,IAEhC47C,MAAe,UAAU57C,aAAe,OACnCA,EAAI,mBAAA,IAEN,OAAOA,CAAG;AAGnB,MAAI,CAACg8C;AACH,WACE,gBAAA9jE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,EAAO;AAAA,QAClB,eAAe,MAAMikE,EAAa,EAAI;AAAA,QAErC,YAAmBr9D,CAAK;AAAA,MAAA;AAAA,IAAA;AAM/B,MAAI+8D;AACF,WACE,gBAAA1jE,EAAC,OAAA,EAAI,WAAWD,EAAO,eACrB,UAAA;AAAA,MAAA,gBAAAE;AAAA,QAACyjE;AAAA,QAAA;AAAA,UACC,OAAA/8D;AAAA,UACA,UAAUN;AAAA,UACV,QAAQyH;AAAA,UACR,WAAW1J;AAAA,QAAA;AAAA,MAAA;AAAA,MAEZc,KAAS,gBAAAjF,EAAC,OAAA,EAAI,WAAWF,EAAO,aAAc,UAAAmF,EAAA,CAAM;AAAA,IAAA,GACvD;AAKJ,QAAMq/D,IAAe,MAAM;AACzB,YAAQZ,GAAA;AAAA,MACN,KAAK;AACH,eACE,gBAAA1jE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAKkI;AAAA,YACL,MAAK;AAAA,YACL,OAAOxB,KAAS,OAAO,OAAOA,CAAK,IAAI;AAAA,YACvC,UAAU,CAACwC,MAAM9C,EAAa8C,EAAE,OAAO,UAAU,KAAK,OAAO,OAAOA,EAAE,OAAO,KAAK,CAAC;AAAA,YACnF,QAAQ2E;AAAA,YACR,WAAW1J;AAAA,YACX,WAAW,GAAGrE,EAAO,SAAS,IAAImF,IAAQnF,EAAO,iBAAiB,EAAE;AAAA,UAAA;AAAA,QAAA;AAAA,MAI1E,KAAK;AACH,eACE,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAKikE;AAAA,YACL,OAAO,OAAOv9D,KAAS,EAAE;AAAA,YACzB,UAAU,CAACwC,MAAM9C,EAAa8C,EAAE,OAAO,KAAK;AAAA,YAC5C,QAAQ2E;AAAA,YACR,WAAW1J;AAAA,YACX,WAAW,GAAGrE,EAAO,UAAU,IAAImF,IAAQnF,EAAO,iBAAiB,EAAE;AAAA,YAEpE,UAAA6jE,GAAe,IAAI,CAACjiE,MACnB,gBAAA1B,EAAC,UAAA,EAA0B,OAAO0B,EAAO,OACtC,UAAAA,EAAO,MAAA,GADGA,EAAO,KAEpB,CACD;AAAA,UAAA;AAAA,QAAA;AAAA,MAIP,KAAK;AACH,eACE,gBAAA1B;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAKkI;AAAA,YACL,MAAK;AAAA,YACL,OAAOxB,aAAiB,OAAOA,EAAM,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,IAAI,OAAOA,KAAS,EAAE;AAAA,YACrF,UAAU,CAACwC,MAAM9C,EAAa8C,EAAE,OAAO,QAAQ,IAAI,KAAKA,EAAE,OAAO,KAAK,IAAI,IAAI;AAAA,YAC9E,QAAQ2E;AAAA,YACR,WAAW1J;AAAA,YACX,WAAW,GAAGrE,EAAO,SAAS,IAAImF,IAAQnF,EAAO,iBAAiB,EAAE;AAAA,UAAA;AAAA,QAAA;AAAA,MAI1E,KAAK;AAAA,MACL;AACE,eACE,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAKkI;AAAA,YACL,MAAK;AAAA,YACL,OAAO,OAAOxB,KAAS,EAAE;AAAA,YACzB,UAAU,CAACwC,MAAM9C,EAAa8C,EAAE,OAAO,KAAK;AAAA,YAC5C,QAAQ2E;AAAA,YACR,WAAW1J;AAAA,YACX,WAAW,GAAGrE,EAAO,SAAS,IAAImF,IAAQnF,EAAO,iBAAiB,EAAE;AAAA,UAAA;AAAA,QAAA;AAAA,IACtE;AAAA,EAGR;AAEA,SACE,gBAAAC,EAAC,OAAA,EAAI,WAAWD,EAAO,eACpB,UAAA;AAAA,IAAAwkE,EAAA;AAAA,IACAr/D,KAAS,gBAAAjF,EAAC,OAAA,EAAI,WAAWF,EAAO,aAAc,UAAAmF,EAAA,CAAM;AAAA,EAAA,GACvD;AAEJ,CAAC;AAEDq+D,GAAa,cAAc;AAG3B,MAAMiB,KAA2B9iE,GAAK,CAAC;AAAA,EACrC,OAAA+wB;AACF,MAEM;AACJ,QAAM,CAACgyC,GAAMC,CAAO,IAAI7hE,EAAS,EAAK;AAEtC,SACE,gBAAA7C,EAAC,OAAA,EAAI,WAAWD,EAAO,UACrB,UAAA;AAAA,IAAA,gBAAAE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,EAAO;AAAA,QAClB,SAAS,MAAM2kE,EAAQ,CAACD,CAAI;AAAA,QAC5B,OAAM;AAAA,QAEN,UAAA,gBAAAxkE,EAAC0kE,IAAA,EAAQ,MAAM,GAAA,CAAI;AAAA,MAAA;AAAA,IAAA;AAAA,IAEpBF,KACC,gBAAAzkE,EAAAwB,IAAA,EACE,UAAA;AAAA,MAAA,gBAAAvB,EAAC,OAAA,EAAI,WAAWF,EAAO,kBAAkB,SAAS,MAAM2kE,EAAQ,EAAK,GAAG;AAAA,MACxE,gBAAA1kE,EAAC,OAAA,EAAI,WAAWD,EAAO,cACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,EAAO,gBAAgB,UAAA,kBAAc;AAAA,QACrD,gBAAAC,EAAC,SAAA,EAAM,WAAWD,EAAO,cACvB,UAAA;AAAA,UAAA,gBAAAE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,SAASwyB,EAAM,uBAAA;AAAA,cACf,UAAUA,EAAM,qCAAA;AAAA,YAAqC;AAAA,UAAA;AAAA,UAEvD,gBAAAxyB,EAAC,UAAK,UAAA,aAAA,CAAU;AAAA,QAAA,GAClB;AAAA,QACA,gBAAAA,EAAC,OAAA,EAAI,WAAWF,EAAO,gBAAA,CAAiB;AAAA,QACvC0yB,EAAM,kBAAA,EAAoB,IAAI,CAACE,MAC9B,gBAAA3yB,EAAC,SAAA,EAAsB,WAAWD,EAAO,cACvC,UAAA;AAAA,UAAA,gBAAAE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,SAAS0yB,EAAO,aAAA;AAAA,cAChB,UAAUA,EAAO,2BAAA;AAAA,cACjB,UAAU,CAACA,EAAO,WAAA;AAAA,YAAW;AAAA,UAAA;AAAA,UAE/B,gBAAA1yB,EAAC,QAAA,EAAM,UAAA0yB,EAAO,GAAA,CAAG;AAAA,QAAA,EAAA,GAPPA,EAAO,EAQnB,CACD;AAAA,MAAA,EAAA,CACH;AAAA,IAAA,EAAA,CACF;AAAA,EAAA,GAEJ;AAEJ,CAAC;AAED6xC,GAAyB,cAAc;AAMvC,SAASI,GACP;AAAA,EACE,MAAAv/C;AAAA,EACA,SAASw/C;AAAA,EACT,UAAAC;AAAA;AAAA,EAGA,eAAAC,IAAgB;AAAA,EAChB,iBAAAC,IAAkB;AAAA,EAClB,SAASC;AAAA,EACT,iBAAAC;AAAA,EACA,eAAAC,IAAgB;AAAA;AAAA,EAGhB,iBAAAC,IAAkB;AAAA,EAClB,oBAAAC,IAAqB;AAAA,EACrB,cAAcC;AAAA,EACd,sBAAAC;AAAA,EACA,eAAeC;AAAA,EACf,uBAAAC;AAAA,EACA,iBAAAC,IAAkB;AAAA,EAClB,mBAAAC,IAAoB;AAAA;AAAA,EAGpB,kBAAAC,IAAmB;AAAA,EACnB,iBAAAC,IAAkB1F;AAAA,EAClB,YAAY2F;AAAA,EACZ,oBAAAC;AAAA,EACA,UAAAC;AAAA,EACA,kBAAAC,IAAmB;AAAA;AAAA,EAGnB,oBAAAC,IAAqB;AAAA,EACrB,yBAAAC,IAA0B;AAAA,EAC1B,eAAAroD,IAAgB;AAAA,EAChB,iBAAAsoD;AAAA,EACA,uBAAAC,IAAwB;AAAA,EACxB,eAAAC,IAAgB;AAAA,EAChB,cAAcC;AAAA,EACd,sBAAAC;AAAA,EACA,YAAAC;AAAA,EACA,kBAAAC;AAAA;AAAA,EAGA,iBAAAC,IAAkB;AAAA,EAClB,mBAAAC;AAAA,EACA,YAAAC;AAAA,EACA,iBAAA/2C;AAAA,EACA,iBAAAg3C,IAAkB;AAAA,EAClB,UAAUC;AAAA,EACV,kBAAAC;AAAA;AAAA,EAGA,gBAAAC,KAAiB;AAAA,EACjB,mBAAArqC,KAAoB;AAAA,EACpB,UAAUsqC;AAAA,EACV,kBAAAC;AAAA;AAAA,EAGA,sBAAAC,IAAuB;AAAA,EACvB,kBAAAC,IAAmB;AAAA,EACnB,qBAAAC,KAAsB;AAAA,EACtB,sBAAAC,KAAuB;AAAA,EACvB,wBAAAC,KAAyB;AAAA,EACzB,kBAAkBC;AAAA,EAClB,0BAAAC;AAAA,EACA,aAAaC;AAAA,EACb,qBAAAC;AAAA,EACA,eAAeC;AAAA,EACf,uBAAAC;AAAA,EACA,cAAcC;AAAA,EACd,sBAAAC;AAAA;AAAA,EAGA,mBAAAC,KAAoB;AAAA,EACpB,YAAAC;AAAA;AAAA,EAGA,kBAAA7iC,KAAmB;AAAA,EACnB,YAAY8iC;AAAA,EACZ,oBAAAC;AAAA,EACA,gBAAAC,KAAiB;AAAA;AAAA,EAGjB,mBAAAC,KAAoB;AAAA,EACpB,kBAAAC;AAAA,EACA,kBAAAC,KAAmB;AAAA;AAAA,EAGnB,mBAAAC,KAAoB;AAAA,EACpB,sBAAAC;AAAA,EACA,qBAAAC;AAAA,EACA,wBAAAC;AAAA,EACA,qBAAAC;AAAA;AAAA,EAGA,iBAAAC,KAAkB;AAAA,EAClB,sBAAAC,KAAuB;AAAA,EACvB,SAAAC;AAAA,EACA,QAAAC;AAAA;AAAA,EAGA,sBAAAC,KAAuB;AAAA,EACvB,4BAAAC,KAA6B;AAAA,EAC7B,mBAAAC,KAAoBhJ;AAAA,EACpB,qBAAAiJ,KAAsBhJ;AAAA,EACtB,UAAA9oB,KAAW+oB;AAAA,EACX,iBAAAgJ;AAAA,EACA,wBAAAC,KAAyB,CAAC,IAAI,IAAI,GAAG;AAAA,EACrC,yBAAAC;AAAA;AAAA,EAGA,QAAQC,KAAalJ;AAAA,EACrB,SAAAnwC,KAAU;AAAA,EACV,WAAA1C,KAAY;AAAA,EACZ,UAAAg8C,KAAW;AAAA,EACX,SAAAh6D,KAAU;AAAA,EACV,YAAAi6D,KAAa;AAAA,EACb,YAAAC,KAAa;AAAA,EACb,SAAAvqE,KAAU;AAAA,EACV,cAAAgqB,KAAem3C;AAAA,EACf,aAAAqJ;AAAA;AAAA,EAGA,aAAAC,KAAc;AAAA,EACd,gBAAAC;AAAA;AAAA,EAGA,0BAAAC,KAA2B;AAAA;AAAA,EAG3B,WAAAvqE;AAAA,EACA,OAAA0P;AACF,GACAtP,IACA;AAEA,QAAM,CAACmxC,IAASi5B,EAAU,IAAIpnE,EAAuBoiE,KAAe,CAAA,CAAE,GAChE,CAACz2B,IAAe07B,EAAgB,IAAIrnE,EAA6B2iE,KAAqB,CAAA,CAAE,GACxF,CAAC/2B,IAAc07B,EAAe,IAAItnE,EAAiByiE,KAAoB,EAAE,GACzE,CAAC7+B,IAAc2jC,EAAe,IAAIvnE,EAA4B0jE,KAAoB,CAAA,CAAE,GACpF,CAAC7jC,IAAU2nC,EAAW,IAAIxnE;AAAA,IAC9BkkE,OAAiBj3C,MAAoB,KAAO,KAAOA,KAAmB,CAAA;AAAA,EAAC,GAEnE,CAAC6M,IAAU2tC,EAAW,IAAIznE,EAAwBqkE,MAAgB,CAAA,CAAE,GACpE,CAACqD,IAAkBC,EAAmB,IAAI3nE,EAA0B4kE,MAAwB,CAAA,CAAE,GAC9F,CAACtqC,IAAastC,EAAc,IAAI5nE,EAA2B8kE,MAAmB,CAAA,CAAE,GAChF,CAAC+C,IAAeC,EAAgB,IAAI9nE,EAA6BglE,MAAqB,CAAA,CAAE,GACxF,CAAC+C,IAAcC,EAAe,IAAIhoE,EAA4BklE,MAAoB,CAAA,CAAE,GACpF,CAAC+C,IAAYC,EAAa,IAAIloE,EAA0BslE,MAAkB,EAAE,KAAK,CAAA,GAAI,QAAQ,CAAA,GAAI,GACjG,CAAC13B,IAAYu6B,EAAa,IAAInoE;AAAA,IAClCijE,KAAkB,EAAE,WAAW,GAAG,UAAUD,EAAgB,CAAC,EAAA;AAAA,EAAE,GAE3D,CAACoF,IAAaC,EAAc,IAAIroE,EAG5B,IAAI,GACRsoE,KAAiBhoE,EAAyD,IAAI,GAC9E,CAACioE,IAAgBC,EAAiB,IAAIxoE,EAAwB,IAAI,GAClE,CAACyoE,IAAaC,EAAc,IAAI1oE,EAAwB,IAAI,GAG5D,CAAC2oE,IAAaC,EAAc,IAAI5oE,EAM5B,IAAI,GAGR,CAAC6oE,IAAqBC,EAAsB,IAAI9oE,EAA8B,IAAI,GAClF,CAAC+oE,IAAmBC,EAAoB,IAAIhpE,EAA8B,IAAI,GAC9E,CAACipE,IAAeC,EAAgB,IAAIlpE,EAAyB,CAAA,CAAE,GAC/D,CAACmpE,IAAaC,EAAc,IAAIppE,EAAS,EAAK,GAE9CqpE,KAAoB/oE,EAAuB,IAAI,GAE/C,CAACgpE,IAAsBC,EAAuB,IAAIvpE,EAAgC,IAAI,GAGtF,CAACwpE,IAAyBC,EAA0B,IAAIzpE,EAASymE,MAAmBC,GAAuB,CAAC,KAAK,EAAE,GACnHgD,KAA2BjD,MAAmB+C,IAG9CG,KAAgB,IAChBC,KAAiB3C,KAAc,KAAK,GACpCz8C,KAAS67C,MAAwBqD,KACnCA,KAA2BnD,KAAoBoD,KAAgBC,KAC/DhD,IAGEiD,KAA8B1qE,EAAY,CAAC2qE,MAAoB;AACnE,IAAAL,GAA2BK,CAAO,GAClCnD,KAA0BmD,CAAO;AAAA,EACnC,GAAG,CAACnD,EAAuB,CAAC,GAGtBoD,KAAyB5qE,EAAY,CAACsmB,MAAmC;AAC7E,IAAA8jD,GAAwB9jD,CAAO;AAAA,EACjC,GAAG,CAAA,CAAE,GAGCg6B,KAAUD;AAAA,IACdF,GAAU+I,IAAa;AAAA,MACrB,sBAAsB,EAAE,UAAU,GAAA;AAAA,IAAG,CACtC;AAAA,IACD/I,GAAUiJ,IAAa;AAAA,MACrB,sBAAsB,EAAE,OAAO,KAAK,WAAW,EAAA;AAAA,IAAE,CAClD;AAAA,IACDjJ,GAAUyG,EAAc;AAAA,EAAA,GAIpBtyB,KAAUr0B,EAAqC,MAAM;AACzD,UAAM4qE,IAAoC,CAAA;AAG1C,QAAI3G,GAAoB;AACtB,YAAM4G,IAAoBhvD,MAAkB;AAC5C,MAAA+uD,EAAK,KAAK;AAAA,QACR,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,gBAAgB;AAAA,QAChB,eAAe;AAAA,QACf,oBAAoB;AAAA,QACpB,QAAQ,CAAC,EAAE,OAAAp6C,QAAY;AAErB,cAAIq6C;AACF,mBAAO;AAGT,gBAAM/nD,IAAgBuhD,MAAkB,SACpC7zC,EAAM,yBAAA,IACNA,EAAM,qBAAA,GACJs6C,KAAiBzG,MAAkB,SACrC7zC,EAAM,0BAAA,IACNA,EAAM,sBAAA,GACJu6C,IAAgB1G,MAAkB,SACpC7zC,EAAM,oCAAA,IACNA,EAAM,gCAAA;AAEV,iBACE,gBAAAxyB;AAAA,YAACwgE;AAAA,YAAA;AAAA,cACC,SAAS17C;AAAA,cACT,eAAegoD;AAAA,cACf,UAAUC;AAAA,YAAA;AAAA,UAAA;AAAA,QAGhB;AAAA,QACA,MAAM,CAAC,EAAE,KAAAt6C,GAAK,OAAAD,QACRq6C,IAEA,gBAAA7sE;AAAA,UAAC0gE;AAAA,UAAA;AAAA,YACC,SAASjuC,EAAI,cAAA;AAAA,YACb,UAAU,MAAM;AAEdD,cAAAA,EAAM,kBAAA,GACNC,EAAI,eAAe,EAAI;AAAA,YACzB;AAAA,YACA,UAAU,CAACA,EAAI,aAAA;AAAA,UAAa;AAAA,QAAA,IAKhC,gBAAAzyB;AAAA,UAACwgE;AAAA,UAAA;AAAA,YACC,SAAS/tC,EAAI,cAAA;AAAA,YACb,eAAeA,EAAI,kBAAA;AAAA,YACnB,UAAUA,EAAI,yBAAA;AAAA,YACd,UAAU,CAACA,EAAI,aAAA;AAAA,UAAa;AAAA,QAAA;AAAA,MAGlC,CACD;AAAA,IACH;AAGA,WAAI2S,MACFwnC,EAAK,KAAK;AAAA,MACR,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf,oBAAoB;AAAA,MACpB,QAAQ,MAAM,gBAAA5sE,EAAC8hE,IAAA,EAAI,MAAM,IAAI,WAAWhiE,EAAO,eAAe;AAAA,MAC9D,MAAM,CAAC,EAAE,KAAA2yB,QAAU;AACjB,cAAMyvC,IAAWzvC,EAAI,YAAA;AACrB,eACE,gBAAAzyB,EAAC,OAAA,EAAI,WAAWF,EAAO,SACpB,UAAAoiE,IACC,gBAAAliE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW,GAAGF,EAAO,SAAS,IAAIA,EAAO,eAAe;AAAA,YACxD,SAAS,MAAM2yB,EAAI,IAAI,EAAK;AAAA,YAC5B,OAAM;AAAA,YAEN,UAAA,gBAAAzyB,EAAC+hE,IAAA,EAAO,MAAM,GAAA,CAAI;AAAA,UAAA;AAAA,QAAA,IAGpB,gBAAAhiE,EAAC,OAAA,EAAI,WAAWD,EAAO,YACrB,UAAA;AAAA,UAAA,gBAAAE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,EAAO;AAAA,cAClB,SAAS,MAAM2yB,EAAI,IAAI,KAAK;AAAA,cAC5B,OAAM;AAAA,cAEN,UAAA,gBAAAzyB,EAAC8hE,MAAI,MAAM,IAAI,OAAO,EAAE,WAAW,iBAAe,CAAG;AAAA,YAAA;AAAA,UAAA;AAAA,UAEvD,gBAAA9hE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,EAAO;AAAA,cAClB,SAAS,MAAM2yB,EAAI,IAAI,QAAQ;AAAA,cAC/B,OAAM;AAAA,cAEN,UAAA,gBAAAzyB,EAAC8hE,MAAI,MAAM,IAAI,OAAO,EAAE,WAAW,mBAAiB,CAAG;AAAA,YAAA;AAAA,UAAA;AAAA,QACzD,EAAA,CACF,EAAA,CAEJ;AAAA,MAEJ;AAAA,IAAA,CACD,IAIC4E,KAAmBE,MACrBgG,EAAK,KAAK;AAAA,MACR,IAAI;AAAA,MACJ,MAAMhG,IAAa,KAAK;AAAA,MACxB,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf,oBAAoB;AAAA,MACpB,QAAQ,MAAM;AAAA,MACd,MAAM,CAAC,EAAE,KAAAn0C,QAAU;AACjB,cAAMS,IAAQT,EAAI,OACZ0Q,IAAY1Q,EAAI,aAAA;AAEtB,eACE,gBAAAzyB;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,EAAO;AAAA,YAClB,OAAO,EAAE,aAAa8mE,IAAa,GAAG1zC,IAAQ,EAAE,OAAO,EAAA;AAAA,YAEtD,UAAAiQ,IACC,gBAAAnjC;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAWF,EAAO;AAAA,gBAClB,SAAS2yB,EAAI,yBAAA;AAAA,gBAEZ,UAAAA,EAAI,cAAA,IACH,gBAAAzyB,EAAC+E,IAAA,EAAY,MAAM,GAAA,CAAI,IAEvB,gBAAA/E,EAAC2T,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,cAAA;AAAA,YAAA,IAG1BizD,IACF,gBAAA5mE,EAAC,UAAK,WAAWF,EAAO,cAAc,IACpC;AAAA,UAAA;AAAA,QAAA;AAAA,MAGV;AAAA,IAAA,CACD,GAIH8kE,EAAY,QAAQ,CAAC/nC,MAAQ;AAE3B,UAAIvT;AACJ,MAAIuT,EAAI,eAAe,iBACrBvT,IAAW,gBACFuT,EAAI,eAAe,WAC5BvT,IAAW,WACFuT,EAAI,eAAe,eAC5BvT,IAAW,cACFuT,EAAI,eAAe,SAC5BvT,IAAW,cACFuT,EAAI,eAAe,aAC5BvT,IAAW;AAGb,YAAM0jD,IAAoC;AAAA,QACxC,IAAInwC,EAAI;AAAA,QACR,QAAQA,EAAI;AAAA,QACZ,MAAMA,EAAI,QAAQ;AAAA,QAClB,SAASA,EAAI,WAAW;AAAA,QACxB,SAASA,EAAI,WAAW;AAAA,QACxB,eAAeA,EAAI,iBAAiBioC;AAAA,QACpC,oBAAoBjoC,EAAI,mBAAmBsoC;AAAA,QAC3C,gBAAgBtoC,EAAI,kBAAkBsqC;AAAA,QACtC,eAAetqC,EAAI,iBAAiBwqC;AAAA,QACpC,gBAAgBxqC,EAAI,kBAAkBmqC;AAAA,QACtC,cAAcnqC,EAAI,gBAAgB;AAAA,QAClC,eAAeA,EAAI;AAAA,QACnB,gBAAgBA,EAAI;AAAA,QACpB,UAAAvT;AAAA,QACA,MAAM0+C,MAAqBnrC,EAAI,WAC3B,CAACnkB,OACC,gBAAA1Y;AAAA,UAACsjE;AAAA,UAAA;AAAA,YACC,OAAO5qD,GAAK,SAAA;AAAA,YACZ,KAAKA,GAAK;AAAA,YACV,QAAQA,GAAK;AAAA,YACb,QAAQuvD;AAAA,YACR,eAAeprC,EAAI;AAAA,YACnB,YAAYA,EAAI;AAAA,YAChB,eAAeA,EAAI;AAAA,YACnB,cAAcA,EAAI;AAAA,UAAA;AAAA,QAAA,IAGtBA,EAAI,OACJ,CAACnkB,OAASmkB,EAAI,KAAMnkB,EAAW,IAC/B,CAACA,OAAS;AACR,gBAAMhS,IAAQgS,GAAK,SAAA;AACnB,iBAAOhS,KAAS,OAAO,OAAOA,CAAK,IAAI;AAAA,QACzC;AAAA,QACJ,MAAM;AAAA,UACJ,OAAOm2B,EAAI;AAAA,UACX,YAAYA,EAAI;AAAA,UAChB,eAAeA,EAAI;AAAA,UACnB,iBAAiBA,EAAI;AAAA,QAAA;AAAA,MACvB;AAIF,MAAIA,EAAI,cACLmwC,EAAe,cAAcnwC,EAAI,cACzBA,EAAI,eACZmwC,EAAe,aAAanwC,EAAI,aAGnC+vC,EAAK,KAAKI,CAAM;AAAA,IAClB,CAAC,GAEMJ;AAAA,EACT,GAAG;AAAA,IACDhI;AAAA,IACAqB;AAAA,IACApoD;AAAA,IACAwoD;AAAA,IACAjhC;AAAA,IACAshC;AAAA,IACAE;AAAA,IACA9B;AAAA,IACAK;AAAA,IACAgC;AAAA,IACAE;AAAA,IACAL;AAAA,IACAgB;AAAA,IACAC;AAAA,EAAA,CACD,GAGKz1C,KAAQggB,GAAc;AAAA,IAC1B,MAAAptB;AAAA,IACA,SAAAiR;AAAA,IACA,UAAAwuC;AAAA,IACA,OAAO;AAAA,MACL,SAASG,KAAej0B;AAAA,MACxB,eAAew0B,KAAqBh3B;AAAA,MACpC,cAAc82B,KAAoB72B;AAAA,MAClC,cAAc83B,KAAoB9/B;AAAA,MAClC,UAAUsgC,MAAgBrkC;AAAA,MAC1B,UAAUwkC,MAAgBvqC;AAAA,MAC1B,kBAAkB8qC,MAAwB8C;AAAA,MAC1C,aAAa5C,MAAmBxqC;AAAA,MAChC,eAAe0qC,MAAqB6C;AAAA,MACpC,cAAc3C,MAAoB6C;AAAA,MAClC,YAAYzC,MAAkB2C;AAAA,MAC9B,YAAYhF,KAAkBr1B;AAAA,IAAA;AAAA,IAEhC,iBAAiBy0B,KAAmB+E;AAAA,IACpC,uBAAuBxE,KAAyByE;AAAA,IAChD,sBAAsB3E,KAAwB4E;AAAA,IAC9C,sBAAsB3D,KAAwB4D;AAAA,IAC9C,kBAAkBpD,KAAoBqD;AAAA,IACtC,kBAAkBlD,KAAoBmD;AAAA,IACtC,0BAA0B5C,MAA4B8C;AAAA,IACtD,qBAAqB5C,MAAuB6C;AAAA,IAC5C,uBAAuB3C,MAAyB6C;AAAA,IAChD,sBAAsB3C,MAAwB6C;AAAA,IAC9C,oBAAoBzC,MAAsB2C;AAAA,IAC1C,oBAAoBhF,KAAsBiF;AAAA,IAC1C,iBAAiBv+B,GAAA;AAAA,IACjB,mBAAmBs4B,KAAiB,CAACI,IAAgBp0B,OAAsB;AAAA,IAC3E,sBAAsBq0B,KAAmBC,MAAuB,CAACK,IAAkB12B,OAAwB;AAAA,IAC3G,uBAAuB42B,KAAoB,CAACK,IAAmBz1B,OAA0B;AAAA,IACzF,qBAAqBm2B,KAAmBM,MAAkBJ,IAAah6B,OAAwB;AAAA,IAC/F,oBAAoBo6B,KAAiBx3B,GAAA,IAAuB;AAAA,IAC5D,mBAAmBw3B,KAAiBrqC,KAAoB;AAAA,IACxD,oBAAoBwoC,IAAkB92B,GAAA,IAAuB;AAAA,IAC7D,wBAAwB82B,IAAkBx2B,GAAA,IAA2B;AAAA,IACrE,wBAAwBw2B,IAAkBl4B,GAAA,IAA2B;AAAA,IACrE,WAAW;AAAA;AAAA,MAET,OAAO,CAACxa,GAAKE,GAAUwF,GAAa80C,MAAY;AAC9C,cAAMC,KAAWnzB,GAAS,OAAOtnB,EAAI,SAASE,CAAQ,CAAC,GAAG,OAAOwF,CAAW,CAAC;AAC7E,eAAA80C,EAAQ,EAAE,UAAAC,IAAU,GACbA,GAAS;AAAA,MAClB;AAAA;AAAA,MAEA,aAAa,CAACz6C,GAAKE,GAAUwF,MAA0B;AACrD,YAAI,CAACA,KAAeA,EAAY,WAAW,EAAG,QAAO;AACrD,cAAMzxB,IAAQ,OAAO+rB,EAAI,SAASE,CAAQ,CAAC;AAC3C,eAAOwF,EAAY,SAASzxB,CAAK;AAAA,MACnC;AAAA;AAAA,MAEA,WAAW,CAAC+rB,GAAKE,GAAUwF,MAAkC;AAC3D,YAAI,CAACA,KAAgB,CAACA,EAAY,CAAC,KAAK,CAACA,EAAY,CAAC,EAAI,QAAO;AACjE,cAAMzxB,IAAQ+rB,EAAI,SAASE,CAAQ;AACnC,YAAI,CAACjsB,EAAO,QAAO;AACnB,cAAMymE,KAAY,IAAI,KAAKzmE,CAA+B,GACpD,CAAC0mE,GAAUC,EAAM,IAAIl1C;AAC3B,YAAIi1C,GAAU;AACZ,gBAAMh5D,KAAY,IAAI,KAAKg5D,CAAQ;AACnC,cAAID,KAAY/4D,GAAW,QAAO;AAAA,QACpC;AACA,YAAIi5D,IAAQ;AACV,gBAAMh5D,KAAU,IAAI,KAAKg5D,EAAM;AAE/B,cADAh5D,GAAQ,SAAS,IAAI,IAAI,IAAI,GAAG,GAC5B84D,KAAY94D,GAAS,QAAO;AAAA,QAClC;AACA,eAAO;AAAA,MACT;AAAA;AAAA,MAEA,WAAW,CAACoe,GAAKE,GAAUwF,MAAwB;AACjD,YAAI,CAACA,EAAa,QAAO;AACzB,cAAMzxB,IAAQ+rB,EAAI,SAASE,CAAQ;AACnC,eAAKjsB,IACa,IAAI,KAAKA,CAA+B,EAAE,cAAc,MAAM,GAAG,EAAE,CAAC,MACjEyxB,IAFF;AAAA,MAGrB;AAAA,IAAA;AAAA,IAEF,gBAAgButC,IACZ,CAACjzC,GAAKE,GAAUwF,GAAa80C,MAAY;AACvC,YAAMC,KAAWnzB,GAAS,OAAOtnB,EAAI,SAASE,CAAQ,CAAC,GAAG,OAAOwF,CAAW,CAAC;AAC7E,aAAA80C,EAAQ,EAAE,UAAAC,IAAU,GACbA,GAAS;AAAA,IAClB,IACA;AAAA,IACJ,oBAAoB/G,IAChB,CAAC1zC,MAAoB0zC,EAAgB1zC,EAAI,QAAQ,IACjDwzC;AAAA,IACJ,yBAAyBpoD,MAAkB,WAAW,KAAQqoD;AAAA,IAC9D,uBAAAE;AAAA,IACA,eAAAtB;AAAA,IACA,iBAAAC;AAAA,IACA,sBAAAoC;AAAA,IACA,kBAAAC;AAAA,IACA,kBAAAhiC;AAAA,IACA,gBAAAgjC;AAAA,IACA,eAAAlD;AAAA,IACA,iBAAAO;AAAA,IACA,kBAAAO;AAAA,IACA,UAAAD;AAAA,IACA,YAAAa;AAAA,IACA,iBAAkBF,KAAmBE,IACjC,CAACn0C,MAAqBm0C,KAAcA,EAAWn0C,EAAI,QAAQ,GAAG,UAAU,KAAK,IAAI,KACjF;AAAA,EAAA,CACL,GAGK,EAAE,MAAAnsB,GAAA,IAASksB,GAAM,YAAA,GAEjB86C,KAAiB7zB,GAAe;AAAA,IACpC,OAAOnzC,GAAK;AAAA,IACZ,kBAAkB,MAAM4lE;AAAA,IACxB,cAAc,MAAM/C;AAAA,IACpB,UAAA7xB;AAAA,IACA,SAAS2xB,MAAwBiD,OAAyB;AAAA,EAAA,CAC3D,GAEKqB,KAActE,KAAuBqE,GAAe,gBAAA,IAAoB,MACxEE,KAAYvE,KAAuBqE,GAAe,aAAA,IAAiB;AAGzE,EAAAtpE,EAAU,MAAM;AACd,QAAIilE,MAAwBiD,IAAsB;AAEhD,YAAMuB,IAAQ,WAAW,MAAM;AAC7B,QAAAH,GAAe,QAAA;AAAA,MACjB,GAAG,CAAC;AACJ,aAAO,MAAM,aAAaG,CAAK;AAAA,IACjC;AAAA,EAEF,GAAG,CAACxE,IAAsBiD,EAAoB,CAAC;AAG/C,QAAMwB,KAAiBl7C,GAAM,sBAAA;AACH,EAAAinB,GAAe;AAAA,IACvC,OAAOi0B,GAAe;AAAA,IACtB,kBAAkB,MAAMxB;AAAA,IACxB,cAAc,CAACj/D,MAAUygE,GAAezgE,CAAK,GAAG,aAAam8D;AAAA,IAC7D,YAAY;AAAA,IACZ,UAAA9xB;AAAA,IACA,SAAS4xB,MAA8BgD,OAAyB;AAAA,EAAA,CACjE;AAMD,QAAMyB,KAAwB5rE,EAAY,CAACmC,MAA0B;AACnE,IAAAknE,GAAkBlnE,EAAM,OAAO,EAAY;AAAA,EAC7C,GAAG,CAAA,CAAE,GAEC0pE,KAAsB7rE,EAAY,CAACmC,MAAwB;AAC/D,UAAM,EAAE,QAAAk9C,GAAQ,MAAAC,EAAA,IAASn9C;AAGzB,QAFAknE,GAAkB,IAAI,GAElB/pB,KAAQD,EAAO,OAAOC,EAAK,IAAI;AACjC,YAAMwsB,IAAW3wC,GAAY,QAAQkkB,EAAO,EAAY,GAClDxzC,KAAWsvB,GAAY,QAAQmkB,EAAK,EAAY;AAEtD,UAAIwsB,MAAa,MAAMjgE,OAAa,IAAI;AACtC,cAAMkgE,IAAWnS,GAAUz+B,IAAa2wC,GAAUjgE,EAAQ;AAC1D,QAAA48D,GAAesD,CAAQ,GACvBnG,KAAsBmG,CAAQ;AAAA,MAChC;AAAA,IACF;AAAA,EACF,GAAG,CAAC5wC,IAAayqC,EAAmB,CAAC,GAG/BoG,KAAqBhsE,EAAY,CAACmC,MAA0B;AAChE,IAAAonE,GAAepnE,EAAM,OAAO,EAAY;AAAA,EAC1C,GAAG,CAAA,CAAE,GAEC8pE,KAAmBjsE,EAAY,CAACmC,MAAwB;AAC5D,UAAM,EAAE,QAAAk9C,GAAQ,MAAAC,EAAA,IAASn9C;AAGzB,QAFAonE,GAAe,IAAI,GAEfjqB,KAAQD,EAAO,OAAOC,EAAK,IAAI;AACjC,YAAMwsB,IAAWvnE,GAAK,UAAU,OAAOmsB,EAAI,OAAO2uB,EAAO,EAAE,GACrDxzC,KAAWtH,GAAK,UAAU,OAAOmsB,EAAI,OAAO4uB,EAAK,EAAE;AAEzD,UAAIwsB,MAAa,MAAMjgE,OAAa,MAAM06D,IAAkB;AAC1D,cAAM2F,IAAUtS,GAAU,CAAC,GAAGv2C,CAAI,GAAGyoD,GAAUjgE,EAAQ;AACvD,QAAA06D,GAAiBuF,GAAUjgE,IAAUqgE,CAAO;AAAA,MAC9C;AAAA,IACF;AAAA,EACF,GAAG,CAAC3nE,IAAM8e,GAAMkjD,EAAgB,CAAC,GAG3B5qC,KAAY17B,EAAQ,MACnBumE,KACE/1C,GAAM,sBAAA,EACV,OAAO,OAAO,CAACqK,EAAI,GAAG,WAAW,GAAG,CAAC,EACrC,IAAI,CAAAA,MAAOA,EAAI,EAAE,IAHU,CAAA,GAI7B,CAAC0rC,IAAkB/1C,EAAK,CAAC,GAGtBqS,KAAS7iC,EAAQ,MAChBqmE,KACE/hE,GAAK,IAAI,CAAAmsB,MAAOA,EAAI,EAAE,IADE,CAAA,GAE9B,CAAC41C,IAAmB/hE,EAAI,CAAC,GAGtB4nE,KAAmBlsE,EAAQ,MACxBwwB,GAAM,sBAAA,EACV,OAAO,OAAO,CAACqK,EAAI,GAAG,WAAW,GAAG,CAAC,EACrC,IAAI,CAAAA,MAAOA,EAAI,EAAE,GACnB,CAACrK,EAAK,CAAC,GAGJ27C,KAAyBpsE,EAAY,CAAC8xC,GAA4BC,MAA6C;AACnH,QAAI,CAACD,KAAS,CAACC,UAAY,CAAA;AAE3B,UAAMs6B,IAAc,KAAK,IAAIv6B,EAAM,UAAUC,EAAI,QAAQ,GACnDu6B,IAAc,KAAK,IAAIx6B,EAAM,UAAUC,EAAI,QAAQ,GACnDw6B,KAAgBJ,GAAiB,QAAQr6B,EAAM,QAAQ,GACvD06B,IAAcL,GAAiB,QAAQp6B,EAAI,QAAQ,GACnD06B,KAAc,KAAK,IAAIF,IAAeC,CAAW,GACjDE,KAAc,KAAK,IAAIH,IAAeC,CAAW,GAEjD7sC,KAAwB,CAAA;AAC9B,aAASlK,KAAW42C,GAAa52C,MAAY62C,GAAa72C;AACxD,eAASk3C,KAAWF,IAAaE,MAAYD,IAAaC;AACxD,QAAAhtC,GAAM,KAAK;AAAA,UACT,UAAAlK;AAAA,UACA,UAAU02C,GAAiBQ,EAAQ;AAAA,QAAA,CACpC;AAGL,WAAOhtC;AAAA,EACT,GAAG,CAACwsC,EAAgB,CAAC,GAGfS,KAAiB5sE,EAAY,CAACy1B,GAAkB7E,MAC7Ck5C,GAAc,KAAK,CAAA/4C,MAAQA,EAAK,aAAa0E,KAAY1E,EAAK,aAAaH,CAAQ,GACzF,CAACk5C,EAAa,CAAC,GAGZ+C,KAAsB7sE,EAAY,CAACy1B,GAAkB7E,GAAkBzpB,MAAwB;AAInG,QAHI,CAAC4/D,MAAwBn2C,EAAS,WAAW,GAAG,KAGhDzpB,EAAE,WAAW,EAAG;AAGpB,IAAAA,EAAE,eAAA;AAEF,UAAMwS,IAAyB,EAAE,UAAA8b,GAAU,UAAA7E,EAAA;AAE3C,QAAIzpB,EAAE,YAAYuiE,IAAqB;AAErC,MAAAG,GAAqBlwD,CAAQ;AAC7B,YAAMgmB,KAAQysC,GAAuB1C,IAAqB/vD,CAAQ;AAClE,MAAAowD,GAAiBpqC,EAAK;AAAA,IACxB;AAEE,MAAAgqC,GAAuBhwD,CAAQ,GAC/BkwD,GAAqBlwD,CAAQ,GAC7BowD,GAAiB,CAACpwD,CAAQ,CAAC,GAC3BswD,GAAe,EAAI;AAAA,EAEvB,GAAG,CAAClD,IAAsB2C,IAAqB0C,EAAsB,CAAC,GAGhEU,KAAuB9sE,EAAY,CAACy1B,GAAkB7E,MAAqB;AAC/E,QAAI,CAACo5C,MAAe,CAACN,MAAuB94C,EAAS,WAAW,GAAG,EAAG;AAEtE,UAAMjX,IAAyB,EAAE,UAAA8b,GAAU,UAAA7E,EAAA;AAC3C,IAAAi5C,GAAqBlwD,CAAQ;AAC7B,UAAMgmB,IAAQysC,GAAuB1C,IAAqB/vD,CAAQ;AAClE,IAAAowD,GAAiBpqC,CAAK;AAAA,EACxB,GAAG,CAACqqC,IAAaN,IAAqB0C,EAAsB,CAAC;AAG7D,EAAAnqE,EAAU,MAAM;AACd,UAAM8qE,IAAgB,MAAM;AAC1B,MAAA9C,GAAe,EAAK;AAAA,IACtB;AAEA,QAAID;AACF,sBAAS,iBAAiB,WAAW+C,CAAa,GAC3C,MAAM,SAAS,oBAAoB,WAAWA,CAAa;AAAA,EAEtE,GAAG,CAAC/C,EAAW,CAAC;AAGhB,QAAMgD,KAAuBhtE,EAAY,CAACy1B,GAAkB7E,MAA6B;AACvF,UAAMF,IAAMnsB,GAAKkxB,CAAQ;AACzB,QAAI,CAAC/E,EAAK,QAAO;AACjB,UAAM/rB,IAAQ+rB,EAAI,SAASE,CAAQ;AACnC,WAAIjsB,KAAU,OAAoC,KAC9C,OAAOA,KAAU,WAAiB,KAAK,UAAUA,CAAK,IACnD,OAAOA,CAAK;AAAA,EACrB,GAAG,CAACJ,EAAI,CAAC,GAGH0oE,KAAwBjtE,EAAY,YAAY;AACpD,QAAI,CAAC8mE,GAAiB;AAEtB,QAAIoG;AAGJ,QAAIpD,GAAc,SAAS;AACzB,MAAAoD,IAAcpD;AAAA,aACLb,OAAgB,MAAM;AAE/B,YAAMr4C,IAAWu7C,GAAiBlD,GAAY,WAAW;AACzD,UAAIr4C;AACF,QAAAs8C,IAAc,CAAC,EAAE,UAAUjE,GAAY,UAAU,UAAAr4C,GAAU;AAAA;AAE3D;AAAA,IAEJ;AACE;AAIF,UAAMu8C,wBAAa,IAAA;AACnB,IAAAD,EAAY,QAAQ,CAAAn8C,MAAQ;AAC1B,YAAMq8C,KAAWD,EAAO,IAAIp8C,EAAK,QAAQ,KAAK,CAAA;AAC9C,MAAAq8C,GAAS,KAAKr8C,CAAI,GAClBo8C,EAAO,IAAIp8C,EAAK,UAAUq8C,EAAQ;AAAA,IACpC,CAAC;AAGD,UAAMC,IAAmB,CAAC,GAAGF,EAAO,KAAA,CAAM,EAAE,KAAK,CAACn1D,GAAGtL,OAAMsL,IAAItL,EAAC,GAE1D4gE,IAAuB,CAAA;AAC7B,IAAAD,EAAiB,QAAQ,CAAA53C,MAAY;AACnC,YAAM83C,KAAWJ,EAAO,IAAI13C,CAAQ,KAAK,CAAA;AAEzC,MAAA83C,GAAS,KAAK,CAACv1D,IAAGtL,OAAMy/D,GAAiB,QAAQn0D,GAAE,QAAQ,IAAIm0D,GAAiB,QAAQz/D,GAAE,QAAQ,CAAC,GACnG4gE,EAAS,KAAKC,GAAS,IAAI,CAAAx8C,OAAQi8C,GAAqBj8C,GAAK,UAAUA,GAAK,QAAQ,CAAC,CAAC;AAAA,IACxF,CAAC;AAGD,UAAM8V,KAAOymC,EAAS,IAAI,CAAA58C,MAAOA,EAAI,KAAK,GAAI,CAAC,EAAE,KAAK;AAAA,CAAI;AAE1D,QAAI;AACF,YAAM,UAAU,UAAU,UAAUmW,EAAI,GACxCogC,KAASqG,GAAUJ,CAAW;AAAA,IAChC,SAASM,GAAK;AACZ,cAAQ,MAAM,gCAAgCA,CAAG;AAAA,IACnD;AAAA,EACF,GAAG,CAAC1G,IAAiBgD,IAAeb,IAAakD,IAAkBa,IAAsB/F,EAAM,CAAC,GAG1FwG,KAAqBztE,EAAY,CAAC6mC,MAA6B;AACnE,UAAM6mC,IAAQ7mC,EAAK,MAAM,OAAO;AAEhC,WAAI6mC,EAAM,SAAS,KAAKA,EAAMA,EAAM,SAAS,CAAC,MAAM,MAClDA,EAAM,IAAA,GAEDA,EAAM,IAAI,CAAAC,MAAQA,EAAK,MAAM,GAAI,CAAC;AAAA,EAC3C,GAAG,CAAA,CAAE,GAGCC,KAA2B5tE,EAAY,YAAY;AACvD,QAAI,CAAC8mE,MAAmB,CAACE,GAAS;AAElC,QAAI6G,IAAqC;AAGzC,QAAI/D,GAAc,SAAS,GAAG;AAE5B,YAAMgE,IAAS,KAAK,IAAI,GAAGhE,GAAc,IAAI,CAAAn7D,OAAKA,GAAE,QAAQ,CAAC,GACvDo/D,IAAgBjE,GAAc,OAAO,CAAAn7D,OAAKA,GAAE,aAAam/D,CAAM,GAC/DrB,IAAc,KAAK,IAAI,GAAGsB,EAAc,IAAI,CAAAp/D,OAAKw9D,GAAiB,QAAQx9D,GAAE,QAAQ,CAAC,CAAC;AAC5F,MAAAk/D,IAAgB,EAAE,UAAUC,GAAQ,UAAU3B,GAAiBM,CAAW,EAAA;AAAA,IAC5E,WAAWxD,OAAgB,MAAM;AAC/B,YAAMr4C,IAAWu7C,GAAiBlD,GAAY,WAAW;AACzD,MAAIr4C,MACFi9C,IAAgB,EAAE,UAAU5E,GAAY,UAAU,UAAAr4C,EAAA;AAAA,IAEtD;AAEA,QAAKi9C;AAEL,UAAI;AACF,cAAMhnC,IAAO,MAAM,UAAU,UAAU,SAAA,GACjCxjB,IAAOoqD,GAAmB5mC,CAAI;AACpC,QAAIxjB,EAAK,SAAS,KAAKA,EAAK,CAAC,EAAE,SAAS,KACtC2jD,GAAQ3jD,GAAMwqD,EAAc,UAAUA,EAAc,QAAQ;AAAA,MAEhE,SAASL,GAAK;AACZ,gBAAQ,MAAM,kCAAkCA,CAAG;AAAA,MACrD;AAAA,EACF,GAAG,CAAC1G,IAAiBE,IAAS8C,IAAeb,IAAakD,IAAkBsB,EAAkB,CAAC;AAG/F,EAAAxrE,EAAU,MAAM;AACd,QAAI,CAAC6kE,GAAiB;AAEtB,UAAM1kE,IAAgB,CAAC+E,MAAqB;AAI1C,UAFI,CAAC+iE,GAAkB,SAAS,SAAS,SAAS,aAAa,KAE3D,SAAS,eAAe,YAAY,WAAW,SAAS,eAAe,YAAY,WAAY;AAGnG,YAAMntB,IADQ,UAAU,SAAS,cAAc,QAAQ,KAAK,KAAK,IACxC51C,EAAE,UAAUA,EAAE;AAEvC,MAAI41C,KAAY51C,EAAE,QAAQ,OACxBA,EAAE,eAAA,GACF8lE,GAAA,KACSlwB,KAAY51C,EAAE,QAAQ,MAC3B6/D,OACF7/D,EAAE,eAAA,GACFymE,GAAA,KAEOzmE,EAAE,QAAQ,aAEnB4iE,GAAiB,CAAA,CAAE,GACnBJ,GAAuB,IAAI,GAC3BE,GAAqB,IAAI;AAAA,IAE7B;AAEA,oBAAS,iBAAiB,WAAWznE,CAAa,GAC3C,MAAM,SAAS,oBAAoB,WAAWA,CAAa;AAAA,EACpE,GAAG,CAAC0kE,IAAiBmG,IAAuBW,IAA0B5G,EAAO,CAAC;AAG9E,QAAMgH,KAAoBhuE,EAAY,CACpCmH,GACAxJ,GACAopD,MACG;AACH,QAAI,CAAC0f,GAAmB;AAExB,IAAAt/D,EAAE,eAAA,GACFA,EAAE,gBAAA;AAEF,QAAIga;AAEJ,QAAIxjB,MAAS;AACX,MAAAwjB,IAAQulD,MAAwBnH,GAAA;AAAA,aACvB5hE,MAAS,OAAO;AAEzB,YAAMiC,IADM2E,GAAK,KAAK,QAAKiI,GAAE,aAAau6C,EAAQ,OAAO,GACjC,cAAA,KAAmB;AAC3C,MAAA5lC,IAAQwlD,MAAuBhH,GAAuB//D,CAAU;AAAA,IAClE,OAAO;AAEL,YAAMugE,IADS1vC,GAAM,UAAUs2B,EAAQ,YAAY,EAAE,GAC5B,YAAA,KAAiB;AAC1C,MAAA5lC,IAAQylD,MAA0B1G,GAA0BC,CAAQ;AAAA,IACtE;AAEA,IAAAsJ,GAAe;AAAA,MACb,GAAGtiE,EAAE;AAAA,MACL,GAAGA,EAAE;AAAA,MACL,MAAAxJ;AAAA,MACA,SAAAopD;AAAA,MACA,OAAA5lC;AAAA,IAAA,CACD;AAAA,EACH,GAAG,CAACslD,IAAmBC,IAAsBC,IAAqBC,IAAwBriE,IAAMksB,EAAK,CAAC,GAEhGw9C,KAA0BjuE,EAAY,CAACkuE,MAAqB;AAChE,QAAI,CAAC1E,GAAa;AAElB,UAAM,EAAE,SAAAziB,GAAS,MAAAppD,EAAA,IAAS6rE;AAG1B,YAAQ0E,GAAA;AAAA,MACN,KAAK;AACH,QAAInnB,EAAQ,cAAc,UACxB,UAAU,UAAU,UAAU,OAAOA,EAAQ,SAAS,CAAC;AAEzD;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,WACExiD,GAAK,KAAK,QAAKiI,GAAE,aAAau6C,EAAQ,OAAO,GACpD,eAAA;AAEP;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,WACExiD,GAAK,KAAK,QAAKiI,GAAE,aAAau6C,EAAQ,OAAO,GACpD,eAAA;AAEP;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,WACExiD,GAAK,KAAK,QAAKiI,GAAE,aAAau6C,EAAQ,OAAO,GACpD,IAAI,KAAK;AAEhB;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,WACExiD,GAAK,KAAK,QAAKiI,GAAE,aAAau6C,EAAQ,OAAO,GACpD,IAAI,QAAQ;AAEnB;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,WACExiD,GAAK,KAAK,QAAKiI,GAAE,aAAau6C,EAAQ,OAAO,GACpD,IAAI,EAAK;AAEhB;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,YACKt2B,GAAM,UAAUs2B,EAAQ,QAAQ,GACvC,cAAc,EAAK;AAE7B;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,YACKt2B,GAAM,UAAUs2B,EAAQ,QAAQ,GACvC,cAAc,EAAI;AAE5B;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,YACKt2B,GAAM,UAAUs2B,EAAQ,QAAQ,GACvC,aAAA;AAEV;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,YACKt2B,GAAM,UAAUs2B,EAAQ,QAAQ,GACvC,IAAI,MAAM;AAEpB;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,YACKt2B,GAAM,UAAUs2B,EAAQ,QAAQ,GACvC,IAAI,OAAO;AAErB;AAAA,MACF,KAAK;AACH,QAAIA,EAAQ,YACKt2B,GAAM,UAAUs2B,EAAQ,QAAQ,GACvC,iBAAiB,EAAK;AAEhC;AAAA,IAAA;AAIJ,IAAA8f,KAAsBqH,GAAUnnB,CAAO;AAAA,EACzC,GAAG,CAACyiB,IAAajlE,IAAMksB,IAAOo2C,EAAmB,CAAC,GAE5CsH,KAAmBnuE,EAAY,MAAM;AACzC,IAAAypE,GAAe,IAAI;AAAA,EACrB,GAAG,CAAA,CAAE,GAGC2E,KAAqBpuE,EAAY,CAACmH,MAA2B;AACjE,QAAI,CAAC6gE,MAA4B,CAACiB,GAAa;AAG/C,UAAMoF,IADiB59C,GAAM,sBAAA,EACO,QAC9B69C,IAAY/pE,GAAK;AAEvB,QAAI,EAAE,UAAAkxB,IAAU,aAAA84C,EAAA,IAAgBtF,IAC5BuF,KAAU;AAEd,YAAQrnE,EAAE,KAAA;AAAA,MACR,KAAK;AACH,QAAIsuB,KAAW,MACbA,MACA+4C,KAAU;AAEZ;AAAA,MACF,KAAK;AACH,QAAI/4C,KAAW64C,IAAY,MACzB74C,MACA+4C,KAAU;AAEZ;AAAA,MACF,KAAK;AACH,QAAID,IAAc,MAChBA,KACAC,KAAU;AAEZ;AAAA,MACF,KAAK;AACH,QAAID,IAAcF,IAAe,MAC/BE,KACAC,KAAU;AAEZ;AAAA,MACF,KAAK;AACH,QAAIrnE,EAAE,WACAonE,IAAc,IAChBA,MACS94C,KAAW,MACpBA,MACA84C,IAAcF,IAAe,KAG3BE,IAAcF,IAAe,IAC/BE,MACS94C,KAAW64C,IAAY,MAChC74C,MACA84C,IAAc,IAGlBC,KAAU;AACV;AAAA,MACF,KAAK;AACH,QAAIrnE,EAAE,YACJsuB,KAAW,IACX84C,IAAc,GAIhBC,KAAU;AACV;AAAA,MACF,KAAK;AACH,QAAIrnE,EAAE,YACJsuB,KAAW64C,IAAY,IACvBC,IAAcF,IAAe,GAI/BG,KAAU;AACV;AAAA,MACF,KAAK;AACH,YAAIvI,IAAmB;AAErB,gBAAMl1C,KAAOm5C,GAAkB,SAAS;AAAA,YACtC,oBAAoBz0C,EAAQ,yBAAyB84C,CAAW;AAAA,UAAA;AAElE,cAAIx9C,IAAM;AACR,kBAAM09C,KAAW19C,GAAK,cAAc,eAAe;AACnD,YAAI09C,OACFA,GAAS,cAAc,IAAI,WAAW,YAAY,EAAE,SAAS,GAAA,CAAM,CAAC,GACpED,KAAU;AAAA,UAEd;AAAA,QACF;AACA;AAAA,MACF,KAAK;AACH,YAAItK,GAAoB;AACtB,gBAAMxzC,KAAMnsB,GAAKkxB,EAAQ;AACzB,UAAI/E,MAAOA,GAAI,mBACbA,GAAI,eAAA,GACJ89C,KAAU;AAAA,QAEd;AACA;AAAA,IAAA;AAGJ,IAAIA,OACFrnE,EAAE,eAAA,GACF+hE,GAAe,EAAE,UAAAzzC,IAAU,aAAA84C,GAAa;AAAA,EAE5C,GAAG,CAACvG,IAA0BiB,IAAax4C,IAAOlsB,IAAM0hE,IAAmB/B,CAAkB,CAAC;AAG9F,EAAAjiE,EAAU,MAAM;AACd,UAAMw9C,IAAYyqB,GAAkB;AACpC,QAAI,CAACzqB,EAAW;AAGhB,UAAMivB,IAAcvF,GAAe;AACnC,QAAIuF,GAAa;AACf,YAAMC,IAAWlvB,EAAU;AAAA,QACzB,sBAAsBivB,EAAY,QAAQ,yBAAyBA,EAAY,WAAW;AAAA,MAAA;AAE5F,MAAIC,KACFA,EAAS,UAAU,OAAO5wE,EAAO,WAAW;AAAA,IAEhD;AAGA,QAAIkrE,IAAa;AACf,YAAM2F,IAAUnvB,EAAU;AAAA,QACxB,sBAAsBwpB,GAAY,QAAQ,yBAAyBA,GAAY,WAAW;AAAA,MAAA;AAE5F,MAAI2F,KACFA,EAAQ,UAAU,IAAI7wE,EAAO,WAAW;AAAA,IAE5C;AAGA,IAAAorE,GAAe,UAAUF;AAAA,EAC3B,GAAG,CAACA,EAAW,CAAC;AAGhB,QAAM4F,KAAkB7uE,EAAY,CAACO,IAAyB,CAAA,MAAO;AACnE,UAAM;AAAA,MACJ,cAAAuuE,IAAe;AAAA,MACf,gBAAAC,IAAiB;AAAA,MACjB,WAAAC,IAAY,CAAA;AAAA,MACZ,gBAAAC,KAAiB,CAAA;AAAA,IAAC,IAChB1uE,GAGE2uE,IAAgBz+C,GACnB,kBAAA,EACA;AAAA,MAAO,CAACqK,OACPA,GAAI,OAAO,aACXA,GAAI,OAAO,aACXA,GAAI,OAAO,iBACX,CAACm0C,GAAe,SAASn0C,GAAI,EAAE;AAAA,IAAA,GAI7B9F,KAAUk6C,EAAc,IAAI,CAACp0C,OAAQk0C,EAAUl0C,GAAI,EAAE,KAAKA,GAAI,EAAE,GAQhEzX,MALeyrD,KAAgB,OAAO,KAAKr+C,GAAM,WAAW,YAAY,EAAE,SAAS,IACrFA,GAAM,oBAAA,EAAsB,OAC5BA,GAAM,sBAAsB,MAGN;AAAA,MAAI,CAACC,OAC7Bw+C,EAAc,IAAI,CAACp0C,OACHpK,GAAI,SAASoK,GAAI,EAAE,CAElC;AAAA,IAAA;AAGH,WAAO,EAAE,SAAA9F,IAAS,MAAA3R,GAAAA;AAAAA,EACpB,GAAG,CAACoN,EAAK,CAAC,GAGJ0+C,KAAenvE,EAAY,CAACovE,GAAiBC,GAAkBC,MAAqB;AACxF,UAAMC,IAAO,IAAI,KAAK,CAACH,CAAO,GAAG,EAAE,MAAME,GAAU,GAC7CE,KAAM,IAAI,gBAAgBD,CAAI,GAC9Bv3D,IAAI,SAAS,cAAc,GAAG;AACpC,IAAAA,EAAE,OAAOw3D,IACTx3D,EAAE,WAAWq3D,GACbr3D,EAAE,MAAA,GACF,IAAI,gBAAgBw3D,EAAG;AAAA,EACzB,GAAG,CAAA,CAAE,GAGCC,KAAYzvE,EAAY,CAAC2E,MAA2B;AACxD,UAAMurB,IAAMvrB,KAAU,OAA8B,KAAK,OAAOA,CAAK;AAErE,WAAIurB,EAAI,SAAS,GAAG,KAAKA,EAAI,SAAS,GAAG,KAAKA,EAAI,SAAS;AAAA,CAAI,KAAKA,EAAI,SAAS,IAAI,IAC5E,IAAIA,EAAI,QAAQ,MAAM,IAAI,CAAC,MAE7BA;AAAA,EACT,GAAG,CAAA,CAAE;AAGL,EAAAw/C,GAAoB7xE,IAAK,OAAO;AAAA,IAC9B,UAAU,MAAM4yB;AAAA,IAChB,iBAAiB,MAAMA,GAAM,sBAAsB,KAAK,IAAI,CAACC,MAAQA,EAAI,QAAQ;AAAA,IACjF,gBAAgB,MAAMD,GAAM,kBAAA;AAAA,IAC5B,cAAc,MAAM;AAClB,MAAAA,GAAM,mBAAA,GACNA,GAAM,kBAAA;AAAA,IACR;AAAA,IACA,cAAc,MAAMA,GAAM,aAAA;AAAA;AAAA,IAG1B,eAAe,CAAClwB,MAA4BsuE,GAAgBtuE,KAAW,CAAA,CAAE;AAAA;AAAA,IAGzE,aAAa,CAAC8uE,IAAW,cAAc9uE,MAA4B;AACjE,YAAM,EAAE,SAAAy0B,GAAS,MAAA3R,EAAAA,IAASwrD,GAAgBtuE,KAAW,EAAE,GACjDwuE,KAAiBxuE,GAAS,mBAAmB,IAE7CovE,IAAoB,CAAA;AAC1B,MAAIZ,MACFY,EAAQ,KAAK36C,EAAQ,IAAI,CAAA1C,OAAKm9C,GAAUn9C,EAAC,CAAC,EAAE,KAAK,GAAG,CAAC,GAEvDjP,EAAK,QAAQ,CAAAqN,OAAO;AAClB,QAAAi/C,EAAQ,KAAKj/C,GAAI,IAAI,CAAAK,OAAQ0+C,GAAU1+C,EAAI,CAAC,EAAE,KAAK,GAAG,CAAC;AAAA,MACzD,CAAC,GAEDo+C,GAAaQ,EAAQ,KAAK;AAAA,CAAI,GAAGN,GAAU,wBAAwB;AAAA,IACrE;AAAA;AAAA,IAGA,aAAa,CAACA,IAAW,cAAc9uE,MAA4B;AACjE,YAAM,EAAE,SAAAy0B,GAAS,MAAA3R,EAAAA,IAASwrD,GAAgBtuE,KAAW,EAAE,GACjDwuE,KAAiBxuE,GAAS,mBAAmB,IAE7CqvE,IAAoB,CAAA;AAC1B,MAAIb,MACFa,EAAQ,KAAK56C,EAAQ,KAAK,GAAI,CAAC,GAEjC3R,EAAK,QAAQ,CAAAqN,OAAO;AAClB,QAAAk/C,EAAQ,KAAKl/C,GAAI;AAAA,UAAI,CAAAK,OACnBA,MAAS,OAA6B,KAAK,OAAOA,EAAI,EAAE,QAAQ,OAAO,GAAG;AAAA,QAAA,EAC1E,KAAK,GAAI,CAAC;AAAA,MACd,CAAC,GAEDo+C,GAAaS,EAAQ,KAAK;AAAA,CAAI,GAAGP,GAAU,yCAAyC;AAAA,IACtF;AAAA;AAAA,IAGA,cAAc,CAACA,IAAW,eAAe9uE,MAA4B;AACnE,YAAM,EAAE,SAAAy0B,GAAS,MAAA3R,EAAAA,IAASwrD,GAAgBtuE,KAAW,EAAE,GAGjDsvE,KAAWxsD,EAAK,IAAI,CAAAqN,MAAO;AAC/B,cAAMqP,KAA+B,CAAA;AACrC,eAAA/K,EAAQ,QAAQ,CAAC7C,IAAQjnB,OAAU;AACjC,UAAA60B,GAAI5N,EAAM,IAAIzB,EAAIxlB,EAAK;AAAA,QACzB,CAAC,GACM60B;AAAA,MACT,CAAC;AAED,MAAAovC,GAAa,KAAK,UAAUU,IAAU,MAAM,CAAC,GAAGR,GAAU,gCAAgC;AAAA,IAC5F;AAAA;AAAA,IAGA,eAAe,OAAOA,IAAW,eAAe9uE,MAA4B;AAC1E,YAAM,EAAE,SAAAy0B,GAAS,MAAA3R,EAAAA,IAASwrD,GAAgBtuE,KAAW,EAAE,GACjDwuE,KAAiBxuE,GAAS,mBAAmB;AAEnD,UAAI;AAEF,cAAMuvE,IAAO,MAAM;AAAA;AAAA,UAA0B;AAAA,QAAA,GAUvCC,KAAsB,CAAA;AAC5B,QAAIhB,MACFgB,GAAO,KAAK/6C,CAAO,GAErB+6C,GAAO,KAAK,GAAG1sD,CAAI;AAGnB,cAAM2sD,KAAKF,EAAK,MAAM,aAAaC,EAAM,GAGnCE,KAAKH,EAAK,MAAM,SAAA;AACtB,QAAAA,EAAK,MAAM,kBAAkBG,IAAID,IAAI,MAAM,GAG3CF,EAAK,UAAUG,IAAIZ,CAAQ;AAAA,MAC7B,SAAS7B,GAAK;AACZ,cAAM/uE,KAAe+uE,aAAe,QAAQA,EAAI,UAAU,OAAOA,CAAG;AAKpE,cAJyB/uE,GAAa,SAAS,oBAAoB,KACzCA,GAAa,SAAS,mBAAmB,KACzCA,GAAa,SAAS,gBAAgB,KAG9D,QAAQ,MAAM,oDAAoD,GAC5D,IAAI,MAAM,uEAAuE,MAGzF,QAAQ,MAAM,wBAAwB+uE,CAAG,GACnC,IAAI,MAAM,wBAAwB/uE,EAAY,EAAE;AAAA,MACxD;AAAA,IACF;AAAA,IAEA,aAAa,CAACyM,MAAkB;AAC9B,MAAIg8D,KACFqE,GAAe,cAAcrgE,CAAK,IACzBg/D,GAAkB,WACfA,GAAkB,QAAQ,cAAc,oBAAoBh/D,CAAK,IAAI,GAC5E,eAAe,EAAE,UAAU,UAAU,OAAO,UAAU;AAAA,IAE/D;AAAA,IACA,iBAAiB,MAAM;AACrB,MAAA+hE,GAAA;AAAA,IACF;AAAA,IACA,kBAAkB,MAAMnD;AAAA,IACxB,oBAAoB,MAAM;AACxB,MAAAC,GAAiB,CAAA,CAAE,GACnBJ,GAAuB,IAAI,GAC3BE,GAAqB,IAAI;AAAA,IAC3B;AAAA,EAAA,EACA;AAGF,QAAMqG,KAAmBlwE,EAAY,CAACmyB,MAAmC;AACvE,UAAM8W,IAAU9W,EAAO,OAAO,WAAA,GACxBg+C,IAASh+C,EAAO,OAAO,YAAA,GACvBi+C,IAAYj+C,EAAO,OAAO,aAAA,GAC1Bk+C,KAASl+C,EAAO,OAAO,UAAA,GACvBguC,IAAWhuC,EAAO,OAAO,YAAA,GACzBoL,KAAYpL,EAAO,OAAO,aAAA,GAC1B9E,KAAS8E,EAAO,OAAO,UAAU,MAAc,SAAS;AAE9D,WACE,gBAAAn0B;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,SAASm0B,EAAO;AAAA,QAChB,WAAW,GAAGp0B,EAAO,EAAE,IAAIA,EAAO,QAAQsvB,GAAM,OAAO,CAAC,EAAE,gBAAgBA,GAAM,MAAM,CAAC,CAAC,EAAE,CAAC,IACzF8yC,IAAWpiE,EAAO,SAAS,OAAOoiE,CAAQ,EAAE,OAAO,CAAC,EAAE,YAAA,IAAgB,OAAOA,CAAQ,EAAE,MAAM,CAAC,CAAC,EAAE,IAAI,EACvG;AAAA,QACA,OAAO;AAAA,UACL,OAAOhuC,EAAO,QAAA;AAAA,UACd,MAAMguC,MAAa,SAAShuC,EAAO,SAAS,MAAM,IAAI;AAAA,UACtD,OAAOguC,MAAa,UAAUhuC,EAAO,SAAS,OAAO,IAAI;AAAA,QAAA;AAAA,QAE3D,eAAe,CAAChrB,OAAM6mE,GAAkB7mE,IAAG,UAAU,EAAE,MAAM,UAAU,UAAUgrB,EAAO,GAAA,CAAI;AAAA,QAE3F,UAAA;AAAA,UAAAA,EAAO,gBAAgB,OACtB,gBAAAn0B,EAAC,OAAA,EAAI,WAAWD,EAAO,WACrB,UAAA;AAAA,YAAA,gBAAAC;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAW,GAAGD,EAAO,OAAO,IAAIkrC,IAAUlrC,EAAO,WAAW,EAAE;AAAA,gBAC9D,SAASkrC,IAAU9W,EAAO,OAAO,4BAA4B;AAAA,gBAE5D,UAAA;AAAA,kBAAA+d,GAAW/d,EAAO,OAAO,UAAU,QAAQA,EAAO,YAAY;AAAA,kBAC9D8W,KACC,gBAAAhrC,EAAC,QAAA,EAAK,WAAWF,EAAO,UACrB,UAAAoyE,MAAW,QACV,gBAAAlyE,EAACmiE,IAAA,EAAU,MAAM,IAAI,IACnB+P,MAAW,SACb,gBAAAlyE,EAAC+E,IAAA,EAAY,MAAM,IAAI,IAEvB,gBAAA/E,EAACqyE,IAAA,EAAe,MAAM,GAAA,CAAI,EAAA,CAE9B;AAAA,gBAAA;AAAA,cAAA;AAAA,YAAA;AAAA,YAGHD,MAAU/K,MACT,gBAAArnE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAWF,EAAO;AAAA,gBAClB,SAAS,MAAM;AACb,kBAAIoiE,IACFhuC,EAAO,OAAO,IAAI,EAAK,IAEvBA,EAAO,OAAO,IAAI,MAAM;AAAA,gBAE5B;AAAA,gBACA,OAAOguC,IAAW,iBAAiB;AAAA,gBAElC,UAAAA,sBAAYH,IAAA,EAAO,MAAM,IAAI,IAAK,gBAAA/hE,EAAC8hE,IAAA,EAAI,MAAM,GAAA,CAAI;AAAA,cAAA;AAAA,YAAA;AAAA,YAGrDxiC,MACC,gBAAAt/B;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAW,GAAGF,EAAO,OAAO,IAC1Bo0B,EAAO,OAAO,cAAA,IAAkBp0B,EAAO,WAAW,EACpD;AAAA,gBACA,aAAao0B,EAAO,iBAAA;AAAA,gBACpB,cAAcA,EAAO,iBAAA;AAAA,cAAiB;AAAA,YAAA;AAAA,UACxC,GAEJ;AAAA,UAEDi+C,KAAahN,KACZ,gBAAAnlE,EAAC,OAAA,EAAI,WAAWF,EAAO,UACrB,UAAA,gBAAAE,EAAC+iE,IAAA,EAAa,QAAQ7uC,EAAO,QAAQ,OAAA1B,IAAc,EAAA,CACrD;AAAA,QAAA;AAAA,MAAA;AAAA,MA5DG0B,EAAO;AAAA,IAAA;AAAA,EAgElB,GAAG,CAAC1B,IAAO60C,IAAqBlC,CAAe,CAAC,GAG1CmN,KAAYvwE,EAAY,CAAC0wB,GAAiB8/C,MAAgE;AAC9G,UAAM5wE,IAAa8wB,EAAI,cAAA,GACjBvL,IAAauL,EAAI,cAAA,GACjB+/C,KAAY//C,EAAI,aAAA,GAChBggD,IAAchgD,EAAI,YAAA,GAElBigD,KACJ,gBAAA3yE,EAAAwB,IAAA,EAEG,UAAA;AAAA,MAAA8mE,MACC,gBAAAroE,EAACghE,IAAA,EAAc,OAAOvuC,EAAI,IAAI;AAAA,MAE/BA,EAAI,gBAAA,EAAkB,IAAI,CAACK,IAAMnE,OAAc;AAC9C,cAAMuzC,KAAWpvC,GAAK,OAAO,YAAA,GACvB1D,KAAS0D,GAAK,OAAO,UAAU,MAAc,SAAS,QAEtD6/C,KAAgB7J,MAAwB6F,GAAel8C,EAAI,OAAOK,GAAK,OAAO,EAAE;AAEtF,eACE,gBAAA9yB;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,WAAW,GAAGF,EAAO,EAAE,IAAIA,EAAO,QAAQsvB,GAAM,OAAO,CAAC,EAAE,YAAA,IAAgBA,GAAM,MAAM,CAAC,CAAC,EAAE,CAAC,IACzF8yC,KAAWpiE,EAAO,SAAS,OAAOoiE,EAAQ,EAAE,OAAO,CAAC,EAAE,YAAA,IAAgB,OAAOA,EAAQ,EAAE,MAAM,CAAC,CAAC,EAAE,IAAI,EACvG,IAAIyQ,KAAgB7yE,EAAO,eAAe,EAAE;AAAA,YAC5C,OAAO;AAAA,cACL,OAAOgzB,GAAK,OAAO,QAAA;AAAA,cACnB,MAAMovC,OAAa,SAASpvC,GAAK,OAAO,SAAS,MAAM,IAAI;AAAA,cAC3D,OAAOovC,OAAa,UAAUpvC,GAAK,OAAO,SAAS,OAAO,IAAI;AAAA,YAAA;AAAA,YAEhE,kBAAgBL,EAAI;AAAA,YACpB,qBAAmB9D;AAAA,YACnB,eAAe,CAACzlB,OAAM6mE,GAAkB7mE,IAAG,QAAQ;AAAA,cACjD,MAAM;AAAA,cACN,SAASupB,EAAI;AAAA,cACb,UAAUA,EAAI;AAAA,cACd,UAAUK,GAAK,OAAO;AAAA,cACtB,WAAWA,GAAK,SAAA;AAAA,YAAS,CAC1B;AAAA,YACD,aAAa,CAAC5pB,OAAM0lE,GAAoBn8C,EAAI,OAAOK,GAAK,OAAO,IAAI5pB,EAAC;AAAA,YACpE,cAAc,MAAM2lE,GAAqBp8C,EAAI,OAAOK,GAAK,OAAO,EAAE;AAAA,YAEjE,UAAAA,GAAK,iBACJ,gBAAA/yB;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAWD,EAAO;AAAA,gBAClB,SAAS2yB,EAAI,yBAAA;AAAA,gBAEZ,UAAA;AAAA,kBAAAA,EAAI,cAAA,IAAkB,gBAAAzyB,EAAC+E,IAAA,EAAY,MAAM,IAAI,IAAK,gBAAA/E,EAAC2T,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,kBAC1Es+B,GAAWnf,GAAK,OAAO,UAAU,MAAMA,GAAK,YAAY;AAAA,kBAAE;AAAA,kBAAGL,EAAI,QAAQ;AAAA,kBAAO;AAAA,gBAAA;AAAA,cAAA;AAAA,YAAA,IAEjFK,GAAK,gBAAA,IACPmf;AAAA,cACEnf,GAAK,OAAO,UAAU,kBAAkBA,GAAK,OAAO,UAAU;AAAA,cAC9DA,GAAK,WAAA;AAAA,YAAW,IAEhBA,GAAK,qBAAqB,OAC5Bmf,GAAWnf,GAAK,OAAO,UAAU,MAAMA,GAAK,WAAA,CAAY;AAAA,UAAA;AAAA,UAnCrDA,GAAK;AAAA,QAAA;AAAA,MAuChB,CAAC;AAAA,IAAA,GACH;AAIF,WAAIu1C,KAEA,gBAAAtoE,EAACd,GAAM,UAAN,EACC,UAAA;AAAA,MAAA,gBAAAe;AAAA,QAAC+gE;AAAA,QAAA;AAAA,UACC,IAAItuC,EAAI;AAAA,UACR,WAAW,GAAG3yB,EAAO,EAAE,IAAIA,EAAO,GAAG,IAAI6B,IAAa7B,EAAO,WAAW,EAAE,IACxE0yE,KAAY1yE,EAAO,UAAU,EAC/B,IAAIqwB,KAAUrwB,EAAO,UAAU,EAAE,IAAI2tB,KAAY3tB,EAAO,YAAY,EAAE,IACpE2yE,IAAc3yE,EAAO,YAAY,EACnC,IAAI2yE,MAAgB,QAAQ3yE,EAAO,eAAe,EAAE,IAAI2yE,MAAgB,WAAW3yE,EAAO,kBAAkB,EAAE;AAAA,UAC9G,kBAAgB2yB,EAAI;AAAA,UACpB,SAAS,MAAM+zC,IAAa/zC,EAAI,QAAQ;AAAA,UACxC,eAAe,MAAMg0C,IAAmBh0C,EAAI,QAAQ;AAAA,UACpD,OACE8/C,IACI;AAAA,YACE,QAAQ,GAAGA,EAAW,IAAI;AAAA,YAC1B,WAAW,cAAcA,EAAW,KAAK;AAAA,YACzC,UAAU;AAAA,YACV,KAAK;AAAA,YACL,MAAM;AAAA,YACN,OAAO;AAAA,YACP,SAAS;AAAA,UAAA,IAEX;AAAA,UAGL,UAAAG;AAAA,QAAA;AAAA,MAAA;AAAA,MAGFxrD,KAAcy/C,KAAqB,CAAC6L,wBAClC,MAAA,EAAG,WAAW1yE,EAAO,aACpB,UAAA,gBAAAE,EAAC,MAAA,EAAG,SAASyyB,EAAI,gBAAA,EAAkB,UAAU41C,KAAoB,IAAI,IAClE,UAAA1B,EAAkBl0C,EAAI,QAAQ,EAAA,CACjC,EAAA,CACF;AAAA,IAAA,EAAA,GAjCiBA,EAAI,EAmCzB,IAKF,gBAAA1yB,EAACd,GAAM,UAAN,EACC,UAAA;AAAA,MAAA,gBAAAe;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAW,GAAGF,EAAO,EAAE,IAAIA,EAAO,GAAG,IAAI6B,IAAa7B,EAAO,WAAW,EAAE,IACxE0yE,KAAY1yE,EAAO,UAAU,EAC/B,IAAIqwB,KAAUrwB,EAAO,UAAU,EAAE,IAAI2tB,KAAY3tB,EAAO,YAAY,EAAE,IACpE2yE,IAAc3yE,EAAO,YAAY,EACnC,IAAI2yE,MAAgB,QAAQ3yE,EAAO,eAAe,EAAE,IAAI2yE,MAAgB,WAAW3yE,EAAO,kBAAkB,EAAE;AAAA,UAC9G,kBAAgB2yB,EAAI;AAAA,UACpB,SAAS,MAAM+zC,IAAa/zC,EAAI,QAAQ;AAAA,UACxC,eAAe,MAAMg0C,IAAmBh0C,EAAI,QAAQ;AAAA,UACpD,OACE8/C,IACI;AAAA,YACE,QAAQ,GAAGA,EAAW,IAAI;AAAA,YAC1B,WAAW,cAAcA,EAAW,KAAK;AAAA,YACzC,UAAU;AAAA,YACV,KAAK;AAAA,YACL,MAAM;AAAA,YACN,OAAO;AAAA,YACP,SAAS;AAAA,UAAA,IAEX;AAAA,UAGL,YAAI,gBAAA,EAAkB,IAAI,CAACz/C,IAAMnE,OAAc;AAC9C,kBAAMuzC,KAAWpvC,GAAK,OAAO,YAAA,GACvB1D,KAAS0D,GAAK,OAAO,UAAU,MAAc,SAAS,QAEtD6/C,KAAgB7J,MAAwB6F,GAAel8C,EAAI,OAAOK,GAAK,OAAO,EAAE;AAEtF,mBACE,gBAAA9yB;AAAA,cAAC;AAAA,cAAA;AAAA,gBAEC,WAAW,GAAGF,EAAO,EAAE,IAAIA,EAAO,QAAQsvB,GAAM,OAAO,CAAC,EAAE,YAAA,IAAgBA,GAAM,MAAM,CAAC,CAAC,EAAE,CAAC,IACzF8yC,KAAWpiE,EAAO,SAAS,OAAOoiE,EAAQ,EAAE,OAAO,CAAC,EAAE,YAAA,IAAgB,OAAOA,EAAQ,EAAE,MAAM,CAAC,CAAC,EAAE,IAAI,EACvG,IAAIyQ,KAAgB7yE,EAAO,eAAe,EAAE;AAAA,gBAC5C,OAAO;AAAA,kBACL,OAAOgzB,GAAK,OAAO,QAAA;AAAA,kBACnB,MAAMovC,OAAa,SAASpvC,GAAK,OAAO,SAAS,MAAM,IAAI;AAAA,kBAC3D,OAAOovC,OAAa,UAAUpvC,GAAK,OAAO,SAAS,OAAO,IAAI;AAAA,gBAAA;AAAA,gBAEhE,kBAAgBL,EAAI;AAAA,gBACpB,qBAAmB9D;AAAA,gBACnB,aAAa,CAACzlB,OAAM0lE,GAAoBn8C,EAAI,OAAOK,GAAK,OAAO,IAAI5pB,EAAC;AAAA,gBACpE,cAAc,MAAM2lE,GAAqBp8C,EAAI,OAAOK,GAAK,OAAO,EAAE;AAAA,gBAEjE,UAAAA,GAAK,iBACJ,gBAAA/yB;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,WAAWD,EAAO;AAAA,oBAClB,SAAS2yB,EAAI,yBAAA;AAAA,oBAEZ,UAAA;AAAA,sBAAAA,EAAI,cAAA,IAAkB,gBAAAzyB,EAAC+E,IAAA,EAAY,MAAM,IAAI,IAAK,gBAAA/E,EAAC2T,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,sBAC1Es+B,GAAWnf,GAAK,OAAO,UAAU,MAAMA,GAAK,YAAY;AAAA,sBAAE;AAAA,sBAAGL,EAAI,QAAQ;AAAA,sBAAO;AAAA,oBAAA;AAAA,kBAAA;AAAA,gBAAA,IAEjFK,GAAK,gBAAA,IACPmf;AAAA,kBACEnf,GAAK,OAAO,UAAU,kBAAkBA,GAAK,OAAO,UAAU;AAAA,kBAC9DA,GAAK,WAAA;AAAA,gBAAW,IAEhBA,GAAK,qBAAqB,OAC5Bmf,GAAWnf,GAAK,OAAO,UAAU,MAAMA,GAAK,WAAA,CAAY;AAAA,cAAA;AAAA,cA5BrDA,GAAK;AAAA,YAAA;AAAA,UAgChB,CAAC;AAAA,QAAA;AAAA,MAAA;AAAA,MAEF5L,KAAcy/C,KACb,gBAAA3mE,EAAC,MAAA,EAAG,WAAWF,EAAO,aACpB,4BAAC,MAAA,EAAG,SAAS2yB,EAAI,gBAAA,EAAkB,QAAQ,WAAW3yB,EAAO,cAC1D,UAAA6mE,EAAkBl0C,EAAI,QAAQ,EAAA,CACjC,EAAA,CACF;AAAA,IAAA,EAAA,GAvEiBA,EAAI,EAyEzB;AAAA,EAEJ,GAAG,CAAC+zC,GAAYC,GAAkBt2C,IAAS1C,IAAWk5C,GAAmBmC,IAAsB6F,IAAgBC,IAAqBC,IAAsBxG,IAAmB0H,EAAiB,CAAC,GAGzL6C,KAAmB7wE,EAAY,MAAM;AACzC,UAAMoiC,IAAY3R,GAAM,aAAA,GAClBkR,IAAYlR,GAAM,SAAA,EAAW,WAAW,WACxCuR,IAAWvR,GAAM,SAAA,EAAW,WAAW,UACvC69C,IAAYrK,IAAoBD,KAAY,IAAKvzC,GAAM,oBAAA,EAAsB,KAAK,QAClFqhB,KAAQnQ,IAAYK,IAAW,GAC/B+P,IAAM,KAAK,KAAKpQ,IAAY,KAAKK,GAAUssC,CAAS;AAE1D,WACE,gBAAAtwE,EAAC,OAAA,EAAI,WAAWD,EAAO,YACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,EAAO,gBAAgB,UAAA;AAAA,QAAA;AAAA,QAC5B+zC;AAAA,QAAM;AAAA,QAAKC;AAAA,QAAI;AAAA,QAAKu8B;AAAA,QAAU;AAAA,QACtCpK,KAAsB,OAAO,KAAKK,KAAoB9/B,EAAY,EAAE,SAAS,KAC5E,gBAAAzmC,EAAC,QAAA,EAAK,WAAWD,EAAO,eAAe,UAAA;AAAA,UAAA;AAAA,UACnC,OAAO,KAAKwmE,KAAoB9/B,EAAY,EAAE;AAAA,UAAO;AAAA,QAAA,EAAA,CACzD;AAAA,MAAA,GAEJ;AAAA,MACA,gBAAAzmC,EAAC,OAAA,EAAI,WAAWD,EAAO,oBACrB,UAAA;AAAA,QAAA,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO+jC;AAAA,YACP,UAAU,CAAC76B,OAAMspB,GAAM,YAAY,OAAOtpB,GAAE,OAAO,KAAK,CAAC;AAAA,YACzD,WAAWpJ,EAAO;AAAA,YAEjB,YAAgB,IAAI,CAACX,OACpB,gBAAAY,EAAC,UAAA,EAAkB,OAAOZ,IACvB,UAAA;AAAA,cAAAA;AAAA,cAAK;AAAA,YAAA,EAAA,GADKA,EAEb,CACD;AAAA,UAAA;AAAA,QAAA;AAAA,QAEH,gBAAAY,EAAC,OAAA,EAAI,WAAWD,EAAO,mBACrB,UAAA;AAAA,UAAA,gBAAAE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,EAAO;AAAA,cAClB,SAAS,MAAM0yB,GAAM,aAAa,CAAC;AAAA,cACnC,UAAU,CAACA,GAAM,mBAAA;AAAA,cAEjB,UAAA,gBAAAxyB,EAACklB,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,YAAA;AAAA,UAAA;AAAA,UAE1B,gBAAAllB;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,EAAO;AAAA,cAClB,SAAS,MAAM0yB,GAAM,aAAA;AAAA,cACrB,UAAU,CAACA,GAAM,mBAAA;AAAA,cAEjB,UAAA,gBAAAxyB,EAAC0T,IAAA,EAAY,MAAM,GAAA,CAAI;AAAA,YAAA;AAAA,UAAA;AAAA,UAEzB,gBAAA3T,EAAC,QAAA,EAAK,WAAWD,EAAO,UAAU,UAAA;AAAA,YAAA;AAAA,YAC1B4jC,IAAY;AAAA,YAAE;AAAA,YAAKS;AAAA,UAAA,GAC3B;AAAA,UACA,gBAAAnkC;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,EAAO;AAAA,cAClB,SAAS,MAAM0yB,GAAM,SAAA;AAAA,cACrB,UAAU,CAACA,GAAM,eAAA;AAAA,cAEjB,UAAA,gBAAAxyB,EAAC2T,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,YAAA;AAAA,UAAA;AAAA,UAE1B,gBAAA3T;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,EAAO;AAAA,cAClB,SAAS,MAAM0yB,GAAM,aAAa2R,IAAY,CAAC;AAAA,cAC/C,UAAU,CAAC3R,GAAM,eAAA;AAAA,cAEjB,UAAA,gBAAAxyB,EAACilB,IAAA,EAAc,MAAM,GAAA,CAAI;AAAA,YAAA;AAAA,UAAA;AAAA,QAC3B,EAAA,CACF;AAAA,MAAA,EAAA,CACF;AAAA,IAAA,GACF;AAAA,EAEJ,GAAG,CAACuN,IAAOwzC,GAAkBD,GAAUH,GAAiBK,GAAoBK,GAAkB9/B,EAAY,CAAC,GAGrGqsC,KAAiB7wE,EAAQ,MACtB;AAAA,IACLlC,EAAO;AAAA,IACP2pE,MAAY3pE,EAAO;AAAA,IACnB2P,MAAW3P,EAAO;AAAA,IAClBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GACV,CAACiqE,IAAUh6D,IAASjQ,EAAS,CAAC;AAEjC,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAW8yE,IAAgB,OAAA3jE,IAE7B,UAAA;AAAA,IAAA26D,MACC,gBAAA9pE,EAAC,OAAA,EAAI,WAAWD,EAAO,SACpB,UAAA;AAAA,MAAAslE,KACC,gBAAArlE,EAAC,OAAA,EAAI,WAAWD,EAAO,cACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC+kB,IAAA,EAAO,MAAM,IAAI,WAAWjlB,EAAO,YAAY;AAAA,QAChD,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,OAAOqlE,KAAoB72B;AAAA,YAC3B,UAAU,CAACtlC,OAAOo8D,KAAwB4E,IAAiBhhE,EAAE,OAAO,KAAK;AAAA,YACzE,aAAY;AAAA,YACZ,WAAWpJ,EAAO;AAAA,UAAA;AAAA,QAAA;AAAA,SAElBulE,KAAoB72B,OACpB,gBAAAxuC;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,EAAO;AAAA,YAClB,SAAS,OAAOwlE,KAAwB4E,IAAiB,EAAE;AAAA,YAE3D,UAAA,gBAAAlqE,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI;AAAA,UAAA;AAAA,QAAA;AAAA,MACf,GAEJ;AAAA,MAEF,gBAAArK,EAAC,OAAA,EAAI,WAAWD,EAAO,gBACpB,UAAA;AAAA,QAAAgqE;AAAA,QACAjD,MAAoBH,KAAmBE,MACtC,gBAAA7mE,EAAAwB,IAAA,EACE,UAAA;AAAA,UAAA,gBAAAvB;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,EAAO;AAAA,cAClB,SAAS,MAAM0yB,GAAM,sBAAsB,EAAI;AAAA,cAC/C,OAAM;AAAA,cAEN,UAAA,gBAAAxyB,EAAC6hE,IAAA,EAAO,MAAM,GAAA,CAAI;AAAA,YAAA;AAAA,UAAA;AAAA,UAEpB,gBAAA7hE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,EAAO;AAAA,cAClB,SAAS,MAAM0yB,GAAM,sBAAsB,EAAK;AAAA,cAChD,OAAM;AAAA,cAEN,UAAA,gBAAAxyB,EAAC8yE,IAAA,EAAO,MAAM,GAAA,CAAI;AAAA,YAAA;AAAA,UAAA;AAAA,QACpB,GACF;AAAA,QAED7J,MAAwBK,GAAuB,SAAS,uBACtD,OAAA,EAAI,WAAWxpE,EAAO,yBACrB,UAAA;AAAA,UAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,EAAO,sBAAsB,UAAA,SAAK;AAAA,UACnD,gBAAAE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAOssE;AAAA,cACP,UAAU,CAACpjE,MAAMujE,GAA4B,OAAOvjE,EAAE,OAAO,KAAK,CAAC;AAAA,cACnE,WAAWpJ,EAAO;AAAA,cAEjB,UAAAwpE,GAAuB,IAAI,CAACnqE,MAC3B,gBAAAa,EAAC,YAAkB,OAAOb,GACvB,UAAAA,EAAA,GADUA,CAEb,CACD;AAAA,YAAA;AAAA,UAAA;AAAA,QACH,GACF;AAAA,QAEDooE,MAA0B,gBAAAvnE,EAACukE,IAAA,EAAyB,OAAA/xC,GAAA,CAAc;AAAA,MAAA,EAAA,CACrE;AAAA,IAAA,GACF;AAAA,IAIF,gBAAAzyB;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAKkpE,KAAuB,SAAYgD;AAAA,QACxC,WAAWnsE,EAAO;AAAA,QAClB,OAAO,EAAE,QAAQ,OAAOstB,MAAW,WAAW,GAAGA,EAAM,OAAOA,GAAA;AAAA,QAC9D,UAAU28C,KAA2B,IAAI;AAAA,QACzC,WAAWA,KAA2BoG,KAAqB;AAAA,QAC3D,SAAS,CAACjnE,MAAM;AACd,cAAI,CAAC6gE,GAA0B;AAE/B,gBAAMj3C,IADS5pB,EAAE,OACG,QAAQ,uBAAuB;AACnD,cAAI4pB,GAAM;AACR,kBAAM0E,IAAW,SAAS1E,EAAK,aAAa,gBAAgB,KAAK,KAAK,EAAE,GAClEw9C,KAAc,SAASx9C,EAAK,aAAa,mBAAmB,KAAK,KAAK,EAAE;AAC9E,YAAAm4C,GAAe,EAAE,UAAAzzC,GAAU,aAAA84C,IAAa;AAAA,UAC1C;AAAA,QACF;AAAA,QAEC,UAAA;AAAA,UAAAlxE,MACC,gBAAAY,EAAC,OAAA,EAAI,WAAWF,EAAO,gBACrB,4BAAC,OAAA,EAAI,WAAWA,EAAO,QAAA,CAAS,EAAA,CAClC;AAAA,UAIF,gBAAAC;AAAA,YAACuzD;AAAA,YAAA;AAAA,cACC,SAAAjR;AAAA,cACA,oBAAoBc;AAAA,cACpB,aAAaolB,KAAmBoF,KAAwB;AAAA,cACxD,WAAWpF,KAAmBqF,KAAsB;AAAA,cAGpD,UAAA;AAAA,gBAAA,gBAAA7tE;AAAA,kBAACuzD;AAAA,kBAAA;AAAA,oBACC,SAAAjR;AAAA,oBACA,oBAAoBc;AAAA,oBACpB,aAAaklB,KAAoB0F,KAAqB;AAAA,oBACtD,WAAW1F,KAAoB2F,KAAmB;AAAA,oBAGjD,UAAA;AAAA,sBAAA/E,uBACE,OAAA,EAAI,WAAWnpE,EAAO,aAAa,MAAK,QAEtC,UAAA;AAAA,wBAAA4pE,MACC,gBAAA1pE,EAAC,OAAA,EAAI,WAAWF,EAAO,eAAe,MAAK,YACxC,UAAA0yB,GAAM,gBAAA,EAAkB,IAAI,CAAC2C,wBAC3B,OAAA,EAAyB,WAAWr1B,EAAO,kBAAkB,MAAK,OAChE,UAAAq1B,EAAY,QAAQ,IAAI,CAACjB,GAAQ6+C,GAAah8C,MAAY;AACzD,gCAAMiU,KAAU9W,EAAO,OAAO,WAAA,GACxBg+C,IAASh+C,EAAO,OAAO,YAAA,GACvB9E,KAAS8E,EAAO,OAAO,UAAU,MAAc,SAAS,QACxD8+C,KAAeD,MAAgBh8C,EAAQ,SAAS;AAEtD,iCACE,gBAAA/2B;AAAA,4BAAC;AAAA,4BAAA;AAAA,8BAEC,WAAW,GAAGF,EAAO,iBAAiB,IAAIA,EAAO,QAAQsvB,GAAM,OAAO,CAAC,EAAE,gBAAgBA,GAAM,MAAM,CAAC,CAAC,EAAE,CAAC;AAAA,8BAC1G,OAAO;AAAA,gCACL,UAAU8E,EAAO,QAAA;AAAA,gCACjB,MAAM8+C,KAAe,aAAa,OAAO9+C,EAAO,SAAS;AAAA,8BAAA;AAAA,8BAE3D,MAAK;AAAA,8BAEJ,YAAO,gBAAgB,yBACrB,OAAA,EAAI,WAAWp0B,EAAO,WACrB,UAAA,gBAAAC;AAAA,gCAAC;AAAA,gCAAA;AAAA,kCACC,WAAW,GAAGD,EAAO,OAAO,IAAIkrC,KAAUlrC,EAAO,WAAW,EAAE;AAAA,kCAC9D,SAASkrC,KAAU9W,EAAO,OAAO,4BAA4B;AAAA,kCAE5D,UAAA;AAAA,oCAAA+d,GAAW/d,EAAO,OAAO,UAAU,QAAQA,EAAO,YAAY;AAAA,oCAC9D8W,MACC,gBAAAhrC,EAAC,QAAA,EAAK,WAAWF,EAAO,UACrB,UAAAoyE,MAAW,QACV,gBAAAlyE,EAACmiE,IAAA,EAAU,MAAM,IAAI,IACnB+P,MAAW,SACb,gBAAAlyE,EAAC+E,IAAA,EAAY,MAAM,IAAI,IAEvB,gBAAA/E,EAACqyE,IAAA,EAAe,MAAM,GAAA,CAAI,EAAA,CAE9B;AAAA,kCAAA;AAAA,gCAAA;AAAA,8BAAA,EAEJ,CACF;AAAA,4BAAA;AAAA,4BA3BGn+C,EAAO;AAAA,0BAAA;AAAA,wBA+BlB,CAAC,EAAA,GAxCOiB,EAAY,EAyCtB,CACD,EAAA,CACH;AAAA,wBAIF,gBAAAn1B;AAAA,0BAAC;AAAA,0BAAA;AAAA,4BACC,KAAK2sE;AAAA,4BACL,WAAW7sE,EAAO;AAAA,4BAClB,OAAO,EAAE,QAAQ,OAAOstB,MAAW,WAAW,GAAGA,KAAS,EAAE,OAAO,QAAQA,EAAM,WAAA;AAAA,4BAEjF,UAAA,gBAAAptB;AAAA,8BAAC;AAAA,8BAAA;AAAA,gCACC,WAAWF,EAAO;AAAA,gCAClB,OAAO,EAAE,QAAQ,GAAG0tE,EAAS,KAAA;AAAA,gCAC7B,MAAK;AAAA,gCAEJ,UAAAlnE,GAAK,WAAW,IACf,gBAAAtG,EAAC,SAAI,WAAWF,EAAO,iBACpB,UAAA8pE,KAAcA,OACb,gBAAA7pE,EAAC,OAAA,EAAI,WAAWD,EAAO,YACrB,UAAA;AAAA,kCAAA,gBAAAE,EAACwhE,IAAA,EAAO,MAAM,IAAI,WAAW1hE,EAAO,WAAW;AAAA,kCAC/C,gBAAAE,EAAC,OAAG,UAAAopB,GAAA,CAAa;AAAA,gCAAA,EAAA,CACnB,EAAA,CAEJ,IACEmkD,IAAa,IAAI,CAACgF,MAAe;AACnC,wCAAM9/C,IAAMnsB,GAAKisE,EAAW,KAAK,GAC3B5wE,IAAa8wB,EAAI,cAAA;AAEvB,yCACE,gBAAAzyB;AAAA,oCAAC;AAAA,oCAAA;AAAA,sCAEC,WAAW,GAAGF,EAAO,UAAU,IAAI6B,IAAa7B,EAAO,WAAW,EAAE,IAAIqwB,KAAUrwB,EAAO,UAAU,EAAE,IAAI2tB,KAAY3tB,EAAO,YAAY,EAAE;AAAA,sCAC1I,OAAO;AAAA,wCACL,QAAQ,GAAGyyE,EAAW,IAAI;AAAA,wCAC1B,WAAW,cAAcA,EAAW,KAAK;AAAA,sCAAA;AAAA,sCAE3C,MAAK;AAAA,sCACL,kBAAgB9/C,EAAI;AAAA,sCACpB,SAAS,MAAM+zC,IAAa/zC,EAAI,QAAQ;AAAA,sCACxC,eAAe,MAAMg0C,IAAmBh0C,EAAI,QAAQ;AAAA,sCAEnD,YAAI,gBAAA,EAAkB,IAAI,CAACK,GAAMnE,IAAW+S,MAAU;AACrD,8CAAMtS,KAAS0D,EAAK,OAAO,UAAU,MAAc,SAAS,QACtDkgD,KAAerkD,OAAc+S,EAAM,SAAS;AAElD,+CACE,gBAAA1hC;AAAA,0CAAC;AAAA,0CAAA;AAAA,4CAEC,WAAW,GAAGF,EAAO,WAAW,IAAIA,EAAO,QAAQsvB,GAAM,OAAO,CAAC,EAAE,gBAAgBA,GAAM,MAAM,CAAC,CAAC,EAAE,CAAC;AAAA,4CACpG,OAAO;AAAA,8CACL,UAAU0D,EAAK,OAAO,QAAA;AAAA,8CACtB,MAAMkgD,KAAe,aAAa,OAAOlgD,EAAK,OAAO,SAAS;AAAA,4CAAA;AAAA,4CAEhE,MAAK;AAAA,4CACL,kBAAgBL,EAAI;AAAA,4CACpB,qBAAmB9D;AAAA,4CAElB,aAAWmE,EAAK,OAAO,UAAU,MAAMA,EAAK,YAAY;AAAA,0CAAA;AAAA,0CAVpDA,EAAK;AAAA,wCAAA;AAAA,sCAahB,CAAC;AAAA,oCAAA;AAAA,oCA9BIL,EAAI;AAAA,kCAAA;AAAA,gCAiCf,CAAC;AAAA,8BAAA;AAAA,4BAAA;AAAA,0BACH;AAAA,wBAAA;AAAA,sBACF,GACF;AAAA;AAAA,wBAGA,gBAAA1yB,EAAC,SAAA,EAAM,WAAWD,EAAO,OACtB,UAAA;AAAA,0BAAA4pE,MACC,gBAAA1pE,EAAC,SAAA,EAAM,WAAWF,EAAO,OACtB,UAAA0yB,GAAM,gBAAA,EAAkB,IAAI,CAAC2C,MAC5B,gBAAAp1B,EAAC,MAAA,EAAwB,WAAWD,EAAO,WAExC,UAAA;AAAA,4BAAAuoE,wBACE,MAAA,EAAG,WAAW,GAAGvoE,EAAO,EAAE,IAAIA,EAAO,gBAAgB,IAAI,OAAO,EAAE,OAAO,GAAA,GACxE,4BAAC8gE,IAAA,EAAa,MAAM,IAAI,GAC1B;AAAA,4BAEF,gBAAA5gE,EAACu9D,IAAA,EAAgB,OAAO7/B,IAAW,UAAU0+B,IAC1C,UAAAjnC,EAAY,QAAQ,IAAI,CAACjB,MAAW;AACnC,oCAAM++C,IAAkB/+C,EAAO,GAAG,WAAW,GAAG;AAChD,qCAAOq0C,MAAoB,CAAC0K,IAC1B,gBAAAjzE;AAAA,gCAAC;AAAA,gCAAA;AAAA,kCAEC,WAAWF,EAAO;AAAA,kCAClB,OAAO,EAAE,OAAOo0B,EAAO,UAAQ;AAAA,kCAE/B,4BAACysC,IAAA,EAAoB,IAAIzsC,EAAO,IAC7B,UAAA+9C,GAAiB/9C,CAAM,EAAA,CAC1B;AAAA,gCAAA;AAAA,gCANKA,EAAO;AAAA,8BAAA,IASd+9C,GAAiB/9C,CAAM;AAAA,4BAE3B,CAAC,EAAA,CACH;AAAA,0BAAA,EAAA,GAxBOiB,EAAY,EAyBrB,CACD,GACH;AAAA,0BAGF,gBAAAn1B,EAAC,SAAA,EAAM,WAAWF,EAAO,OACtB,UAAAwG,GAAK,WAAW,IACf,gBAAAtG,EAAC,MAAA,EAAG,WAAWF,EAAO,UACpB,4BAAC,MAAA,EAAG,SAAS0yB,GAAM,kBAAA,EAAoB,UAAU61C,KAAoB,IAAI,IAAI,WAAWvoE,EAAO,WAC5F,UAAA8pE,KAAcA,OACb,gBAAA7pE,EAAC,OAAA,EAAI,WAAWD,EAAO,YACrB,UAAA;AAAA,4BAAA,gBAAAE,EAACwhE,IAAA,EAAO,MAAM,IAAI,WAAW1hE,EAAO,WAAW;AAAA,4BAC/C,gBAAAE,EAAC,OAAG,UAAAopB,GAAA,CAAa;AAAA,0BAAA,EAAA,CACnB,EAAA,CAEJ,EAAA,CACF,IACEi/C,KACF,gBAAAroE,EAACu9D,IAAA,EAAgB,OAAO14B,IAAQ,UAAUq4B,IACvC,UAAA52D,GAAK,IAAI,CAACmsB,MAAQ6/C,GAAU7/C,CAAG,CAAC,EAAA,CACnC,IAEAnsB,GAAK,IAAI,CAACmsB,MAAQ6/C,GAAU7/C,CAAG,CAAC,EAAA,CAEpC;AAAA,0BAECk3C,MACC,gBAAA3pE,EAAC,SAAA,EAAM,WAAWF,EAAO,OACtB,UAAA0yB,GAAM,gBAAA,EAAkB,IAAI,CAAC0gD,MAC5B,gBAAAnzE,EAAC,MAAA,EAAwB,WAAWD,EAAO,WACxC,UAAA;AAAA,4BAAAuoE,MAAqB,gBAAAroE,EAAC,QAAG,WAAWF,EAAO,YAAY,OAAO,EAAE,OAAO,GAAA,EAAG,CAAG;AAAA,4BAC7EozE,EAAY,QAAQ,IAAI,CAACh/C,wBACvB,MAAA,EAAmB,WAAWp0B,EAAO,YACnC,UAAAo0B,EAAO,gBACJ,OACA+d,GAAW/d,EAAO,OAAO,UAAU,QAAQA,EAAO,YAAY,KAH3DA,EAAO,EAIhB,CACD;AAAA,0BAAA,KARMg/C,EAAY,EASrB,CACD,EAAA,CACH;AAAA,wBAAA,EAAA,CAEJ;AAAA;AAAA,sBAID7K,wBACEhN,IAAA,EACE,UAAAgQ,wBACE,OAAA,EAAI,WAAWvrE,EAAO,aAAa,UAAA;AAAA,wBAAA;AAAA,wBAC7BurE;AAAA,sBAAA,EAAA,CACP,EAAA,CAEJ;AAAA,oBAAA;AAAA,kBAAA;AAAA,gBAAA;AAAA,gBAKH9C,MACC,gBAAAvoE,EAACq7D,IAAA,EACE,UAAA8P,MACC,gBAAAnrE,EAAC,SAAI,WAAWF,EAAO,aACpB,UAAAqrE,GAAA,CACH,EAAA,CAEJ;AAAA,cAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QAEJ;AAAA,MAAA;AAAA,IAAA;AAAA,IAIDxF,KAAoBiN,GAAA;AAAA,IAGpBrH,MACC,gBAAAvrE;AAAA,MAACihE;AAAA,MAAA;AAAA,QACC,GAAGsK,GAAY;AAAA,QACf,GAAGA,GAAY;AAAA,QACf,OAAOA,GAAY;AAAA,QACnB,UAAUyE;AAAA,QACV,SAASE;AAAA,MAAA;AAAA,IAAA;AAAA,EACX,GAEJ;AAEJ;AAGO,MAAMiD,KAAWrZ,GAAW6K,EAAa;AAK/CwO,GAAiB,cAAc;;;;;;;;;;;;;;;;;;GCpwG1BC,KAAoC,CAAC;AAAA,EACzC,MAAA9uE;AAAA,EACA,OAAA0iB;AAAA,EACA,YAAA0G;AAAA,EACA,SAAAje;AAAA,EACA,eAAA6V;AAAA,EACA,eAAA+tD;AAAA,EACA,UAAA9uD;AAAA,EACA,SAAA+uD;AAAA,EACA,aAAAC;AACF,MAAM;AACJ,QAAMtsD,IAAc3iB,EAAK,YAAYA,EAAK,SAAS,SAAS,GACtD4iB,IAAa5B,EAAc,IAAIhhB,EAAK,EAAE,GACtC3C,IAAa0xE,EAAc,IAAI/uE,EAAK,EAAE,GACtCkvE,IAAS,CAACvsD,GAEVwsD,IAAoB,CAACvqE,MAAwB;AACjD,IAAAA,EAAE,gBAAA,GACE+d,KACF1C,EAASjgB,EAAK,EAAE;AAAA,EAEpB,GAEMovE,IAAuB,CAACxqE,MAA2C;AACvE,IAAAA,EAAE,gBAAA,GACFoqE,EAAQhvE,EAAK,IAAI4E,EAAE,OAAO,OAAO;AAAA,EACnC,GAEMyqE,IAAqB,MAAM;AAC/B,IAAI,CAACjmD,KAAc,CAACppB,EAAK,YACvBivE,EAAYjvE,EAAK,EAAE;AAAA,EAEvB,GAEMsvE,IAAc;AAAA,IAClB9zE,GAAO;AAAA,IACP0zE,KAAU1zE,GAAO;AAAA,IACjBwE,EAAK,YAAYxE,GAAO;AAAA,IACxB6B,KAAc,CAAC+rB,KAAc5tB,GAAO;AAAA,EAAA,EAEnC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAC,EAAC,OAAA,EAAI,WAAW6zE,GACd,UAAA;AAAA,IAAA,gBAAA7zE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWD,GAAO;AAAA,QAClB,SAAS6zE;AAAA,QACT,MAAOjmD,IAAwB,SAAX;AAAA,QACpB,UAAU,CAACA,KAAc,CAACppB,EAAK,WAAW,IAAI;AAAA,QAE7C,UAAA;AAAA,UAAA2iB,IACC,gBAAAjnB;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAW,GAAGF,GAAO,aAAa,IAChConB,IAAapnB,GAAO,wBAAwBA,GAAO,sBACrD;AAAA,cACA,SAAS2zE;AAAA,cACT,iBAAevsD;AAAA,cACf,cAAYA,IAAa,aAAa;AAAA,cAErC,UAAAA,sBAAcniB,IAAA,EAAY,MAAM,IAAI,IAAK,gBAAA/E,EAAC2T,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,YAAA;AAAA,UAAA,IAGpE,gBAAA3T,EAAC,QAAA,EAAK,WAAWF,GAAO,WAAA,CAAY;AAAA,UAGrC4tB,KACC,gBAAA1tB;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,WAAWF,GAAO;AAAA,cAClB,SAAS6B;AAAA,cACT,UAAU+xE;AAAA,cACV,UAAUpvE,EAAK;AAAA,cACf,SAAS,CAAC4E,MAAMA,EAAE,gBAAA;AAAA,YAAgB;AAAA,UAAA;AAAA,UAIrC5E,EAAK,QAAQ,gBAAAtE,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAW,YAAK,KAAA,CAAK;AAAA,UAE3D,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,WACtB,UAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,eAAgB,UAAAwE,EAAK,MAAA,CAAM,GACrD;AAAA,UAECA,EAAK,SAAS,gBAAAtE,EAAC,QAAA,EAAK,WAAWF,GAAO,WAAY,YAAK,MAAA,CAAM;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,IAG/DmnB,KAAeC,KACd,gBAAAlnB,EAAC,OAAA,EAAI,WAAWF,GAAO,cACpB,UAAAwE,EAAK,SAAU,IAAI,CAACsiB,MACnB,gBAAA5mB;AAAA,MAACozE;AAAA,MAAA;AAAA,QAEC,MAAMxsD;AAAA,QACN,OAAOI,IAAQ;AAAA,QACf,YAAA0G;AAAA,QACA,SAAAje;AAAA,QACA,eAAA6V;AAAA,QACA,eAAA+tD;AAAA,QACA,UAAA9uD;AAAA,QACA,SAAA+uD;AAAA,QACA,aAAAC;AAAA,MAAA;AAAA,MATK3sD,EAAM;AAAA,IAAA,CAWd,EAAA,CACH;AAAA,EAAA,GAEJ;AAEJ,GAIMitD,KAA4B,CAAC;AAAA,EACjC,MAAAzuD;AAAA,EACA,YAAAsI,IAAa;AAAA,EACb,SAAAje,IAAU;AAAA,EACV,kBAAAqkE,IAAmB;AAAA,EACnB,UAAAjyE;AAAA,EACA,WAAArC,IAAY;AACd,MAAM;AAEJ,QAAMu0E,IAA0B,MAAmB;AACjD,QAAI,CAACD,EAAkB,QAAO,oBAAI,IAAA;AAElC,UAAME,wBAAkB,IAAA,GAClBttD,IAAW,CAACR,MAA0B;AAC1C,MAAAA,EAAM,QAAQ,CAAC5hB,MAAS;AACtB,QAAIA,EAAK,YAAYA,EAAK,SAAS,SAAS,MAC1C0vE,EAAY,IAAI1vE,EAAK,EAAE,GACvBoiB,EAASpiB,EAAK,QAAQ;AAAA,MAE1B,CAAC;AAAA,IACH;AACA,WAAAoiB,EAAStB,CAAI,GACN4uD;AAAA,EACT,GAEM,CAAC1uD,GAAeC,CAAgB,IAAI3iB,EAAsBmxE,GAAyB,GACnF,CAACV,GAAeY,CAAgB,IAAIrxE,EAAsB,oBAAI,KAAK,GAEnEsxE,IAAe,CAACC,MAAmB;AACvC,IAAA5uD,EAAiB,CAACxhB,MAAS;AACzB,YAAMqwE,IAAS,IAAI,IAAIrwE,CAAI;AAC3B,aAAIqwE,EAAO,IAAID,CAAM,IACnBC,EAAO,OAAOD,CAAM,IAEpBC,EAAO,IAAID,CAAM,GAEZC;AAAA,IACT,CAAC;AAAA,EACH,GAEMC,IAAc,CAACF,GAAgBpuE,MAAqB;AACxD,UAAMuuE,IAAmB,IAAI,IAAIjB,CAAa,GAGxCkB,IAAmB,CAACruD,MAAoC;AAC5D,UAAIw4B,IAAgB,CAAA;AACpB,aAAAx4B,EAAM,QAAQ,CAAC5hB,MAAS;AACtB,QAAAo6C,EAAI,KAAKp6C,EAAK,EAAE,GACZA,EAAK,aACPo6C,IAAMA,EAAI,OAAO61B,EAAiBjwE,EAAK,QAAQ,CAAC;AAAA,MAEpD,CAAC,GACMo6C;AAAA,IACT,GAGM81B,IAAW,CAACtuD,GAAuBjlB,MAAoC;AAC3E,iBAAWqD,KAAQ4hB,GAAO;AACxB,YAAI5hB,EAAK,OAAOrD,EAAI,QAAOqD;AAC3B,YAAIA,EAAK,UAAU;AACjB,gBAAMmwE,IAAQD,EAASlwE,EAAK,UAAUrD,CAAE;AACxC,cAAIwzE,EAAO,QAAOA;AAAA,QACpB;AAAA,MACF;AACA,aAAO;AAAA,IACT,GAEMC,IAAaF,EAASpvD,GAAM+uD,CAAM;AACxC,IAAKO,MAGD3uE,KACFuuE,EAAiB,IAAIH,CAAM,GACvBO,EAAW,YACbH,EAAiBG,EAAW,QAAQ,EAAE,QAAQ,CAACzzE,MAAOqzE,EAAiB,IAAIrzE,CAAE,CAAC,MAGhFqzE,EAAiB,OAAOH,CAAM,GAC1BO,EAAW,YACbH,EAAiBG,EAAW,QAAQ,EAAE,QAAQ,CAACzzE,MAAOqzE,EAAiB,OAAOrzE,CAAE,CAAC,IAIrFgzE,EAAiBK,CAAgB,GAC7BzyE,KACFA,EAAS,MAAM,KAAKyyE,CAAgB,CAAC;AAAA,EAEzC,GAEMK,IAAkB,CAACR,MAAmB;AAC1C,IAAAF,EAAiB,oBAAI,IAAI,CAACE,CAAM,CAAC,CAAC,GAC9BtyE,KACFA,EAAS,CAACsyE,CAAM,CAAC;AAAA,EAErB,GAEMS,IAAc;AAAA,IAClB90E,GAAO;AAAA,IACP4tB,KAAc5tB,GAAO;AAAA,IACrB2P,KAAW3P,GAAO;AAAA,IAClBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,2BACG,OAAA,EAAI,WAAWo1E,GACb,UAAAxvD,EAAK,IAAI,CAAC9gB,MACT,gBAAAtE;AAAA,IAACozE;AAAA,IAAA;AAAA,MAEC,MAAA9uE;AAAA,MACA,OAAO;AAAA,MACP,YAAAopB;AAAA,MACA,SAAAje;AAAA,MACA,eAAA6V;AAAA,MACA,eAAA+tD;AAAA,MACA,UAAUa;AAAA,MACV,SAASG;AAAA,MACT,aAAaM;AAAA,IAAA;AAAA,IATRrwE,EAAK;AAAA,EAAA,CAWb,GACH;AAEJ;;;;;;;;;GChQauwE,KAA8B,CAAC;AAAA,EAC1C,SAAA31E,IAAU;AAAA,EACV,MAAAC,IAAO;AAAA,EACP,UAAAI;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,OAAA0P;AACF,MAAM;AACJ,QAAM4lE,IAAe;AAAA,IACnBh1E,GAAO;AAAA,IACPA,GAAO,SAASZ,CAAO,EAAE;AAAA,IACzBC,MAAS,QAAQW,GAAO,SAASX,CAAI,EAAE;AAAA,IACvCK;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SAAO,gBAAAQ,EAAC,QAAA,EAAK,WAAW80E,GAAc,OAAA5lE,GAAe,UAAA3P,GAAS;AAChE;AAEAs1E,GAAM,cAAc;;;;;;;;;;;;;;;;;;;;;;GCLdE,KAAoC,CAAC;AAAA,EACzC,KAAAC;AAAA,EACA,KAAA7nD;AAAA,EACA,UAAA8nD;AAAA,EACA,MAAA51E;AAAA,EACA,MAAAF,IAAO;AAAA,EACP,OAAA+1E,IAAQ;AAAA,EACR,OAAAlmE,IAAQ;AAAA,EACR,QAAAmlD;AAAA,EACA,WAAA30D,IAAY;AACd,MAAM;AACJ,QAAM21E,IAAgB;AAAA,IACpBr1E,GAAO;AAAA,IACPA,GAAO,SAASo1E,EAAM,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAM,MAAM,CAAC,CAAC,EAAE;AAAA,IAChEp1E,GAAO,SAASX,EAAK,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAK,MAAM,CAAC,CAAC,EAAE;AAAA,IAC9D,CAAC61E,KAAOl1E,GAAO,SAASkP,EAAM,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAM,MAAM,CAAC,CAAC,EAAE;AAAA,IACxExP;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAEL41E,IAAgBjhB,IAClB;AAAA,IACEr0D,GAAO;AAAA,IACPq0D,MAAW,YAAYr0D,GAAO,cAAcq0D,EAAO,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAO,MAAM,CAAC,CAAC,EAAE;AAAA,EAAA,EAE7F,OAAO,OAAO,EACd,KAAK,GAAG,IACX;AAEJ,SACE,gBAAAp0D,EAAC,OAAA,EAAI,WAAWo1E,GACb,UAAA;AAAA,IAAAH,IACC,gBAAAh1E,EAAC,OAAA,EAAI,KAAAg1E,GAAU,KAAK7nD,KAAO,UAAU,IACnC9tB,MAEA41E,IACF,gBAAAj1E,EAAC,QAAA,EAAM,aAAS,IACd;AAAA,IACHm0D,KAAU,gBAAAn0D,EAAC,QAAA,EAAK,WAAWo1E,EAAA,CAAe;AAAA,EAAA,GAC7C;AAEJ,GAIMC,KAA0C,CAAC,EAAE,UAAA91E,GAAU,WAAAC,IAAY,SAChE,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,WAAW,IAAIN,CAAS,IAAK,UAAAD,EAAA,CAAS,GAInE+1E,KAAS,OAAO,OAAOP,IAAY,EAAE,OAAOM,IAAa;;;;;;;;;;;;;;GC1ClDE,KAA0B,CAAC;AAAA,EACtC,UAAAh2E;AAAA,EACA,SAAAL,IAAU;AAAA,EACV,MAAAC,IAAO;AAAA,EACP,WAAAq2E,IAAY;AAAA,EACZ,UAAAC;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,SAAA9nD;AAAA,EACA,MAAAvuB;AAAA,EACA,WAAAG;AACF,MAAM;AACJ,QAAMm2E,IAAa;AAAA,IACjB71E,GAAO;AAAA,IACPZ,MAAY,aAAaY,GAAOZ,CAAO;AAAA,IACvCC,MAAS,QAAQW,GAAOX,CAAI;AAAA,IAC5Bq2E,KAAa11E,GAAO;AAAA,IACpB41E,KAAa51E,GAAO;AAAA,IACpBN;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAEpBo2E,IAAoB,CAAC1sE,MAAwB;AACjD,IAAAA,EAAE,gBAAA,GACFusE,IAAA;AAAA,EACF;AAIA,SACE,gBAAA11E;AAAA,IAHgB21E,IAAY,WAAW;AAAA,IAGtC;AAAA,MACC,WAAWC;AAAA,MACX,SAASD,IAAY9nD,IAAU;AAAA,MAC/B,MAAM8nD,IAAY,WAAW;AAAA,MAC7B,MAAMA,IAAY,WAAW;AAAA,MAE5B,UAAA;AAAA,QAAAr2E,uBAAS,QAAA,EAAK,WAAWS,GAAO,MAAM,eAAY,QAAQ,UAAAT,EAAA,CAAK;AAAA,QAC/DE;AAAA,QACAi2E,KACC,gBAAAx1E;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,SAAS81E;AAAA,YACT,cAAY,UAAUr2E,CAAQ;AAAA,YAC9B,MAAK;AAAA,YAEL,UAAA,gBAAAS,EAACoK,IAAA,EAAE,MAAM,IAAI,eAAY,OAAA,CAAO;AAAA,UAAA;AAAA,QAAA;AAAA,MAClC;AAAA,IAAA;AAAA,EAAA;AAIR;AAEAmrE,GAAI,cAAc;AAyBX,MAAMM,KAAoC,CAAC;AAAA,EAChD,UAAAt2E;AAAA,EACA,WAAAC;AAAA,EACA,WAAAyG;AACF,MAAM;AACJ,QAAM/F,IAAe,CAACJ,GAAO,OAAON,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAEvE,SACE,gBAAAQ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWE;AAAA,MACX,MAAK;AAAA,MACL,cAAY+F;AAAA,MAEX,UAAAhH,GAAM,SAAS,IAAIM,GAAU,CAACqnB,MAC7B,gBAAA5mB,EAAC,OAAA,EAAI,MAAK,YAAY,UAAA4mB,EAAA,CAAM,CAC7B;AAAA,IAAA;AAAA,EAAA;AAGP;AAEAivD,GAAS,cAAc;;;;;;;;;;;;;;;GCxFVC,KAAmB,CAAC;AAAA,EAC/B,OAAAx1E;AAAA,EACA,UAAAf;AAAA,EACA,MAAAw2E;AAAA,EACA,WAAAv2E;AACF,MAA6B;AAC3B,QAAMw2E,IAAc;AAAA,IAClBl2E,GAAO;AAAA,IACPi2E,KAAQj2E,GAAO;AAAA,IACfN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWi2E,GACd,UAAA;AAAA,IAAA,gBAAAh2E,EAAC,QAAA,EAAK,WAAWF,GAAO,mBAAoB,UAAAQ,GAAM;AAAA,IAClD,gBAAAN,EAAC,QAAA,EAAK,WAAWF,GAAO,qBAAsB,UAAAP,EAAA,CAAS;AAAA,EAAA,GACzD;AAEJ;AAEAu2E,GAAiB,cAAc;AA8BxB,MAAMG,KAAe,CAAC;AAAA,EAC3B,UAAA12E;AAAA,EACA,OAAAklB;AAAA,EACA,OAAAyxD;AAAA,EACA,UAAAzM,IAAW;AAAA,EACX,QAAA/2C,IAAS;AAAA,EACT,MAAAvzB,IAAO;AAAA,EACP,UAAAg3E,IAAW;AAAA,EACX,WAAA32E;AACF,MAAyB;AACvB,QAAM+L,IAAmB;AAAA,IACvBzL,GAAO;AAAA,IACP2pE,KAAY3pE,GAAO;AAAA,IACnB4yB,MAAW,KAAK5yB,GAAO;AAAA,IACvB4yB,MAAW,KAAK5yB,GAAO;AAAA,IACvBX,MAAS,QAAQW,GAAO;AAAA,IACxBX,MAAS,QAAQW,GAAO;AAAA,IACxBq2E,KAAYr2E,GAAO;AAAA,IACnBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWwL,GACZ,UAAA;AAAA,KAAAkZ,KAASyxD,MACT,gBAAAn2E,EAAC,OAAA,EAAI,WAAWD,GAAO,oBACpB,UAAA;AAAA,MAAA2kB,KAAS,gBAAAzkB,EAAC,MAAA,EAAG,WAAWF,GAAO,mBAAoB,UAAA2kB,GAAM;AAAA,MACzDyxD,KAAS,gBAAAl2E,EAAC,OAAA,EAAK,UAAAk2E,EAAA,CAAM;AAAA,IAAA,GACxB;AAAA,IAED32E;AAAA,EAAA,GACH;AAEJ;AAEA02E,GAAa,cAAc;AAG3BA,GAAa,OAAOH;;;;;;;;;;;;;;;;;;;;;;GClFPM,KAAsC,CAAC;AAAA,EAClD,OAAA3xD;AAAA,EACA,OAAA/d;AAAA,EACA,QAAAk4C;AAAA,EACA,QAAAy3B;AAAA,EACA,OAAAC;AAAA,EACA,MAAAj3E;AAAA,EACA,aAAAoN;AAAA,EACA,SAAAvN,IAAU;AAAA,EACV,SAAAuQ,IAAU;AAAA,EACV,WAAAjQ;AACF,MAAM;AACJ,QAAM+2E,IAAe,MAAM;AACzB,QAAI,CAACD,EAAO,QAAO;AAEnB,UAAME,IAAY,EAAE,MAAM,IAAI,eAAe,GAAA;AAE7C,WAAIF,EAAM,SAAS,UACVA,EAAM,cAAc,OACvB,gBAAAt2E,EAACy2E,IAAA,EAAS,GAAGD,EAAA,CAAW,IACxB,gBAAAx2E,EAAC02E,IAAA,EAAW,GAAGF,EAAA,CAAW,IAGzBF,EAAM,cAAc,OACvB,gBAAAt2E,EAAC22E,IAAA,EAAY,GAAGH,EAAA,CAAW,IAC3B,gBAAAx2E,EAAC42E,IAAA,EAAc,GAAGJ,EAAA,CAAW;AAAA,EACnC,GAEMK,IAAmB;AAAA,IACvB/2E,GAAO;AAAA,IACP2P,KAAW3P,GAAO;AAAA,IAClBZ,MAAY,aAAaY,GAAOZ,CAAO;AAAA,IACvCM;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG,GAEpBs3E,IAAe;AAAA,IACnBh3E,GAAO;AAAA,IACPw2E,KAASx2E,GAAO,QAAQw2E,EAAM,cAAc,OAAO,OAAO,MAAM,EAAE;AAAA,EAAA,EAClE,OAAO,OAAO,EAAE,KAAK,GAAG,GAEpBS,IAAc;AAAA,IAClBj3E,GAAO;AAAA,IACPT,GAAM,WAAWS,GAAO,OAAOT,EAAK,QAAQ,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAK,QAAQ,MAAM,CAAC,CAAC,EAAE;AAAA,EAAA,EAC7F,OAAO,OAAO,EAAE,KAAK,GAAG,GAEpB23E,IAAaV,IACf,GAAGA,EAAM,cAAc,OAAO,cAAc,WAAW,OAAOA,EAAM,KAAK,KACzE;AAEJ,SACE,gBAAAv2E,EAAC,OAAA,EAAI,WAAW82E,GACb,UAAA;AAAA,IAAAx3E,KACC,gBAAAU,EAAC,OAAA,EAAI,WAAWD,GAAO,QACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,SAAI,WAAW+2E,GAAa,eAAY,QACtC,YAAK,SACR;AAAA,MACA,gBAAA/2E,EAAC,OAAA,EAAI,WAAWF,GAAO,OAAQ,UAAA2kB,EAAA,CAAM;AAAA,IAAA,GACvC;AAAA,IAGD,CAACplB,KAAQ,gBAAAW,EAAC,SAAI,WAAWF,GAAO,OAAQ,UAAA2kB,GAAM;AAAA,IAE/C,gBAAA1kB,EAAC,SAAI,WAAWD,GAAO,OAAO,MAAK,UAAS,aAAU,UACnD,UAAA;AAAA,MAAA8+C,KAAU,gBAAA5+C,EAAC,QAAA,EAAK,WAAWF,GAAO,QAAS,UAAA8+C,GAAO;AAAA,MAClDl4C;AAAA,MACA2vE,KAAU,gBAAAr2E,EAAC,QAAA,EAAK,WAAWF,GAAO,QAAS,UAAAu2E,EAAA,CAAO;AAAA,IAAA,GACrD;AAAA,IAECC,KACC,gBAAAv2E,EAAC,OAAA,EAAI,WAAW+2E,GAAc,cAAYE,GACvC,UAAA;AAAA,MAAAT,EAAA;AAAA,MACD,gBAAAv2E,EAAC,QAAA,EAAM,UAAAs2E,EAAM,MAAA,CAAM;AAAA,IAAA,GACrB;AAAA,IAGD7pE,KACC,gBAAAzM,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAc,UAAA2M,EAAA,CAAY;AAAA,EAAA,GAErD;AAEJ;AAEA2pE,GAAU,cAAc;;;;;;;;;;;;;;;;;;GC/EXa,KAAW,CAAC,EAAE,UAAA13E,GAAU,MAAA23E,IAAO,WAAW,WAAA13E,QAA+B;AACpF,QAAM23E,IAAkB;AAAA,IACtBr3E,GAAO;AAAA,IACPo3E,MAAS,aAAap3E,GAAO;AAAA,IAC7Bo3E,MAAS,eAAep3E,GAAO;AAAA,IAC/BN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SAAO,gBAAAQ,EAAC,OAAA,EAAI,WAAWm3E,GAAkB,UAAA53E,EAAA,CAAS;AACpD,GAOM63E,KAAe,CAAC;AAAA,EACpB,SAAAl4E,IAAU;AAAA,EACV,MAAAG;AAAA,EACA,MAAAiV;AAAA,EACA,OAAAmQ;AAAA,EACA,aAAAhY;AAAA,EACA,MAAA4qE;AAAA,EACA,aAAAtpD,IAAc;AAAA,EACd,SAAAH;AAAA,EACA,WAAApuB;AACF,MAAyB;AACvB,QAAMw2E,IAAc;AAAA,IAClBl2E,GAAO;AAAA,IACPZ,MAAY,aAAaY,GAAO,WAAWZ,EAAQ,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAQ,MAAM,CAAC,CAAC,EAAE;AAAA,IAC/F6uB,KAAejuB,GAAO;AAAA,IACtBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAyBX,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWi2E,GAAc,GAXdjoD,IACd;AAAA,IACE,MAAM;AAAA,IACN,UAAU;AAAA,IACV,SAjBc,MAAM;AACxB,MAAIA,KAAeH,KACjBA,EAAA;AAAA,IAEJ;AAAA,IAcM,WAZgB,CAAC1kB,MAA2B;AAChD,MAAI6kB,KAAeH,MAAY1kB,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SAC5DA,EAAE,eAAA,GACF0kB,EAAA;AAAA,IAEJ;AAAA,IAQM,cAAc,OAAOnJ,KAAU,WAAWA,IAAQ;AAAA,EAAA,IAEpD,EAAE,MAAM,UAAA,GAIR,UAAA;AAAA,IAAA,gBAAAzkB,EAAC,OAAA,EAAI,WAAWF,GAAO,gBAAiB,UAAAT,GAAK;AAAA,IAC7C,gBAAAU,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACpB,UAAA;AAAA,MAAAwU,KAAQ,gBAAAtU,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAAwU,GAAK;AAAA,MACpD,gBAAAtU,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAgB,UAAA2kB,GAAM;AAAA,MAC5ChY,KAAe,gBAAAzM,EAAC,OAAA,EAAI,WAAWF,GAAO,qBAAsB,UAAA2M,GAAY;AAAA,MACxE4qE,KAAQ,gBAAAr3E,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAAu3E,EAAA,CAAK;AAAA,IAAA,EAAA,CACtD;AAAA,EAAA,GACF;AAEJ;AAEAJ,GAAS,OAAOG;AAChBH,GAAS,cAAc;AACvBG,GAAa,cAAc;;;;;;;;;;;;;;;;GCrEdE,KAAW,CAAC;AAAA,EACvB,UAAA/3E;AAAA,EACA,UAAAg4E,IAAW;AAAA,EACX,QAAAC,IAAS;AAAA,EACT,YAAAC,IAAa;AAAA,EACb,gBAAAC,IAAiB;AAAA,EACjB,gBAAAC,IAAiB;AAAA,EACjB,cAAAC,IAAe;AAAA,EACf,aAAaC;AAAA,EACb,UAAAr1E;AAAA,EACA,WAAAhD;AAAA,EACA,cAAAs4E,IAAe;AAAA,EACf,MAAAC,IAAO;AACT,MAAqB;AACnB,QAAM,CAACC,GAAeC,CAAgB,IAAIr1E,EAASg1E,CAAY,GACzD,CAACM,GAAUC,CAAW,IAAIv1E,EAAS,EAAK,GACxC,CAACw1E,GAAYC,CAAa,IAAIz1E,EAAS,CAAC,GACxC,CAAC01E,GAAUC,CAAW,IAAI31E,EAAS,CAAC,GACpC41E,IAAct1E,EAA8C,IAAI,GAEhEG,IAAew0E,MAAoB,QACnCY,IAAep1E,IAAew0E,IAAkBG,GAEhDU,IAASC,GAAS,QAAQp5E,CAAQ,GAClCq5E,IAAaF,EAAO,QAEpBG,IAAY92E;AAAA,IAChB,CAACkL,MAAkB;AACjB,UAAIW,IAAWX;AAEf,MAAI8qE,KACE9qE,IAAQ,MAAGW,IAAWgrE,IAAa,IACnC3rE,KAAS2rE,MAAYhrE,IAAW,OAEhCX,IAAQ,MAAGW,IAAW,IACtBX,KAAS2rE,MAAYhrE,IAAWgrE,IAAa,KAG9Cv1E,KACH40E,EAAiBrqE,CAAQ,GAE3BpL,IAAWoL,CAAQ;AAAA,IACrB;AAAA,IACA,CAACgrE,GAAYb,GAAM10E,GAAcb,CAAQ;AAAA,EAAA,GAGrCs2E,IAAW/2E,EAAY,MAAM;AACjC,IAAA82E,EAAUJ,IAAe,CAAC;AAAA,EAC5B,GAAG,CAACA,GAAcI,CAAS,CAAC,GAEtB17D,IAAWpb,EAAY,MAAM;AACjC,IAAA82E,EAAUJ,IAAe,CAAC;AAAA,EAC5B,GAAG,CAACA,GAAcI,CAAS,CAAC;AAG5B,EAAA70E,EAAU,MAAM;AACd,QAAIuzE,IAAW,KAAK,CAACW;AACnB,aAAAM,EAAY,UAAU,YAAY,MAAM;AACtC,QAAAr7D,EAAA;AAAA,MACF,GAAGo6D,CAAQ,GAEJ,MAAM;AACX,QAAIiB,EAAY,WACd,cAAcA,EAAY,OAAO;AAAA,MAErC;AAAA,EAEJ,GAAG,CAACjB,GAAUW,GAAU/6D,CAAQ,CAAC;AAGjC,QAAMsO,IAAmB,CAACviB,MAAwB;AAChD,IAAAmvE,EAAcnvE,EAAE,cAAc,CAAC,EAAE,OAAO;AAAA,EAC1C,GAEM+iB,IAAkB,CAAC/iB,MAAwB;AAC/C,IAAAqvE,EAAYrvE,EAAE,cAAc,CAAC,EAAE,OAAO;AAAA,EACxC,GAEM6vE,IAAiB,MAAM;AAC3B,IAAIX,IAAaE,IAAW,MAE1Bn7D,EAAA,GAGEi7D,IAAaE,IAAW,OAE1BQ,EAAA;AAAA,EAEJ,GAGM30E,IAAgB,CAAC+E,MAA2B;AAChD,IAAIA,EAAE,QAAQ,cACZ4vE,EAAA,IACS5vE,EAAE,QAAQ,gBACnBiU,EAAA;AAAA,EAEJ,GAEM5R,IAAmB;AAAA,IACvBzL,GAAO;AAAA,IACP03E,MAAW,UAAU13E,GAAO;AAAA,IAC5BN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAO;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWwL;AAAA,MACX,cAAc,MAAMusE,KAAgBK,EAAY,EAAI;AAAA,MACpD,cAAc,MAAML,KAAgBK,EAAY,EAAK;AAAA,MACrD,cAAc1sD;AAAA,MACd,aAAaQ;AAAA,MACb,YAAY8sD;AAAA,MACZ,WAAW50E;AAAA,MACX,UAAU;AAAA,MACV,MAAK;AAAA,MACL,cAAW;AAAA,MACX,aAAU;AAAA,MAEV,UAAA;AAAA,QAAA,gBAAAnE,EAAC,OAAA,EAAI,WAAWF,GAAO,eACpB,aAAS,IAAIP,GAAU,CAACqnB,GAAO3Z,MAAU;AACxC,gBAAMgC,IAAWhC,MAAUwrE;AAC3B,iBACE,gBAAAz4E;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAW,GAAGF,GAAO,YAAY,IAAImP,IAAWnP,GAAO,SAAS,EAAE;AAAA,cAClE,MAAK;AAAA,cACL,wBAAqB;AAAA,cACrB,cAAY,SAASmN,IAAQ,CAAC,OAAO2rE,CAAU;AAAA,cAC/C,eAAa,CAAC3pE;AAAA,cAEb,UAAA2X;AAAA,YAAA;AAAA,UAAA;AAAA,QAGP,CAAC,EAAA,CACH;AAAA,QAGC6wD,KAAcmB,IAAa,KAC1B,gBAAA74E,EAAAwB,IAAA,EACE,UAAA;AAAA,UAAA,gBAAAvB;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAW,GAAGF,GAAO,eAAe,IAAIA,GAAO,mBAAmB;AAAA,cAClE,SAASg5E;AAAA,cACT,cAAW;AAAA,cACX,UAAU,CAACf,KAAQU,MAAiB;AAAA,cAEpC,4BAAC/kE,IAAA,CAAA,CAAY;AAAA,YAAA;AAAA,UAAA;AAAA,UAEf,gBAAA1T;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAW,GAAGF,GAAO,eAAe,IAAIA,GAAO,mBAAmB;AAAA,cAClE,SAASqd;AAAA,cACT,cAAW;AAAA,cACX,UAAU,CAAC46D,KAAQU,MAAiBG,IAAa;AAAA,cAEjD,4BAACjlE,IAAA,CAAA,CAAa;AAAA,YAAA;AAAA,UAAA;AAAA,QAChB,GACF;AAAA,QAID+jE,KAAkBkB,IAAa,KAAK,CAACjB,KACpC,gBAAA33E,EAAC,OAAA,EAAI,WAAWF,GAAO,oBACpB,UAAA44E,EAAO,IAAI,CAAC1qE,GAAGf,MACd,gBAAAjN;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,WAAW,GAAGF,GAAO,iBAAiB,IAAImN,MAAUwrE,IAAe34E,GAAO,SAAS,EAAE;AAAA,YACrF,SAAS,MAAM+4E,EAAU5rE,CAAK;AAAA,YAC9B,cAAY,eAAeA,IAAQ,CAAC;AAAA,YACpC,gBAAcA,MAAUwrE;AAAA,UAAA;AAAA,UAJnBxrE;AAAA,QAAA,CAMR,GACH;AAAA,QAID0qE,KAAkBiB,IAAa,KAC9B,gBAAA54E,EAAC,OAAA,EAAI,WAAWF,GAAO,6BACpB,UAAA64E,GAAS,IAAIp5E,GAAU,CAACqnB,GAAY3Z,MAAU;AAC7C,gBAAM+rE,IAAYpyD,GAAO,OAAO;AAChC,iBAAKoyD,IAGH,gBAAAh5E;AAAA,YAAC;AAAA,YAAA;AAAA,cAEC,WAAW,GAAGF,GAAO,iBAAiB,IAAImN,MAAUwrE,IAAe34E,GAAO,SAAS,EAAE;AAAA,cACrF,SAAS,MAAM+4E,EAAU5rE,CAAK;AAAA,cAC9B,cAAY,eAAeA,IAAQ,CAAC;AAAA,cACpC,gBAAcA,MAAUwrE;AAAA,cAEvB,UAAA,OAAOO,KAAc,WACpB,gBAAAh5E,EAAC,OAAA,EAAI,KAAKg5E,GAAW,KAAK,aAAa/rE,IAAQ,CAAC,GAAA,CAAI,IAEpD+rE;AAAA,YAAA;AAAA,YATG/rE;AAAA,UAAA,IAJc;AAAA,QAiBzB,CAAC,EAAA,CACH;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIR,GAOMgsE,KAAgB,CAAC,EAAE,UAAA15E,GAAU,SAAA25E,GAAS,WAAA15E,QAAoC;AAC9E,QAAM25E,IAAe,CAACr5E,GAAO,eAAeN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAE/E,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWo5E,GACb,UAAA;AAAA,IAAA55E;AAAA,IACA25E,KACC,gBAAAn5E,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACpB,UAAA;AAAA,MAAAo5E,EAAQ,SAAS,gBAAAl5E,EAAC,MAAA,EAAI,UAAAk5E,EAAQ,OAAM;AAAA,MACpCA,EAAQ,eAAe,gBAAAl5E,EAAC,KAAA,EAAG,YAAQ,YAAA,CAAY;AAAA,IAAA,EAAA,CAClD;AAAA,EAAA,GAEJ;AAEJ;AAEAs3E,GAAS,QAAQ2B;AACjB3B,GAAS,cAAc;AACvB2B,GAAc,cAAc;;;;;;;;;;;;;;;;;;;;;GCjPfG,KAAQ,CAAC;AAAA,EACpB,KAAApE;AAAA,EACA,KAAA7nD;AAAA,EACA,KAAAksD,IAAM;AAAA,EACN,QAAAltD,IAAS;AAAA,EACT,aAAA9pB,IAAc;AAAA,EACd,UAAAqyC;AAAA,EACA,SAAAvrC,IAAU;AAAA,EACV,SAAA+vE;AAAA,EACA,SAAA95E,IAAU;AAAA,EACV,WAAAI;AAAA,EACA,OAAA2vB;AAAA,EACA,QAAA/B;AAAA,EACA,GAAGztB;AACL,MAAkB;AAChB,QAAM,CAAC25E,GAAaC,CAAc,IAAI32E,EAAyC,SAAS,GAClF,CAAC42E,GAAcC,CAAe,IAAI72E,EAAS,EAAK,GAEhD82E,IAAa,MAAM;AACvB,IAAAH,EAAe,QAAQ;AAAA,EACzB,GAEMI,IAAc,MAAM;AACxB,IAAAJ,EAAe,OAAO;AAAA,EACxB,GAEMK,IAAmB,MAAM;AAC7B,IAAIzwE,KAAWmwE,MAAgB,YAC7BG,EAAgB,EAAI;AAAA,EAExB,GAEMI,IAAsB,MAAM;AAChC,IAAAJ,EAAgB,EAAK;AAAA,EACvB,GAGMt1E,IAAgB,CAAC+E,MAAqB;AAC1C,IAAIA,EAAE,QAAQ,YACZ2wE,EAAA;AAAA,EAEJ;AAGA,EAAA71E,EAAU,OACJw1E,KACF,SAAS,iBAAiB,WAAWr1E,CAAa,GAClD,SAAS,KAAK,MAAM,WAAW,aAE/B,SAAS,oBAAoB,WAAWA,CAAa,GACrD,SAAS,KAAK,MAAM,WAAW,KAG1B,MAAM;AACX,aAAS,oBAAoB,WAAWA,CAAa,GACrD,SAAS,KAAK,MAAM,WAAW;AAAA,EACjC,IACC,CAACq1E,CAAY,CAAC;AAEjB,QAAMp4E,IAAiB;AAAA,IACrBtB,GAAO;AAAA,IACPqsB,MAAW,YAAYrsB,GAAO;AAAA,IAC9BqsB,MAAW,YAAYrsB,GAAO;AAAA,IAC9BqJ,KAAWrJ,GAAO;AAAA,IAClBw5E,MAAgB,aAAaj3E,KAAevC,GAAO;AAAA,IACnDw5E,MAAgB,WAAWx5E,GAAO;AAAA,IAClCN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAELs6E,IAAa;AAAA,IACjBh6E,GAAO;AAAA,IACPu5E,MAAQ,WAAWv5E,GAAO;AAAA,IAC1Bu5E,MAAQ,aAAav5E,GAAO;AAAA,IAC5Bu5E,MAAQ,UAAUv5E,GAAO;AAAA,EAAA,EAExB,OAAO,OAAO,EACd,KAAK,GAAG,GAELi6E,IAAoC;AAAA,IACxC,OAAA5qD;AAAA,IACA,QAAA/B;AAAA,EAAA,GAGI4sD,IAAgB,MAEhBV,MAAgB,UACd5kC,IACK,gBAAA10C,EAAC,OAAA,EAAI,WAAWF,GAAO,mBAAoB,UAAA40C,GAAS,IAG3D,gBAAA30C,EAAC,OAAA,EAAI,WAAWD,GAAO,mBACrB,UAAA;AAAA,IAAA,gBAAAE,EAACi6E,IAAA,EAAS;AAAA,IACV,gBAAAj6E,EAAC,UAAK,UAAA,uBAAA,CAAoB;AAAA,EAAA,GAC5B,IAKAs5E,MAAgB,aAAaj3E,IAC3B,OAAOA,KAAgB,YAEvB,gBAAAtC,EAAC,OAAA,EAAI,WAAWD,GAAO,kBACrB,UAAA;AAAA,IAAA,gBAAAE,EAACk6E,IAAA,EAAU;AAAA,IACX,gBAAAl6E,EAAC,UAAK,UAAA,aAAA,CAAU;AAAA,EAAA,GAClB,IAGG,gBAAAA,EAAC,OAAA,EAAI,WAAWF,GAAO,kBAAmB,UAAAuC,GAAY,IAK7D,gBAAAtC,EAAAwB,IAAA,EACE,UAAA;AAAA,IAAA,gBAAAvB;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW85E;AAAA,QACX,KAAA9E;AAAA,QACA,KAAA7nD;AAAA,QACA,SAAA/tB;AAAA,QACA,QAAQs6E;AAAA,QACR,SAASC;AAAA,QACT,OAAO;AAAA,UACL,SAASL,MAAgB,WAAW,UAAU;AAAA,QAAA;AAAA,QAE/C,GAAG35E;AAAA,MAAA;AAAA,IAAA;AAAA,IAELwJ,KAAWmwE,MAAgB,8BACzB,OAAA,EAAI,WAAWx5E,GAAO,qBACrB,UAAA;AAAA,MAAA,gBAAAE,EAACm6E,IAAA,EAAU;AAAA,MACX,gBAAAn6E,EAAC,UAAK,UAAA,mBAAA,CAAgB;AAAA,IAAA,EAAA,CACxB;AAAA,EAAA,GAEJ,GAIEo6E,IACJ,gBAAAp6E;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWoB;AAAA,MACX,OAAO24E;AAAA,MACP,SAASH;AAAA,MACT,MAAMzwE,IAAU,WAAW;AAAA,MAC3B,UAAUA,IAAU,IAAI;AAAA,MACxB,WACEA,IACI,CAACD,MAAM;AACL,SAAIA,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SACjCA,EAAE,eAAA,GACF0wE,EAAA;AAAA,MAEJ,IACA;AAAA,MAEN,cAAYzwE,IAAU,WAAWgkB,CAAG,KAAK;AAAA,MAExC,UAAA6sD,EAAA;AAAA,IAAc;AAAA,EAAA,GAKbK,IAAWb,KACfh9D;AAAA,IACE,gBAAAzc,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,MAAA,gBAAAE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWF,GAAO;AAAA,UAClB,SAAS+5E;AAAA,QAAA;AAAA,MAAA;AAAA,MAEX,gBAAA95E,EAAC,OAAA,EAAI,WAAWD,GAAO,sBACrB,UAAA;AAAA,QAAA,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,SAAS+5E;AAAA,YACT,cAAW;AAAA,YACX,MAAK;AAAA,YAEL,4BAACzvE,IAAA,CAAA,CAAE;AAAA,UAAA;AAAA,QAAA;AAAA,QAEL,gBAAApK,EAAC,OAAA,EAAI,KAAAg1E,GAAU,KAAA7nD,EAAA,CAAU;AAAA,MAAA,EAAA,CAC3B;AAAA,IAAA,GACF;AAAA,IACA,SAAS;AAAA,EAAA;AAIb,SAAI+rD,IAEA,gBAAAn5E,EAAAwB,IAAA,EACE,UAAA;AAAA,IAAA,gBAAAxB,EAAC,UAAA,EAAO,WAAWD,GAAO,aACvB,UAAA;AAAA,MAAAs6E;AAAA,MACD,gBAAAp6E,EAAC,cAAA,EAAW,WAAWF,GAAO,cAAe,UAAAo5E,EAAA,CAAQ;AAAA,IAAA,GACvD;AAAA,IACCmB;AAAA,EAAA,GACH,IAKF,gBAAAt6E,EAAAwB,IAAA,EACG,UAAA;AAAA,IAAA64E;AAAA,IACAC;AAAA,EAAA,GACH;AAEJ;AAEAjB,GAAM,cAAc;;;;;;;;;;;;;;;;;;;;GCrKPkB,KAAc,CAAC;AAAA,EAC1B,MAAA9V;AAAA,EACA,SAAAhpD;AAAA,EACA,KAAAw5D;AAAA,EACA,KAAA7nD,IAAM;AAAA,EACN,QAAAotD;AAAA,EACA,cAAAC,IAAe;AAAA,EACf,SAAAC,IAAU;AAAA,EACV,UAAAC,IAAW;AAAA,EACX,cAAAC,IAAe;AAAA,EACf,UAAAC,IAAW;AAAA,EACX,YAAAC,IAAa;AAAA,EACb,YAAAC,IAAa;AAAA,EACb,MAAA/C,IAAO;AAAA,EACP,SAAAgD,IAAU;AAAA,EACV,SAAAC,IAAU;AAAA,EACV,UAAAC,IAAW;AAAA,EACX,YAAAC;AACF,MAAwB;AACtB,QAAM,CAACzC,GAAc0C,CAAe,IAAIv4E,EAAS43E,CAAY,GACvD,CAACY,GAAMC,CAAO,IAAIz4E,EAAS,CAAC,GAC5B,CAAC04E,GAAUC,CAAW,IAAI34E,EAAS,CAAC,GACpC,CAACxD,GAASo8E,CAAU,IAAI54E,EAAS,EAAI,GACrC64E,IAAWv4E,EAAyB,IAAI,GACxCw4E,IAAmBx4E,EAA2B,IAAI,GAGlDy4E,IAAY,CAAC,CAACpB,KAAUA,EAAO,SAAS,GACxCqB,IAAeD,IACjBpB,EAAO9B,CAAY,IACnB,EAAE,KAAKzD,KAAO,IAAI,KAAK7nD,KAAO,GAAA;AAGlC,EAAAnpB,EAAU,MAAM;AACd,IAAIwgE,MACF6W,EAAQ,CAAC,GACTE,EAAY,CAAC,GACbC,EAAW,EAAI;AAAA,EAEnB,GAAG,CAAC/C,GAAcjU,CAAI,CAAC,GAGvBxgE,EAAU,OACJwgE,KACFkX,EAAiB,UAAU,SAAS,eAEpC,SAAS,KAAK,MAAM,WAAW,aAG/B,SAAS,KAAK,MAAM,WAAW,IAE3BA,EAAiB,WACnBA,EAAiB,QAAQ,MAAA,IAItB,MAAM;AACX,aAAS,KAAK,MAAM,WAAW;AAAA,EACjC,IACC,CAAClX,CAAI,CAAC,GAGTxgE,EAAU,MAAM;AACd,QAAI,CAAC42E,KAAY,CAACpW,EAAM;AAExB,UAAMrgE,IAAgB,CAAC+E,MAAqB;AAC1C,cAAQA,EAAE,KAAA;AAAA,QACR,KAAK;AACH,UAAAsS,EAAA;AACA;AAAA,QACF,KAAK;AACH,UAAImgE,KAAad,KACfgB,EAAA;AAEF;AAAA,QACF,KAAK;AACH,UAAIF,KAAad,KACfiB,EAAA;AAEF;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,UAAAC,EAAA;AACA;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,UAAAC,EAAA;AACA;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AACH,UAAAC,EAAA;AACA;AAAA,MAEA;AAAA,IAEN;AAEA,oBAAS,iBAAiB,WAAW93E,CAAa,GAC3C,MAAM;AACX,eAAS,oBAAoB,WAAWA,CAAa;AAAA,IACvD;AAAA,EACF,GAAG,CAACy2E,GAAUpW,GAAMmX,GAAWd,GAAYpC,GAAc2C,GAAME,CAAQ,CAAC;AAGxE,QAAMS,IAAeh6E,EAAY,MAAM;AACrC,IAAAs5E,EAAQ,CAACt3E,MAAS,KAAK,IAAIA,IAAOk3E,GAAUD,CAAO,CAAC;AAAA,EACtD,GAAG,CAACC,GAAUD,CAAO,CAAC,GAGhBgB,IAAgBj6E,EAAY,MAAM;AACtC,IAAAs5E,EAAQ,CAACt3E,MAAS,KAAK,IAAIA,IAAOk3E,GAAUF,CAAO,CAAC;AAAA,EACtD,GAAG,CAACE,GAAUF,CAAO,CAAC,GAGhBmB,IAAmBn6E,EAAY,MAAM;AACzC,IAAAw5E,EAAY,CAACx3E,MAASA,IAAO,EAAE;AAAA,EACjC,GAAG,CAAA,CAAE,GAGCk4E,IAAoBl6E,EAAY,MAAM;AAC1C,IAAAw5E,EAAY,CAACx3E,MAASA,IAAO,EAAE;AAAA,EACjC,GAAG,CAAA,CAAE,GAGCo4E,IAAcp6E,EAAY,MAAM;AACpC,IAAAs5E,EAAQ,CAAC,GACTE,EAAY,CAAC;AAAA,EACf,GAAG,CAAA,CAAE,GAGCO,IAAe/5E,EAAY,MAAM;AACrC,QAAI,CAAC45E,EAAW;AAEhB,UAAMS,IAAY3D,IAAe;AACjC,IAAI2D,IAAY7B,EAAO,UACrBY,EAAgBiB,CAAS,GACzBlB,IAAakB,CAAS,KACbrE,MACToD,EAAgB,CAAC,GACjBD,IAAa,CAAC;AAAA,EAElB,GAAG,CAACS,GAAWlD,GAAc8B,GAAQxC,GAAMmD,CAAU,CAAC,GAGhDW,IAAmB95E,EAAY,MAAM;AACzC,QAAI,CAAC45E,EAAW;AAEhB,UAAM/kC,IAAY6hC,IAAe;AACjC,IAAI7hC,KAAa,KACfukC,EAAgBvkC,CAAS,GACzBskC,IAAatkC,CAAS,KACbmhC,MACToD,EAAgBZ,EAAO,SAAS,CAAC,GACjCW,IAAaX,EAAO,SAAS,CAAC;AAAA,EAElC,GAAG,CAACoB,GAAWlD,GAAc8B,GAAQxC,GAAMmD,CAAU,CAAC,GAGhDmB,IAAYt6E;AAAA,IAChB,CAACkL,MAAkB;AACjB,MAAI,CAAC0uE,KAAa1uE,IAAQ,KAAKA,KAASstE,EAAO,WAC/CY,EAAgBluE,CAAK,GACrBiuE,IAAajuE,CAAK;AAAA,IACpB;AAAA,IACA,CAAC0uE,GAAWpB,GAAQW,CAAU;AAAA,EAAA,GAI1BoB,KAAkB,MAAM;AAC5B,IAAI3B,KACFn/D,EAAA;AAAA,EAEJ,GAGM+gE,IAAkB,MAAM;AAC5B,IAAAf,EAAW,EAAK;AAAA,EAClB,GAGMgB,KAAiB,CAACzE,KAAQU,MAAiB,GAC3CgE,KAAiB,CAAC1E,KAAQ4D,KAAalD,MAAiB8B,EAAO,SAAS;AAE9E,MAAI,CAAC/V,EAAM,QAAO;AAElB,QAAMkY,KACJ,gBAAA38E,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,WAAW,IAAIA,GAAO,eAAe,IAC7D,UAAA;AAAA,IAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,iBAAiB,SAASw8E,IAAiB;AAAA,IAElE,gBAAAv8E,EAAC,OAAA,EAAI,WAAWD,GAAO,oBAEpB,UAAA;AAAA,MAAA46E,KACC,gBAAA16E;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWF,GAAO;AAAA,UAClB,SAAS0b;AAAA,UACT,cAAW;AAAA,UACX,MAAK;AAAA,UAEL,4BAACpR,IAAA,CAAA,CAAE;AAAA,QAAA;AAAA,MAAA;AAAA,MAKNqwE,KACC,gBAAA16E,EAAC,OAAA,EAAI,WAAWD,GAAO,oBAEpB,UAAA;AAAA,QAAA67E,KACC,gBAAA57E,EAAAwB,IAAA,EACE,UAAA;AAAA,UAAA,gBAAAxB,EAAC,QAAA,EAAK,WAAWD,GAAO,oBACrB,UAAA;AAAA,YAAA24E,IAAe;AAAA,YAAE;AAAA,YAAI8B,EAAO;AAAA,UAAA,GAC/B;AAAA,UACA,gBAAAv6E,EAAC,OAAA,EAAI,WAAWF,GAAO,mBAAA,CAAoB;AAAA,QAAA,GAC7C;AAAA,QAIF,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,SAASk8E;AAAA,YACT,cAAW;AAAA,YACX,MAAK;AAAA,YACL,UAAUZ,KAAQL;AAAA,YAElB,4BAAC4B,IAAA,CAAA,CAAQ;AAAA,UAAA;AAAA,QAAA;AAAA,0BAIV,QAAA,EAAK,WAAW78E,GAAO,sBAAsB,aAAU,UACrD,UAAA;AAAA,UAAA,KAAK,MAAMs7E,IAAO,GAAG;AAAA,UAAE;AAAA,QAAA,GAC1B;AAAA,QAGA,gBAAAp7E;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,SAASi8E;AAAA,YACT,cAAW;AAAA,YACX,MAAK;AAAA,YACL,UAAUX,KAAQJ;AAAA,YAElB,4BAAC4B,IAAA,CAAA,CAAO;AAAA,UAAA;AAAA,QAAA;AAAA,QAGV,gBAAA58E,EAAC,OAAA,EAAI,WAAWF,GAAO,mBAAA,CAAoB;AAAA,QAG3C,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,SAASo8E;AAAA,YACT,cAAW;AAAA,YACX,MAAK;AAAA,YAEL,4BAACW,IAAA,CAAA,CAAU;AAAA,UAAA;AAAA,QAAA;AAAA,QAIb,gBAAA78E;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,SAASm8E;AAAA,YACT,cAAW;AAAA,YACX,MAAK;AAAA,YAEL,4BAACa,IAAA,CAAA,CAAS;AAAA,UAAA;AAAA,QAAA;AAAA,QAGZ,gBAAA98E,EAAC,OAAA,EAAI,WAAWF,GAAO,mBAAA,CAAoB;AAAA,QAG3C,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,SAASq8E;AAAA,YACT,cAAW;AAAA,YACX,MAAK;AAAA,YAEL,4BAAChC,IAAA,CAAA,CAAU;AAAA,UAAA;AAAA,QAAA;AAAA,MACb,GACF;AAAA,MAIDwB,KAAad,KACZ,gBAAA96E,EAAAwB,IAAA,EACE,UAAA;AAAA,QAAA,gBAAAvB;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW,GAAGF,GAAO,cAAc,IAAIA,GAAO,eAAe;AAAA,YAC7D,SAAS+7E;AAAA,YACT,UAAUW;AAAA,YACV,cAAW;AAAA,YACX,MAAK;AAAA,YAEL,4BAAC9oE,IAAA,CAAA,CAAY;AAAA,UAAA;AAAA,QAAA;AAAA,QAGf,gBAAA1T;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW,GAAGF,GAAO,cAAc,IAAIA,GAAO,eAAe;AAAA,YAC7D,SAASg8E;AAAA,YACT,UAAUW;AAAA,YACV,cAAW;AAAA,YACX,MAAK;AAAA,YAEL,4BAAC9oE,IAAA,CAAA,CAAa;AAAA,UAAA;AAAA,QAAA;AAAA,MAChB,GACF;AAAA,MAIF,gBAAA5T,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACpB,UAAA;AAAA,QAAAV,KAAW,gBAAAY,EAAC,OAAA,EAAI,WAAWF,GAAO,oBAAoB;AAAA,QACvD,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAKy7E;AAAA,YACL,KAAKG,EAAa;AAAA,YAClB,KAAKA,EAAa;AAAA,YAClB,WAAW;AAAA,YACX,QAAQW;AAAA,YACR,OAAO;AAAA,cACL,WAAW,SAASnB,CAAI,YAAYE,CAAQ;AAAA,cAC5C,SAASl8E,IAAU,SAAS;AAAA,YAAA;AAAA,UAC9B;AAAA,QAAA;AAAA,MACF,GACF;AAAA,MAGCu8E,KAAab,KACZ,gBAAA96E,EAAC,OAAA,EAAI,WAAWF,GAAO,uBACpB,UAAAy6E,EAAO,IAAI,CAACrtD,GAAOjgB,MAClB,gBAAAjN;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,KAAKktB,EAAM,aAAaA,EAAM;AAAA,UAC9B,KAAK,aAAajgB,IAAQ,CAAC;AAAA,UAC3B,WAAW,GAAGnN,GAAO,oBAAoB,IACvCmN,MAAUwrE,IAAe34E,GAAO,6BAA6B,EAC/D;AAAA,UACA,SAAS,MAAMu8E,EAAUpvE,CAAK;AAAA,QAAA;AAAA,QANzBA;AAAA,MAAA,CAQR,EAAA,CACH;AAAA,IAAA,EAAA,CAEJ;AAAA,EAAA,GACF;AAGF,SAAOuP,GAAakgE,IAAQ,SAAS,IAAI;AAC3C;AAEApC,GAAY,cAAc;;;;;;;;;;;;;;;;GC1XbyC,KAAgB,CAACC,MAGrB;AAGTD,GAAc,cAAc;AA0BrB,MAAME,KAAY,CAAC;AAAA,EACxB,OAAAx4D;AAAA,EACA,SAAAy4D;AAAA,EACA,UAAA39E;AAAA,EACA,WAAA49E,IAAY;AAAA,EACZ,YAAAzvD,IAAa;AAAA,EACb,SAAAje,IAAU;AAAA,EACV,WAAA2tE;AAAA,EACA,WAAA59E;AACF,MAAsB;AAEpB,QAAM69E,IAAgB,MAAM,QAAQ99E,CAAQ,IAAIA,IAAWA,IAAW,CAACA,CAAQ,IAAI,CAAA,GAE7E,CAAC2jB,GAAOo6D,CAAQ,IAAI16E,EAAsBy6E,CAAa,GACvD,CAACE,GAAcC,CAAe,IAAI56E,EAAwB,IAAI,GAC9D66E,IAAgBv6E,EAAsB,IAAI,GAG1Cw6E,IAAeL,EAAc,SAAS,IAAIA,IAAgBn6D,GAE1D3X,IAAmB;AAAA,IACvBzL,GAAO;AAAA,IACPq9E,KAAar9E,GAAO;AAAA,IACpB4tB,KAAc5tB,GAAO;AAAA,IACrB2P,KAAW3P,GAAO;AAAA,IAClBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAELm+E,IAAW,CAACC,GAAmBC,MAAoB;AACvD,QAAIA,IAAU,KAAKA,KAAWH,EAAa,OAAQ;AAEnD,UAAMI,IAAW,CAAC,GAAGJ,CAAY,GAC3B,CAACK,CAAS,IAAID,EAAS,OAAOF,GAAW,CAAC;AAChD,IAAAE,EAAS,OAAOD,GAAS,GAAGE,CAAS,GAErCT,EAASQ,CAAQ,GACjBV,IAAYU,CAAQ;AAAA,EACtB,GAEME,IAAe,CAAC/wE,MAAkB;AACtC,IAAA0wE,EAAS1wE,GAAOA,IAAQ,CAAC;AAAA,EAC3B,GAEMgxE,IAAiB,CAAChxE,MAAkB;AACxC,IAAA0wE,EAAS1wE,GAAOA,IAAQ,CAAC;AAAA,EAC3B,GAGMixE,IAAkB,CAACh1E,GAA6B+D,MAAkB;AACtE,IAAAuwE,EAAgBvwE,CAAK,GACrB/D,EAAE,cAAc,UAAU,IAAIpJ,GAAO,qBAAqB;AAAA,EAC5D,GAEMq+E,IAAgB,CAACj1E,MAAgC;AACrD,IAAAA,EAAE,cAAc,UAAU,OAAOpJ,GAAO,qBAAqB,GAC7D09E,EAAgB,IAAI,GACpBC,EAAc,UAAU;AAAA,EAC1B,GAEMj0E,IAAiB,CAACN,GAA6B+D,MAAkB;AAErE,IADA/D,EAAE,eAAA,GACE,EAAAq0E,MAAiB,QAAQA,MAAiBtwE,OAE9CwwE,EAAc,UAAUxwE;AAAA,EAC1B,GAEMxD,IAAa,CAACP,GAA6B+D,MAAkB;AAEjE,IADA/D,EAAE,eAAA,GACEq0E,MAAiB,SAErBI,EAASJ,GAActwE,CAAK,GAC5BuwE,EAAgB,IAAI,GACpBC,EAAc,UAAU;AAAA,EAC1B;AAEA,SACE,gBAAA19E,EAAC,OAAA,EAAI,WAAWwL,GACZ,UAAA;AAAA,KAAAkZ,KAASy4D,MACT,gBAAAn9E,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACpB,UAAA;AAAA,MAAA2kB,KAAS,gBAAAzkB,EAAC,QAAI,UAAAykB,EAAA,CAAM;AAAA,MACpBy4D,KAAW,gBAAAl9E,EAAC,OAAA,EAAI,WAAWF,GAAO,wBAAyB,UAAAo9E,EAAA,CAAQ;AAAA,IAAA,GACtE;AAAA,IAEF,gBAAAl9E,EAAC,QAAG,WAAWF,GAAO,gBACnB,UAAA49E,EAAa,IAAI,CAAC92D,GAAY3Z,MAAU;AACvC,YAAMmxE,IAAYx3D,GAAO,SAAS,CAAA,GAC5By3D,IAAUpxE,MAAU,GACpBqxE,IAASrxE,MAAUywE,EAAa,SAAS;AAE/C,aACE,gBAAA39E;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,WAAWD,GAAO;AAAA,UAClB,cAAYmN;AAAA,UACZ,WAAAkwE;AAAA,UACA,aAAaA,IAAY,CAACj0E,MAAMg1E,EAAgBh1E,GAAG+D,CAAK,IAAI;AAAA,UAC5D,WAAWkwE,IAAYgB,IAAgB;AAAA,UACvC,YAAYhB,IAAY,CAACj0E,MAAMM,EAAeN,GAAG+D,CAAK,IAAI;AAAA,UAC1D,QAAQkwE,IAAY,CAACj0E,MAAMO,EAAWP,GAAG+D,CAAK,IAAI;AAAA,UAEjD,UAAA;AAAA,YAAAkwE,KACC,gBAAAn9E,EAAC,SAAI,WAAWF,GAAO,yBACrB,UAAA,gBAAAE,EAAC4gE,IAAA,EAAa,MAAM,GAAA,CAAI,EAAA,CAC1B;AAAA,YAGDlzC,KACC,gBAAA1tB,EAAC,SAAA,EAAM,WAAWF,GAAO,uBACvB,UAAA,gBAAAE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,WAAU;AAAA,gBACV,SAASo+E,EAAU,YAAY;AAAA,gBAC/B,UAAU,CAACl1E,MAAMk1E,EAAU,WAAWl1E,EAAE,OAAO,OAAO;AAAA,cAAA;AAAA,YAAA,GAE1D;AAAA,YAGF,gBAAAnJ,EAAC,OAAA,EAAI,WAAWD,GAAO,sBACpB,UAAA;AAAA,cAAAs+E,EAAU,QAAQ,gBAAAp+E,EAAC,QAAA,EAAK,WAAWF,GAAO,mBAAoB,YAAU,KAAA,CAAK;AAAA,cAC9E,gBAAAE,EAAC,QAAA,EAAM,UAAAo+E,EAAU,SAAA,CAAS;AAAA,cACzBA,EAAU,SAASA,EAAU;AAAA,YAAA,GAChC;AAAA,YAEA,gBAAAr+E,EAAC,OAAA,EAAI,WAAWD,GAAO,uBACrB,UAAA;AAAA,cAAA,gBAAAE;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,WAAW,GAAGF,GAAO,YAAY,IAAIA,GAAO,cAAc;AAAA,kBAC1D,SAAS,MAAMk+E,EAAa/wE,CAAK;AAAA,kBACjC,UAAUoxE;AAAA,kBACV,cAAW;AAAA,kBACX,MAAK;AAAA,kBAEL,UAAA,gBAAAr+E,EAACmiE,IAAA,EAAU,MAAM,GAAA,CAAI;AAAA,gBAAA;AAAA,cAAA;AAAA,cAEvB,gBAAAniE;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,WAAW,GAAGF,GAAO,YAAY,IAAIA,GAAO,gBAAgB;AAAA,kBAC5D,SAAS,MAAMm+E,EAAehxE,CAAK;AAAA,kBACnC,UAAUqxE;AAAA,kBACV,cAAW;AAAA,kBACX,MAAK;AAAA,kBAEL,UAAA,gBAAAt+E,EAAC+E,IAAA,EAAY,MAAM,GAAA,CAAI;AAAA,gBAAA;AAAA,cAAA;AAAA,YACzB,EAAA,CACF;AAAA,UAAA;AAAA,QAAA;AAAA,QAnDKq5E,EAAU,MAAMnxE;AAAA,MAAA;AAAA,IAsD3B,CAAC,EAAA,CACH;AAAA,EAAA,GACF;AAEJ;AAEAgwE,GAAU,cAAc;AAGxBA,GAAU,OAAOF;;;;;;;;;;;GClOXwB,KAAe;AAAA,EACnB,MAAMC;AAAA,EACN,SAASC;AAAA,EACT,SAASC;AAAA,EACT,OAAOC;AACT,GAEaC,KAA8B,CAAC;AAAA,EAC1C,SAAA1/E,IAAU;AAAA,EACV,OAAAulB;AAAA,EACA,UAAAllB;AAAA,EACA,SAAAic;AAAA,EACA,WAAAhc,IAAY;AACd,MAAM;AACJ,QAAMq/E,IAAON,GAAar/E,CAAO;AAEjC,SACE,gBAAAa;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGD,GAAO,KAAK,IAAIA,GAAO,SAASZ,CAAO,EAAE,CAAC,IAAIM,CAAS;AAAA,MACrE,MAAK;AAAA,MAEL,UAAA;AAAA,QAAA,gBAAAQ,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,YAAY,EAAA,CAAG;AAAA,QACvC,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,eAAe,GACnC,UAAA;AAAA,UAAA2kB,uBAAU,OAAA,EAAI,WAAW3kB,GAAO,aAAa,GAAI,UAAA2kB,GAAM;AAAA,UACxD,gBAAAzkB,EAAC,SAAK,UAAAT,EAAA,CAAS;AAAA,QAAA,GACjB;AAAA,QACCic,KACC,gBAAAxb;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO,aAAa;AAAA,YAC/B,SAAS0b;AAAA,YACT,cAAW;AAAA,YAEX,UAAA,gBAAAxb,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI;AAAA,UAAA;AAAA,QAAA;AAAA,MACf;AAAA,IAAA;AAAA,EAAA;AAIR;AAEAw0E,GAAM,cAAc;;;;;;;;;;;;;;;;;;;;;;GChCdL,KAAe;AAAA,EACnB,MAAMC;AAAA,EACN,SAASC;AAAA,EACT,SAASC;AAAA,EACT,OAAOC;AACT,GAEaG,KAA8Br9E,GAAK,CAAC;AAAA,EAC/C,SAAAvC,IAAU;AAAA,EACV,OAAAulB;AAAA,EACA,SAAAtjB;AAAA,EACA,UAAA48C,IAAW;AAAA,EACX,SAAAviC;AACF,MAAM;AACJ,QAAMqjE,IAAON,GAAar/E,CAAO;AAEjC,EAAA8E,EAAU,MAAM;AACd,QAAI+5C,IAAW,KAAKviC,GAAS;AAC3B,YAAMiyD,IAAQ,WAAW,MAAM;AAC7B,QAAAjyD,EAAA;AAAA,MACF,GAAGuiC,CAAQ;AAEX,aAAO,MAAM,aAAa0vB,CAAK;AAAA,IACjC;AAAA,EACF,GAAG,CAAC1vB,GAAUviC,CAAO,CAAC;AAEtB,QAAMoD,IAAc7c,EAAY,MAAM;AACpC,IAAAyZ,IAAA;AAAA,EACF,GAAG,CAACA,CAAO,CAAC;AAEZ,SACE,gBAAAzb,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,KAAK,IAAIA,GAAO,SAASZ,CAAO,EAAE,CAAC,IAAI,MAAK,SACpE,UAAA;AAAA,IAAA,gBAAAc,EAAC6+E,KAAK,WAAW/+E,GAAO,YAAY,GAAG,MAAM,IAAI;AAAA,IACjD,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,eAAe,GACnC,UAAA;AAAA,MAAA2kB,uBAAU,OAAA,EAAI,WAAW3kB,GAAO,aAAa,GAAI,UAAA2kB,GAAM;AAAA,wBACvD,OAAA,EAAI,WAAW3kB,GAAO,eAAe,GAAI,UAAAqB,EAAA,CAAQ;AAAA,IAAA,GACpD;AAAA,IACCqa,KACC,gBAAAxb;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO,aAAa;AAAA,QAC/B,SAAS8e;AAAA,QACT,cAAW;AAAA,QAEX,UAAA,gBAAA5e,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI;AAAA,MAAA;AAAA,IAAA;AAAA,EACf,GAEJ;AAEJ,CAAC;AAED00E,GAAM,cAAc;;;;;;;;;;;;;;;;GCjDdC,KAAU;AAAA,EACd,SAASN;AAAA,EACT,OAAOE;AAAA,EACP,SAASD;AAAA,EACT,MAAMF;AAAA,EACN,SAASt0D;AACX,GAQa80D,KAAkC,CAAC;AAAA,EAC9C,MAAAt/E;AAAA,EACA,OAAA+kB;AAAA,EACA,aAAAhY;AAAA,EACA,UAAAiuE,IAAW;AAAA,EACX,SAAAl/D;AAAA,EACA,WAAAhc,IAAY;AAAA,EACZ,SAAAy/E,IAAU;AACZ,MAAM;AACJ,QAAMJ,IAAOE,GAAQr/E,CAAI,GAEnB4B,IAAiB;AAAA,IACrBxB,GAAO;AAAA,IACPA,GAAO,WAAWJ,CAAI,EAAE;AAAA,IACxBu/E,KAAWn/E,GAAO,iBAAiB;AAAA,IACnCN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAO;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWuB;AAAA,MACX,MAAK;AAAA,MACL,aAAU;AAAA,MACV,eAAY;AAAA,MAEZ,UAAA;AAAA,QAAA,gBAAAtB,EAAC,SAAI,WAAWF,GAAO,cAAc,GACnC,UAAA,gBAAAE,EAAC6+E,KAAK,EAAA,CACR;AAAA,QAEA,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,iBAAiB,GACtC,UAAA;AAAA,UAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAe,GAAI,UAAA2kB,GAAM;AAAA,UAC/ChY,KACC,gBAAAzM,EAAC,OAAA,EAAI,WAAWF,GAAO,qBAAqB,GAAI,UAAA2M,EAAA,CAAY;AAAA,QAAA,GAEhE;AAAA,QAECiuE,KACC,gBAAA16E;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO,eAAe;AAAA,YACjC,SAAS0b;AAAA,YACT,cAAW;AAAA,YAEX,4BAACpR,IAAA,CAAA,CAAE;AAAA,UAAA;AAAA,QAAA;AAAA,MACL;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA40E,GAAQ,cAAc;;;;;;;;;;;;;GCvDhBE,KAAQ,CAAC;AAAA,EACb,MAAA1a;AAAA,EACA,SAAAhpD;AAAA,EACA,UAAAjc;AAAA,EACA,MAAAJ,IAAO;AAAA,EACP,qBAAAggF,IAAsB;AAAA,EACtB,eAAAC,IAAgB;AAAA,EAChB,WAAA5/E,IAAY;AACd,MAAkB;AAChB,QAAM6/E,IAAWn8E,EAAuB,IAAI,GACtCo8E,IAAwBp8E,EAA2B,IAAI;AAG7D,EAAAc,EAAU,MAAM;AACd,IAAIwgE,MACF8a,EAAsB,UAAU,SAAS;AAAA,EAE7C,GAAG,CAAC9a,CAAI,CAAC,GAGTxgE,EAAU,MAAM;AACd,QAAI,CAACwgE,KAAQ,CAAC4a,EAAe;AAE7B,UAAM7iE,IAAe,CAACrT,MAAqB;AACzC,MAAIA,EAAE,QAAQ,YACZsS,EAAA;AAAA,IAEJ;AAEA,oBAAS,iBAAiB,WAAWe,CAAY,GAC1C,MAAM,SAAS,oBAAoB,WAAWA,CAAY;AAAA,EACnE,GAAG,CAACioD,GAAM4a,GAAe5jE,CAAO,CAAC,GAGjCxX,EAAU,MAAM;AACd,QAAIwgE;AAIF,UAHA,SAAS,KAAK,MAAM,WAAW,UAG3B6a,EAAS,SAAS;AACpB,cAAME,IAAiBF,EAAS,QAAQ;AAAA,UACtC;AAAA,QAAA;AAEF,QAAIE,KACF,WAAW,MAAMA,EAAe,MAAA,GAAS,GAAG;AAAA,MAEhD;AAAA;AAEA,eAAS,KAAK,MAAM,WAAW,IAG3BD,EAAsB,WACxBA,EAAsB,QAAQ,MAAA;AAIlC,WAAO,MAAM;AACX,eAAS,KAAK,MAAM,WAAW;AAAA,IACjC;AAAA,EACF,GAAG,CAAC9a,CAAI,CAAC,GAGTxgE,EAAU,MAAM;AACd,QAAI,CAACwgE,KAAQ,CAAC6a,EAAS,QAAS;AAEhC,UAAMG,IAAe,CAACt2E,MAAqB;AACzC,UAAIA,EAAE,QAAQ,SAAS,CAACm2E,EAAS,QAAS;AAE1C,YAAMI,IAAoBJ,EAAS,QAAQ;AAAA,QACzC;AAAA,MAAA,GAGIruB,IAAeyuB,EAAkB,CAAC,GAClCC,IAAcD,EAAkBA,EAAkB,SAAS,CAAC;AAElE,MAAIv2E,EAAE,WACA,SAAS,kBAAkB8nD,MAC7B9nD,EAAE,eAAA,GACFw2E,GAAa,MAAA,KAGX,SAAS,kBAAkBA,MAC7Bx2E,EAAE,eAAA,GACF8nD,GAAc,MAAA;AAAA,IAGpB;AAEA,oBAAS,iBAAiB,WAAWwuB,CAAY,GAC1C,MAAM,SAAS,oBAAoB,WAAWA,CAAY;AAAA,EACnE,GAAG,CAAChb,CAAI,CAAC;AAET,QAAMmb,IAAqB59E;AAAA,IACzB,CAACmH,MAAwC;AACvC,MAAIi2E,KAAuBj2E,EAAE,WAAWA,EAAE,iBACxCsS,EAAA;AAAA,IAEJ;AAAA,IACA,CAAC2jE,GAAqB3jE,CAAO;AAAA,EAAA;AAG/B,MAAI,CAACgpD,EAAM,QAAO;AAElB,QAAM/+D,IAAYtG,MAAS,OAAOW,GAAO,UACvBX,MAAS,OAAOW,GAAO,UACvBX,MAAS,SAASW,GAAO,YAAYA,GAAO;AAE9D,SAAO0c;AAAA,IACL,gBAAAxc;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO;AAAA,QAClB,SAAS6/E;AAAA,QACT,MAAK;AAAA,QAEL,UAAA,gBAAA3/E;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAKq/E;AAAA,YACL,WAAW,GAAGv/E,GAAO,KAAK,IAAI2F,CAAS,IAAIjG,CAAS;AAAA,YACpD,MAAK;AAAA,YACL,cAAW;AAAA,YAEV,UAAAD;AAAA,UAAA;AAAA,QAAA;AAAA,MACH;AAAA,IAAA;AAAA,IAEF,SAAS;AAAA,EAAA;AAEb,GAEMqgF,KAAc,CAAC;AAAA,EACnB,UAAArgF;AAAA,EACA,SAAAic;AAAA,EACA,iBAAAqkE,IAAkB;AAAA,EAClB,WAAArgF,IAAY;AACd,MAEI,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,WAAW,IAAIN,CAAS,IAC/C,UAAA;AAAA,EAAAD;AAAA,EACAsgF,KAAmBrkE,KAClB,gBAAAxb;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWF,GAAO;AAAA,MAClB,SAAS0b;AAAA,MACT,cAAW;AAAA,MAEX,UAAA,gBAAAxb,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI;AAAA,IAAA;AAAA,EAAA;AACf,GAEJ,GAIE01E,KAAa,CAAC,EAAE,UAAAvgF,QACb,gBAAAS,EAAC,MAAA,EAAG,WAAWF,GAAO,YAAa,UAAAP,GAAS,GAG/CwgF,KAAY,CAAC,EAAE,UAAAxgF,GAAU,WAAAC,IAAY,IAAI,OAAA0P,QACtC,gBAAAlP,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,SAAS,IAAIN,CAAS,IAAI,OAAA0P,GAAe,UAAA3P,EAAA,CAAS,GAG/EygF,KAAc,CAAC,EAAE,UAAAzgF,GAAU,WAAAC,IAAY,SACpC,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,WAAW,IAAIN,CAAS,IAAK,UAAAD,EAAA,CAAS;AAGzE2/E,GAAM,cAAc;AACpBU,GAAY,cAAc;AAC1BE,GAAW,cAAc;AACzBC,GAAU,cAAc;AACxBC,GAAY,cAAc;;;;;;;;;;;;;;;;;;;;GC5HbC,KAAS,CAAC;AAAA,EACrB,MAAAzb;AAAA,EACA,SAAAhpD;AAAA,EACA,WAAA0kE,IAAY;AAAA,EACZ,MAAA/gF,IAAO;AAAA,EACP,qBAAAggF,IAAsB;AAAA,EACtB,YAAAgB,IAAa;AAAA,EACb,UAAA5gF;AAAA,EACA,WAAAC;AAAA,EACA,cAAcyG;AAAA,EACd,mBAAmBm6E;AACrB,MAAmB;AACjB,QAAMC,IAAYn9E,EAAuB,IAAI,GACvCo8E,IAAwBp8E,EAA2B,IAAI,GAGvDy8E,IAAqB59E;AAAA,IACzB,CAACmH,MAAwC;AACvC,MAAIi2E,KAAuBj2E,EAAE,WAAWA,EAAE,iBACxCsS,EAAA;AAAA,IAEJ;AAAA,IACA,CAAC2jE,GAAqB3jE,CAAO;AAAA,EAAA;AA0F/B,MAtFAxX,EAAU,MAAM;AACd,QAAI,CAACwgE,KAAQ,CAAC2b,EAAY;AAE1B,UAAM5jE,IAAe,CAACrT,MAAqB;AACzC,MAAIA,EAAE,QAAQ,YACZsS,EAAA;AAAA,IAEJ;AAEA,oBAAS,iBAAiB,WAAWe,CAAY,GAC1C,MAAM,SAAS,oBAAoB,WAAWA,CAAY;AAAA,EACnE,GAAG,CAACioD,GAAM2b,GAAY3kE,CAAO,CAAC,GAG9BxX,EAAU,MAAM;AACd,QAAIwgE,GAAM;AACR,YAAM8b,IAAiB,OAAO,aAAa,SAAS,gBAAgB;AACpE,eAAS,KAAK,MAAM,WAAW,UAC/B,SAAS,KAAK,MAAM,eAAe,GAAGA,CAAc;AAAA,IACtD;AACE,eAAS,KAAK,MAAM,WAAW,IAC/B,SAAS,KAAK,MAAM,eAAe;AAGrC,WAAO,MAAM;AACX,eAAS,KAAK,MAAM,WAAW,IAC/B,SAAS,KAAK,MAAM,eAAe;AAAA,IACrC;AAAA,EACF,GAAG,CAAC9b,CAAI,CAAC,GAGTxgE,EAAU,MAAM;AACd,QAAIwgE,KAAQ6b,EAAU,SAAS;AAE7B,MAAAf,EAAsB,UAAU,SAAS;AAMzC,YAAMC,IAHoBc,EAAU,QAAQ;AAAA,QAC1C;AAAA,MAAA,EAEuC,CAAC;AAC1C,MAAId,KACFA,EAAe,MAAA;AAAA,IAEnB,MAAA,CAAW,CAAC/a,KAAQ8a,EAAsB,YAExCA,EAAsB,QAAQ,MAAA,GAC9BA,EAAsB,UAAU;AAAA,EAEpC,GAAG,CAAC9a,CAAI,CAAC,GAGTxgE,EAAU,MAAM;AACd,QAAI,CAACwgE,KAAQ,CAAC6b,EAAU,QAAS;AAEjC,UAAME,IAAY,CAACr3E,MAAqB;AACtC,UAAIA,EAAE,QAAQ,SAAS,CAACm3E,EAAU,QAAS;AAE3C,YAAMZ,IAAoB,MAAM;AAAA,QAC9BY,EAAU,QAAQ;AAAA,UAChB;AAAA,QAAA;AAAA,MACF,GAGId,IAAiBE,EAAkB,CAAC,GACpCe,IAAgBf,EAAkBA,EAAkB,SAAS,CAAC;AAEpE,MAAIv2E,EAAE,WAEA,SAAS,kBAAkBq2E,MAC7Br2E,EAAE,eAAA,GACFs3E,GAAe,MAAA,KAIb,SAAS,kBAAkBA,MAC7Bt3E,EAAE,eAAA,GACFq2E,GAAgB,MAAA;AAAA,IAGtB;AAEA,oBAAS,iBAAiB,WAAWgB,CAAS,GACvC,MAAM,SAAS,oBAAoB,WAAWA,CAAS;AAAA,EAChE,GAAG,CAAC/b,CAAI,CAAC,GAEL,CAACA,EAAM,QAAO;AAElB,QAAMj5D,IAAmB;AAAA,IACvBzL,GAAO;AAAA,IACPA,GAAO,UAAUogF,CAAS,EAAE;AAAA,IAC5B/gF,MAAS,QAAQW,GAAO,UAAUX,CAAI,EAAE;AAAA,IACxCqlE,KAAQ1kE,GAAO;AAAA,IACfN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAELihF,IACJ,gBAAA1gF,EAAC,OAAA,EAAI,WAAWwL,GACd,UAAA;AAAA,IAAA,gBAAAvL,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAe,SAAS6/E,GAAoB;AAAA,IACnE,gBAAA3/E;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAKqgF;AAAA,QACL,WAAWvgF,GAAO;AAAA,QAClB,MAAK;AAAA,QACL,cAAW;AAAA,QACX,cAAYmG;AAAA,QACZ,mBAAiBm6E;AAAA,QAEhB,UAAA7gF;AAAA,MAAA;AAAA,IAAA;AAAA,EACH,GACF;AAGF,SAAOid,GAAaikE,GAAe,SAAS,IAAI;AAClD,GAOMC,KAAe,CAAC;AAAA,EACpB,UAAAnhF;AAAA,EACA,WAAAohF,IAAY;AAAA,EACZ,SAAAnlE;AAAA,EACA,WAAAhc;AACF,MAAyB;AACvB,QAAMkwB,IAAgB,CAAC5vB,GAAO,cAAcN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAE/E,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAW2vB,GACd,UAAA;AAAA,IAAA,gBAAA1vB,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAc,UAAAP,GAAS;AAAA,IAC7CohF,KAAanlE,KACZ,gBAAAxb;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO;AAAA,QAClB,SAAS0b;AAAA,QACT,cAAW;AAAA,QACX,MAAK;AAAA,QAEL,4BAACpR,IAAA,CAAA,CAAE;AAAA,MAAA;AAAA,IAAA;AAAA,EACL,GAEJ;AAEJ,GAOMw2E,KAAa,CAAC,EAAE,UAAArhF,GAAU,WAAAC,QAAiC;AAC/D,QAAMqhF,IAAc,CAAC/gF,GAAO,YAAYN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAE3E,SAAO,gBAAAQ,EAAC,OAAA,EAAI,WAAW6gF,GAAc,UAAAthF,EAAA,CAAS;AAChD,GAOMuhF,KAAe,CAAC,EAAE,UAAAvhF,GAAU,WAAAC,QAAmC;AACnE,QAAMuhF,IAAgB,CAACjhF,GAAO,cAAcN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAE/E,SAAO,gBAAAQ,EAAC,OAAA,EAAI,WAAW+gF,GAAgB,UAAAxhF,EAAA,CAAS;AAClD;AAEA0gF,GAAO,SAASS;AAChBT,GAAO,OAAOW;AACdX,GAAO,SAASa;AAChBb,GAAO,cAAc;AACrBS,GAAa,cAAc;AAC3BE,GAAW,cAAc;AACzBE,GAAa,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;GC9OrBE,KAAW,CAAC;AAAA,EAChB,UAAAzhF;AAAA,EACA,MAAAJ,IAAO;AAAA,EACP,WAAAK,IAAY;AACd,MAAqB;AACnB,QAAMiG,IAAYtG,MAAS,OAAOW,GAAO,aACvBX,MAAS,OAAOW,GAAO,aACvBA,GAAO;AAEzB,SACE,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,QAAQ,IAAI2F,CAAS,IAAIjG,CAAS,IACzD,UAAAD,EAAA,CACH;AAEJ,GAEM0hF,KAAc,CAAC;AAAA,EACnB,OAAAv6E,IAAQ;AAAA,EACR,SAAAxH,IAAU;AAAA,EACV,eAAAgG,IAAgB;AAAA,EAChB,SAAAirB,IAAU;AAAA,EACV,UAAA+wD,IAAW;AAAA,EACX,WAAA1hF,IAAY;AAAA,EACZ,cAAcyG;AAChB,MAAwB;AACtB,QAAMk7E,IAAejiF,MAAY,YAAYY,GAAO,qBAC/BZ,MAAY,YAAYY,GAAO,qBAC/BZ,MAAY,UAAUY,GAAO,mBAC7B,IAEfshF,IAAejxD,IAAUrwB,GAAO,qBAAqB,IACrDuhF,IAAgBH,IAAWphF,GAAO,sBAAsB,IACxDwhF,IAAqBp8E,IAAgBpF,GAAO,2BAA2B,IAEvEoP,IAAQhK,IAAgB,CAAA,IAAK,EAAE,OAAO,GAAG,KAAK,IAAI,KAAK,KAAK,IAAI,GAAGwB,CAAK,CAAC,CAAC,IAAA;AAEhF,SACE,gBAAA1G;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGF,GAAO,WAAW,IAAIqhF,CAAY,IAAIC,CAAY,IAAIC,CAAa,IAAIC,CAAkB,IAAI9hF,CAAS;AAAA,MACpH,OAAA0P;AAAA,MACA,MAAK;AAAA,MACL,iBAAehK,IAAgB,SAAYwB;AAAA,MAC3C,iBAAe;AAAA,MACf,iBAAe;AAAA,MACf,cAAYT;AAAA,IAAA;AAAA,EAAA;AAGlB,GAEMs7E,KAAmB,CAAC;AAAA,EACxB,OAAA76E;AAAA,EACA,MAAAvH,IAAO;AAAA,EACP,aAAAqiF,IAAc;AAAA,EACd,SAAAtiF,IAAU;AAAA,EACV,WAAAuiF,IAAY;AAAA,EACZ,WAAAjiF,IAAY;AAAA,EACZ,cAAcyG;AAChB,MAA6B;AAC3B,QAAMkmB,KAAUhtB,IAAOqiF,KAAe,GAChCp1D,IAAgB,IAAI,KAAK,KAAKD,GAC9BsoB,IAASroB,IAAiB1lB,IAAQ,MAAO0lB,GAEzCs1D,IAAexiF,MAAY,YAAY,6BACxBA,MAAY,YAAY,6BACxBA,MAAY,UAAU,2BACtB;AAErB,SACE,gBAAAc;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGF,GAAO,gBAAgB,IAAIN,CAAS;AAAA,MAClD,MAAK;AAAA,MACL,iBAAekH;AAAA,MACf,iBAAe;AAAA,MACf,iBAAe;AAAA,MACf,cAAYT;AAAA,MAEZ,UAAA,gBAAAlG,EAAC,OAAA,EAAI,OAAOZ,GAAM,QAAQA,GAAM,SAAS,OAAOA,CAAI,IAAIA,CAAI,IAC1D,UAAA;AAAA,QAAA,gBAAAa;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,IAAIX,IAAO;AAAA,YACX,IAAIA,IAAO;AAAA,YACX,GAAGgtB;AAAA,YACH,aAAAq1D;AAAA,UAAA;AAAA,QAAA;AAAA,QAEF,gBAAAxhF;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,IAAIX,IAAO;AAAA,YACX,IAAIA,IAAO;AAAA,YACX,GAAGgtB;AAAA,YACH,aAAAq1D;AAAA,YACA,QAAQE;AAAA,YACR,iBAAiBt1D;AAAA,YACjB,kBAAkBqoB;AAAA,YAClB,WAAW,cAAct1C,IAAO,CAAC,IAAIA,IAAO,CAAC;AAAA,UAAA;AAAA,QAAA;AAAA,QAE9CsiF,KACC,gBAAA1hF;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,GAAE;AAAA,YACF,GAAE;AAAA,YACF,kBAAiB;AAAA,YACjB,YAAW;AAAA,YACX,UAAUZ,IAAO,KAAK,KAAK;AAAA,YAC3B,YAAW;AAAA,YACX,MAAK;AAAA,YAEJ,UAAA;AAAA,cAAA,KAAK,MAAMuH,CAAK;AAAA,cAAE;AAAA,YAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MACrB,EAAA,CAEJ;AAAA,IAAA;AAAA,EAAA;AAGN,GAEMi7E,KAAkB,CAAC;AAAA,EACvB,MAAAxiF,IAAO;AAAA,EACP,SAAAD,IAAU;AAAA,EACV,WAAAM,IAAY;AAAA,EACZ,cAAcyG,IAAY;AAC5B,MAA4B;AAC1B,QAAMR,IAAYtG,MAAS,OAAOW,GAAO,oBACvBX,MAAS,OAAOW,GAAO,oBACvBA,GAAO,mBAEnBqhF,IAAejiF,MAAY,YAAYY,GAAO,yBAC/BZ,MAAY,YAAYY,GAAO,yBAC/BZ,MAAY,YAAYA,MAAY,UAAUY,GAAO,wBACrDA,GAAO;AAE5B,SACE,gBAAAE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGF,GAAO,eAAe,IAAI2F,CAAS,IAAI07E,CAAY,IAAI3hF,CAAS;AAAA,MAC9E,MAAK;AAAA,MACL,cAAYyG;AAAA,MAEZ,UAAA,gBAAAjG,EAAC,OAAA,EAAI,WAAWF,GAAO,sBAAA,CAAuB;AAAA,IAAA;AAAA,EAAA;AAGpD;;;;;;;GC1Ja8hF,KAAoC,CAAC;AAAA,EAChD,SAAA1iF,IAAU;AAAA,EACV,OAAAiwB;AAAA,EACA,QAAA/B;AAAA,EACA,WAAA+rC,IAAY;AAAA,EACZ,WAAA35D,IAAY;AAAA,EACZ,OAAA0P,IAAQ,CAAA;AACV,MAAM;AACJ,QAAM2yE,IAAkB;AAAA,IACtB/hF,GAAO;AAAA,IACPA,GAAO,WAAWZ,EAAQ,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAQ,MAAM,CAAC,CAAC,EAAE;AAAA,IACtEi6D,MAAc,WAAWr5D,GAAO;AAAA,IAChCN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAELsiF,IAAqC;AAAA,IACzC,GAAG5yE;AAAA,IACH,OAAO,OAAOigB,KAAU,WAAW,GAAGA,CAAK,OAAOA;AAAA,IAClD,QAAQ,OAAO/B,KAAW,WAAW,GAAGA,CAAM,OAAOA;AAAA,EAAA;AAGvD,SAAO,gBAAAptB,EAAC,OAAA,EAAI,WAAW6hF,GAAiB,OAAOC,GAAe;AAChE;;;;;;;;;;;;;;;;;;GCkBaC,KAA4B,CAAC;AAAA,EACxC,MAAA5iF,IAAO;AAAA,EACP,SAAAD,IAAU;AAAA,EACV,QAAA+e,IAAS;AAAA,EACT,MAAA2qB;AAAA,EACA,WAAAppC,IAAY;AAAA,EACZ,cAAcyG;AAChB,MAAM;AACJ,QAAM+7E,IAAiB;AAAA,IACrBliF,GAAO;AAAA,IACPX,MAAS,QAAQW,GAAO,QAAQX,CAAI,EAAE;AAAA,IACtCD,MAAY,YAAYY,GAAO,QAAQZ,CAAO,EAAE;AAAA,IAChD+e,KAAUne,GAAO,aAAa;AAAA,IAC9BN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAELyiF,IAAgB,MAChB/iF,MAAY,SAEZ,gBAAAa,EAAC,SAAI,WAAWiiF,GAAgB,MAAK,UAAS,cAAY/7E,KAAa,WACrE,UAAA;AAAA,IAAA,gBAAAjG,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAU,EAAA,CAAG;AAAA,IACrC,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAU,EAAA,CAAG;AAAA,IACrC,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAU,EAAA,CAAG;AAAA,EAAA,GACvC,IAIAZ,MAAY,SAEZ,gBAAAa,EAAC,SAAI,WAAWiiF,GAAgB,MAAK,UAAS,cAAY/7E,KAAa,WACrE,UAAA;AAAA,IAAA,gBAAAjG,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAU,EAAA,CAAG;AAAA,IACrC,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAU,EAAA,CAAG;AAAA,IACrC,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAU,EAAA,CAAG;AAAA,EAAA,GACvC,IAKF,gBAAAE,EAAC,SAAI,WAAWgiF,GAAgB,MAAK,UAAS,cAAY/7E,KAAa,WAAW;AAItF,SAAI2iC,IAEA,gBAAA7oC,EAAC,OAAA,EAAI,WAAWD,GAAO,gBAAgB,GACpC,UAAA;AAAA,IAAAmiF,EAAA;AAAA,sBACA,OAAA,EAAI,WAAWniF,GAAO,WAAW,GAAI,UAAA8oC,EAAA,CAAK;AAAA,EAAA,GAC7C,IAIGq5C,EAAA;AACT,GAKaC,KAA8C,CAAC;AAAA,EAC1D,MAAA/iF,IAAO;AAAA,EACP,SAAAD,IAAU;AAAA,EACV,MAAA0pC;AAAA,EACA,WAAAppC,IAAY;AAAA,EACZ,cAAcyG;AAChB,MAEI,gBAAAlG,EAAC,SAAI,WAAW,GAAGD,GAAO,gBAAgB,CAAC,IAAIN,CAAS,IACtD,UAAA;AAAA,EAAA,gBAAAQ,EAAC+hF,IAAA,EAAK,MAAA5iF,GAAY,SAAAD,GAAkB,cAAY+G,GAAW;AAAA,oBAC1D,OAAA,EAAI,WAAWnG,GAAO,WAAW,GAAI,UAAA8oC,EAAA,CAAK;AAAA,GAC7C,GAOSu5C,KAA0C,CAAC;AAAA,EACtD,MAAAhjF,IAAO;AAAA,EACP,SAAAD,IAAU;AAAA,EACV,MAAA0pC;AAAA,EACA,WAAAppC,IAAY;AACd,MAEI,gBAAAQ,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,cAAc,CAAC,IAAIN,CAAS,IACpD,UAAA,gBAAAQ,EAACkiF,IAAA,EAAc,MAAA/iF,GAAY,SAAAD,GAAkB,MAAA0pC,GAAY,GAC3D,GAOSw5C,KAAgD,CAAC;AAAA,EAC5D,MAAAjjF,IAAO;AAAA,EACP,SAAAD,IAAU;AAAA,EACV,MAAA0pC;AAAA,EACA,WAAAppC,IAAY;AACd,MAEI,gBAAAQ,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,iBAAiB,CAAC,IAAIN,CAAS,IACvD,UAAA,gBAAAQ,EAACkiF,IAAA,EAAc,MAAA/iF,GAAY,SAAAD,GAAkB,MAAA0pC,GAAY,GAC3D;AAIJm5C,GAAK,cAAc;AACnBG,GAAc,cAAc;AAC5BC,GAAY,cAAc;AAC1BC,GAAe,cAAc;;;;;;;;;;;;;;;;GC7IvBC,KAAgB;AAAA,EACpB,2BAAU5D,IAAA,EAAY;AAAA,EACtB,yBAAQE,IAAA,EAAQ;AAAA,EAChB,2BAAUD,IAAA,EAAc;AAAA,EACxB,wBAAOF,IAAA,CAAA,CAAK;AACd,GAEM8D,KAAc;AAAA,EAClB,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,MAAM;AACR,GAkBaC,KAAgC,CAAC;AAAA,EAC5C,QAAApuB;AAAA,EACA,OAAA1vC;AAAA,EACA,aAAAhY;AAAA,EACA,MAAApN;AAAA,EACA,OAAA62E;AAAA,EACA,SAAAgH;AAAA,EACA,SAAAztE,IAAU;AAAA,EACV,WAAAjQ;AACF,MAAM;AACJ,QAAMgjF,IAAcnjF,MAAS80D,IAASkuB,GAAcluB,CAAM,IAAI,OAGxDsuB,IAAWtuB,MAAW,UAAU,UAAU,UAC1CuuB,IAAWvuB,MAAW,UAAU,cAAc,UAE9C5oD,IAAmB;AAAA,IACvBzL,GAAO;AAAA,IACPq0D,KAAUr0D,GAAOq0D,CAAM;AAAA,IACvB1kD,KAAW3P,GAAO;AAAA,IAClBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAELmjF,IAAc,MACbzM,IAGD,MAAM,QAAQA,CAAK,IAEnB,gBAAAl2E,EAAC,OAAA,EAAI,WAAWF,GAAO,OACpB,UAAAo2E,EAAM,IAAI,CAAClzD,GAAM/V,MAChB,gBAAAlN,EAAC,OAAA,EAAgB,WAAWD,GAAO,UACjC,UAAA;AAAA,IAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,WAAY,YAAK,OAAM;AAAA,sBAC9C,QAAA,EAAK,WAAWA,GAAO,WAAY,YAAK,MAAA,CAAM;AAAA,EAAA,KAFvCmN,CAGV,CACD,GACH,IAKG,gBAAAjN,EAAC,OAAA,EAAI,WAAWF,GAAO,OAAQ,UAAAo2E,GAAM,IAjBzB;AAoBrB,SACE,gBAAAn2E;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWwL;AAAA,MACX,MAAMk3E;AAAA,MACN,aAAWC;AAAA,MAEV,UAAA;AAAA,QAAAF,KACC,gBAAAxiF;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAWF,GAAO;AAAA,YAClB,cAAYq0D,IAASmuB,GAAYnuB,CAAM,IAAI;AAAA,YAC3C,eAAa,CAACA;AAAA,YAEb,UAAAquB;AAAA,UAAA;AAAA,QAAA;AAAA,QAIL,gBAAAxiF,EAAC,MAAA,EAAG,WAAWF,GAAO,OAAQ,UAAA2kB,GAAM;AAAA,QAEnChY,KAAe,gBAAAzM,EAAC,KAAA,EAAE,WAAWF,GAAO,aAAc,UAAA2M,GAAY;AAAA,QAE9Dk2E,EAAA;AAAA,QAEAzF,KAAW,gBAAAl9E,EAAC,OAAA,EAAI,WAAWF,GAAO,SAAU,UAAAo9E,EAAA,CAAQ;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAG3D;AAEAqF,GAAO,cAAc;;;;;;;;GCjHRK,KAAwC,CAAC;AAAA,EACpD,MAAAvjF;AAAA,EACA,OAAAolB;AAAA,EACA,aAAAhY;AAAA,EACA,SAAAywE;AAAA,EACA,MAAA/9E,IAAO;AAAA,EACP,WAAAK,IAAY;AAAA,EACZ,UAAAD;AACF,MAAM;AACJ,QAAMsjF,IAAoB;AAAA,IACxB/iF,GAAO;AAAA,IACPX,MAAS,aAAaW,GAAO;AAAA,IAC7BN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAW8iF,GACb,UAAA;AAAA,IAAAxjF,KAAQ,gBAAAW,EAAC,OAAA,EAAI,WAAWF,GAAO,gBAAiB,UAAAT,GAAK;AAAA,IACtD,gBAAAW,EAAC,MAAA,EAAG,WAAWF,GAAO,iBAAkB,UAAA2kB,GAAM;AAAA,IAC7ChY,KAAe,gBAAAzM,EAAC,KAAA,EAAE,WAAWF,GAAO,uBAAwB,UAAA2M,GAAY;AAAA,IACxEywE,KAAW,gBAAAl9E,EAAC,OAAA,EAAI,WAAWF,GAAO,mBAAoB,UAAAo9E,GAAQ;AAAA,IAC9D39E;AAAA,EAAA,GACH;AAEJ;;;;;;;;;;;;;;;;;GC8BaujF,KAAa,CAAC;AAAA,EACzB,OAAAr+D;AAAA,EACA,aAAAhY;AAAA,EACA,MAAApN;AAAA,EACA,UAAA0jF,IAAW;AAAA,EACX,QAAAC,IAAS;AAAA,EACT,YAAAC,IAAa;AAAA,EACb,QAAAC,IAAS;AAAA,EACT,WAAAhD,IAAY;AAAA,EACZ,UAAA3gF;AAAA,EACA,WAAA4jF;AAAA,EACA,UAAAv5B;AAAA,EACA,MAAMw5B;AAAA,EACN,cAAAC;AAAA,EACA,UAAA5jF,IAAW;AAAA,EACX,cAAcwG;AAChB,MAAuB;AACrB,QAAM,CAACq9E,GAAkBC,CAAmB,IAAI3gF,EAAS,EAAK,GACxD,CAACxD,GAASo8E,CAAU,IAAI54E,EAAS,EAAK,GACtCK,IAAeC,EAAuB,IAAI,GAC1Cw4E,IAAmBx4E,EAA2B,IAAI,GAGlDG,IAAe+/E,MAAmB,QAClC1gF,IAASW,IAAe+/E,IAAiBE,GAEzC3gF,IAAY,CAAC6hE,MAAkB;AACnC,IAAKnhE,KACHkgF,EAAoB/e,CAAI,GAE1B6e,IAAe7e,CAAI;AAAA,EACrB;AAGA,EAAAxgE,EAAU,MAAM;AACd,QAAI,CAACtB,EAAQ;AAEb,UAAMuB,IAAqB,CAACC,MAAiB;AAC3C,MAAIjB,EAAa,WAAW,CAACA,EAAa,QAAQ,SAASiB,EAAM,MAAc,KAC7EvB,EAAU,EAAK;AAAA,IAEnB;AAEA,oBAAS,iBAAiB,aAAasB,CAAkB,GAClD,MAAM,SAAS,oBAAoB,aAAaA,CAAkB;AAAA,EAC3E,GAAG,CAACvB,CAAM,CAAC,GAGXsB,EAAU,MAAM;AACd,QAAI,CAACtB,EAAQ;AAEb,UAAM6Z,IAAe,CAACrY,MAAyB;AAC7C,MAAIA,EAAM,QAAQ,aAChBvB,EAAU,EAAK,GACfinD,IAAA,GAEI8xB,EAAiB,WACnBA,EAAiB,QAAQ,MAAA;AAAA,IAG/B;AAEA,oBAAS,iBAAiB,WAAWn/D,CAAY,GAC1C,MAAM,SAAS,oBAAoB,WAAWA,CAAY;AAAA,EACnE,GAAG,CAAC7Z,GAAQknD,CAAQ,CAAC;AAErB,QAAM45B,IAAqB,CAACt6E,MAAkB;AAC5C,IAAIzJ,MACJyJ,EAAE,eAAA,GACFwyE,EAAiB,UAAUxyE,EAAE,eAC7BvG,EAAU,CAACD,CAAM;AAAA,EACnB,GAEMyO,IAAe,CAACjI,MAAkB;AACtC,IAAAA,EAAE,gBAAA,GACFvG,EAAU,EAAK,GACfinD,IAAA,GAEI8xB,EAAiB,WACnBA,EAAiB,QAAQ,MAAA;AAAA,EAE7B,GAEM+H,IAAgB,OAAOv6E,MAAkB;AAG7C,QAFAA,EAAE,gBAAA,GAEEi6E,GAAW;AACb,MAAA3H,EAAW,EAAI;AACf,UAAI;AACF,cAAM2H,EAAA,GACNxgF,EAAU,EAAK,GAEX+4E,EAAiB,WACnBA,EAAiB,QAAQ,MAAA;AAAA,MAE7B,SAASz2E,GAAO;AACd,gBAAQ,MAAM,+BAA+BA,CAAK;AAAA,MACpD,UAAA;AACE,QAAAu2E,EAAW,EAAK;AAAA,MAClB;AAAA,IACF;AACE,MAAA74E,EAAU,EAAK;AAAA,EAEnB,GAGM+gF,IAAUC,GAAepkF,CAAQ,IACnCi6D,GAAaj6D,GAAqC;AAAA,IAChD,SAAS,CAAC2J,MAAkB;AAC1B,MAAAs6E,EAAmBt6E,CAAC;AAEpB,YAAM06E,IAAmBrkF,EAAiB,OAAO;AACjD,MAAIqkF,KACFA,EAAgB16E,CAAC;AAAA,IAErB;AAAA,EAAA,CACD,IACD3J,GAEEskF,IAAiB;AAAA,IACrB,KAAK/jF,GAAO;AAAA,IACZ,QAAQ;AAAA;AAAA,IACR,MAAMA,GAAO;AAAA,IACb,OAAOA,GAAO;AAAA,EAAA,EACdogF,CAAS,GAEL4D,IAAYzkF,IAAO,KAAKS,GAAO,iBAAiBijF,EAAS,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAS,MAAM,CAAC,CAAC,EAAE;AAE5G,2BACG,OAAA,EAAI,WAAWjjF,GAAO,qBAAqB,KAAKmD,GAC9C,UAAA;AAAA,IAAAygF;AAAA,IACD,gBAAA1jF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,GAAGF,GAAO,UAAU,IAAI+jF,CAAc,IAAInhF,IAAS5C,GAAO,iBAAiB,EAAE;AAAA,QACxF,MAAK;AAAA,QACL,cAAW;AAAA,QACX,cAAYmG,MAAc,OAAOwe,KAAU,WAAWA,IAAQ;AAAA,QAE9D,UAAA,gBAAA1kB,EAAC,OAAA,EAAI,WAAWD,GAAO,mBACrB,UAAA;AAAA,UAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,mBACpB,UAAA;AAAA,YAAAT,KAAQ,gBAAAW,EAAC,UAAK,WAAW,GAAGF,GAAO,cAAc,IAAIgkF,CAAS,IAAK,UAAAzkF,EAAA,CAAK;AAAA,8BACxE,OAAA,EACC,UAAA;AAAA,cAAA,gBAAAW,EAAC,OAAA,EAAI,WAAWF,GAAO,iBAAkB,UAAA2kB,GAAM;AAAA,cAC9ChY,KAAe,gBAAAzM,EAAC,OAAA,EAAI,WAAWF,GAAO,uBAAwB,UAAA2M,EAAA,CAAY;AAAA,YAAA,EAAA,CAC7E;AAAA,UAAA,GACF;AAAA,UACA,gBAAA1M,EAAC,OAAA,EAAI,WAAWD,GAAO,mBACrB,UAAA;AAAA,YAAA,gBAAAE;AAAA,cAAChB;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,gBACR,MAAK;AAAA,gBACL,SAASmS;AAAA,gBACT,UAAU/R;AAAA,gBAET,UAAA6jF;AAAA,cAAA;AAAA,YAAA;AAAA,YAEH,gBAAAjjF;AAAA,cAAChB;AAAA,cAAA;AAAA,gBACC,SAASkkF;AAAA,gBACT,MAAK;AAAA,gBACL,SAASO;AAAA,gBACT,UAAUrkF;AAAA,gBACV,SAAAA;AAAA,gBACA,WAAS;AAAA,gBAER,UAAA4jF;AAAA,cAAA;AAAA,YAAA;AAAA,UACH,EAAA,CACF;AAAA,QAAA,EAAA,CACF;AAAA,MAAA;AAAA,IAAA;AAAA,EACF,GACF;AAEJ;AAEAF,GAAW,cAAc;;;;;;;;;;;;;GCvOZiB,KAA4B,CAAC;AAAA,EACxC,SAAAL;AAAA,EACA,UAAAnkF;AAAA,EACA,MAAM6jF;AAAA,EACN,cAAAC;AAAA,EACA,OAAAj0D,IAAQ;AAAA,EACR,MAAA40D,IAAO;AAAA,EACP,WAAAxkF,IAAY;AAAA,EACZ,GAAG2F;AACL,MAAM;AACJ,QAAM,CAACm+E,GAAkBC,CAAmB,IAAI3gF,EAAS,EAAK,GACxDu+D,IAAUj+D,EAAuB,IAAI,GACrCG,IAAe+/E,MAAmB,QAClC1gF,IAASW,IAAe+/E,IAAiBE,GAEzCpP,IAAe,MAAM;AACzB,UAAM+P,IAAU,CAACvhF;AACjB,IAAKW,KACHkgF,EAAoBU,CAAO,GAE7BZ,IAAeY,CAAO;AAAA,EACxB,GAEMrlE,IAAc,MAAM;AACxB,IAAKvb,KACHkgF,EAAoB,EAAK,GAE3BF,IAAe,EAAK;AAAA,EACtB;AAGA,EAAAr/E,EAAU,MAAM;AACd,QAAI,CAACtB,EAAQ;AAEb,UAAMuB,IAAqB,CAACC,MAAsB;AAChD,MAAIi9D,EAAQ,WAAW,CAACA,EAAQ,QAAQ,SAASj9D,EAAM,MAAc,KACnE0a,EAAA;AAAA,IAEJ;AAEA,oBAAS,iBAAiB,aAAa3a,CAAkB,GAClD,MAAM;AACX,eAAS,oBAAoB,aAAaA,CAAkB;AAAA,IAC9D;AAAA,EACF,GAAG,CAACvB,CAAM,CAAC;AAEX,QAAMmwE,IAAiB,CAAC/yE,GAAO,gBAAgB,GAAGN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,GAE/E0kF,IAAY;AAAA,IAChBpkF,GAAO;AAAA,IACPkkF,KAAQlkF,GAAO,WAAW;AAAA,IAC1BsvB,MAAU,WAAWtvB,GAAO,YAAY;AAAA,EAAA,EAEvC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,2BACG,OAAA,EAAI,WAAW+yE,GAAgB,KAAK1R,GAAU,GAAGh8D,GAChD,UAAA;AAAA,IAAA,gBAAAnF,EAAC,OAAA,EAAI,SAASk0E,GAAe,UAAAwP,GAAQ;AAAA,IACpChhF,KAAU,gBAAA1C,EAAC,OAAA,EAAI,WAAWkkF,GAAY,UAAA3kF,EAAA,CAAS;AAAA,EAAA,GAClD;AAEJ,GAea4kF,KAAoC,CAAC;AAAA,EAChD,UAAA5kF;AAAA,EACA,MAAAF;AAAA,EACA,UAAA+kF;AAAA,EACA,QAAAC,IAAS;AAAA,EACT,UAAA5kF,IAAW;AAAA,EACX,SAAAmuB;AAAA,EACA,WAAApuB,IAAY;AAAA,EACZ,IAAAu6D,IAAK;AAAA,EACL,GAAG50D;AACL,MAAM;AACJ,QAAMm/E,IAAY;AAAA,IAChBxkF,GAAO,WAAW;AAAA,IAClBukF,KAAUvkF,GAAO,kBAAkB;AAAA,IACnCL,KAAYK,GAAO,oBAAoB;AAAA,IACvCN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAELsC,IAAc,CAACoH,MAA2C;AAC9D,QAAIzJ,GAAU;AACZ,MAAAyJ,EAAE,eAAA;AACF;AAAA,IACF;AACA,IAAA0kB,IAAU1kB,CAAC;AAAA,EACb,GAEMioE,IACJ,gBAAApxE,EAAAwB,IAAA,EACG,UAAA;AAAA,IAAAlC,uBAAS,QAAA,EAAK,WAAWS,GAAO,gBAAgB,GAAI,UAAAT,GAAK;AAAA,IAC1D,gBAAAW,EAAC,UAAM,UAAAT,GAAS;AAAA,IACf6kF,KAAY,gBAAApkF,EAAC,QAAA,EAAK,WAAWF,GAAO,eAAe,GAAI,UAAAskF,EAAA,CAAS;AAAA,EAAA,GACnE;AAGF,SAAIrqB,MAAO,WAEP,gBAAA/5D;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWskF;AAAA,MACX,SAASxiF;AAAA,MACT,UAAArC;AAAA,MACA,MAAK;AAAA,MACJ,GAAI0F;AAAA,MAEJ,UAAAgsE;AAAA,IAAA;AAAA,EAAA,IAML,gBAAAnxE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWskF;AAAA,MACX,SAASxiF;AAAA,MACT,MAAMrC,IAAW,SAAY0F,EAAM,QAAQ;AAAA,MAC1C,GAAGA;AAAA,MAEH,UAAAgsE;AAAA,IAAA;AAAA,EAAA;AAGP,GAOaoT,KAA0C,CAAC,EAAE,WAAA/kF,IAAY,SAAS;AAC7E,QAAMglF,IAAe,CAAC1kF,GAAO,cAAc,GAAGN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AACjF,SAAO,gBAAAQ,EAAC,OAAA,EAAI,WAAWwkF,EAAA,CAAc;AACvC,GAQaC,KAAwC,CAAC,EAAE,UAAAllF,GAAU,WAAAC,IAAY,IAAI,GAAG2F,QAAY;AAC/F,QAAMu/E,IAAc,CAAC5kF,GAAO,aAAa,GAAGN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAC/E,2BACG,OAAA,EAAI,WAAWklF,GAAc,GAAGv/E,GAC9B,UAAA5F,GACH;AAEJ;AAGAwkF,GAAK,cAAc;AACnBI,GAAS,cAAc;AACvBI,GAAY,cAAc;AAC1BE,GAAW,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCnInBE,KAAS,CAAC,EAAE,UAAAplF,GAAU,WAAAC,IAAY,SAAsB;AAC5D,QAAM,CAAColF,GAAkBC,CAAmB,IAAIjiF,EAAS,EAAK;AAE9D,EAAAoB,EAAU,OACJ4gF,IACF,SAAS,KAAK,MAAM,WAAW,WAE/B,SAAS,KAAK,MAAM,WAAW,IAG1B,MAAM;AACX,aAAS,KAAK,MAAM,WAAW;AAAA,EACjC,IACC,CAACA,CAAgB,CAAC;AAErB,QAAME,IAAmB,MAAM;AAC7B,IAAAD,EAAoB,CAACD,CAAgB;AAAA,EACvC,GAEMG,IAAkB,MAAM;AAC5B,IAAAF,EAAoB,EAAK;AAAA,EAC3B,GAGMG,IAAoB/lF,GAAM,SAAS,IAAIM,GAAU,CAACqnB,MAClD3nB,GAAM,eAAe2nB,CAAK,KAAKA,EAAM,SAASq+D,KACzChmF,GAAM,aAAa2nB,GAAkC;AAAA,IAC1D,kBAAAg+D;AAAA,IACA,SAASG;AAAA,EAAA,CACV,IAEIn+D,CACR;AAED,SACE,gBAAA7mB,EAAAwB,IAAA,EACE,UAAA;AAAA,IAAA,gBAAAxB,EAAC,SAAI,WAAW,GAAGD,GAAO,MAAM,IAAIN,CAAS,IAC1C,UAAA;AAAA,MAAAwlF;AAAA,MAGD,gBAAAhlF;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWF,GAAO;AAAA,UAClB,SAASglF;AAAA,UACT,cAAW;AAAA,UAEV,UAAAF,sBAAoBx6E,IAAA,EAAE,MAAM,IAAI,IAAK,gBAAApK,EAAC+jF,IAAA,EAAK,MAAM,GAAA,CAAI;AAAA,QAAA;AAAA,MAAA;AAAA,IACxD,GACF;AAAA,IAGCa,KACC,gBAAA5kF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,GAAGF,GAAO,cAAc,IAAI8kF,IAAmB9kF,GAAO,OAAO,EAAE;AAAA,QAC1E,SAASilF;AAAA,MAAA;AAAA,IAAA;AAAA,EACX,GAEJ;AAEJ,GAEMG,KAAc,CAAC,EAAE,UAAA3lF,GAAU,MAAA4lF,GAAM,WAAA3lF,IAAY,SAE/C,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,WAAW,IAAIN,CAAS,IAC/C,UAAA;AAAA,EAAA2lF;AAAA,EACA5lF,KAAY,gBAAAS,EAAC,QAAA,EAAK,WAAWF,GAAO,iBAAkB,UAAAP,EAAA,CAAS;AAAA,GAClE,GASE0lF,KAAY,CAAC;AAAA,EACjB,UAAA1lF;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,kBAAAolF,IAAmB;AAAA,EACnB,SAAAppE;AACF,MAA8B;AAE5B,QAAM4pE,IAAkB,MAAM;AAC5B,IAAI5pE,KACFA,EAAA;AAAA,EAEJ,GAGMwpE,IAAoB/lF,GAAM,SAAS,IAAIM,GAAU,CAACqnB,MAClD3nB,GAAM,eAAe2nB,CAAK,KAAKA,EAAM,SAASy+D,KACzCpmF,GAAM,aAAa2nB,GAAkC;AAAA,IAC1D,eAAew+D;AAAA,EAAA,CAChB,IAEIx+D,CACR;AAED,SACE,gBAAA5mB;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGF,GAAO,SAAS,IAAI8kF,IAAmB9kF,GAAO,iBAAiB,EAAE,IAAIN,CAAS;AAAA,MAE3F,UAAAwlF;AAAA,IAAA;AAAA,EAAA;AAGP,GAMMK,KAAa,CAAC;AAAA,EAClB,UAAA9lF;AAAA,EACA,MAAAyuB;AAAA,EACA,QAAAozB,IAAS;AAAA,EACT,SAAAxzB;AAAA,EACA,eAAA03D;AAAA,EACA,WAAA9lF,IAAY;AACd,MAA+B;AAC7B,QAAMsC,IAAc,MAAM;AACxB,IAAI8rB,KACFA,EAAA,GAEE03D,KACFA,EAAA;AAAA,EAEJ,GAEM3sE,IAAU,GAAG7Y,GAAO,UAAU,IAAIshD,IAASthD,GAAO,SAAS,EAAE,IAAIN,CAAS;AAEhF,SAAIwuB,IAEA,gBAAAhuB;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAAguB;AAAA,MACA,WAAWrV;AAAA,MACX,gBAAcyoC,IAAS,SAAS;AAAA,MAChC,SAASt/C;AAAA,MAER,UAAAvC;AAAA,IAAA;AAAA,EAAA,IAML,gBAAAS;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW2Y;AAAA,MACX,gBAAcyoC,IAAS,SAAS;AAAA,MAChC,SAASt/C;AAAA,MAER,UAAAvC;AAAA,IAAA;AAAA,EAAA;AAGP,GAEMgmF,KAAe,CAAC,EAAE,UAAAhmF,GAAU,WAAAC,IAAY,SAE1C,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,YAAY,IAAIN,CAAS,IAChD,UAAAD,EAAA,CACH,GAIEimF,KAAgB,CAAC,EAAE,UAAAjmF,GAAU,WAAAC,IAAY,SAE3C,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,aAAa,IAAIN,CAAS,IACjD,UAAAD,EAAA,CACH,GAIEkmF,KAAiB,CAAC;AAAA,EACtB,SAAA/B;AAAA,EACA,UAAAnkF;AAAA,EACA,OAAA6vB,IAAQ;AAAA,EACR,WAAA5vB,IAAY;AACd,MAA2B;AACzB,QAAM,CAACkD,GAAQC,CAAS,IAAIC,EAAS,EAAK,GACpCO,IAAcD,EAAuB,IAAI;AAE/C,EAAAc,EAAU,MAAM;AACd,UAAMC,IAAqB,CAACC,MAAsB;AAChD,MAAIf,EAAY,WAAW,CAACA,EAAY,QAAQ,SAASe,EAAM,MAAc,KAC3EvB,EAAU,EAAK;AAAA,IAEnB;AAEA,WAAID,KACF,SAAS,iBAAiB,SAASuB,CAAkB,GAGhD,MAAM;AACX,eAAS,oBAAoB,SAASA,CAAkB;AAAA,IAC1D;AAAA,EACF,GAAG,CAACvB,CAAM,CAAC;AAEX,QAAMoB,IAAiB,CAACoF,MAAwB;AAC9C,IAAAA,EAAE,gBAAA,GACFvG,EAAU,CAACD,CAAM;AAAA,EACnB;AAEA,SACE,gBAAA3C,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,cAAc,IAAIN,CAAS,IAAI,KAAK2D,GAC5D,UAAA;AAAA,IAAA,gBAAAnD,EAAC,OAAA,EAAI,SAAS8D,GACX,UAAA4/E,GACH;AAAA,IACA,gBAAA1jF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,GAAGF,GAAO,kBAAkB,IAAIsvB,MAAU,UAAUtvB,GAAO,0BAA0B,EAAE,IAAI4C,IAAS5C,GAAO,OAAO,EAAE;AAAA,QAE9H,UAAAP;AAAA,MAAA;AAAA,IAAA;AAAA,EACH,GACF;AAEJ,GAEMmmF,KAAqB,CAAC;AAAA,EAC1B,UAAAnmF;AAAA,EACA,MAAAyuB;AAAA,EACA,SAAAJ;AAAA,EACA,WAAApuB,IAAY;AACd,MACMwuB,IAEA,gBAAAhuB;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,MAAAguB;AAAA,IACA,WAAW,GAAGluB,GAAO,kBAAkB,IAAIN,CAAS;AAAA,IACpD,SAAAouB;AAAA,IAEC,UAAAruB;AAAA,EAAA;AAAA,IAML,gBAAAS;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAGF,GAAO,kBAAkB,IAAIN,CAAS;AAAA,IACpD,SAAAouB;AAAA,IAEC,UAAAruB;AAAA,EAAA;AAAA,GAKDomF,KAAwB,MACrB,gBAAA3lF,EAAC,OAAA,EAAI,WAAWF,GAAO,sBAAA,CAAuB,GCjQjD8lF,KAAU,CAAC,EAAE,UAAArmF,GAAU,MAAAilE,IAAO,IAAO,SAAAhpD,GAAS,WAAAhc,IAAY,SAAuB;AACrF,QAAM,CAACqmF,GAAcC,CAAe,IAAIljF,EAAS4hE,CAAI;AAErD,EAAAxgE,EAAU,MAAM;AACd,IAAA8hF,EAAgBthB,CAAI;AAAA,EACtB,GAAG,CAACA,CAAI,CAAC,GAETxgE,EAAU,OACJ6hF,IACF,SAAS,KAAK,MAAM,WAAW,WAE/B,SAAS,KAAK,MAAM,WAAW,IAG1B,MAAM;AACX,aAAS,KAAK,MAAM,WAAW;AAAA,EACjC,IACC,CAACA,CAAY,CAAC;AAEjB,QAAMjnE,IAAc,MAAM;AACxB,IAAAknE,EAAgB,EAAK,GACjBtqE,KACFA,EAAA;AAAA,EAEJ,GAEMuqE,IAAsB,MAAM;AAChC,IAAAnnE,EAAA;AAAA,EACF;AAEA,EAAA5a,EAAU,MAAM;AACd,UAAMgiF,IAAkB,CAAC9hF,MAAyB;AAChD,MAAIA,EAAM,QAAQ,YAAY2hF,KAC5BjnE,EAAA;AAAA,IAEJ;AAEA,oBAAS,iBAAiB,WAAWonE,CAAe,GAE7C,MAAM;AACX,eAAS,oBAAoB,WAAWA,CAAe;AAAA,IACzD;AAAA,EACF,GAAG,CAACH,CAAY,CAAC;AAGjB,QAAMb,IAAoB/lF,GAAM,SAAS,IAAIM,GAAU,CAACqnB,MAClD3nB,GAAM,eAAe2nB,CAAK,KAAKA,EAAM,SAASq/D,KACzChnF,GAAM,aAAa2nB,GAAkC;AAAA,IAC1D,aAAahI;AAAA,EAAA,CACd,IAEIgI,CACR;AAED,SACE,gBAAA7mB,EAAAwB,IAAA,EACE,UAAA;AAAA,IAAA,gBAAAxB,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,OAAO,IAAI+lF,IAAe/lF,GAAO,aAAa,EAAE,IAAIN,CAAS,IAErF,UAAA;AAAA,MAAA,gBAAAQ;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWF,GAAO;AAAA,UAClB,SAAS8e;AAAA,UACT,cAAW;AAAA,UAEX,UAAA,gBAAA5e,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI;AAAA,QAAA;AAAA,MAAA;AAAA,MAGd46E;AAAA,IAAA,GACH;AAAA,IAGCa,KACC,gBAAA7lF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,GAAGF,GAAO,eAAe,IAAI+lF,IAAe/lF,GAAO,OAAO,EAAE;AAAA,QACvE,SAASimF;AAAA,MAAA;AAAA,IAAA;AAAA,EACX,GAEJ;AAEJ,GAEMG,KAAgB,CAAC,EAAE,UAAA3mF,GAAU,MAAA4lF,GAAM,WAAA3lF,IAAY,SAEjD,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,aAAa,IAAIN,CAAS,IACjD,UAAA;AAAA,EAAA2lF;AAAA,EACA5lF;AAAA,GACH,GAQE0mF,KAAa,CAAC,EAAE,UAAA1mF,GAAU,WAAAC,IAAY,IAAI,aAAA2mF,QAA2C;AAEzF,QAAMnB,IAAoB/lF,GAAM,SAAS,IAAIM,GAAU,CAACqnB,MAClD3nB,GAAM,eAAe2nB,CAAK,KAAKA,EAAM,SAASw/D,KACzCnnF,GAAM,aAAa2nB,GAAkC;AAAA,IAC1D,eAAeu/D;AAAA,EAAA,CAChB,IAEIv/D,CACR;AAED,SACE,gBAAA5mB,EAAC,SAAI,WAAW,GAAGF,GAAO,UAAU,IAAIN,CAAS,IAC9C,UAAAwlF,EAAA,CACH;AAEJ,GAMMoB,KAAc,CAAC;AAAA,EACnB,UAAA7mF;AAAA,EACA,MAAAF;AAAA,EACA,OAAAgnF;AAAA,EACA,MAAAr4D;AAAA,EACA,QAAAozB,IAAS;AAAA,EACT,SAAAxzB;AAAA,EACA,eAAA03D;AAAA,EACA,WAAA9lF,IAAY;AACd,MAAgC;AAC9B,QAAMsC,IAAc,MAAM;AACxB,IAAI8rB,KACFA,EAAA,GAEE03D,KACFA,EAAA;AAAA,EAEJ,GAEM3sE,IAAU,GAAG7Y,GAAO,WAAW,IAAIshD,IAASthD,GAAO,SAAS,EAAE,IAAIN,CAAS,IAE3E2xE,IACJ,gBAAApxE,EAAAwB,IAAA,EACG,UAAA;AAAA,IAAAlC;AAAA,IACD,gBAAAW,EAAC,UAAM,UAAAT,GAAS;AAAA,IACf8mF;AAAA,EAAA,GACH;AAGF,SAAIr4D,IAEA,gBAAAhuB;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAAguB;AAAA,MACA,WAAWrV;AAAA,MACX,gBAAcyoC,IAAS,SAAS;AAAA,MAChC,SAASt/C;AAAA,MAER,UAAAqvE;AAAA,IAAA;AAAA,EAAA,IAML,gBAAAnxE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW2Y;AAAA,MACX,gBAAcyoC,IAAS,SAAS;AAAA,MAChC,SAASt/C;AAAA,MAER,UAAAqvE;AAAA,IAAA;AAAA,EAAA;AAGP,GAEMmV,KAAiB,MACd,gBAAAtmF,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAA,CAAgB,GAG1CymF,KAAgB,CAAC,EAAE,UAAAhnF,GAAU,WAAAC,IAAY,SAE3C,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,aAAa,IAAIN,CAAS,IACjD,UAAAD,EAAA,CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;GCpJEinF,KAAU,CAACxjE,MACR,WAAWA,KAAQ,MAAM,QAAQA,EAAK,KAAK,GAwBvCyjE,KAAW,CAAC;AAAA,EACvB,OAAAvjE;AAAA,EACA,WAAAwjE;AAAA,EACA,WAAWC;AAAA,EACX,kBAAAC,IAAmB;AAAA,EACnB,YAAAC;AAAA,EACA,UAAAhlF;AAAA,EACA,WAAAilF;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,UAAAC;AAAA,EACA,YAAAplE,IAAa;AAAA,EACb,mBAAAgD,IAAoB;AAAA,EACpB,WAAAplB,IAAY;AAAA,EACZ,YAAAynF,IAAa;AACf,MAAqB;AACnB,QAAM,CAACC,GAAuBC,CAAwB,IAAIvkF,EAAS,MAAM;AACvE,QAAIqkF,KAAc,OAAO,SAAW,KAAa;AAC/C,YAAM52E,IAAS,aAAa,QAAQ42E,CAAU;AAC9C,aAAO52E,IAASA,MAAW,SAASu2E;AAAA,IACtC;AACA,WAAOA;AAAA,EACT,CAAC,GAEK,CAACzjE,GAAakC,CAAc,IAAIziB,EAAS,EAAE,GAC3C,CAACwkF,GAAcC,CAAe,IAAIzkF,EAAsB,oBAAI,KAAK,GAEjE0kF,IACJX,MAAwB,SAAYA,IAAsBO,GAEtDK,IAAuB,MAAM;AACjC,UAAMC,IAAe,CAACF;AACtB,IAAIX,MAAwB,WAC1BQ,EAAyBK,CAAY,GACjCP,KAAc,OAAO,SAAW,OAClC,aAAa,QAAQA,GAAY,OAAOO,CAAY,CAAC,IAGzDX,IAAaW,CAAY;AAAA,EAC3B,GAEMpC,IAAkB,CAACpiE,GAAoB9Z,MAAwB;AACnE,QAAI8Z,EAAK,UAAU;AACjB,MAAA9Z,EAAE,eAAA;AACF;AAAA,IACF;AAEA,IAAI8Z,EAAK,YAAYA,EAAK,SAAS,SAAS,KAC1C9Z,EAAE,eAAA,GACFm+E,EAAgB,CAACtjF,MAAS;AACxB,YAAM8hB,IAAO,IAAI,IAAI9hB,CAAI;AACzB,aAAI8hB,EAAK,IAAI7C,EAAK,GAAG,IACnB6C,EAAK,OAAO7C,EAAK,GAAG,IAEpB6C,EAAK,IAAI7C,EAAK,GAAG,GAEZ6C;AAAA,IACT,CAAC,KAEDhkB,IAAWmhB,EAAK,GAAG;AAAA,EAEvB,GAEMykE,IAAgB,CAACzkE,GAAoBI,MAA2B;AACpE,QAAI,CAACA,EAAO,QAAO;AACnB,UAAMgD,IAAIhD,EAAM,YAAA,GACVskE,IAAa1kE,EAAK,MAAM,YAAA,EAAc,SAASoD,CAAC,GAChDuhE,IACJ3kE,EAAK,UAAU,KAAK,CAAC4D,MAAU6gE,EAAc7gE,GAAOxD,CAAK,CAAC,KAAK;AACjE,WAAOskE,KAAcC;AAAA,EACvB,GAEMC,IAAiB,CAAC5kE,GAAoBgE,IAAQ,MAAiB;AACnE,QAAI,CAACygE,EAAczkE,GAAMG,CAAW,EAAG,QAAO;AAE9C,UAAM+D,IAAakgE,EAAa,IAAIpkE,EAAK,GAAG,GACtC/T,IAAWy3E,MAAc1jE,EAAK,KAC9BiE,IAAcjE,EAAK,YAAYA,EAAK,SAAS,SAAS,GAEtDshE,IAAY;AAAA,MAChBxkF,GAAO;AAAA,MACPmP,KAAYnP,GAAO;AAAA,MACnBmnB,KAAennB,GAAO;AAAA,MACtBonB,KAAcpnB,GAAO;AAAA,MACrBknB,IAAQ,KAAKlnB,GAAO;AAAA,MACpBkjB,EAAK,YAAYljB,GAAO;AAAA,IAAA,EAEvB,OAAO,OAAO,EACd,KAAK,GAAG,GAEL+nF,IAAU7kE,EAAK,OAAO,MAAM;AAElC,6BACG,OAAA,EACC,UAAA;AAAA,MAAA,gBAAAjjB;AAAA,QAAC8nF;AAAA,QAAA;AAAA,UACC,MAAM7kE,EAAK;AAAA,UACX,WAAWshE;AAAA,UACX,SAAS,CAACp7E,MAAMk8E,EAAgBpiE,GAAM9Z,CAAQ;AAAA,UAC9C,gBAAco+E,IAActkE,EAAK,WAAWA,EAAK,QAAQ;AAAA,UACzD,gBAAc/T,IAAW,SAAS;AAAA,UAClC,iBAAegY,IAAcC,IAAa;AAAA,UAEzC,UAAA;AAAA,YAAAlE,EAAK,QAAQ,gBAAAhjB,EAAC,QAAA,EAAK,WAAWF,GAAO,cAAe,YAAK,KAAA,CAAK;AAAA,8BAC9D,QAAA,EAAK,WAAWA,GAAO,eAAgB,YAAK,OAAM;AAAA,YAClDkjB,EAAK,SAAS,gBAAAhjB,EAAC,QAAA,EAAK,WAAWF,GAAO,eAAgB,YAAK,MAAA,CAAM;AAAA,YACjEmnB,KAAe,CAACqgE,KACf,gBAAAtnF,EAAC,QAAA,EAAK,WAAWF,GAAO,iBACrB,UAAAonB,IAAa,MAAM,IAAA,CACtB;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,MAIHD,KAAe,CAACqgE,KAAepgE,uBAC7B,OAAA,EAAI,WAAWpnB,GAAO,iBAAiB,cAAYknB,IAAQ,GACzD,UAAAhE,EAAK,SAAU,IAAI,CAAC4D,MAAUghE,EAAehhE,GAAOI,IAAQ,CAAC,CAAC,EAAA,CACjE;AAAA,IAAA,EAAA,GAtBMhE,EAAK,GAwBf;AAAA,EAEJ,GAEM8kE,IAAc,CAACrkF,MAEjB,gBAAA1D,EAAC,OAAA,EAAsB,WAAWD,GAAO,sBACvC,UAAA;AAAA,IAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,qBACpB,UAAA;AAAA,MAAA2D,EAAM,QAAQ,gBAAAzD,EAAC,QAAA,EAAM,UAAAyD,EAAM,MAAK;AAAA,MACjC,gBAAAzD,EAAC,QAAA,EAAM,UAAAyD,EAAM,MAAA,CAAM;AAAA,IAAA,GACrB;AAAA,IACCA,EAAM,MAAM,IAAI,CAACuf,MAAS4kE,EAAe5kE,CAAI,CAAC;AAAA,EAAA,EAAA,GALvCvf,EAAM,KAMhB,GAIEskF,IAAmB,MAAM;AAC7B,QAAI,CAACf,EAAU,QAAO;AAEtB,QAAI,OAAOA,EAAS,UAAW;AAC7B,aAAIA,EAAS,OAAO,WAAW,MAAM,sBAC3B,OAAA,EAAI,KAAKA,EAAS,QAAQ,KAAKA,EAAS,MAAM,sBAEhD,OAAA,EAAI,WAAWlnF,GAAO,oBAAqB,YAAS,QAAO;AAGrE,QAAIknF,EAAS;AACX,aAAOA,EAAS;AAIlB,UAAM/R,IAAW+R,EAAS,KACvB,MAAM,GAAG,EACT,IAAI,CAACgB,MAAMA,EAAE,CAAC,CAAC,EACf,KAAK,EAAE,EACP,cACA,MAAM,GAAG,CAAC;AAEb,WAAO,gBAAAhoF,EAAC,OAAA,EAAI,WAAWF,GAAO,oBAAqB,UAAAm1E,GAAS;AAAA,EAC9D;AAEA,SACE,gBAAAl1E;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGD,GAAO,QAAQ,IAAIwnF,IAAcxnF,GAAO,YAAY,EAAE,IAAIN,CAAS;AAAA,MACjF,MAAK;AAAA,MACL,cAAW;AAAA,MAGX,UAAA;AAAA,QAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACpB,UAAA;AAAA,UAAAgnF,KAAa,gBAAA9mF,EAAC,QAAA,EAAK,WAAWF,GAAO,mBAAoB,UAAAgnF,GAAU;AAAA,UACpE,gBAAA9mF,EAAC,QAAA,EAAK,WAAWF,GAAO,mBAAoB,UAAAinF,GAAU;AAAA,UACtD,gBAAA/mF;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,GAAO;AAAA,cAClB,SAASynF;AAAA,cACT,cAAYD,IAAc,mBAAmB;AAAA,cAC7C,iBAAe,CAACA;AAAA,cAEhB,UAAA,gBAAAtnF,EAAC,QAAA,EAAM,UAAAsnF,IAAc,MAAM,IAAA,CAAI;AAAA,YAAA;AAAA,UAAA;AAAA,QACjC,GACF;AAAA,QAGC1lE,KAAc,CAAC0lE,uBACb,OAAA,EAAI,WAAWxnF,GAAO,gBACrB,UAAA,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAWF,GAAO;AAAA,YAClB,aAAa8kB;AAAA,YACb,OAAOzB;AAAA,YACP,UAAU,CAACja,MAAMmc,EAAenc,EAAE,OAAO,KAAK;AAAA,YAC9C,cAAW;AAAA,UAAA;AAAA,QAAA,GAEf;AAAA,QAIF,gBAAAlJ,EAAC,SAAI,WAAWF,GAAO,aACpB,UAAAojB,EAAM,IAAI,CAACF,MACNwjE,GAAQxjE,CAAI,IACP8kE,EAAY9kE,CAAI,IAElB4kE,EAAe5kE,CAAI,CAC3B,EAAA,CACH;AAAA,QAGCgkE,KACC,gBAAAhnF,EAAC,OAAA,EAAI,WAAWF,GAAO,gBACrB,UAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,cACpB,UAAA;AAAA,UAAAioF,EAAA;AAAA,UACD,gBAAAhoF,EAAC,OAAA,EAAI,WAAWD,GAAO,kBACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,kBAAmB,YAAS,MAAK;AAAA,YACvDknF,EAAS,SACR,gBAAAhnF,EAAC,OAAA,EAAI,WAAWF,GAAO,mBAAoB,YAAS,MAAA,CAAM;AAAA,UAAA,EAAA,CAE9D;AAAA,QAAA,EAAA,CACF,EAAA,CACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIR;;;;;;;GChSamoF,KAAwC,CAAC;AAAA,EACpD,OAAA/kE;AAAA,EACA,WAAAglE,IAAY;AAAA,EACZ,UAAA3oF;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,cAAcyG,IAAY;AAC5B,MAAM;AACJ,QAAMkiF,IAAkB,CAACroF,GAAO,YAAYN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAG/E,SAAI0jB,KAASA,EAAM,SAAS,IAExB,gBAAAljB,EAAC,OAAA,EAAI,WAAWmoF,GAAiB,cAAYliF,GAC1C,UAAAid,EAAM,IAAI,CAACF,GAAM/V,MAAU;AAC1B,UAAMqxE,IAASrxE,MAAUiW,EAAM,SAAS;AAExC,WACE,gBAAAnjB,EAACd,GAAM,UAAN,EACC,UAAA;AAAA,MAAA,gBAAAc,EAAC,OAAA,EAAI,WAAWD,GAAO,iBAAiB,GACrC,UAAA;AAAA,QAAAkjB,EAAK,0BAAS,QAAA,EAAK,WAAWljB,GAAO,iBAAiB,GAAI,YAAK,KAAA,CAAK;AAAA,QACpEw+E,KAAU,CAACt7D,EAAK,OACf,gBAAAhjB,EAAC,QAAA,EAAK,WAAWF,GAAO,oBAAoB,GAAG,gBAAcw+E,IAAS,SAAS,QAC5E,UAAAt7D,EAAK,MAAA,CACR,IAEA,gBAAAhjB,EAAC,KAAA,EAAE,MAAMgjB,EAAK,MAAM,WAAWljB,GAAO,iBAAiB,GACpD,UAAAkjB,EAAK,MAAA,CACR;AAAA,MAAA,GAEJ;AAAA,MACC,CAACs7D,KAAU,gBAAAt+E,EAAC,QAAA,EAAK,WAAWF,GAAO,sBAAsB,GAAI,UAAAooF,EAAA,CAAU;AAAA,IAAA,EAAA,GAbrDj7E,CAcrB;AAAA,EAEJ,CAAC,EAAA,CACH,sBAMD,OAAA,EAAI,WAAWk7E,GAAiB,cAAYliF,GAC1C,UAAA1G,GACH;AAEJ,GAWa6oF,KAAgD,CAAC;AAAA,EAC5D,MAAAp6D;AAAA,EACA,MAAA3uB;AAAA,EACA,UAAAE;AAAA,EACA,SAAA2d,IAAU;AAAA,EACV,WAAA1d,IAAY;AAAA,EACZ,GAAG2F;AACL,MAAM;AACJ,QAAMm/E,IAAY,CAACxkF,GAAO,iBAAiB,GAAGN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAEjF,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWukF,GACb,UAAA;AAAA,IAAAjlF,uBAAS,QAAA,EAAK,WAAWS,GAAO,iBAAiB,GAAI,UAAAT,GAAK;AAAA,IAC1D6d,KAAW,CAAC8Q,IACX,gBAAAhuB,EAAC,QAAA,EAAK,WAAWF,GAAO,oBAAoB,GAAG,gBAAcod,IAAU,SAAS,QAC7E,UAAA3d,GACH,IAEA,gBAAAS,EAAC,KAAA,EAAE,MAAAguB,GAAY,WAAWluB,GAAO,iBAAiB,GAAI,GAAGqF,GACtD,UAAA5F,EAAA,CACH;AAAA,EAAA,GAEJ;AAEJ,GAQa8oF,KAA0D,CAAC;AAAA,EACtE,UAAA9oF,IAAW;AAAA,EACX,WAAAC,IAAY;AACd,MAAM;AACJ,QAAM8oF,IAAiB,CAACxoF,GAAO,sBAAsB,GAAGN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAE3F,SAAO,gBAAAQ,EAAC,QAAA,EAAK,WAAWsoF,GAAiB,UAAA/oF,EAAA,CAAS;AACpD;AAGA0oF,GAAW,cAAc;AACzBG,GAAe,cAAc;AAC7BC,GAAoB,cAAc;;;;;;;GChH5BE,KAAsB,CAC1BC,GACAC,GACAC,IAAmB,MACS;AAC5B,QAAMC,IAAiC,CAAA;AAEvC,EAAAA,EAAM,KAAK,CAAC;AAEZ,QAAMC,IAAc,KAAK,IAAI,GAAGJ,IAAcE,CAAQ,GAChDG,IAAe,KAAK,IAAIJ,IAAa,GAAGD,IAAcE,CAAQ;AAEpE,EAAIE,IAAc,KAChBD,EAAM,KAAK,UAAU;AAGvB,WAAS1+E,IAAI2+E,GAAa3+E,KAAK4+E,GAAc5+E;AAC3C,IAAA0+E,EAAM,KAAK1+E,CAAC;AAGd,EAAI4+E,IAAeJ,IAAa,KAC9BE,EAAM,KAAK,UAAU,GAGnBF,IAAa,KACfE,EAAM,KAAKF,CAAU;AAGvB,QAAMp6E,IAAkC,CAAA;AACxC,MAAItK,IAAmC;AAEvC,aAAW+kF,KAAQH;AACjB,IAAIG,MAAS/kF,MACXsK,EAAO,KAAKy6E,CAAI,GAChB/kF,IAAO+kF;AAIX,SAAOz6E;AACT,GAQa06E,KAAmBtnF,GAA4B,CAAC;AAAA,EAC3D,QAAA2/C,IAAS;AAAA,EACT,UAAA7hD;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,GAAG2F;AACL,MAAM;AACJ,QAAM6jF,IAAchnF;AAAA,IAAQ,MAC1B,CAAClC,GAAO,gBAAgB,GAAGshD,KAAUthD,GAAO,QAAQN,CAAS,EAC1D,OAAO,OAAO,EACd,KAAK,GAAG;AAAA,IACX,CAAC4hD,GAAQ5hD,CAAS;AAAA,EAAA;AAGpB,2BACG,UAAA,EAAO,WAAWwpF,GAAc,GAAG7jF,GACjC,UAAA5F,GACH;AAEJ,CAAC;AAEDwpF,GAAiB,cAAc;AAS/B,MAAME,KAAaxnF,GAAsB,CAAC,EAAE,MAAAqnF,GAAM,UAAA75E,GAAU,cAAAi6E,QAAmB;AAC7E,QAAMpnF,IAAcC,EAAY,MAAM;AACpC,IAAAmnF,EAAaJ,CAAI;AAAA,EACnB,GAAG,CAACA,GAAMI,CAAY,CAAC;AAEvB,SACE,gBAAAlpF;AAAA,IAAC+oF;AAAA,IAAA;AAAA,MACC,SAASjnF;AAAA,MACT,QAAQmN;AAAA,MACR,cAAY,cAAc65E,CAAI;AAAA,MAC9B,gBAAc75E,IAAW,SAAS;AAAA,MAEjC,UAAA65E;AAAA,IAAA;AAAA,EAAA;AAGP,CAAC;AAEDG,GAAW,cAAc;AAkBlB,MAAME,KAAa1nF,GAAsB,CAAC;AAAA,EAC/C,aAAA+mF;AAAA,EACA,YAAAC;AAAA,EACA,cAAAS;AAAA,EACA,UAAAR,IAAW;AAAA,EACX,cAAAU,IAAe;AAAA,EACf,eAAAC,IAAgB;AAAA,EAChB,WAAAC;AAAA,EACA,WAAAC;AAAA,EACA,YAAAC;AAAA,EACA,WAAAC;AAAA,EACA,WAAAjqF,IAAY;AAAA,EACZ,cAAcyG,IAAY;AAC5B,MAAM;AACJ,QAAM0iF,IAAQ3mF;AAAA,IAAQ,MACpBumF,GAAoBC,GAAaC,GAAYC,CAAQ;AAAA,IACrD,CAACF,GAAaC,GAAYC,CAAQ;AAAA,EAAA,GAG9BgB,IAAYlB,IAAc,GAC1Bj1E,IAAYi1E,IAAcC,GAE1BkB,IAAkB3nF;AAAA,IAAQ,MAC9B,CAAClC,GAAO,YAAYN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAAA,IACvD,CAACA,CAAS;AAAA,EAAA,GAINoqF,IAAY7nF,EAAY,MAAM;AAClC,IAAAmnF,EAAa,CAAC;AAAA,EAChB,GAAG,CAACA,CAAY,CAAC,GAEXpQ,IAAW/2E,EAAY,MAAM;AACjC,IAAAmnF,EAAaV,IAAc,CAAC;AAAA,EAC9B,GAAG,CAACA,GAAaU,CAAY,CAAC,GAExB/rE,IAAWpb,EAAY,MAAM;AACjC,IAAAmnF,EAAaV,IAAc,CAAC;AAAA,EAC9B,GAAG,CAACA,GAAaU,CAAY,CAAC,GAExBW,IAAW9nF,EAAY,MAAM;AACjC,IAAAmnF,EAAaT,CAAU;AAAA,EACzB,GAAG,CAACA,GAAYS,CAAY,CAAC;AAE7B,SACE,gBAAAnpF,EAAC,OAAA,EAAI,WAAW4pF,GAAiB,cAAY1jF,GAE1C,UAAA;AAAA,IAAAojF,KACC,gBAAArpF;AAAA,MAAC+oF;AAAA,MAAA;AAAA,QACC,SAASa;AAAA,QACT,UAAU,CAACF;AAAA,QACX,cAAW;AAAA,QAEV,UAAAF,KAAc;AAAA,MAAA;AAAA,IAAA;AAAA,IAKlBJ,KACC,gBAAAppF;AAAA,MAAC+oF;AAAA,MAAA;AAAA,QACC,SAASjQ;AAAA,QACT,UAAU,CAAC4Q;AAAA,QACX,cAAW;AAAA,QAEV,UAAAJ,KAAa,gBAAAtpF,EAAC0T,IAAA,EAAY,MAAM,GAAA,CAAI;AAAA,MAAA;AAAA,IAAA;AAAA,IAKxCi1E,EAAM,IAAI,CAACG,GAAM77E,MACZ67E,MAAS,aAET,gBAAA9oF,EAAC,UAA+B,WAAWF,GAAO,qBAAqB,GAAG,UAAA,MAAA,GAA/D,YAAYmN,CAAK,EAE5B,IAKF,gBAAAjN;AAAA,MAACipF;AAAA,MAAA;AAAA,QAEC,MAAAH;AAAA,QACA,UAAUA,MAASN;AAAA,QACnB,cAAAU;AAAA,MAAA;AAAA,MAHKJ;AAAA,IAAA,CAMV;AAAA,IAGAM,KACC,gBAAAppF;AAAA,MAAC+oF;AAAA,MAAA;AAAA,QACC,SAAS5rE;AAAA,QACT,UAAU,CAAC5J;AAAA,QACX,cAAW;AAAA,QAEV,UAAAg2E,KAAa,gBAAAvpF,EAAC2T,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,MAAA;AAAA,IAAA;AAAA,IAKzC01E,KACC,gBAAArpF;AAAA,MAAC+oF;AAAA,MAAA;AAAA,QACC,SAASc;AAAA,QACT,UAAU,CAACt2E;AAAA,QACX,cAAW;AAAA,QAEV,UAAAk2E,KAAa;AAAA,MAAA;AAAA,IAAA;AAAA,EAChB,GAEJ;AAEJ,CAAC;AAEDN,GAAW,cAAc;AAWlB,MAAMW,KAAiBroF,GAA0B,CAAC;AAAA,EACvD,aAAA+mF;AAAA,EACA,YAAAC;AAAA,EACA,YAAAsB;AAAA,EACA,UAAAhmD;AAAA,EACA,WAAAvkC,IAAY;AACd,MAAM;AACJ,QAAMwqF,IAAYhoF;AAAA,IAAQ,MACxB,CAAClC,GAAO,iBAAiB,GAAGN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAAA,IAC/D,CAACA,CAAS;AAAA,EAAA,GAGNyqF,IAAYjoF,EAAQ,MAAM;AAC9B,QAAI+nF,KAAchmD,GAAU;AAC1B,YAAM8P,KAAS20C,IAAc,KAAKzkD,IAAW,GACvC+P,IAAM,KAAK,IAAI00C,IAAczkD,GAAUgmD,CAAU;AACvD,aAAO,EAAE,OAAAl2C,GAAO,KAAAC,GAAK,YAAAi2C,EAAA;AAAA,IACvB;AACA,WAAO;AAAA,EACT,GAAG,CAACvB,GAAauB,GAAYhmD,CAAQ,CAAC;AAEtC,SAAIkmD,IAEA,gBAAAlqF,EAAC,QAAA,EAAK,WAAWiqF,GAAW,UAAA;AAAA,IAAA;AAAA,sBACjB,UAAA,EAAQ,UAAA;AAAA,MAAAC,EAAU;AAAA,MAAM;AAAA,MAAEA,EAAU;AAAA,IAAA,GAAI;AAAA,IAAS;AAAA,IAAI,gBAAAjqF,EAAC,UAAA,EAAQ,UAAAiqF,EAAU,WAAA,CAAW;AAAA,EAAA,GAC9F,IAKF,gBAAAlqF,EAAC,QAAA,EAAK,WAAWiqF,GAAW,UAAA;AAAA,IAAA;AAAA,IACpBxB;AAAA,IAAY;AAAA,IAAKC;AAAA,EAAA,GACzB;AAEJ,CAAC;AAEDqB,GAAe,cAAc;AActB,MAAMI,KAAmBzoF,GAA4B,CAAC;AAAA,EAC3D,aAAA+mF;AAAA,EACA,YAAAC;AAAA,EACA,cAAAS;AAAA,EACA,WAAAI,IAAY;AAAA,EACZ,WAAAC,IAAY;AAAA,EACZ,UAAAY,IAAW;AAAA,EACX,WAAA3qF,IAAY;AAAA,EACZ,cAAcyG,IAAY;AAC5B,MAAM;AACJ,QAAMyjF,IAAYlB,IAAc,GAC1Bj1E,IAAYi1E,IAAcC,GAE1BkB,IAAkB3nF;AAAA,IAAQ,MAC9B,CAAClC,GAAO,YAAYN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAAA,IACvD,CAACA,CAAS;AAAA,EAAA,GAGNs5E,IAAW/2E,EAAY,MAAM;AACjC,IAAAmnF,EAAaV,IAAc,CAAC;AAAA,EAC9B,GAAG,CAACA,GAAaU,CAAY,CAAC,GAExB/rE,IAAWpb,EAAY,MAAM;AACjC,IAAAmnF,EAAaV,IAAc,CAAC;AAAA,EAC9B,GAAG,CAACA,GAAaU,CAAY,CAAC;AAE9B,SACE,gBAAAnpF,EAAC,OAAA,EAAI,WAAW4pF,GAAiB,cAAY1jF,GAC3C,UAAA;AAAA,IAAA,gBAAAjG;AAAA,MAAC+oF;AAAA,MAAA;AAAA,QACC,SAASjQ;AAAA,QACT,UAAU,CAAC4Q;AAAA,QACX,cAAW;AAAA,QAEV,UAAAJ;AAAA,MAAA;AAAA,IAAA;AAAA,IAGFa,KAAY,gBAAAnqF,EAAC8pF,IAAA,EAAe,aAAAtB,GAA0B,YAAAC,EAAA,CAAwB;AAAA,IAE/E,gBAAAzoF;AAAA,MAAC+oF;AAAA,MAAA;AAAA,QACC,SAAS5rE;AAAA,QACT,UAAU,CAAC5J;AAAA,QACX,cAAW;AAAA,QAEV,UAAAg2E;AAAA,MAAA;AAAA,IAAA;AAAA,EACH,GACF;AAEJ,CAAC;AAEDW,GAAiB,cAAc;;;;;;;;;;;;;;;;;GCpUzBE,KAAc97D,GAA4C,MAAS,GAEnE+7D,KAAiB,MAAM;AAC3B,QAAMvhC,IAAUt6B,GAAW47D,EAAW;AACtC,MAAI,CAACthC;AACH,UAAM,IAAI,MAAM,sDAAsD;AAExE,SAAOA;AACT,GAcawhC,KAA4B,CAAC;AAAA,EACxC,OAAOnoF;AAAA,EACP,cAAAC;AAAA,EACA,UAAAI;AAAA,EACA,SAAAtD,IAAU;AAAA,EACV,MAAAC,IAAO;AAAA,EACP,aAAAorF,IAAc;AAAA,EACd,UAAAhrF;AAAA,EACA,WAAAC,IAAY;AACd,MAAM;AACJ,QAAM,CAACmQ,GAAmBC,CAAoB,IAAIhN,EAAiBR,KAAgB,EAAE,GAC/EiB,IAAelB,MAAoB,QAUnCmuB,IAAiC;AAAA,IACrC,OAVYjtB,IAAelB,IAAkBwN;AAAA,IAW7C,UATmB,CAACrE,MAAqB;AACzC,MAAKjI,KACHuM,EAAqBtE,CAAQ,GAE/B9I,IAAW8I,CAAQ;AAAA,IACrB;AAAA,IAKE,SAAApM;AAAA,IACA,MAAAC;AAAA,IACA,aAAAorF;AAAA,EAAA,GAGI1X,IAAiB;AAAA,IACrB0X,MAAgB,cAAczqF,GAAO,yBAAyB;AAAA,IAC9DN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAQ,EAACoqF,GAAY,UAAZ,EAAqB,OAAO95D,GAC3B,UAAA,gBAAAtwB,EAAC,OAAA,EAAI,WAAW6yE,GAAiB,UAAAtzE,EAAA,CAAS,EAAA,CAC5C;AAEJ,GAQairF,KAAoC,CAAC,EAAE,UAAAjrF,GAAU,WAAAC,IAAY,IAAI,GAAG2F,QAAY;AAC3F,QAAM,EAAE,SAAAjG,GAAS,MAAAC,GAAM,aAAAorF,EAAA,IAAgBF,GAAA,GAEjCI,IAAY;AAAA,IAChB3qF,GAAO;AAAA,IACPZ,MAAY,eAAeY,GAAO,gBAAgB;AAAA,IAClDZ,MAAY,WAAWY,GAAO,YAAY;AAAA,IAC1CZ,MAAY,cAAcY,GAAO,eAAe;AAAA,IAChDX,MAAS,QAAQW,GAAO,SAAS;AAAA,IACjCX,MAAS,QAAQW,GAAO,SAAS;AAAA,IACjCyqF,MAAgB,cAAczqF,GAAO,eAAe;AAAA,IACpDN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAQ,EAAC,SAAI,WAAWyqF,GAAW,MAAK,WAAW,GAAGtlF,GAC3C,UAAA5F,GACH;AAEJ,GAaamrF,KAA0B,CAAC;AAAA,EACtC,OAAOC;AAAA,EACP,UAAAprF;AAAA,EACA,MAAAF;AAAA,EACA,OAAAgnF;AAAA,EACA,SAAAuE;AAAA,EACA,UAAAnrF,IAAW;AAAA,EACX,WAAAD,IAAY;AAAA,EACZ,GAAG2F;AACL,MAAM;AACJ,QAAM,EAAE,OAAAuB,GAAO,UAAAlE,GAAU,SAAAtD,EAAA,IAAYmrF,GAAA,GAC/Bp7E,IAAWvI,MAAUikF,GAErB7oF,IAAc,MAAM;AACxB,IAAKrC,KACH+C,EAASmoF,CAAQ;AAAA,EAErB,GAEME,IAAW,CAAC/qF,GAAO,KAAKmP,KAAYnP,GAAO,QAAQN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAE5F,SACE,gBAAAO;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW8qF;AAAA,MACX,MAAK;AAAA,MACL,iBAAe57E;AAAA,MACf,iBAAe,YAAY07E,CAAQ;AAAA,MACnC,UAAAlrF;AAAA,MACA,SAASqC;AAAA,MACR,GAAGqD;AAAA,MAEH,UAAA;AAAA,QAAA9F,uBAAS,QAAA,EAAK,WAAWS,GAAO,UAAU,GAAI,UAAAT,GAAK;AAAA,QACpD,gBAAAW,EAAC,UAAM,UAAAT,GAAS;AAAA,QACf8mF,KAAS,gBAAArmF,EAAC,QAAA,EAAK,WAAWF,GAAO,WAAW,GAAI,UAAAumF,GAAM;AAAA,QACtDuE,MAAY,UACX,gBAAA5qF,EAAC,QAAA,EAAK,WAAWd,MAAY,aAAaY,GAAO,aAAa,IAAIA,GAAO,WAAW,GACjF,UAAA8qF,EAAA,CACH;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIR,GAUaE,KAAoC,CAAC;AAAA,EAChD,OAAOC;AAAA,EACP,UAAAxrF;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,aAAAwrF,IAAc;AAAA,EACd,GAAG7lF;AACL,MAAM;AACJ,QAAM,EAAE,OAAAuB,EAAA,IAAU2jF,GAAA,GACZp7E,IAAWvI,MAAUqkF,GAErBE,IAAa,CAACnrF,GAAO,WAAW,GAAGmP,KAAYnP,GAAO,QAAQN,CAAS,EAC1E,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SAAI,CAACyP,KAAY,CAAC+7E,IACT,OAIP,gBAAAhrF;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWirF;AAAA,MACX,MAAK;AAAA,MACL,IAAI,YAAYF,CAAU;AAAA,MAC1B,mBAAiB,OAAOA,CAAU;AAAA,MAClC,QAAQ,CAAC97E;AAAA,MACR,GAAG9J;AAAA,MAEH,UAAA5F;AAAA,IAAA;AAAA,EAAA;AAGP,GAQa2rF,KAAwC,CAAC,EAAE,UAAA3rF,GAAU,WAAAC,IAAY,IAAI,GAAG2F,QAAY;AAC/F,QAAMgmF,IAAe,CAACrrF,GAAO,aAAa,GAAGN,CAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAEhF,2BACG,OAAA,EAAI,WAAW2rF,GAAe,GAAGhmF,GAC/B,UAAA5F,GACH;AAEJ;AAGA+qF,GAAK,cAAc;AACnBE,GAAS,cAAc;AACvBE,GAAI,cAAc;AAClBI,GAAS,cAAc;AACvBI,GAAW,cAAc;;;;;;;;;;;;;;;;GC7KZE,KAAQ,CAAC;AAAA,EACpB,OAAAloE;AAAA,EACA,SAAAhG,IAAU;AAAA,EACV,WAAAsG,IAAY;AAAA,EACZ,MAAArkB,IAAO;AAAA,EACP,WAAAu2E,IAAY;AAAA,EACZ,UAAAlzE;AAAA,EACA,WAAAhD;AACF,MAAkB;AAChB,QAAM+L,IAAmB;AAAA,IACvBzL,GAAO;AAAA,IACP0jB,MAAc,cAAc1jB,GAAO;AAAA,IACnCX,MAAS,WAAWW,GAAO;AAAA,IAC3B41E,KAAa51E,GAAO;AAAA,IACpBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAEL6rF,IAAgB,CAACp+E,GAAe+V,MAA2B;AAE/D,QAAIA,EAAK;AACP,cAAQA,EAAK,QAAA;AAAA,QACX,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,MAAA;AAKb,WAAI/V,IAAQiQ,IAAgB,cACxBjQ,MAAUiQ,IAAgB,WAC1B8F,EAAK,WAAiB,aACnB;AAAA,EACT,GAEMsoE,IAAkB,CAACr+E,GAAe+V,MAAmB;AACzD,IAAI,CAAC0yD,KAAa1yD,EAAK,YAGnB/V,KAASiQ,KACX1a,IAAWyK,CAAK;AAAA,EAEpB,GAEMs+E,IAAa,CAACt+E,GAAe+V,GAAgBmxC,MAE7CnxC,EAAK,OACAA,EAAK,OAIVmxC,MAAW,gCACLxuD,IAAA,EAAM,IAGZwuD,MAAW,4BACL/pD,IAAA,EAAE,IAIL6C,IAAQ;AAGjB,SACE,gBAAAjN;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWuL;AAAA,MACX,MAAK;AAAA,MACL,cAAW;AAAA,MAEV,UAAA2X,EAAM,IAAI,CAACF,GAAM/V,MAAU;AAC1B,cAAMknD,IAASk3B,EAAcp+E,GAAO+V,CAAI,GAClCwoE,IAAc9V,KAAa,CAAC1yD,EAAK,YAAY/V,KAASiQ,GAEtDuuE,IAAc;AAAA,UAClB3rF,GAAO;AAAA,UACPA,GAAO,QAAQq0D,CAAM,EAAE;AAAA,UACvBq3B,KAAe1rF,GAAO;AAAA,QAAA,EAErB,OAAO,OAAO,EACd,KAAK,GAAG,GAEL4rF,IACJ,gBAAA3rF,EAAAwB,IAAA,EACE,UAAA;AAAA,UAAA,gBAAAvB,EAAC,OAAA,EAAI,WAAWF,GAAO,UACpB,YAAWmN,GAAO+V,GAAMmxC,CAAM,EAAA,CACjC;AAAA,UACA,gBAAAp0D,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,WAAY,YAAK,OAAM;AAAA,YAC7CkjB,EAAK,eACJ,gBAAAhjB,EAAC,OAAA,EAAI,WAAWF,GAAO,iBACpB,YAAK,YAAA,CACR;AAAA,UAAA,EAAA,CAEJ;AAAA,QAAA,GACF,GAGImG,IAAY,QAAQgH,IAAQ,CAAC,OAAOiW,EAAM,MAAM,KACpD,OAAOF,EAAK,SAAU,WAAWA,EAAK,QAAQ,MAChD,KAAKmxC,CAAM;AAEX,eAAIq3B,IAEA,gBAAAxrF;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,WAAWyrF;AAAA,YACX,SAAS,MAAMH,EAAgBr+E,GAAO+V,CAAI;AAAA,YAC1C,cAAY/c;AAAA,YACZ,gBAAckuD,MAAW,WAAW,SAAS;AAAA,YAC7C,MAAK;AAAA,YAEJ,UAAAu3B;AAAA,UAAA;AAAA,UAPIz+E;AAAA,QAAA,IAaT,gBAAAjN;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,WAAWyrF;AAAA,YACX,cAAYxlF;AAAA,YACZ,gBAAckuD,MAAW,WAAW,SAAS;AAAA,YAE5C,UAAAu3B;AAAA,UAAA;AAAA,UALIz+E;AAAA,QAAA;AAAA,MAQX,CAAC;AAAA,IAAA;AAAA,EAAA;AAGP;AAEAm+E,GAAM,cAAc;;;;;;;;;GCnIPO,KAAS,CAAC;AAAA,EACrB,OAAAzoE;AAAA,EACA,WAAW0oE;AAAA,EACX,WAAAC,IAAY;AAAA,EACZ,QAAAC,IAAS;AAAA,EACT,UAAAtpF;AAAA,EACA,WAAAhD,IAAY;AAAA,EACZ,YAAAusF,IAAa;AAAA,EACb,QAAAC,IAAS;AACX,MAAmB;AACjB,QAAM,CAACtF,GAAWuF,CAAY,IAAIrpF,EAAiB,EAAE,GAC/CspF,IAAYhpF,EAAoB,IAAI,GACpCipF,IAAWjpF,EAAuC,oBAAI,KAAK,GAC3DkpF,IAAclpF,EAAoC,IAAI,GAGtDmpF,IAAmBT,MAAwB,SAAYA,IAAsBlF,GAG7E4F,IAAevqF,EAAY,CAACmhB,MAC5B,CAACA,KAAS,CAAC,MAAM,QAAQA,CAAK,IAAU,CAAA,IACrCA,EAAM,OAAO,CAAC8U,GAAmBhV,OACtCgV,EAAI,KAAKhV,CAAI,GACTA,EAAK,YACPgV,EAAI,KAAK,GAAGs0D,EAAatpE,EAAK,QAAQ,CAAC,GAElCgV,IACN,CAAA,CAAE,GACJ,CAAA,CAAE,GAECu0D,IAAWD,EAAappE,CAAK;AAGnC,EAAAlf,EAAU,MAAM;AACd,QAAIuoF,EAAS,WAAW,EAAG;AAE3B,UAAMC,IAA0B,CAAA;AAWhC,QARAD,EAAS,QAAQ,CAACvpE,MAAS;AACzB,YAAMypE,IAAWzpE,EAAK,KAAK,UAAU,CAAC,GAChC0pE,IAAU,SAAS,eAAeD,CAAQ;AAChD,MAAIC,KACFF,EAAS,KAAKE,CAAO;AAAA,IAEzB,CAAC,GAEGF,EAAS,WAAW,EAAG;AAG3B,UAAMG,IAA4C;AAAA,MAChD,YAAAZ;AAAA,MACA,WAAW,CAAC,GAAG,MAAM,KAAK,MAAM,CAAC;AAAA,IAAA,GAI7Ba,wBAAsB,IAAA;AAE5B,WAAAR,EAAY,UAAU,IAAI,qBAAqB,CAACl4C,MAAY;AAU1D,UATAA,EAAQ,QAAQ,CAACE,MAAU;AACzB,QAAIA,EAAM,iBACRw4C,EAAgB,IAAIx4C,EAAM,OAAO,EAAE,IAEnCw4C,EAAgB,OAAOx4C,EAAM,OAAO,EAAE;AAAA,MAE1C,CAAC,GAGGw4C,EAAgB,OAAO,GAAG;AAC5B,cAAMC,IAAeL,EAAS;AAAA,UAAK,CAACE,MAClCE,EAAgB,IAAIF,EAAQ,EAAE;AAAA,QAAA;AAEhC,YAAIG,GAAc;AAChB,gBAAMC,IAAYP,EAAS;AAAA,YACzB,CAACvpE,MAASA,EAAK,SAAS,MAAM6pE,EAAa;AAAA,UAAA;AAE7C,cAAIC,GAAW;AACb,kBAAMC,IAAeD,EAAU;AAC/B,YAAIlB,MAAwB,UAC1BK,EAAac,CAAY,GAE3BvqF,IAAWuqF,CAAY;AAAA,UACzB;AAAA,QACF;AAAA,MACF;AAAA,IACF,GAAGJ,CAAe,GAGlBH,EAAS,QAAQ,CAACE,MAAY;AAC5B,MAAAN,EAAY,SAAS,QAAQM,CAAO;AAAA,IACtC,CAAC,GAGM,MAAM;AACX,MAAIN,EAAY,YACdI,EAAS,QAAQ,CAACE,MAAY;AAC5B,QAAAN,EAAY,SAAS,UAAUM,CAAO;AAAA,MACxC,CAAC,GACDN,EAAY,QAAQ,WAAA;AAAA,IAExB;AAAA,EACF,GAAG,CAACG,GAAUR,GAAYvpF,GAAUopF,CAAmB,CAAC;AAGxD,QAAM9pF,IAAcC;AAAA,IAClB,CAACmH,GAAwC8Z,MAAqB;AAC5D,MAAA9Z,EAAE,eAAA;AAEF,YAAMujF,IAAWzpE,EAAK,KAAK,UAAU,CAAC,GAChCgqE,IAAgB,SAAS,eAAeP,CAAQ;AAEtD,UAAIO,GAAe;AAEjB,cAAMC,IAAU,CAACpB,GACXlsC,IACJqtC,EAAc,sBAAA,EAAwB,MACtC,OAAO,cACPC;AAGF,eAAO,SAAS;AAAA,UACd,KAAKttC;AAAA,UACL,UAAUqsC,IAAS,WAAW;AAAA,QAAA,CAC/B,GAGG,QAAQ,aACV,QAAQ,UAAU,MAAM,IAAIhpE,EAAK,IAAI,GAInC4oE,MAAwB,UAC1BK,EAAajpE,EAAK,GAAG,GAEvBxgB,IAAWwgB,EAAK,GAAG;AAAA,MACrB;AAAA,IACF;AAAA,IACA,CAAC6oE,GAAWG,GAAQJ,GAAqBppF,CAAQ;AAAA,EAAA,GAI7C2B,IAAgBpC;AAAA,IACpB,CAACmH,GAA2CuvE,MAAyB;AACnE,YAAMyU,IAAW,MAAM,KAAKf,EAAS,QAAQ,QAAQ;AACrD,UAAIgB;AAEJ,cAAQjkF,EAAE,KAAA;AAAA,QACR,KAAK;AACH,UAAAA,EAAE,eAAA,GACFikF,IAAc,KAAK,IAAI1U,IAAe,GAAGyU,EAAS,SAAS,CAAC,GAC5DA,EAASC,CAAW,GAAG,MAAA;AACvB;AAAA,QACF,KAAK;AACH,UAAAjkF,EAAE,eAAA,GACFikF,IAAc,KAAK,IAAI1U,IAAe,GAAG,CAAC,GAC1CyU,EAASC,CAAW,GAAG,MAAA;AACvB;AAAA,QACF,KAAK;AACH,UAAAjkF,EAAE,eAAA,GACFgkF,EAAS,CAAC,GAAG,MAAA;AACb;AAAA,QACF,KAAK;AACH,UAAAhkF,EAAE,eAAA,GACFgkF,EAASA,EAAS,SAAS,CAAC,GAAG,MAAA;AAC/B;AAAA,MAAA;AAAA,IAEN;AAAA,IACA,CAAA;AAAA,EAAC,GAIGE,IAAmB,CAACpqE,GAAkB/V,MAAkB;AAC5D,UAAMgC,IAAWo9E,MAAqBrpE,EAAK;AAE3C,WACE,gBAAAjjB,EAAC,OAAA,EAAmB,WAAWD,GAAO,YACpC,UAAA;AAAA,MAAA,gBAAAC;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAMijB,EAAK;AAAA,UACX,KAAK,CAACqqE,MAAO;AACX,YAAIA,IACFlB,EAAS,QAAQ,IAAInpE,EAAK,KAAKqqE,CAAE,IAEjClB,EAAS,QAAQ,OAAOnpE,EAAK,GAAG;AAAA,UAEpC;AAAA,UACA,WAAW,GAAGljB,GAAO,UAAU,IAAImP,IAAWnP,GAAO,SAAS,EAAE;AAAA,UAChE,SAAS,CAACoJ,MAAMpH,EAAYoH,GAAG8Z,CAAI;AAAA,UACnC,WAAW,CAAC9Z,MAAM/E,EAAc+E,GAAG+D,CAAK;AAAA,UACxC,gBAAcgC,IAAW,aAAa;AAAA,UAErC,UAAA;AAAA,YAAA+T,EAAK,QAAQ,gBAAAhjB,EAAC,QAAA,EAAK,WAAWF,GAAO,YAAa,YAAK,KAAA,CAAK;AAAA,YAC7D,gBAAAE,EAAC,QAAA,EAAM,UAAAgjB,EAAK,MAAA,CAAM;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,MAInBA,EAAK,YAAYA,EAAK,SAAS,SAAS,KACvC,gBAAAhjB,EAAC,OAAA,EAAI,WAAWF,GAAO,eACpB,UAAAkjB,EAAK,SAAS;AAAA,QAAI,CAAC4D,GAAO0mE,MACzBF,EAAiBxmE,GAAO3Z,IAAQqgF,IAAa,CAAC;AAAA,MAAA,EAChD,CACF;AAAA,IAAA,EAAA,GAzBMtqE,EAAK,GA2Bf;AAAA,EAEJ;AAEA,SACE,gBAAAhjB;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAKksF;AAAA,MACL,WAAW,GAAGpsF,GAAO,MAAM,IAAIgsF,IAAShsF,GAAO,SAAS,EAAE,IAAIN,CAAS;AAAA,MACvE,MAAK;AAAA,MACL,cAAW;AAAA,MAEV,UAAA0jB,EAAM,IAAI,CAACF,GAAM/V,MAAUmgF,EAAiBpqE,GAAM/V,CAAK,CAAC;AAAA,IAAA;AAAA,EAAA;AAG/D;;;;;;;;;GCtOasgF,KAAkC,CAAC;AAAA,EAC9C,WAAA7yC,IAAY;AAAA,EACZ,UAAU8yC,IAAY;AAAA,EACtB,MAAAruF,IAAO;AAAA,EACP,SAAAD,IAAU;AAAA,EACV,UAAAwc,IAAW;AAAA,EACX,UAAA+xE,IAAW;AAAA,EACX,MAAA7kD,IAAO;AAAA,EACP,QAAAvsB;AAAA,EACA,SAAAuR;AAAA,EACA,WAAApuB;AAAA,EACA,OAAA0P;AAAA,EACA,UAAA3P;AACF,MAAM;AACJ,QAAM,CAAC0/E,GAASyO,CAAU,IAAI9qF,EAAS,EAAK,GACtC+qF,IAASzqF,EAAsB,IAAI,GAEnC0qF,IAAe7rF,EAAY,MAAM;AACrC,UAAM8rF,IAAgBxxE,IAAA;AAItB,WAHI,CAACwxE,KAGDA,MAAkB,SACb,OAAO,eAAe,SAAS,gBAAgB,YAEhDA,EAA8B;AAAA,EACxC,GAAG,CAACxxE,CAAM,CAAC,GAEL4zC,IAAeluD,EAAY,MAAM;AACrC,IAAI4rF,EAAO,YAAY,QACrB,qBAAqBA,EAAO,OAAO,GAGrCA,EAAO,UAAU,sBAAsB,MAAM;AAC3C,YAAMphC,IAAYqhC,EAAA;AAClB,MAAAF,EAAWnhC,IAAY7R,CAAS;AAAA,IAClC,CAAC;AAAA,EACH,GAAG,CAACA,GAAWkzC,CAAY,CAAC,GAEtBE,IAAc/rF,EAAY,MAAM;AACpC,IAAA6rB,IAAA;AAEA,UAAMigE,IAAgBxxE,IAAA,GAChBs5B,IAAgB,CAACk4C,KAAiBA,MAAkB,SACtD,SACCA;AAKL,QAF6B,OAAO,WAAW,kCAAkC,EAAE,SAEzD;AAExB,MAAIl4C,MAAkB,SACpB,OAAO,SAAS,GAAG,CAAC,IAEnBA,EAA8B,YAAY;AAE7C;AAAA,IACF;AAGA,IAAIA,MAAkB,SACpB,OAAO,SAAS,EAAE,KAAK,GAAG,UAAU,UAAU,IAE7CA,EAA8B,SAAS,EAAE,KAAK,GAAG,UAAU,UAAU;AAAA,EAE1E,GAAG,CAACt5B,GAAQuR,CAAO,CAAC;AAEpB,EAAA5pB,EAAU,MAAM;AACd,UAAM6pF,IAAgBxxE,SAAc,QAC9Bs5B,IAAgBk4C,MAAkB,SAAS,SAAUA;AAE3D,WAAA59B,EAAA,GACAta,EAAc,iBAAiB,UAAUsa,GAAc,EAAE,SAAS,IAAM,GAEjE,MAAM;AACX,MAAAta,EAAc,oBAAoB,UAAUsa,CAAY,GACpD09B,EAAO,YAAY,QACrB,qBAAqBA,EAAO,OAAO;AAAA,IAEvC;AAAA,EACF,GAAG,CAACtxE,GAAQ4zC,CAAY,CAAC;AAEzB,QAAM89B,IAAgB;AAAA,IACpBjuF,GAAO;AAAA,IACPm/E,KAAWn/E,GAAO;AAAA,IAClBX,MAAS,QAAQW,GAAOX,CAAI;AAAA,IAC5BD,MAAY,aAAaY,GAAOZ,CAAO;AAAA,IACvCwc,MAAa,UAAU5b,GAAO;AAAA,IAC9B2tF,KAAY3tF,GAAO;AAAA,IACnBN;AAAA,EAAA,EACA,OAAO,OAAO,EAAE,KAAK,GAAG;AAE1B,SACE,gBAAAO;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWguF;AAAA,MACX,OAAA7+E;AAAA,MACA,SAAS4+E;AAAA,MACT,cAAW;AAAA,MACX,eAAa,CAAC7O;AAAA,MACd,MAAK;AAAA,MAEJ,UAAA;AAAA,QAAA1/E,KAAY,gBAAAS,EAACy2E,IAAA,EAAQ,eAAY,OAAA,CAAO;AAAA,QACxCgX,KAAY,gBAAAztF,EAAC,QAAA,EAAM,UAAA4oC,EAAA,CAAK;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAG/B;AAEA2kD,GAAQ,cAAc;;;;;GC/GTS,KAAQ,CAAC;AAAA,EACpB,UAAAzuF;AAAA,EACA,WAAAssF;AAAA,EACA,cAAAoC;AAAA,EACA,QAAA5xE;AAAA,EACA,UAAA7Z;AAAA,EACA,WAAAhD,IAAY;AAAA,EACZ,QAAAg8D,IAAS;AAAA,EACT,OAAAtsD,IAAQ,CAAA;AACV,MAAkB;AAChB,QAAM,CAACg/E,GAASC,CAAU,IAAIvrF,EAAS,EAAK,GACtCwrF,IAAWlrF,EAAuB,IAAI,GACtCmrF,IAAiBnrF,EAAuB,IAAI,GAC5C,CAACorF,GAAYC,CAAa,IAAI3rF,EAAwB,CAAA,CAAE,GACxD,CAAC4rF,GAAkBC,CAAmB,IAAI7rF,EAAwB;AAAA,IACtE,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,SAAS;AAAA,EAAA,CACV,GAGK8rF,IAAaxrF,EAAO,EAAK,GACzByrF,IAAkBzrF,EAAO;AAAA,IAC7B,mBAAmB;AAAA,IACnB,oBAAoB;AAAA,IACpB,cAAc;AAAA,IACd,eAAe;AAAA,EAAA,CAChB,GACK0rF,IAAW1rF,EAAsB,IAAI,GAGrC2rF,IAAShD,MAAc;AAG7B,EAAIgD,KAFcZ,MAAiB,UAGjC,QAAQ,KAAK,kEAAkE;AAGjF,QAAMx5C,IAASo6C,IAAShD,IAAYoC,GAC9BvyE,IAAWmzE,IAAS,QAAQ,UAG5BC,IAAqB/sF,EAAY,MAAM;AAC3C,UAAMgtF,IAAeX,EAAS,SACxBY,IAAqBX,EAAe;AAC1C,QAAI,CAACU,KAAgB,CAACC,EAAoB;AAE1C,UAAMzoC,IAAkBlqC,IAAS,SAAS,eAAeA,CAAM,IAAI;AACnE,QAAI,CAACkqC,EAAiB;AAEtB,UAAMn5C,IAAO2hF,EAAa,sBAAA,GACpBxiC,IAAYhG,MAAoB,SAAS,OAAO,UAAWA,EAAgC,WAC3F+F,IAAa/F,MAAoB,SAAS,OAAO,UAAWA,EAAgC;AAElG,IAAAooC,EAAgB,UAAU;AAAA,MACxB,mBAAmBvhF,EAAK,MAAMm/C;AAAA,MAC9B,oBAAoBn/C,EAAK,OAAOk/C;AAAA,MAChC,cAAcl/C,EAAK;AAAA,MACnB,eAAeA,EAAK;AAAA,IAAA;AAAA,EAExB,GAAG,CAACiP,CAAM,CAAC,GAGL4zC,IAAeluD,EAAY,MAAM;AACrC,IAAI6sF,EAAS,YAAY,SAEzBA,EAAS,UAAU,sBAAsB,MAAM;AAI7C,UAHAA,EAAS,UAAU,MAGf,CADiBR,EAAS,QACX;AAEnB,YAAM7nC,IAAkBlqC,IAAS,SAAS,eAAeA,CAAM,IAAI;AACnE,UAAI,CAACkqC,EAAiB;AAEtB,YAAMgG,IAAYhG,MAAoB,SAClC,OAAO,UACNA,EAAgC,WAE/BnqC,IAAiBmqC,MAAoB,SACvC,OAAO,cACNA,EAAgC,cAE/B,EAAE,mBAAA0oC,GAAmB,oBAAAC,GAAoB,cAAAC,GAAc,eAAAC,EAAA,IAAkBT,EAAgB;AAC/F,UAAIU,IAAc;AAElB,UAAI3zE,MAAa,OAAO;AAEtB,cAAM4zE,IAAc76C,KAAU;AAC9B,QAAA46C,IAAc9iC,IAAY0iC,IAAoBK,GAE1CD,KAAe,CAACX,EAAW,WAE7BA,EAAW,UAAU,IACrBP,EAAW,EAAI,GACfM,EAAoB;AAAA,UAClB,SAAS;AAAA,UACT,QAAQ,GAAGW,CAAa;AAAA,UACxB,OAAO,GAAGD,CAAY;AAAA,UACtB,QAAQ;AAAA,UACR,SAAS;AAAA,UACT,QAAQ;AAAA,QAAA,CACT,GACDZ,EAAc;AAAA,UACZ,UAAU;AAAA,UACV,KAAK,GAAGe,CAAW;AAAA,UACnB,MAAM,GAAGJ,CAAkB;AAAA,UAC3B,OAAO,GAAGC,CAAY;AAAA,UACtB,QAAA3zB;AAAA,QAAA,CACD,GACDh5D,IAAW,EAAI,KACN,CAAC6sF,KAAeX,EAAW,YAEpCA,EAAW,UAAU,IACrBP,EAAW,EAAK,GAChBM,EAAoB;AAAA,UAClB,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,SAAS;AAAA,QAAA,CACV,GACDF,EAAc,CAAA,CAAE,GAChB/rF,IAAW,EAAK;AAAA,MAEpB,OAAO;AAEL,cAAM8sF,IAAc76C,KAAU,GACxB86C,IAAgBN,IAAoBG;AAE1C,QAAAC,IADuB9iC,IAAYnwC,IACJmzE,IAAgBD,GAE3CD,KAAe,CAACX,EAAW,WAE7BA,EAAW,UAAU,IACrBP,EAAW,EAAI,GACfM,EAAoB;AAAA,UAClB,SAAS;AAAA,UACT,QAAQ,GAAGW,CAAa;AAAA,UACxB,OAAO,GAAGD,CAAY;AAAA,UACtB,QAAQ;AAAA,UACR,SAAS;AAAA,UACT,QAAQ;AAAA,QAAA,CACT,GACDZ,EAAc;AAAA,UACZ,UAAU;AAAA,UACV,QAAQ,GAAGe,CAAW;AAAA,UACtB,MAAM,GAAGJ,CAAkB;AAAA,UAC3B,OAAO,GAAGC,CAAY;AAAA,UACtB,QAAA3zB;AAAA,QAAA,CACD,GACDh5D,IAAW,EAAI,KACN,CAAC6sF,KAAeX,EAAW,YAEpCA,EAAW,UAAU,IACrBP,EAAW,EAAK,GAChBM,EAAoB;AAAA,UAClB,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,SAAS;AAAA,QAAA,CACV,GACDF,EAAc,CAAA,CAAE,GAChB/rF,IAAW,EAAK;AAAA,MAEpB;AAAA,IACF,CAAC;AAAA,EACH,GAAG,CAACiyC,GAAQ/4B,GAAUW,GAAQm/C,GAAQh5D,CAAQ,CAAC,GAGzCksD,IAAe3sD,EAAY,MAAM;AAErC,IAAK2sF,EAAW,WACdI,EAAA,GAEF7+B,EAAA;AAAA,EACF,GAAG,CAAC6+B,GAAoB7+B,CAAY,CAAC;AAGrC,SAAAjsD,EAAU,MAAM;AACd,IAAA8qF,EAAA;AAAA,EACF,GAAG,CAACA,CAAkB,CAAC,GAGvB9qF,EAAU,MAAM;AACd,UAAMuiD,IAAkBlqC,IAAS,SAAS,eAAeA,CAAM,IAAI;AAEnE,QAAI,CAACkqC,GAAiB;AACpB,MAAIlqC,KACF,QAAQ,KAAK,oCAAoCA,CAAM,cAAc;AAEvE;AAAA,IACF;AAGA,WAAA4zC,EAAA,GAGI1J,MAAoB,UACtB,OAAO,iBAAiB,UAAU0J,GAAc,EAAE,SAAS,IAAM,GACjE,OAAO,iBAAiB,UAAUvB,CAAY,MAE9CnI,EAAgB,iBAAiB,UAAU0J,GAAc,EAAE,SAAS,IAAM,GAC1E,OAAO,iBAAiB,UAAUvB,CAAY,IAIzC,MAAM;AACX,MAAIkgC,EAAS,YAAY,QACvB,qBAAqBA,EAAS,OAAO,GAGnCroC,MAAoB,UACtB,OAAO,oBAAoB,UAAU0J,CAAY,GACjD,OAAO,oBAAoB,UAAUvB,CAAY,MAEjDnI,EAAgB,oBAAoB,UAAU0J,CAAY,GAC1D,OAAO,oBAAoB,UAAUvB,CAAY;AAAA,IAErD;AAAA,EACF,GAAG,CAACja,GAAQ/4B,GAAUW,GAAQm/C,GAAQvL,GAAcvB,CAAY,CAAC,GAG/D,gBAAA3uD,EAAAwB,IAAA,EAEE,UAAA;AAAA,IAAA,gBAAAvB;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAKouF;AAAA,QACL,WAAW,GAAGtuF,GAAO,KAAK,IAAIouF,IAAUpuF,GAAO,cAAc,EAAE,IAAIN,CAAS;AAAA,QAC5E,OAAO,EAAE,GAAG8uF,GAAY,GAAGp/E,EAAA;AAAA,QAC3B,gBAAcg/E;AAAA,QAEb,UAAA3uF;AAAA,MAAA;AAAA,IAAA;AAAA,IAIH,gBAAAS;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAKquF;AAAA,QACL,OAAOG;AAAA,QACP,eAAY;AAAA,QACZ,WAAW1uF,GAAO;AAAA,MAAA;AAAA,IAAA;AAAA,EACpB,GACF;AAEJ;;;;;;;GC9QM0vF,KAAU,CAAC;AAAA,EACf,SAAAre;AAAA,EACA,UAAA5xE;AAAA,EACA,UAAAmc,IAAW;AAAA,EACX,OAAA+zE,IAAQ;AAAA,EACR,MAAAC,IAAO;AAAA,EACP,WAAAlwF,IAAY;AAAA,EACZ,IAAAyB;AACF,MAAoB;AAClB,QAAM0uF,IAAcC,GAAA,GACdC,IAAY5uF,KAAM,WAAW0uF,CAAW,IACxC,CAACG,GAAWC,CAAY,IAAIntF,EAAS,EAAK,GAC1C,CAACotF,GAAiBC,CAAkB,IAAIrtF,EAAS,EAAE,KAAK,GAAG,MAAM,GAAG,GACpEstF,IAAahtF,EAAkD,MAAS,GACxEE,IAAaF,EAAoB,IAAI,GACrCitF,IAAajtF,EAAuB,IAAI,GAExCktF,IAAc,MAAM;AACxB,IAAIF,EAAW,WACb,aAAaA,EAAW,OAAO,GAEjCA,EAAW,UAAU,WAAW,MAAM;AACpC,MAAAH,EAAa,EAAI;AAAA,IACnB,GAAGN,CAAK;AAAA,EACV,GAEMY,IAAc,MAAM;AACxB,IAAIH,EAAW,WACb,aAAaA,EAAW,OAAO,GAEjCH,EAAa,EAAK;AAAA,EACpB;AAGA,EAAA/rF,EAAU,MAAM;AACd,QAAI,CAAC8rF,KAAa,CAAC1sF,EAAW,WAAW,CAAC+sF,EAAW,QAAS;AAE9D,UAAMzM,IAAUtgF,EAAW,SACrBktF,IAAUH,EAAW,SACrBt0E,IAAc6nE,EAAQ,sBAAA,GACtB6M,IAAcD,EAAQ,sBAAA;AAE5B,QAAIt0E,IAAM,GACNC,IAAO;AAEX,YAAQP,GAAA;AAAA,MACN,KAAK;AACH,QAAAM,IAAMH,EAAY,MAAM00E,EAAY,SAAS,GAC7Ct0E,IAAOJ,EAAY,OAAOA,EAAY,QAAQ,IAAI00E,EAAY,QAAQ;AACtE;AAAA,MACF,KAAK;AACH,QAAAv0E,IAAMH,EAAY,SAAS,GAC3BI,IAAOJ,EAAY,OAAOA,EAAY,QAAQ,IAAI00E,EAAY,QAAQ;AACtE;AAAA,MACF,KAAK;AACH,QAAAv0E,IAAMH,EAAY,MAAMA,EAAY,SAAS,IAAI00E,EAAY,SAAS,GACtEt0E,IAAOJ,EAAY,OAAO00E,EAAY,QAAQ;AAC9C;AAAA,MACF,KAAK;AACH,QAAAv0E,IAAMH,EAAY,MAAMA,EAAY,SAAS,IAAI00E,EAAY,SAAS,GACtEt0E,IAAOJ,EAAY,QAAQ;AAC3B;AAAA,IAAA;AAIJ,UAAMM,IAAgB,OAAO,YACvBC,IAAiB,OAAO,aACxBo0E,IAAS;AAEf,IAAIv0E,IAAOu0E,MAAQv0E,IAAOu0E,IACtBv0E,IAAOs0E,EAAY,QAAQp0E,IAAgBq0E,MAC7Cv0E,IAAOE,IAAgBo0E,EAAY,QAAQC,IAEzCx0E,IAAMw0E,MAAQx0E,IAAMw0E,IACpBx0E,IAAMu0E,EAAY,SAASn0E,IAAiBo0E,MAC9Cx0E,IAAMI,IAAiBm0E,EAAY,SAASC,IAG9CP,EAAmB,EAAE,KAAAj0E,GAAK,MAAAC,GAAM;AAAA,EAClC,GAAG,CAAC6zE,GAAWp0E,CAAQ,CAAC,GAGxB1X,EAAU,MACD,MAAM;AACX,IAAIksF,EAAW,WACb,aAAaA,EAAW,OAAO;AAAA,EAEnC,GACC,CAAA,CAAE;AASL,QAAMO,IAAalxF,EAAS,OACtBmkF,IAAUzkF,GAAM,aAAaM,GAAU;AAAA,IAC3C,KAAK6D;AAAA,IACL,cAAc,CAAC8F,MAAwB;AACrC,MAAAknF,EAAA,GACAK,EAAW,eAAevnF,CAAC;AAAA,IAC7B;AAAA,IACA,cAAc,CAACA,MAAwB;AACrC,MAAAmnF,EAAA,GACAI,EAAW,eAAevnF,CAAC;AAAA,IAC7B;AAAA,IACA,SAAS,CAACA,MAAwB;AAChC,MAAAknF,EAAA,GACAK,EAAW,UAAUvnF,CAAC;AAAA,IACxB;AAAA,IACA,QAAQ,CAACA,MAAwB;AAC/B,MAAAmnF,EAAA,GACAI,EAAW,SAASvnF,CAAC;AAAA,IACvB;AAAA,IACA,oBAAoB4mF,IAAYD,IAAY;AAAA,EAAA,CACR,GAEhCa,IAAgBh1E,MAAa,QAAQ5b,GAAO,aAC5B4b,MAAa,UAAU5b,GAAO,eAC9B4b,MAAa,SAAS5b,GAAO,cAC7BA,GAAO,eAEvB6wF,IAAYjB,IAAO5vF,GAAO,cAAc;AAE9C,SACE,gBAAAC,EAAAwB,IAAA,EACG,UAAA;AAAA,IAAAmiF;AAAA,IACAoM,KAAatzE;AAAA,MACZ,gBAAAxc;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAKmwF;AAAA,UACL,WAAW,GAAGrwF,GAAO,OAAO,IAAI4wF,CAAa,IAAIC,CAAS,IAAInxF,CAAS;AAAA,UACvE,MAAK;AAAA,UACL,IAAIqwF;AAAA,UACJ,OAAO;AAAA,YACL,KAAK,GAAGG,EAAgB,GAAG;AAAA,YAC3B,MAAM,GAAGA,EAAgB,IAAI;AAAA,UAAA;AAAA,UAG9B,UAAA7e;AAAA,QAAA;AAAA,MAAA;AAAA,MAEH,SAAS;AAAA,IAAA;AAAA,EACX,GACF;AAEJ;AAEAqe,GAAQ,cAAc;;;;;;;;;;;;;GCzHhBoB,KAAU,CAAC;AAAA,EACf,MAAApsB;AAAA,EACA,SAAAhpD;AAAA,EACA,UAAAjc;AAAA,EACA,UAAAmc,IAAW;AAAA,EACX,MAAAsoE,IAAO;AAAA,EACP,YAAA5gF;AAAA,EACA,WAAA5D,IAAY;AACd,MAAoB;AAClB,QAAMic,IAAavY,EAAuB,IAAI;AA4F9C,MAzFAc,EAAU,MAAM;AACd,QAAI,CAACwgE,EAAM;AAEX,UAAMvgE,IAAqB,CAACC,MAAsB;AAChD,YAAMmY,IAASnY,EAAM,QACfw/E,IAAUtgF,GAAY;AAG5B,MACEqY,EAAW,WACX,CAACA,EAAW,QAAQ,SAASY,CAAM,KACnCqnE,KACA,CAACA,EAAQ,SAASrnE,CAAM,KAExBb,EAAA;AAAA,IAEJ;AAEA,oBAAS,iBAAiB,aAAavX,CAAkB,GAClD,MAAM,SAAS,oBAAoB,aAAaA,CAAkB;AAAA,EAC3E,GAAG,CAACugE,GAAMhpD,GAASpY,CAAU,CAAC,GAG9BY,EAAU,MAAM;AACd,QAAI,CAACwgE,EAAM;AAEX,UAAMjoD,IAAe,CAACrY,MAAyB;AAC7C,MAAIA,EAAM,QAAQ,aAChBsX,EAAA,GAEIpY,GAAY,WACdA,EAAW,QAAQ,MAAA;AAAA,IAGzB;AAEA,oBAAS,iBAAiB,WAAWmZ,CAAY,GAC1C,MAAM,SAAS,oBAAoB,WAAWA,CAAY;AAAA,EACnE,GAAG,CAACioD,GAAMhpD,GAASpY,CAAU,CAAC,GAG9BY,EAAU,MAAM;AACd,QAAI,CAACwgE,KAAQ,CAAC/oD,EAAW,WAAW,CAACrY,GAAY,QAAS;AAE1D,UAAMsgF,IAAUtgF,EAAW,SACrBytF,IAAUp1E,EAAW,SACrBI,IAAc6nE,EAAQ,sBAAA,GACtBxnE,IAAc20E,EAAQ,sBAAA;AAE5B,QAAI70E,IAAM,GACNC,IAAO;AAEX,YAAQP,GAAA;AAAA,MACN,KAAK;AACH,QAAAM,IAAMH,EAAY,MAAMK,EAAY,SAAS,GAC7CD,IAAOJ,EAAY,OAAOA,EAAY,QAAQ,IAAIK,EAAY,QAAQ;AACtE;AAAA,MACF,KAAK;AACH,QAAAF,IAAMH,EAAY,SAAS,GAC3BI,IAAOJ,EAAY,OAAOA,EAAY,QAAQ,IAAIK,EAAY,QAAQ;AACtE;AAAA,MACF,KAAK;AACH,QAAAF,IAAMH,EAAY,MAAMA,EAAY,SAAS,IAAIK,EAAY,SAAS,GACtED,IAAOJ,EAAY,OAAOK,EAAY,QAAQ;AAC9C;AAAA,MACF,KAAK;AACH,QAAAF,IAAMH,EAAY,MAAMA,EAAY,SAAS,IAAIK,EAAY,SAAS,GACtED,IAAOJ,EAAY,QAAQ;AAC3B;AAAA,IAAA;AAIJ,UAAMM,IAAgB,OAAO,YACvBC,IAAiB,OAAO,aACxBo0E,IAAS;AAEf,IAAIv0E,IAAOu0E,MAAQv0E,IAAOu0E,IACtBv0E,IAAOC,EAAY,QAAQC,IAAgBq0E,MAC7Cv0E,IAAOE,IAAgBD,EAAY,QAAQs0E,IAEzCx0E,IAAMw0E,MAAQx0E,IAAMw0E,IACpBx0E,IAAME,EAAY,SAASE,IAAiBo0E,MAC9Cx0E,IAAMI,IAAiBF,EAAY,SAASs0E,IAG9CK,EAAQ,MAAM,MAAM,GAAG70E,CAAG,MAC1B60E,EAAQ,MAAM,OAAO,GAAG50E,CAAI;AAAA,EAC9B,GAAG,CAACuoD,GAAM9oD,GAAUtY,CAAU,CAAC,GAE3B,CAACohE,EAAM,QAAO;AAElB,QAAMksB,IAAgBh1E,MAAa,QAAQ5b,GAAO,aAC5B4b,MAAa,UAAU5b,GAAO,eAC9B4b,MAAa,SAAS5b,GAAO,cAC7BA,GAAO,eAEvBgxF,IAAY9M,IAAOlkF,GAAO,cAAc;AAE9C,SAAO0c;AAAA,IACL,gBAAAxc;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAKyb;AAAA,QACL,WAAW,GAAG3b,GAAO,OAAO,IAAI4wF,CAAa,IAAII,CAAS,IAAItxF,CAAS;AAAA,QACvE,MAAK;AAAA,QACL,cAAW;AAAA,QAEV,UAAAD;AAAA,MAAA;AAAA,IAAA;AAAA,IAEH,SAAS;AAAA,EAAA;AAEb,GAEMwxF,KAAgB,CAAC,EAAE,UAAAxxF,GAAU,WAAAC,IAAY,SAE3C,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,aAAa,IAAIN,CAAS,IACjD,UAAAD,EAAA,CACH,GAIEyxF,KAAiB,CAAC,EAAE,UAAAzxF,GAAU,WAAAC,IAAY,SAE5C,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,cAAc,IAAIN,CAAS,IAClD,UAAAD,EAAA,CACH,GAIE0xF,KAAgB,CAAC,EAAE,UAAA1xF,GAAU,WAAAC,IAAY,SAE3C,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,aAAa,IAAIN,CAAS,IACjD,UAAAD,EAAA,CACH,GAIE2xF,KAAe,CAAC,EAAE,UAAA3xF,GAAU,WAAAC,IAAY,SAE1C,gBAAAQ,EAAC,UAAK,WAAW,GAAGF,GAAO,YAAY,IAAIN,CAAS,IACjD,UAAAD,EAAA,CACH,GAIE4xF,KAAe,CAAC;AAAA,EACpB,SAAAvjE;AAAA,EACA,cAAc3nB,IAAY;AAAA,EAC1B,WAAAzG,IAAY;AACd,MAEI,gBAAAQ;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAGF,GAAO,YAAY,IAAIN,CAAS;AAAA,IAC9C,SAAAouB;AAAA,IACA,cAAY3nB;AAAA,IACZ,MAAK;AAAA,IAEL,UAAA,gBAAAjG,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI;AAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;GC9HNgnF,KAAO,CAAC;AAAA,EACnB,MAAA5sB;AAAA,EACA,OAAA6sB;AAAA,EACA,SAASC;AAAA,EACT,UAAA9uF;AAAA,EACA,SAAAgZ;AAAA,EACA,UAAA+1E;AAAA,EACA,QAAAC;AAAA,EACA,MAAAC,IAAO;AAAA,EACP,UAAA/W,IAAW;AAAA,EACX,UAAAgX,IAAW;AAAA,EACX,cAAAC,IAAe;AAAA,EACf,WAAWC,IAAmB;AAAA,EAC9B,cAAc3rF,IAAY;AAC5B,MAAiB;AACf,QAAM,CAAC4rF,GAAqBC,CAAsB,IAAIlvF,EAAS,CAAC,GAC1D,CAACmvF,GAAeC,CAAgB,IAAIpvF,EAAS,EAAE,KAAK,GAAG,MAAM,GAAG,GAChE,CAACqvF,GAAgBC,CAAiB,IAAItvF,EAAwBgvF,CAAgB,GAC9EO,IAAWjvF,EAAuB,IAAI,GACtCw4E,IAAmBx4E,EAA2B,IAAI,GAClD,CAAC2qF,GAAeuE,CAAgB,IAAIxvF,EAA6B,IAAI,GAGrES,IAAeiuF,MAAsB,QACrCe,IAAchvF,IAAeiuF,IAAoBO,GAEjDS,IAAiB,CAACrlF,MAAkB;AACxC,IAAK5J,KACHyuF,EAAuB7kF,CAAK,GAE9BzK,IAAWyK,CAAK;AAAA,EAClB,GAEMtC,IAAO0mF,EAAMgB,CAAW;AAG9B,EAAAruF,EAAU,MAAM;AACd,IAAIwgE,IACFkX,EAAiB,UAAU,SAAS,gBAGhCA,EAAiB,WACnBA,EAAiB,QAAQ,MAAA;AAAA,EAG/B,GAAG,CAAClX,CAAI,CAAC,GAGTxgE,EAAU,MAAM;AACd,QAAI,CAACwgE,KAAQ,CAAC75D,EAAM;AAGpB,aAAS,iBAAiB,IAAI7K,GAAO,mBAAmB,EAAE,EAAE,QAAQ,CAAAutF,MAAM;AACxE,MAAAA,EAAG,UAAU,OAAOvtF,GAAO,mBAAmB;AAAA,IAChD,CAAC;AAGD,UAAMuc,IAAS,SAAS,cAAc1R,EAAK,MAAM;AACjD,WAAI0R,MACFA,EAAO,UAAU,IAAIvc,GAAO,mBAAmB,GAC/CsyF,EAAiB/1E,CAAM,IAGlB,MAAM;AAEX,eAAS,iBAAiB,IAAIvc,GAAO,mBAAmB,EAAE,EAAE,QAAQ,CAAAutF,MAAM;AACxE,QAAAA,EAAG,UAAU,OAAOvtF,GAAO,mBAAmB;AAAA,MAChD,CAAC;AAAA,IACH;AAAA,EACF,GAAG,CAAC0kE,GAAM75D,GAAM0nF,CAAW,CAAC,GAG5BruF,EAAU,MAAM;AACd,QAAI,CAACwgE,KAAQ,CAACqpB,KAAiB,CAACsE,EAAS,QAAS;AAElD,UAAMI,IAAiB,MAAM;AAC3B,YAAMC,IAAa3E,EAAc,sBAAA,GAC3B4E,IAAYN,EAAS,QAAS,sBAAA,GAC9BjS,IAAYv1E,GAAM,aAAainF;AAErC,UAAI51E,KAAM,GACNC,IAAO;AAEX,cAAQikE,GAAA;AAAA,QACN,KAAK;AACH,UAAAlkE,KAAMw2E,EAAW,MAAMC,EAAU,SAAS,IAC1Cx2E,IAAOu2E,EAAW,OAAQA,EAAW,QAAQ,IAAMC,EAAU,QAAQ;AACrE;AAAA,QACF,KAAK;AACH,UAAAz2E,KAAMw2E,EAAW,MAAOA,EAAW,SAAS,IAAMC,EAAU,SAAS,GACrEx2E,IAAOu2E,EAAW,QAAQ;AAC1B;AAAA,QACF,KAAK;AACH,UAAAx2E,KAAMw2E,EAAW,MAAOA,EAAW,SAAS,IAAMC,EAAU,SAAS,GACrEx2E,IAAOu2E,EAAW,OAAOC,EAAU,QAAQ;AAC3C;AAAA,QACF,KAAK;AAAA,QACL;AACE,UAAAz2E,KAAMw2E,EAAW,SAAS,IAC1Bv2E,IAAOu2E,EAAW,OAAQA,EAAW,QAAQ,IAAMC,EAAU,QAAQ;AACrE;AAAA,MAAA;AAIJ,MAAAz2E,KAAM,KAAK,IAAI,IAAI,KAAK,IAAIA,IAAK,OAAO,cAAcy2E,EAAU,SAAS,EAAE,CAAC,GAC5Ex2E,IAAO,KAAK,IAAI,IAAI,KAAK,IAAIA,GAAM,OAAO,aAAaw2E,EAAU,QAAQ,EAAE,CAAC,GAE5ET,EAAiB;AAAA,QACf,KAAKh2E,KAAM,OAAO;AAAA,QAClB,MAAMC,IAAO,OAAO;AAAA,MAAA,CACrB,GACDi2E,EAAkBhS,CAAS;AAAA,IAC7B;AAEA,WAAAqS,EAAA,GAGA,OAAO,iBAAiB,UAAUA,CAAc,GAChD,OAAO,iBAAiB,UAAUA,CAAc,GAEzC,MAAM;AACX,aAAO,oBAAoB,UAAUA,CAAc,GACnD,OAAO,oBAAoB,UAAUA,CAAc;AAAA,IACrD;AAAA,EACF,GAAG,CAAC/tB,GAAMqpB,GAAeljF,GAAMinF,CAAgB,CAAC,GAGhD5tF,EAAU,MAAM;AACd,QAAI,CAACwgE,EAAM;AAEX,UAAMrgE,IAAgB,CAAC+E,MAAqB;AAC1C,cAAQA,EAAE,KAAA;AAAA,QACR,KAAK;AACH,UAAAsS,EAAA;AACA;AAAA,QACF,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACH,UAAItS,EAAE,QAAQ,OAAKA,EAAE,eAAA,GACrBiW,EAAA;AACA;AAAA,QACF,KAAK;AACH,UAAAuzE,EAAA;AACA;AAAA,MAAA;AAAA,IAEN;AAEA,oBAAS,iBAAiB,WAAWvuF,CAAa,GAC3C,MAAM,SAAS,oBAAoB,WAAWA,CAAa;AAAA,EACpE,GAAG,CAACqgE,GAAM6tB,GAAahB,EAAM,MAAM,CAAC,GAGpCrtF,EAAU,MAAM;AACd,QAAIwgE,GAAM;AACR,YAAM8b,IAAiB,OAAO,aAAa,SAAS,gBAAgB;AACpE,eAAS,KAAK,MAAM,WAAW,UAC/B,SAAS,KAAK,MAAM,eAAe,GAAGA,CAAc;AAAA,IACtD;AACE,eAAS,KAAK,MAAM,WAAW,IAC/B,SAAS,KAAK,MAAM,eAAe;AAGrC,WAAO,MAAM;AACX,eAAS,KAAK,MAAM,WAAW,IAC/B,SAAS,KAAK,MAAM,eAAe;AAAA,IACrC;AAAA,EACF,GAAG,CAAC9b,CAAI,CAAC;AAET,QAAMrlD,IAAa,MAAM;AACvB,IAAIkzE,IAAchB,EAAM,SAAS,IAC/BiB,EAAeD,IAAc,CAAC,KAG9Bd,IAAA,GACA/1E,EAAA;AAAA,EAEJ,GAEMk3E,IAAa,MAAM;AACvB,IAAIL,IAAc,KAChBC,EAAeD,IAAc,CAAC;AAAA,EAElC,GAEMM,IAAa,MAAM;AACvB,IAAAnB,IAAA,GACAh2E,EAAA;AAAA,EACF,GAEMoD,IAAc,MAAM;AACxB,IAAApD,EAAA;AAAA,EACF;AAEA,MAAI,CAACgpD,KAAQ6sB,EAAM,WAAW,EAAG,QAAO;AAExC,QAAMuB,IAAcP,MAAgB,GAC9BQ,IAAaR,MAAgBhB,EAAM,SAAS;AAElD,SAAO70E;AAAA,IACL,gBAAAzc,EAAAwB,IAAA,EAEG,UAAA;AAAA,MAAAkwF,KACC,gBAAAzxF;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAW,GAAGF,GAAO,QAAQ,IAAIA,GAAO,eAAe;AAAA,UACvD,eAAY;AAAA,QAAA;AAAA,MAAA;AAAA,MAKhB,gBAAAC;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAKoyF;AAAA,UACL,WAAW,GAAGryF,GAAO,SAAS,IAAIA,GAAO,gBAAgB;AAAA,UACzD,OAAO;AAAA,YACL,KAAK,GAAGiyF,EAAc,GAAG;AAAA,YACzB,MAAM,GAAGA,EAAc,IAAI;AAAA,UAAA;AAAA,UAE7B,kBAAgBE;AAAA,UAChB,MAAK;AAAA,UACL,cAAW;AAAA,UACX,cAAYhsF;AAAA,UACZ,oBAAiB;AAAA,UAGjB,UAAA;AAAA,YAAA,gBAAAlG,EAAC,OAAA,EAAI,WAAWD,GAAO,YACpB,UAAA;AAAA,cAAA6xF,uBACE,OAAA,EAAI,WAAW7xF,GAAO,cAAc,aAAU,UAC5C,UAAA;AAAA,gBAAAuyF,IAAc;AAAA,gBAAE;AAAA,gBAAIhB,EAAM;AAAA,cAAA,GAC7B;AAAA,cAED3W,KACC,gBAAA16E;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,WAAWF,GAAO;AAAA,kBAClB,SAAS8e;AAAA,kBACT,cAAW;AAAA,kBAEX,UAAA,gBAAA5e,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI;AAAA,gBAAA;AAAA,cAAA;AAAA,YACf,GAEJ;AAAA,8BAGC,OAAA,EAAI,WAAWtK,GAAO,aAAa,IAAG,gBACrC,UAAA;AAAA,cAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,WAAY,YAAK,OAAM;AAAA,gCAC5C,OAAA,EAAI,WAAWA,GAAO,iBAAkB,YAAK,QAAA,CAAQ;AAAA,YAAA,GACxD;AAAA,YAGA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,YACpB,UAAA;AAAA,cAAA4xF,IACC,gBAAA1xF;AAAA,gBAAChB;AAAA,gBAAA;AAAA,kBACC,SAAQ;AAAA,kBACR,MAAK;AAAA,kBACL,SAAS2zF;AAAA,kBACT,WAAW7yF,GAAO;AAAA,kBACnB,UAAA;AAAA,gBAAA;AAAA,cAAA,sBAIA,QAAA,EAAK;AAAA,cAER,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,SACrB,UAAA;AAAA,gBAAA,gBAAAE;AAAA,kBAAChB;AAAA,kBAAA;AAAA,oBACC,SAAQ;AAAA,oBACR,MAAK;AAAA,oBACL,SAAS0zF;AAAA,oBACT,UAAUE;AAAA,oBACV,WAAW9yF,GAAO;AAAA,oBACnB,UAAA;AAAA,kBAAA;AAAA,gBAAA;AAAA,gBAGD,gBAAAE;AAAA,kBAAChB;AAAA,kBAAA;AAAA,oBACC,SAAQ;AAAA,oBACR,MAAK;AAAA,oBACL,SAASmgB;AAAA,oBACT,WAAWrf,GAAO;AAAA,oBAEjB,cAAa,WAAW;AAAA,kBAAA;AAAA,gBAAA;AAAA,cAC3B,EAAA,CACF;AAAA,YAAA,EAAA,CACF;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACF,GACF;AAAA,IACA,SAAS;AAAA,EAAA;AAEb;AAEAsxF,GAAK,cAAc;;;;;;;;;;;;;;;;GCjVN0B,KAAkC,CAAC;AAAA,EAC9C,aAAAvI,IAAc;AAAA,EACd,WAAAwI;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,SAAAC,IAAU;AAAA,EACV,UAAA1zF;AAAA,EACA,WAAA2zF,IAAY;AAAA,EACZ,WAAA1zF,IAAY;AACd,MAAM;AACJ,QAAMynB,IAAc,EAAQ1nB,GAEtB4zF,IAAiB;AAAA,IACrBrzF,GAAO;AAAA,IACPyqF,MAAgB,cAAczqF,GAAO,kBAAkB;AAAA,IACvDizF,KAAajzF,GAAO,WAAWizF,CAAS,EAAE;AAAA,IAC1CC,MAAc,WAAWlzF,GAAO,WAAWkzF,CAAS,EAAE;AAAA,IACtDC,KAAWnzF,GAAO,mBAAmBmzF,CAAO,EAAE;AAAA,IAC9ChsE,KAAennB,GAAO,mBAAmB;AAAA,IACzCmnB,KAAeisE,MAAc,YAAYpzF,GAAO,gBAAgBozF,CAAS,EAAE;AAAA,IAC3E1zF;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SAAIynB,KAAesjE,MAAgB,eAE/B,gBAAAvqF,EAAC,OAAA,EAAI,WAAWmzF,GAAgB,MAAK,aAAY,cAAW,qBAC1D,UAAA,gBAAAnzF,EAAC,UAAK,WAAWF,GAAO,cAAc,GAAI,UAAAP,GAAS,GACrD,sBAII,OAAA,EAAI,WAAW4zF,GAAgB,MAAK,aAAY,cAAW,WAAU;AAC/E;AAEAL,GAAQ,cAAc;;;;;;;;;GC7ChBM,KAA8C,CAAC;AAAA,EACnD,OAAA3uE;AAAA,EACA,UAAAllB;AAAA,EACA,aAAA8zF,IAAc;AAAA,EACd,MAAAh0F;AAAA,EACA,WAAAG,IAAY;AACd,MAAM;AACJ,QAAM,CAACkD,GAAQC,CAAS,IAAIC,EAASywF,CAAW,GAC1CC,IAAapwF,EAAuB,IAAI,GACxCqwF,IAAWrwF,EAAO,oBAAoB,KAAK,OAAA,EAAS,SAAS,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,GAC/EswF,IAAYtwF,EAAO,qBAAqB,KAAK,OAAA,EAAS,SAAS,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,GAEjFuwF,IAAkB,MAAM;AAC5B,IAAA9wF,EAAU,CAACD,CAAM;AAAA,EACnB,GAEMyB,IAAgB,CAAC+E,MAA2B;AAChD,KAAIA,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SACjCA,EAAE,eAAA,GACFuqF,EAAA;AAAA,EAEJ,GAGMC,IAAYhxF,KAAU4wF,EAAW,UACnC,GAAGA,EAAW,QAAQ,YAAY,OAClC,OAEEtd,IAAc;AAAA,IAClBl2E,GAAO;AAAA,IACP4C,KAAU5C,GAAO;AAAA,IACjBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWi2E,GACd,UAAA;AAAA,IAAA,gBAAAj2E;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,IAAIwzF,EAAS;AAAA,QACb,WAAWzzF,GAAO;AAAA,QAClB,SAAS2zF;AAAA,QACT,WAAWtvF;AAAA,QACX,iBAAezB;AAAA,QACf,iBAAe8wF,EAAU;AAAA,QAEzB,UAAA;AAAA,UAAA,gBAAAzzF,EAAC,OAAA,EAAI,OAAO,EAAE,SAAS,QAAQ,YAAY,UAAU,KAAK,mBAAA,GACvD,UAAA;AAAA,YAAAV,KAAQ,gBAAAW,EAAC,UAAM,UAAAX,EAAA,CAAK;AAAA,YACrB,gBAAAW,EAAC,UAAM,UAAAykB,EAAA,CAAM;AAAA,UAAA,GACf;AAAA,4BACC1f,IAAA,EAAY,MAAM,IAAI,WAAWjF,GAAO,cAAA,CAAe;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,IAE1D,gBAAAE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,IAAIwzF,EAAU;AAAA,QACd,KAAKF;AAAA,QACL,WAAWxzF,GAAO;AAAA,QAClB,OAAO,EAAE,WAAA4zF,EAAA;AAAA,QACT,MAAK;AAAA,QACL,mBAAiBH,EAAS;AAAA,QAE1B,UAAA,gBAAAvzF,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAgB,UAAAP,EAAA,CAAS;AAAA,MAAA;AAAA,IAAA;AAAA,EAClD,GACF;AAEJ,GAIMo0F,KAEF,CAAC,EAAE,UAAAp0F,GAAU,WAAAC,IAAY,SAEzB,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,SAAS,IAAIN,CAAS,IAC7C,UAAAD,EAAA,CACH;AAKJo0F,GAAU,OAAOP;;;;;;;;;;GC9BJQ,KAAY,CAAC;AAAA,EACxB,SAAAtxF;AAAA,EACA,OAAOH;AAAA,EACP,cAAAC;AAAA,EACA,UAAAI;AAAA,EACA,MAAArD,IAAO;AAAA,EACP,OAAA00F,IAAQ;AAAA,EACR,UAAAv0F,IAAW;AAAA,EACX,UAAAG,IAAW;AAAA,EACX,cAAcwG;AAAA,EACd,WAAAzG;AACF,MAAsB;AAEpB,QAAM,CAACmQ,GAAmBC,CAAoB,IAAIhN;AAAA,IAChDR,KAAgBE,EAAQ,CAAC,GAAG,SAAS;AAAA,EAAA,GAGjCO,IAAgBV,MAAoB,SAAYA,IAAkBwN,GAElEvJ,IAAe,CAACkF,MAAqB;AACzC,IAAInJ,MAAoB,UACtByN,EAAqBtE,CAAQ,GAE/B9I,IAAW8I,CAAQ;AAAA,EACrB,GAEMC,IAAmB;AAAA,IACvBzL,GAAO;AAAA,IACPX,MAAS,QAAQW,GAAO;AAAA,IACxBX,MAAS,QAAQW,GAAO;AAAA,IACxB+zF,KAAS/zF,GAAO;AAAA,IAChBR,KAAYQ,GAAO;AAAA,IACnBL,KAAYK,GAAO;AAAA,IACnBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAQ,EAAC,OAAA,EAAI,WAAWuL,GAAkB,MAAK,cAAa,cAAYtF,GAC7D,UAAA3D,EAAQ,IAAI,CAACZ,MAAW;AACvB,UAAMC,IAAakB,MAAkBnB,EAAO,OACtCwX,IAAazZ,KAAYiC,EAAO,UAChCR,IAAU,aAAaQ,EAAO,KAAK,IAAI,KAAK,OAAA,EAAS,SAAS,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC;AAEpF,6BACG,OAAA,EACC,UAAA;AAAA,MAAA,gBAAA1B;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,IAAIkB;AAAA,UACJ,MAAK;AAAA,UACL,OAAOQ,EAAO;AAAA,UACd,SAASC;AAAA,UACT,UAAUuX;AAAA,UACV,UAAU,MAAM9S,EAAa1E,EAAO,KAAK;AAAA,UACzC,QAAM;AAAA,QAAA;AAAA,MAAA;AAAA,MAER,gBAAA3B;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAASmB;AAAA,UACT,WAAWpB,GAAO;AAAA,UAClB,cAAYR,KAAY,OAAOoC,EAAO,SAAU,WAAWA,EAAO,QAAqB;AAAA,UAEtF,UAAA;AAAA,YAAAA,EAAO,QAAQ,gBAAA1B,EAAC,QAAA,EAAK,WAAWF,GAAO,mBAAoB,YAAO,KAAA,CAAK;AAAA,YACvE,CAACR,KAAYoC,EAAO,SAAS,gBAAA1B,EAAC,QAAA,EAAM,YAAO,MAAA,CAAM;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACpD,EAAA,GAlBQ0B,EAAO,KAmBjB;AAAA,EAEJ,CAAC,EAAA,CACH;AAEJ;AAEAkyF,GAAU,cAAc;;;;;;;;;;;;;GChEXE,KAAc,CAAC;AAAA,EAC1B,OAAAxzF;AAAA,EACA,MAAAjB;AAAA,EACA,SAAAuuB;AAAA,EACA,OAAA1K;AAAA,EACA,SAAAhkB,IAAU;AAAA,EACV,MAAAC,IAAO;AAAA,EACP,UAAAM,IAAW;AAAA,EACX,SAAAL,IAAU;AAAA,EACV,cAAc6G;AAAA,EACd,WAAAzG;AACF,MAAwB;AACtB,QAAM,CAACkD,GAAQC,CAAS,IAAIC,EAAS,EAAK,GACpCK,IAAeC,EAAuB,IAAI,GAC1Ci+D,IAAUj+D,EAAyB,IAAI;AAG7C,EAAAc,EAAU,MAAM;AACd,UAAMC,IAAqB,CAACC,MAAiB;AAC3C,MAAIjB,EAAa,WAAW,CAACA,EAAa,QAAQ,SAASiB,EAAM,MAAc,KAC7EvB,EAAU,EAAK;AAAA,IAEnB;AAEA,QAAID;AACF,sBAAS,iBAAiB,aAAauB,CAAkB,GAClD,MAAM,SAAS,oBAAoB,aAAaA,CAAkB;AAAA,EAE7E,GAAG,CAACvB,CAAM,CAAC,GAGXsB,EAAU,MAAM;AACd,UAAMG,IAAgB,CAACD,MAAyB;AAC9C,UAAKxB,GAEL;AAAA,YAAIwB,EAAM,QAAQ,UAAU;AAC1B,UAAAvB,EAAU,EAAK;AACf;AAAA,QACF;AAEA,YAAIuB,EAAM,QAAQ,eAAeA,EAAM,QAAQ,WAAW;AACxD,UAAAA,EAAM,eAAA;AACN,gBAAM6vF,IAAY5yB,EAAQ,SAAS,iBAAiB,IAAIrhE,GAAO,mBAAmB,EAAE;AACpF,cAAI,CAACi0F,KAAaA,EAAU,WAAW,EAAG;AAE1C,gBAAMtb,IAAe,MAAM,KAAKsb,CAAS,EAAE;AAAA,YACzC,CAAC/wE,MAASA,MAAS,SAAS;AAAA,UAAA;AAG9B,cAAIo5D;AACJ,UAAIl4E,EAAM,QAAQ,cAChBk4E,IAAY3D,IAAe,KAAKsb,EAAU,SAAS,IAAItb,IAAe,IAEtE2D,IAAY3D,IAAe,IAAI,IAAIsb,EAAU,SAAS,IAAItb,IAAe,GAG1Esb,EAAU3X,CAAS,EAAkB,MAAA;AAAA,QACxC;AAAA;AAAA,IACF;AAEA,QAAI15E;AACF,sBAAS,iBAAiB,WAAWyB,CAAa,GAC3C,MAAM,SAAS,oBAAoB,WAAWA,CAAa;AAAA,EAEtE,GAAG,CAACzB,CAAM,CAAC;AAEX,QAAMsxF,IAAoB,CAAC9qF,MAAqC;AAC9D,IAAAA,EAAE,gBAAA,GACFvG,EAAU,CAACD,CAAM;AAAA,EACnB,GAEMuxF,IAAoB,CAAC/qF,MAAqC;AAC9D,IAAAA,EAAE,gBAAA,GACF0kB,IAAA;AAAA,EACF,GAEMsmE,IAAsB,CAAClxE,MAA8B;AACzD,IAAIA,EAAK,YACTA,EAAK,UAAA,GACLrgB,EAAU,EAAK;AAAA,EACjB,GAEM4I,IAAmB;AAAA,IACvBzL,GAAO;AAAA,IACPX,MAAS,QAAQW,GAAO;AAAA,IACxBX,MAAS,QAAQW,GAAO;AAAA,IACxBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWwL,GAAkB,KAAKtI,GACrC,UAAA;AAAA,IAAA,gBAAAjD;AAAA,MAAChB;AAAA,MAAA;AAAA,QACC,WAAWc,GAAO;AAAA,QAClB,SAAAZ;AAAA,QACA,MAAAC;AAAA,QACA,SAAS80F;AAAA,QACT,UAAAx0F;AAAA,QACA,SAAAL;AAAA,QACA,MAAAC;AAAA,QACA,cAAY4G;AAAA,QAEX,UAAA3F;AAAA,MAAA;AAAA,IAAA;AAAA,IAGH,gBAAAN;AAAA,MAAChB;AAAA,MAAA;AAAA,QACC,WAAWc,GAAO;AAAA,QAClB,SAAAZ;AAAA,QACA,MAAAC;AAAA,QACA,SAAS60F;AAAA,QACT,UAAUv0F,KAAYL;AAAA,QACtB,cAAW;AAAA,QACX,iBAAc;AAAA,QACd,iBAAesD;AAAA,QACf,UAAQ;AAAA,QAEP,UAAAA,sBAAUy/D,IAAA,EAAU,MAAM,IAAI,IAAK,gBAAAniE,EAAC+E,IAAA,EAAY,MAAM,GAAA,CAAI;AAAA,MAAA;AAAA,IAAA;AAAA,IAG7D,gBAAA/E;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAKmhE;AAAA,QACL,WAAW,GAAGrhE,GAAO,eAAe,IAAI4C,IAAS5C,GAAO,sBAAsB,EAAE;AAAA,QAChF,MAAK;AAAA,QAEJ,UAAAojB,EAAM,IAAI,CAACF,GAAM/V,MACZ+V,EAAK,UAEL,gBAAAhjB;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,WAAWF,GAAO;AAAA,YAClB,MAAK;AAAA,YACL,eAAY;AAAA,UAAA;AAAA,UAHP,WAAWmN,CAAK;AAAA,QAAA,IASzB,gBAAAlN;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,WAAW,GAAGD,GAAO,mBAAmB,IACtCkjB,EAAK,SAASljB,GAAO,4BAA4B,EACnD;AAAA,YACA,MAAK;AAAA,YACL,UAAU;AAAA,YACV,SAAS,MAAMo0F,EAAoBlxE,CAAI;AAAA,YACvC,WAAW,CAAC9Z,MAAM;AAChB,eAAIA,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SACjCA,EAAE,eAAA,GACFgrF,EAAoBlxE,CAAI;AAAA,YAE5B;AAAA,YAEC,UAAA;AAAA,cAAAA,EAAK,QAAQ,gBAAAhjB,EAAC,QAAA,EAAK,WAAWF,GAAO,yBAA0B,YAAK,KAAA,CAAK;AAAA,cAC1E,gBAAAE,EAAC,QAAA,EAAM,UAAAgjB,EAAK,MAAA,CAAM;AAAA,YAAA;AAAA,UAAA;AAAA,UAfb/V;AAAA,QAAA,CAkBV;AAAA,MAAA;AAAA,IAAA;AAAA,EACH,GACF;AAEJ;AAEA6mF,GAAY,cAAc;;;;;;;;;;;;GC7MpBK,KAAU,CAAC;AAAA,EACf,UAAA50F;AAAA,EACA,MAAAJ,IAAO;AAAA,EACP,MAAAi1F,IAAO;AAAA,EACP,WAAA50F,IAAY;AACd,MAAoB;AAClB,QAAMiG,IAAYtG,MAAS,YAAYW,GAAO,iBAC5BX,MAAS,gBAAgBW,GAAO,qBAAqB,IACjEu0F,IAAYD,IAAOt0F,GAAO,cAAc;AAE9C,SACE,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,OAAO,IAAI2F,CAAS,IAAI4uF,CAAS,IAAI70F,CAAS,IACrE,UAAAD,GACH;AAEJ,GAEM+0F,KAAiB,CAAC,EAAE,UAAA/0F,GAAU,WAAAC,IAAY,SAE5C,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,cAAc,IAAIN,CAAS,IAClD,UAAAD,EAAA,CACH,GAIEg1F,KAAiB,MACd,gBAAAv0F,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAA,CAAgB,GAG1C00F,KAAgB,CAAC;AAAA,EACrB,aAAAnyF,IAAc;AAAA,EACd,OAAAqE;AAAA,EACA,UAAAlE;AAAA,EACA,WAAAhD,IAAY;AACd,MAEI,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,aAAa,IAAIN,CAAS,IAClD,UAAA;AAAA,EAAA,gBAAAQ,EAAC+kB,IAAA,EAAO,MAAM,IAAI,aAAa,GAAG;AAAA,EAClC,gBAAA/kB;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,WAAWF,GAAO;AAAA,MAClB,aAAAuC;AAAA,MACA,OAAAqE;AAAA,MACA,UAAAlE;AAAA,IAAA;AAAA,EAAA;AACF,GACF,GAIEiyF,KAAgB,CAAC;AAAA,EACrB,UAAAl1F;AAAA,EACA,OAAAmH;AAAA,EACA,UAAAlE;AAAA,EACA,WAAAhD,IAAY;AACd,MAEI,gBAAAQ;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAGF,GAAO,aAAa,IAAIN,CAAS;AAAA,IAC/C,OAAAkH;AAAA,IACA,UAAAlE;AAAA,IAEC,UAAAjD;AAAA,EAAA;AAAA,GAKDm1F,KAAmB,CAAC;AAAA,EACxB,OAAApoF;AAAA,EACA,OAAAhM,IAAQ;AAAA,EACR,WAAAd,IAAY;AACd,MAEI,gBAAAO,EAAC,UAAK,WAAW,GAAGD,GAAO,gBAAgB,IAAIN,CAAS,IACtD,UAAA;AAAA,EAAA,gBAAAQ,EAAC,YAAQ,UAAAsM,EAAA,CAAM;AAAA,EAAS;AAAA,EAAEhM;AAAA,GAC5B;;;;;GChDSq0F,KAAY,CAAC;AAAA,EACxB,SAAAxjB,IAAU;AAAA,EACV,UAAA5xE;AAAA,EACA,UAAAq1F,IAAW;AAAA,EACX,QAAAC,IAAS;AAAA,EACT,SAAAC,IAAU;AAAA,EACV,KAAAC,IAAM;AAAA,EACN,YAAAC,IAAa;AAAA,EACb,WAAAx1F,IAAY;AAAA,EACZ,OAAA0P,IAAQ,CAAA;AACV,MAAsB;AACpB,QAAMjM,IAAeC,EAAuB,IAAI,GAC1C,CAAC+xF,GAAgBC,CAAiB,IAAItyF,EAE1C,CAAA,CAAE;AAEJ,EAAAoB,EAAU,MAAM;AACd,UAAMmxF,IAAoB,MAAM;AAC9B,UAAI,CAAClyF,EAAa,QAAS;AAE3B,YAAMu+C,IAAYwzC,IAAa,SAAS,OAAO/xF,EAAa,SACtD,EAAE,aAAaksB,GAAO,cAAc/B,MAAWo0B;AAErD,UAAIryB,MAAU,KAAK/B,MAAW,EAAG;AAGjC,YAAMgoE,IAAW,KAAK,KAAKjmE,IAAQA,IAAQ/B,IAASA,CAAM,GAGpD6lE,IAAU2B,IAAWG,GAGrB1+D,IAAU,KAAK,KAAK++D,IAAWnC,CAAO,GACtC3sF,IAAO,KAAK,KAAK8uF,IAAWnC,CAAO,GAEnC/vE,IAA4D,CAAA,GAI5D0lB,KADe,MAAM,QAAQuoC,CAAO,IAAIA,IAAU,CAACA,CAAO,GACtC,KAAK;AAAA,CAAI;AAGnC,eAASlnE,IAAI,GAAGA,IAAIosB,GAASpsB;AAC3B,iBAAS4kC,IAAI,GAAGA,IAAIvoC,GAAMuoC;AACxB,UAAA3rB,EAAM,KAAK;AAAA,YACT,MAAA0lB;AAAA,YACA,MAAM3+B,IAAIgpF;AAAA,YACV,KAAKpkD,IAAIokD;AAAA,UAAA,CACV;AAIL,MAAAiC,EAAkBhyE,CAAK;AAAA,IACzB;AAEA,IAAAiyE,EAAA;AAGA,UAAMzmC,IAAe,MAAM;AACzB,MAAAymC,EAAA;AAAA,IACF;AAEA,kBAAO,iBAAiB,UAAUzmC,CAAY,GACvC,MAAM,OAAO,oBAAoB,UAAUA,CAAY;AAAA,EAChE,GAAG,CAACyiB,GAASyjB,GAAUG,GAAKC,CAAU,CAAC;AAEvC,QAAMK,IAAgC;AAAA,IACpC,SAAAP;AAAA,EAAA,GAGIQ,IAA2B;AAAA,IAC/B,UAAU,GAAGV,CAAQ;AAAA,IACrB,WAAW,UAAUC,CAAM;AAAA,EAAA,GAGvBU,IACJ,gBAAAv1F;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGF,GAAO,SAAS,IAAIk1F,IAAal1F,GAAO,sBAAsB,EAAE;AAAA,MAC9E,OAAOu1F;AAAA,MACP,eAAY;AAAA,MAEX,UAAAJ,EAAe,IAAI,CAACjyE,GAAM/V,MACzB,gBAAAjN;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,WAAWF,GAAO;AAAA,UAClB,OAAO;AAAA,YACL,GAAGw1F;AAAA,YACH,MAAM,GAAGtyE,EAAK,IAAI;AAAA,YAClB,KAAK,GAAGA,EAAK,GAAG;AAAA,YAChB,YAAY,MAAM,QAAQmuD,CAAO,IAAI,aAAa;AAAA,UAAA;AAAA,UAGnD,UAAAnuD,EAAK;AAAA,QAAA;AAAA,QATD/V;AAAA,MAAA,CAWR;AAAA,IAAA;AAAA,EAAA;AAIL,SAAI+nF,IAGA,gBAAAj1F,EAAAwB,IAAA,EACG,UAAA;AAAA,IAAAg0F;AAAA,IACAh2F;AAAA,EAAA,GACH,IAMF,gBAAAQ,EAAC,OAAA,EAAI,KAAKkD,GAAc,WAAW,GAAGnD,GAAO,kBAAkB,IAAIN,CAAS,IAAI,OAAA0P,GAC7E,UAAA;AAAA,IAAA3P;AAAA,IACAg2F;AAAA,EAAA,GACH;AAEJ;AAEAZ,GAAU,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCvFlBa,KAAqB,CAAC;AAAA,EAC1B,UAAAj2F;AAAA,EACA,SAAAkQ,IAAU;AAAA,EACV,WAAAjQ,IAAY;AACd,MAEI,gBAAAQ,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,kBAAkB,IAAI2P,IAAU3P,GAAO,4BAA4B,EAAE,IAAIN,CAAS,IACzG,UAAAD,GACH,GAIEk2F,KAA2B,CAAC;AAAA,EAChC,UAAAl2F;AAAA,EACA,OAAA+M;AAAA,EACA,WAAA9M,IAAY;AACd,MAEI,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,wBAAwB,IAAIN,CAAS,IAC5D,UAAA;AAAA,EAAAD;AAAA,EACA+M,MAAU,UACT,gBAAAtM,EAAC,UAAK,WAAWF,GAAO,mBAAoB,UAAAwM,EAAA,CAAM;AAAA,GAEtD,GAIEopF,KAA0B,CAAC,EAAE,UAAAn2F,QAC1B,gBAAAS,EAAC,MAAA,EAAG,WAAWF,GAAO,yBAA0B,UAAAP,GAAS,GAG5Do2F,KAAyB,CAAC;AAAA,EAC9B,UAAAp2F;AAAA,EACA,WAAAC,IAAY;AACd,MAEI,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,sBAAsB,IAAIN,CAAS,IAC1D,UAAAD,EAAA,CACH,GAIEq2F,KAA2B,CAAC;AAAA,EAChC,UAAAr2F;AAAA,EACA,WAAAC,IAAY;AACd,MAEI,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,wBAAwB,IAAIN,CAAS,IAC5D,UAAAD,EAAA,CACH,GAIEs2F,KAAmB,CAAC;AAAA,EACxB,UAAAt2F;AAAA,EACA,WAAAC,IAAY;AACd,MAEI,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,gBAAgB,IAAIN,CAAS,IACpD,UAAAD,EAAA,CACH,GAIEu2F,KAAkB,CAAC;AAAA,EACvB,UAAAv2F;AAAA,EACA,QAAA6hD,IAAS;AAAA,EACT,SAAAxzB;AAAA,EACA,WAAApuB,IAAY;AACd,MAEI,gBAAAQ;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAGF,GAAO,eAAe,IAAIshD,IAASthD,GAAO,wBAAwB,EAAE,IAAIN,CAAS;AAAA,IAC/F,SAAAouB;AAAA,IAEC,UAAAruB;AAAA,EAAA;AAAA,GAKDw2F,KAAmB,CAAC;AAAA,EACxB,UAAAx2F;AAAA,EACA,QAAAy2F,IAAS;AAAA,EACT,WAAAtgB,IAAY;AAAA,EACZ,SAAA9nD;AAAA,EACA,SAAAne,IAAU;AAAA,EACV,WAAAjQ,IAAY;AACd,MAA6B;AAC3B,QAAMmZ,IAAUlJ,IACZ,GAAG3P,GAAO,uBAAuB,IAAIk2F,IAASl2F,GAAO,yBAAyB,EAAE,IAAIN,CAAS,KAC7F,GAAGM,GAAO,gBAAgB,IAAIk2F,IAASl2F,GAAO,yBAAyB,EAAE,IAAI41E,IAAY51E,GAAO,4BAA4B,EAAE,IAAIN,CAAS;AAE/I,SACE,gBAAAQ,EAAC,OAAA,EAAI,WAAW2Y,GAAS,SAAAiV,GACtB,UAAAruB,GACH;AAEJ,GAEM02F,KAAmB,CAAC;AAAA,EACxB,UAAA12F;AAAA,EACA,SAAAL,IAAU;AAAA,EACV,WAAAM,IAAY;AACd,MAA6B;AAC3B,QAAM2hF,IAAejiF,MAAY,UAAUY,GAAO,wBAC7BZ,MAAY,YAAYY,GAAO,0BAC/BZ,MAAY,YAAYY,GAAO,0BAC/BA,GAAO;AAE5B,SACE,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,gBAAgB,IAAIqhF,CAAY,IAAI3hF,CAAS,IACpE,UAAAD,EAAA,CACH;AAEJ,GAEM22F,KAAsB,CAAC;AAAA,EAC3B,UAAA32F;AAAA,EACA,WAAAC,IAAY;AACd,MAEI,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,mBAAmB,IAAIN,CAAS,IACvD,UAAAD,EAAA,CACH,GAIE42F,KAA6B,CAAC;AAAA,EAClC,UAAA52F;AAAA,EACA,WAAAC,IAAY;AACd,MAEI,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,0BAA0B,IAAIN,CAAS,IAC9D,UAAAD,EAAA,CACH,GAIE62F,KAAoB,CAAC;AAAA,EACzB,UAAA72F;AAAA,EACA,SAAAkQ,IAAU;AAAA,EACV,WAAAjQ,IAAY;AACd,MAEI,gBAAAQ,EAAC,MAAA,EAAG,WAAW,GAAGyP,IAAU3P,GAAO,2BAA2BA,GAAO,iBAAiB,IAAIN,CAAS,IAChG,UAAAD,EAAA,CACH,GAIE82F,KAAsB,CAAC;AAAA,EAC3B,UAAA92F;AAAA,EACA,WAAAC,IAAY;AACd,MAEI,gBAAAQ,EAAC,OAAE,WAAW,GAAGF,GAAO,mBAAmB,IAAIN,CAAS,IACrD,UAAAD,EAAA,CACH,GAIE+2F,KAAmB,CAAC;AAAA,EACxB,UAAA/2F;AAAA,EACA,SAAAkQ,IAAU;AAAA,EACV,WAAAjQ,IAAY;AACd,MAEI,gBAAAQ,EAAC,QAAA,EAAK,WAAW,GAAGyP,IAAU3P,GAAO,0BAA0BA,GAAO,gBAAgB,IAAIN,CAAS,IAChG,UAAAD,EAAA,CACH,GAIEg3F,KAAqB,CAAC;AAAA,EAC1B,SAAA3oE;AAAA,EACA,cAAc3nB,IAAY;AAAA,EAC1B,WAAAzG,IAAY;AACd,MAEI,gBAAAQ;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAGF,GAAO,kBAAkB,IAAIN,CAAS;AAAA,IACpD,SAAAouB;AAAA,IACA,cAAY3nB;AAAA,IAEZ,UAAA,gBAAAjG,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI;AAAA,EAAA;AAAA,GAKbosF,KAAoB,wBAErB7iF,IAAA,EAAa,WAAW7T,GAAO,mBAAmB,MAAM,IAAI,GAI3D22F,KAAsB,CAAC;AAAA,EAC3B,OAAAnqF;AAAA,EACA,SAAAshB;AAAA,EACA,WAAApuB,IAAY;AACd,MAEI,gBAAAO,EAAC,YAAO,WAAW,GAAGD,GAAO,mBAAmB,IAAIN,CAAS,IAAI,SAAAouB,GAC/D,UAAA;AAAA,EAAA,gBAAA5tB,EAAC02F,IAAA,EAAK,MAAM,GAAA,CAAI;AAAA,EACfpqF,MAAU,UAAaA,IAAQ,uBAC7B,QAAA,EAAK,WAAWxM,GAAO,mBAAoB,UAAAwM,EAAA,CAAM;AAAA,GAEtD,GAIEqqF,KAAkB,CAAC;AAAA,EACvB,SAAAz3F,IAAU;AAAA,EACV,WAAAM,IAAY;AACd,MAA4B;AAC1B,QAAM2hF,IAAejiF,MAAY,UAAUY,GAAO,uBAC7BZ,MAAY,YAAYY,GAAO,yBAC/BZ,MAAY,YAAYY,GAAO,yBAC/BA,GAAO;AAE5B,SAAO,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,eAAe,IAAIqhF,CAAY,IAAI3hF,CAAS,GAAA,CAAI;AACnF,GAEMo3F,KAAsB,CAAC;AAAA,EAC3B,UAAAr3F;AAAA,EACA,MAAAyuB;AAAA,EACA,SAAAJ;AACF,MAMI,gBAAA5tB;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,MAAMguB,KAAQ;AAAA,IACd,WAAWluB,GAAO;AAAA,IAClB,SAAA8tB;AAAA,IAEC,UAAAruB;AAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;;GC5QDs3F,KASF,CAAC,EAAE,UAAAt3F,GAAU,SAAAL,IAAU,WAAW,SAAAuQ,IAAU,IAAO,SAAAme,GAAS,WAAApuB,IAAY,SAAS;AACnF,QAAMquB,IAAc;AAAA,IAClB/tB,GAAO;AAAA,IACP2P,KAAW3P,GAAO;AAAA,IAClBZ,MAAY,aAAaY,GAAO;AAAA,IAChCZ,MAAY,WAAWY,GAAO;AAAA,IAC9B8tB,KAAW9tB,GAAO;AAAA,IAClBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,GAEL2E,IAAgBpC,EAAY,CAACmH,MAA2C;AAC5E,IAAI0kB,MAAY1kB,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SAC7CA,EAAE,eAAA,GACF0kB,EAAA;AAAA,EAEJ,GAAG,CAACA,CAAO,CAAC;AAEZ,SACE,gBAAA5tB;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW6tB;AAAA,MACX,SAAAD;AAAA,MACA,WAAWA,IAAUzpB,IAAgB;AAAA,MACrC,MAAMypB,IAAU,WAAW;AAAA,MAC3B,UAAUA,IAAU,IAAI;AAAA,MAEvB,UAAAruB;AAAA,IAAA;AAAA,EAAA;AAGP,GAIMu3F,KAAoDr1F,GAAK,CAAC,EAAE,UAAAlC,GAAU,WAAAC,IAAY,SAC/E,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,gBAAgB,IAAIN,CAAS,IAAK,UAAAD,EAAA,CAAS,CAC7E,GAEKw3F,KAAgDt1F,GAAK,CAAC,EAAE,UAAAlC,GAAU,WAAAC,IAAY,SAC3E,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,cAAc,IAAIN,CAAS,IAAK,UAAAD,EAAA,CAAS,CAC3E,GAEKy3F,KAAoDv1F,GAAK,CAAC,EAAE,UAAAlC,GAAU,WAAAC,IAAY,SAC/E,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,gBAAgB,IAAIN,CAAS,IAAK,UAAAD,EAAA,CAAS,CAC7E,GAEK03F,KAAgDx1F,GAAK,CAAC;AAAA,EAC1D,UAAAlC;AAAA,EACA,YAAA23F;AAAA,EACA,MAAA/3F,IAAO;AAAA,EACP,WAAAK,IAAY;AACd,MAAM;AACJ,QAAMu3E,IAAc;AAAA,IAClBj3E,GAAO;AAAA,IACPX,MAAS,QAAQW,GAAO;AAAA,IACxBN;AAAA,EAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAQ,EAAC,OAAA,EAAI,WAAW+2E,GAAa,OAAOmgB,IAAa,EAAE,YAAAA,EAAA,IAAe,QAC/D,UAAA33F,EAAA,CACH;AAEJ,CAAC,GAEK43F,KAAgE11F,GAAK,CAAC;AAAA,EAC1E,OAAAgjB;AAAA,EACA,UAAA2yE;AAAA,EACA,WAAA53F,IAAY;AACd,MAEI,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,sBAAsB,IAAIN,CAAS,IAC3D,UAAA;AAAA,EAAA,gBAAAQ,EAAC,MAAA,EAAG,WAAWF,GAAO,iBAAkB,UAAA2kB,GAAM;AAAA,EAC7C2yE,KAAY,gBAAAp3F,EAAC,KAAA,EAAE,WAAWF,GAAO,oBAAqB,UAAAs3F,EAAA,CAAS;AAAA,GAClE,CAEH,GAEKC,KAAsD51F,GAAK,CAAC,EAAE,UAAAlC,GAAU,WAAAC,IAAY,SACjF,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,aAAa,IAAIN,CAAS,IAAK,UAAAD,EAAA,CAAS,CAC1E,GAEK+3F,KAAoD71F,GAAK,CAAC,EAAE,OAAAnB,GAAO,OAAAoG,GAAO,WAAAlH,IAAY,SAExF,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,YAAY,IAAIN,CAAS,IACjD,UAAA;AAAA,EAAA,gBAAAQ,EAAC,QAAA,EAAK,WAAWF,GAAO,mBAAoB,UAAAQ,GAAM;AAAA,EAClD,gBAAAN,EAAC,QAAA,EAAK,WAAWF,GAAO,mBAAoB,UAAA4G,EAAA,CAAM;AAAA,GACpD,CAEH,GAEK6wF,KAAgD91F,GAAK,CAAC,EAAE,UAAAlC,GAAU,WAAAC,IAAY,SAC3E,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,UAAU,IAAIN,CAAS,IAAK,UAAAD,EAAA,CAAS,CACvE;AAGDs3F,GAAW,SAASC;AACpBD,GAAW,OAAOE;AAClBF,GAAW,SAASG;AACpBH,GAAW,OAAOI;AAClBJ,GAAW,eAAeM;AAC1BN,GAAW,UAAUQ;AACrBR,GAAW,SAASS;AACpBT,GAAW,OAAOU;AAGlBV,GAAW,cAAc;AACzBC,GAAiB,cAAc;AAC/BC,GAAe,cAAc;AAC7BC,GAAiB,cAAc;AAC/BC,GAAe,cAAc;AAC7BE,GAAuB,cAAc;AACrCE,GAAkB,cAAc;AAChCC,GAAiB,cAAc;AAC/BC,GAAe,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCvKhBC,KAAe/1F,GAAwB,CAAC;AAAA,EACnD,OAAAgjB,IAAQ;AAAA,EACR,MAAMo6D;AAAA,EACN,SAAA4Y;AAAA,EACA,UAAAl4F;AAAA,EACA,WAAAm0F,IAAY;AAAA,EACZ,WAAAl0F,IAAY;AACd,MAAM;AACJ,QAAM+E,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,YAAY,IAAIN,CAAS;AAAA,IACnC,CAACA,CAAS;AAAA,EAAA,GAGNk4F,IAAY11F,EAAQ,OAAO;AAAA,IAC/B,WAAW,OAAO0xF,KAAc,WAAW,GAAGA,CAAS,OAAOA;AAAA,EAAA,IAC5D,CAACA,CAAS,CAAC;AAEf,SACE,gBAAA3zF,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,WACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,UACpB,UAAA;AAAA,QAAA++E,uBAASA,GAAA,EAAK;AAAA,QACf,gBAAA7+E,EAAC,UAAM,UAAAykB,EAAA,CAAM;AAAA,MAAA,GACf;AAAA,MACCgzE,KAAW,gBAAAz3F,EAAC,OAAA,EAAI,WAAWF,GAAO,YAAa,UAAA23F,EAAA,CAAQ;AAAA,IAAA,GAC1D;AAAA,sBACC,OAAA,EAAI,WAAW33F,GAAO,SAAS,OAAO43F,GACpC,UAAAn4F,EAAA,CACH;AAAA,EAAA,GACF;AAEJ,CAAC;AAEDi4F,GAAa,cAAc;AAcpB,MAAMG,KAAWl2F,GAAoB,CAAC;AAAA,EAC3C,MAAMo9E;AAAA,EACN,OAAA73D;AAAA,EACA,SAAA7lB;AAAA,EACA,SAAAy2F;AAAA,EACA,WAAAC;AAAA,EACA,SAAAjqE;AAAA,EACA,WAAApuB,IAAY;AACd,MAAM;AACJ,QAAMs4F,IAAiB91F;AAAA,IAAQ,MAC7B,GAAGlC,GAAO,QAAQ,IAAIN,CAAS;AAAA,IAC/B,CAACA,CAAS;AAAA,EAAA,GAGNu4F,IAAgB/1F;AAAA,IAAQ,MAC5B,GAAGlC,GAAO,OAAO,IAAIA,GAAO,UAAUknB,EAAM,OAAO,CAAC,EAAE,gBAAgBA,EAAM,MAAM,CAAC,CAAC,EAAE,CAAC;AAAA,IACvF,CAACA,CAAK;AAAA,EAAA;AAGR,SACE,gBAAAjnB,EAAC,OAAA,EAAI,WAAW+3F,GAAgB,SAAAlqE,GAC9B,UAAA;AAAA,IAAA,gBAAA5tB,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAA+3F,GAAU;AAAA,sBAC/C,OAAA,EAAI,WAAWE,GACd,UAAA,gBAAA/3F,EAAC6+E,KAAK,GACR;AAAA,IACA,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,YAAa,UAAAqB,GAAQ;AAAA,MAC3Cy2F,KAAW,gBAAA53F,EAAC,OAAA,EAAI,WAAWF,GAAO,YAAa,UAAA83F,EAAA,CAAQ;AAAA,IAAA,EAAA,CAC1D;AAAA,EAAA,GACF;AAEJ,CAAC;AAEDD,GAAS,cAAc;AAQvB,MAAMK,KAA4Bv2F,GAAqC,CAAC,EAAE,MAAAuhB,QAAW;AACnF,QAAM67D,IAAO77D,EAAK;AAClB,2BACG,QAAA,EACC,UAAA;AAAA,IAAA,gBAAAhjB,EAAC6+E,GAAA,EAAK;AAAA,IACN,gBAAA7+E,EAAC,QAAA,EAAM,UAAAgjB,EAAK,KAAA,CAAK;AAAA,EAAA,GACnB;AAEJ,CAAC;AAEDg1E,GAA0B,cAAc;AAkBjC,MAAMC,KAAkBx2F,GAA2B,CAAC;AAAA,EACzD,OAAAulB;AAAA,EACA,OAAAvC;AAAA,EACA,aAAAhY;AAAA,EACA,MAAA6H;AAAA,EACA,MAAA+iE;AAAA,EACA,WAAA73E,IAAY;AACd,MAAM;AACJ,QAAM04F,IAAgBl2F;AAAA,IAAQ,MAC5B,GAAGlC,GAAO,YAAY,IAAIN,CAAS;AAAA,IACnC,CAACA,CAAS;AAAA,EAAA,GAGN24F,IAAkBn2F;AAAA,IAAQ,MAC9B,GAAGlC,GAAO,cAAc,IAAIA,GAAO,iBAAiBknB,EAAM,OAAO,CAAC,EAAE,gBAAgBA,EAAM,MAAM,CAAC,CAAC,EAAE,CAAC;AAAA,IACrG,CAACA,CAAK;AAAA,EAAA;AAGR,SACE,gBAAAjnB,EAAC,OAAA,EAAI,WAAWm4F,GACd,UAAA;AAAA,IAAA,gBAAAl4F,EAAC,OAAA,EAAI,WAAWm4F,EAAA,CAAiB;AAAA,IACjC,gBAAAp4F,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACrB,UAAA;AAAA,QAAA,gBAAAC,EAAC,OAAA,EACC,UAAA;AAAA,UAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAgB,UAAA2kB,GAAM;AAAA,UAC5ChY,KAAe,gBAAAzM,EAAC,OAAA,EAAI,WAAWF,GAAO,qBAAsB,UAAA2M,EAAA,CAAY;AAAA,QAAA,GAC3E;AAAA,QACA,gBAAAzM,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAAwU,EAAA,CAAK;AAAA,MAAA,GAC7C;AAAA,MACC+iE,KAAQA,EAAK,SAAS,KACrB,gBAAAr3E,EAAC,OAAA,EAAI,WAAWF,GAAO,cACpB,YAAK,IAAI,CAACkjB,MACT,gBAAAhjB,EAACg4F,IAAA,EAA0C,MAAAh1E,KAAXA,EAAK,IAAkB,CACxD,EAAA,CACH;AAAA,IAAA,EAAA,CAEJ;AAAA,EAAA,GACF;AAEJ,CAAC;AAEDi1E,GAAgB,cAAc;AASvB,MAAMG,KAAoB32F,GAA6B,CAAC;AAAA,EAC7D,UAAAlC;AAAA,EACA,WAAAC,IAAY;AACd,MAAM;AACJ,QAAM+E,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,iBAAiB,IAAIN,CAAS;AAAA,IACxC,CAACA,CAAS;AAAA,EAAA;AAGZ,SAAO,gBAAAQ,EAAC,OAAA,EAAI,WAAWuE,GAAqB,UAAAhF,EAAA,CAAS;AACvD,CAAC;AAED64F,GAAkB,cAAc;AAYzB,MAAMC,KAAW52F,GAAoB,CAAC;AAAA,EAC3C,OAAAgjB;AAAA,EACA,MAAMo6D;AAAA,EACN,OAAAwH;AAAA,EACA,UAAA9mF;AAAA,EACA,WAAAC,IAAY;AACd,MAAM;AACJ,QAAM84F,IAAiBt2F;AAAA,IAAQ,MAC7B,GAAGlC,GAAO,UAAU,IAAIN,CAAS;AAAA,IACjC,CAACA,CAAS;AAAA,EAAA;AAGZ,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWu4F,GACd,UAAA;AAAA,IAAA,gBAAAv4F,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACpB,UAAA;AAAA,MAAA++E,uBAASA,GAAA,EAAK;AAAA,MACf,gBAAA7+E,EAAC,UAAM,UAAAykB,EAAA,CAAM;AAAA,MACZ4hE;AAAA,IAAA,GACH;AAAA,IACA,gBAAArmF,EAAC,OAAA,EAAI,WAAWF,GAAO,SACpB,UAAAP,EAAA,CACH;AAAA,EAAA,GACF;AAEJ,CAAC;AAED84F,GAAS,cAAc;AAShB,MAAME,KAAsB92F,GAA+B,CAAC;AAAA,EACjE,UAAAlC;AAAA,EACA,WAAAC,IAAY;AACd,MAAM;AACJ,QAAM+E,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,mBAAmB,IAAIN,CAAS;AAAA,IAC1C,CAACA,CAAS;AAAA,EAAA;AAGZ,SAAO,gBAAAQ,EAAC,OAAA,EAAI,WAAWuE,GAAqB,UAAAhF,EAAA,CAAS;AACvD,CAAC;AAEDg5F,GAAoB,cAAc;AAW3B,MAAMC,KAAU/2F,GAAmB,CAAC;AAAA,EACzC,OAAAiF;AAAA,EACA,OAAApG;AAAA,EACA,OAAA0mB,IAAQ;AAAA,EACR,WAAAxnB,IAAY;AACd,MAAM;AACJ,QAAMi5F,IAAgBz2F;AAAA,IAAQ,MAC5B,GAAGlC,GAAO,OAAO,IAAIN,CAAS;AAAA,IAC9B,CAACA,CAAS;AAAA,EAAA,GAGNk5F,IAAiB12F;AAAA,IAAQ,MAC7B,GAAGlC,GAAO,YAAY,IAAIA,GAAO,eAAeknB,EAAM,OAAO,CAAC,EAAE,gBAAgBA,EAAM,MAAM,CAAC,CAAC,EAAE,CAAC;AAAA,IACjG,CAACA,CAAK;AAAA,EAAA;AAGR,SACE,gBAAAjnB,EAAC,OAAA,EAAI,WAAW04F,GACd,UAAA;AAAA,IAAA,gBAAAz4F,EAAC,OAAA,EAAI,WAAW04F,GAAiB,UAAAhyF,GAAM;AAAA,IACvC,gBAAA1G,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAAQ,EAAA,CAAM;AAAA,EAAA,GAC9C;AAEJ,CAAC;AAEDk4F,GAAQ,cAAc;AAWf,MAAMG,KAAWl3F,GAAoB,CAAC;AAAA,EAC3C,UAAAlC;AAAA,EACA,SAAA82B,IAAU;AAAA,EACV,WAAA72B,IAAY;AAAA,EACZ,OAAA0P;AACF,MAAM;AACJ,QAAM0pF,IAAiB52F,EAAQ,OAAO;AAAA,IACpC,qBAAqB,UAAUq0B,CAAO;AAAA,IACtC,GAAGnnB;AAAA,EAAA,IACD,CAACmnB,GAASnnB,CAAK,CAAC,GAEd3K,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,QAAQ,IAAIN,CAAS;AAAA,IAC/B,CAACA,CAAS;AAAA,EAAA;AAGZ,2BACG,OAAA,EAAI,WAAW+E,GAAoB,OAAOq0F,GACxC,UAAAr5F,GACH;AAEJ,CAAC;AAEDo5F,GAAS,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCxSVE,KAAap3F,GAAsB,CAAC;AAAA,EAC/C,OAAAgjB,IAAQ;AAAA,EACR,SAAAq0E;AAAA,EACA,SAAA5b;AAAA,EACA,SAAAua;AAAA,EACA,UAAAl4F;AAAA,EACA,SAAAkQ,IAAU;AAAA,EACV,aAAAspF;AAAA,EACA,WAAAC;AAAA,EACA,WAAAx5F,IAAY;AACd,MAAM;AACJ,QAAM+E,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,UAAU,IAAI2P,IAAU3P,GAAO,oBAAoB,EAAE,IAAIN,CAAS;AAAA,IAC5E,CAACiQ,GAASjQ,CAAS;AAAA,EAAA,GAGfy5F,IAAqBl3F,EAAY,CAACmH,MAAwB;AAC9D,IAAI8vF,MACF9vF,EAAE,eAAA,GACF8vF,EAAA;AAAA,EAEJ,GAAG,CAACA,CAAS,CAAC;AAEd,SACE,gBAAAj5F,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,kBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,iBAAkB,UAAA2kB,GAAM;AAAA,MAC7Cq0E,KAAW,CAAC5b,KAAW,CAAC6b,KACvB,gBAAAh5F,EAAC,OAAA,EAAI,WAAWD,GAAO,mBACrB,UAAA;AAAA,QAAA,gBAAAC,EAAC,QAAA,EAAK,WAAW,GAAGD,GAAO,UAAU,IAAIA,GAAO,kBAAkB,IAChE,UAAA;AAAA,UAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,iBAAkB,YAAQ,UAAS;AAAA,UAC3D,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,iBAAiB,UAAA,WAAA,CAAQ;AAAA,QAAA,GACnD;AAAA,QACA,gBAAAC,EAAC,UAAK,WAAW,GAAGD,GAAO,UAAU,IAAIA,GAAO,iBAAiB,IAC/D,UAAA;AAAA,UAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,iBAAkB,YAAQ,SAAQ;AAAA,UAC1D,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,iBAAiB,UAAA,UAAA,CAAO;AAAA,QAAA,GAClD;AAAA,QACA,gBAAAC,EAAC,UAAK,WAAW,GAAGD,GAAO,UAAU,IAAIA,GAAO,cAAc,IAC5D,UAAA;AAAA,UAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,iBAAkB,YAAQ,MAAK;AAAA,UACvD,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,iBAAiB,UAAA,OAAA,CAAI;AAAA,QAAA,EAAA,CAC/C;AAAA,MAAA,GACF;AAAA,MAEDo9E,KAAW,gBAAAl9E,EAAC,OAAA,EAAI,WAAWF,GAAO,mBAAoB,UAAAo9E,GAAQ;AAAA,MAC9D6b,KACC,gBAAA/4F;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM+4F;AAAA,UACN,WAAWj5F,GAAO;AAAA,UAClB,SAASm5F;AAAA,UACV,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IAED,GAEJ;AAAA,IACCxB;AAAA,IACD,gBAAAz3F,EAAC,OAAA,EAAI,WAAWF,GAAO,gBAAiB,UAAAP,EAAA,CAAS;AAAA,EAAA,GACnD;AAEJ,CAAC;AAEDs5F,GAAW,cAAc;AAUzB,MAAMK,KAAez3F,GAAwB,CAAC,EAAE,QAAAq5B,GAAQ,UAAA7rB,GAAU,UAAApN,QAAe;AAC/E,QAAMC,IAAcC,EAAY,MAAM;AACpC,IAAAF,EAASi5B,EAAO,QAAQ;AAAA,EAC1B,GAAG,CAACA,EAAO,UAAUj5B,CAAQ,CAAC,GAExBrC,IAAYwC;AAAA,IAAQ,MACxB,GAAGlC,GAAO,cAAc,IAAImP,IAAWnP,GAAO,oBAAoB,EAAE;AAAA,IACpE,CAACmP,CAAQ;AAAA,EAAA;AAGX,SACE,gBAAAlP,EAAC,UAAA,EAAO,WAAAP,GAAsB,SAASsC,GACrC,UAAA;AAAA,IAAA,gBAAA9B,EAAC,QAAA,EAAM,YAAO,MAAA,CAAM;AAAA,sBACnB,QAAA,EAAK,WAAWF,GAAO,kBAAmB,YAAO,MAAA,CAAM;AAAA,EAAA,GAC1D;AAEJ,CAAC;AAEDo5F,GAAa,cAAc;AAoBpB,MAAMC,KAAoB13F,GAA6B,CAAC;AAAA,EAC7D,SAAAg2F;AAAA,EACA,cAAA2B;AAAA,EACA,gBAAAC;AAAA,EACA,aAAA30E,IAAc;AAAA,EACd,gBAAAC;AAAA,EACA,mBAAAC,IAAoB;AAAA,EACpB,WAAAplB,IAAY;AACd,MAAM;AACJ,QAAM85F,IAAqBv3F,EAAY,CAACmH,MAA2C;AACjF,IAAAyb,IAAiBzb,EAAE,OAAO,KAAK;AAAA,EACjC,GAAG,CAACyb,CAAc,CAAC,GAEbpgB,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,iBAAiB,IAAIN,CAAS;AAAA,IACxC,CAACA,CAAS;AAAA,EAAA;AAGZ,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAvE,EAAC,SAAI,WAAWF,GAAO,kBACpB,UAAA23F,EAAQ,IAAI,CAAC38D,MACZ,gBAAA96B;AAAA,MAACk5F;AAAAA,MAAA;AAAA,QAEC,QAAAp+D;AAAA,QACA,UAAUs+D,MAAiBt+D,EAAO;AAAA,QAClC,UAAUu+D;AAAA,MAAA;AAAA,MAHLv+D,EAAO;AAAA,IAAA,CAKf,GACH;AAAA,IACCnW,KACC,gBAAA5kB,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC+kB,IAAA,EAAO,WAAWjlB,GAAO,iBAAiB,MAAM,IAAI;AAAA,MACrD,gBAAAE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAWF,GAAO;AAAA,UAClB,aAAa8kB;AAAA,UACb,OAAOF;AAAA,UACP,UAAU40E;AAAA,QAAA;AAAA,MAAA;AAAA,IACZ,EAAA,CACF;AAAA,EAAA,GAEJ;AAEJ,CAAC;AAEDH,GAAkB,cAAc;AAQhC,MAAMI,KAAyB93F,GAAkC,CAAC,EAAE,MAAAuhB,QAAW;AAC7E,QAAM67D,IAAO77D,EAAK;AAClB,SACE,gBAAAjjB,EAAC,QAAA,EAAK,WAAWD,GAAO,eACtB,UAAA;AAAA,IAAA,gBAAAE,EAAC6+E,GAAA,EAAK;AAAA,IACN,gBAAA7+E,EAAC,QAAA,EAAM,UAAAgjB,EAAK,KAAA,CAAK;AAAA,EAAA,GACnB;AAEJ,CAAC;AAEDu2E,GAAuB,cAAc;AAwB9B,MAAMC,KAAY/3F,GAAqB,CAAC;AAAA,EAC7C,MAAMo9E;AAAA,EACN,UAAA4a;AAAA,EACA,OAAAh1E;AAAA,EACA,aAAAhY;AAAA,EACA,MAAA4qE;AAAA,EACA,OAAAgP;AAAA,EACA,OAAAqT,IAAQ;AAAA,EACR,gBAAAC,IAAiB;AAAA,EACjB,YAAAC,IAAa;AAAA,EACb,SAAA1c;AAAA,EACA,SAAAtvD;AAAA,EACA,WAAApuB,IAAY;AACd,MAAM;AACJ,QAAM04F,IAAgBl2F;AAAA,IAAQ,MAC5B;AAAA,MACElC,GAAO;AAAA,MACPA,GAAO,YAAY25F,EAAS,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAS,MAAM,CAAC,CAAC,EAAE;AAAA,MACzEC,IAAQ55F,GAAO,eAAe;AAAA,MAC9B65F,IAAiB75F,GAAO,wBAAwB;AAAA,MAChD85F,IAAa95F,GAAO,oBAAoB;AAAA,MACxCN;AAAA,IAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAAA,IACX,CAACi6F,GAAUC,GAAOC,GAAgBC,GAAYp6F,CAAS;AAAA,EAAA;AAGzD,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWm4F,GAAe,SAAAtqE,GAC7B,UAAA;AAAA,IAAA,gBAAA5tB,EAAC,OAAA,EAAI,WAAWF,GAAO,eACrB,4BAAC++E,GAAA,EAAK,WAAW/+E,GAAO,UAAA,CAAW,EAAA,CACrC;AAAA,IACA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,cACpB,UAAA;AAAA,MAAAumF,IACC,gBAAAtmF,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,YAAa,UAAA2kB,GAAM;AAAA,QACzC,gBAAAzkB,EAAC,QAAA,EAAK,WAAWF,GAAO,YAAa,UAAAumF,EAAA,CAAM;AAAA,MAAA,GAC7C,IAEA,gBAAArmF,EAAC,MAAA,EAAG,WAAWF,GAAO,YAAa,UAAA2kB,GAAM;AAAA,MAE3C,gBAAAzkB,EAAC,KAAA,EAAE,WAAWF,GAAO,kBAAmB,UAAA2M,GAAY;AAAA,MACnD4qE,KAAQA,EAAK,SAAS,KACrB,gBAAAr3E,EAAC,OAAA,EAAI,WAAWF,GAAO,WACpB,YAAK,IAAI,CAACkjB,MACT,gBAAAhjB,EAACu5F,IAAA,EAAuC,MAAAv2E,KAAXA,EAAK,IAAkB,CACrD,EAAA,CACH;AAAA,IAAA,GAEJ;AAAA,IACCk6D,KAAW,gBAAAl9E,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAAo9E,EAAA,CAAQ;AAAA,EAAA,GAC5D;AAEJ,CAAC;AAEDsc,GAAU,cAAc;AAcjB,MAAMK,KAAmBp4F,GAA4B,CAAC;AAAA,EAC3D,MAAMo9E;AAAA,EACN,UAAA4a;AAAA,EACA,OAAAh1E;AAAA,EACA,MAAAnQ;AAAA,EACA,QAAA4Z;AAAA,EACA,SAAAN;AAAA,EACA,WAAApuB,IAAY;AACd,MAAM;AACJ,QAAM04F,IAAgBl2F;AAAA,IAAQ,MAC5B;AAAA,MACElC,GAAO;AAAA,MACPA,GAAO,mBAAmB25F,EAAS,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAS,MAAM,CAAC,CAAC,EAAE;AAAA,MAChFj6F;AAAA,IAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAAA,IACX,CAACi6F,GAAUj6F,CAAS;AAAA,EAAA;AAGtB,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWm4F,GAAe,SAAAtqE,GAC7B,UAAA;AAAA,IAAA,gBAAA7tB,EAAC,OAAA,EAAI,WAAWD,GAAO,kBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,iBAAA,CAAkB;AAAA,MAC1C,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,qBACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,mBAAoB,UAAA2kB,GAAM;AAAA,QAChD,gBAAAzkB,EAAC,KAAA,EAAE,WAAWF,GAAO,kBAAmB,UAAAwU,EAAA,CAAK;AAAA,MAAA,EAAA,CAC/C;AAAA,IAAA,GACF;AAAA,IACC4Z;AAAA,EAAA,GACH;AAEJ,CAAC;AAED2rE,GAAiB,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCvSlBC,KAAgD,CAAC;AAAA,EAC5D,MAAMjb;AAAA,EACN,MAAA38E;AAAA,EACA,aAAAuK;AAAA,EACA,QAAA0nD;AAAA,EACA,OAAAk9B;AAAA,EACA,MAAAha;AAAA,EACA,UAAA9yD;AAAA,EACA,QAAAi/C;AAAA,EACA,aAAAu2B;AAAA,EACA,UAAAC;AAAA,EACA,WAAAx6F,IAAY;AACd,MAAM;AACJ,QAAM,CAAC82C,GAAS2jD,CAAU,IAAIh7F,GAAM,SAASk1D,MAAW,QAAQ,GAE1D+f,IAAe,MAAM;AACzB,UAAMgmB,IAAW,CAAC5jD;AAClB,IAAA2jD,EAAWC,CAAQ,GACnB31E,IAAW21E,CAAQ;AAAA,EACrB;AAEA,SACE,gBAAAn6F,EAAC,SAAI,WAAW,GAAGD,GAAO,QAAQ,IAAIN,CAAS,IAC7C,UAAA;AAAA,IAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,iBACrB,4BAAC++E,GAAA,EAAK,WAAW/+E,GAAO,iBAAA,CAAkB,EAAA,CAC5C;AAAA,QACA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,UACrB,UAAA;AAAA,UAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,UAAW,UAAAoC,GAAK;AAAA,YACtC,gBAAAlC,EAAC,QAAA,EAAK,WAAW,GAAGF,GAAO,KAAK,IAAIw2C,IAAUx2C,GAAO,eAAeA,GAAO,YAAY,IACpF,UAAAw2C,IAAU,WAAW,WAAA,CACxB;AAAA,UAAA,GACF;AAAA,UACA,gBAAAt2C,EAAC,OAAA,EAAI,WAAWF,GAAO,iBAAkB,UAAA2M,EAAA,CAAY;AAAA,QAAA,EAAA,CACvD;AAAA,MAAA,GACF;AAAA,MACA,gBAAA1M,EAAC,OAAA,EAAI,WAAWD,GAAO,aACpB,UAAA;AAAA,QAAA0jE,KACC,gBAAAxjE,EAAC,UAAA,EAAO,WAAWF,GAAO,SAAS,SAAS0jE,GAAQ,cAAW,aAC7D,UAAA,gBAAAxjE,EAACm6F,IAAA,EAAK,MAAM,IAAI,GAClB;AAAA,QAEDJ,KACC,gBAAA/5F,EAAC,UAAA,EAAO,WAAWF,GAAO,SAAS,SAASi6F,GAAa,cAAW,kBAClE,UAAA,gBAAA/5F,EAACuhE,IAAA,EAAK,MAAM,IAAI,GAClB;AAAA,QAEDy4B,KACC,gBAAAh6F,EAAC,UAAA,EAAO,WAAWF,GAAO,SAAS,SAASk6F,GAAU,cAAW,eAC/D,UAAA,gBAAAh6F,EAACgiE,IAAA,EAAO,MAAM,IAAI,GACpB;AAAA,QAEF,gBAAAhiE,EAAC,OAAA,EAAI,WAAWF,GAAO,YAAA,CAAa;AAAA,QACpC,gBAAAC,EAAC,SAAA,EAAM,WAAWD,GAAO,QACvB,UAAA;AAAA,UAAA,gBAAAE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,WAAWF,GAAO;AAAA,cAClB,SAASw2C;AAAA,cACT,UAAU49B;AAAA,cACV,cAAY,UAAUhyE,CAAI;AAAA,YAAA;AAAA,UAAA;AAAA,UAE5B,gBAAAlC,EAAC,QAAA,EAAK,WAAWF,GAAO,aAAA,CAAc;AAAA,QAAA,EAAA,CACxC;AAAA,MAAA,EAAA,CACF;AAAA,IAAA,GACF;AAAA,IAECu3E,KAAQA,EAAK,SAAS,KACrB,gBAAAr3E,EAAC,OAAA,EAAI,WAAWF,GAAO,gBACpB,UAAAu3E,EAAK,IAAI,CAACr0D,GAAM/V,wBACd,OAAA,EAAgB,WAAWnN,GAAO,eACjC,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,QAAA,gBAAAE,EAACgjB,EAAK,MAAL,EAAU,WAAWljB,GAAO,QAAQ;AAAA,QACrC,gBAAAE,EAAC,QAAA,EAAM,UAAAgjB,EAAK,MAAA,CAAM;AAAA,MAAA,GACpB;AAAA,wBACC,QAAA,EAAK,WAAWljB,GAAO,eAAgB,YAAK,MAAA,CAAM;AAAA,IAAA,KAL3CmN,CAMV,CACD,GACH;AAAA,IAGF,gBAAAjN,EAAC,OAAA,EAAI,WAAWF,GAAO,UACpB,UAAAuxF,EAAM,IAAI,CAAC1mF,GAAMsC,MAChB,gBAAAlN,EAACd,GAAM,UAAN,EACC,UAAA;AAAA,MAAA,gBAAAc,EAAC,OAAA,EAAI,WAAWD,GAAO,UACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAgB,YAAK,OAAM;AAAA,0BACjD,OAAA,EAAI,WAAWA,GAAO,iBAAkB,YAAK,QAAA,CAAQ;AAAA,MAAA,GACxD;AAAA,MACCmN,IAAQokF,EAAM,SAAS,KACtB,gBAAArxF,EAAC,OAAA,EAAI,WAAWF,GAAO,WACrB,UAAA,gBAAAE,EAACo6F,IAAA,EAAW,MAAM,IAAI,EAAA,CACxB;AAAA,IAAA,EAAA,GARiBntF,CAUrB,CACD,EAAA,CACH;AAAA,EAAA,GACF;AAEJ;;;;;;;;;;;;;;;;;;;;;;;GCrHaotF,KAA0D,CAAC;AAAA,EACtE,QAAAlmC;AAAA,EACA,OAAA7zD;AAAA,EACA,MAAAnB,IAAO;AAAA,EACP,WAAAm7F,IAAY;AAAA,EACZ,WAAA96F,IAAY;AACd,MAAM;AACJ,QAAM+6F,IAAcpmC,MAAW,gBAAgBmmC,IAAax6F,GAAO,QAAQ;AAE3E,SACE,gBAAAC;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGD,GAAO,mBAAmB,IAAIA,GAAO,UAAUq0D,CAAM,EAAE,CAAC,IAAIr0D,GAAO,QAAQX,CAAI,EAAE,CAAC,IAAIK,CAAS;AAAA,MAE7G,UAAA;AAAA,QAAA,gBAAAQ,EAAC,UAAK,WAAW,GAAGF,GAAO,aAAa,IAAIy6F,CAAU,IAAI;AAAA,QACzDj6F,KAAS,gBAAAN,EAAC,QAAA,EAAK,WAAWF,GAAO,iBAAkB,UAAAQ,EAAA,CAAM;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGhE,GAUak6F,KAA8C,CAAC;AAAA,EAC1D,QAAArmC;AAAA,EACA,WAAAmmC,IAAY;AAAA,EACZ,WAAA96F,IAAY;AACd,MAAM;AACJ,QAAM+6F,IAAcpmC,MAAW,gBAAgBmmC,IAAax6F,GAAO,QAAQ;AAE3E,SACE,gBAAAE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGF,GAAO,iBAAiB,IAAIA,GAAO,WAAWq0D,CAAM,EAAE,CAAC,IAAIomC,CAAU,IAAI/6F,CAAS;AAAA,IAAA;AAAA,EAAA;AAGtG,GAWai7F,KAAkD,CAAC;AAAA,EAC9D,UAAAC;AAAA,EACA,WAAAl7F,IAAY;AACd,MAEI,gBAAAO,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,eAAe,IAAIA,GAAO,UAAU46F,CAAQ,EAAE,CAAC,IAAIl7F,CAAS,IACpF,UAAA;AAAA,EAAA,gBAAAQ,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAA,CAAW;AAAA,EACnC,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAA,CAAW;AAAA,EACnC,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAA,CAAW;AAAA,EACnC,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,UAAA,CAAW;AAAA,GACrC,GASS66F,KAAoB,CAACC,MAC5BA,KAAQ,IAAU,cAClBA,MAAS,IAAU,SACnBA,MAAS,IAAU,SACnBA,MAAS,IAAU,SAChB,QAMIC,KAAsB,CACjCC,GACAC,GACAC,MAEID,IAAqB,eACpBD,IACDE,IAAmB,YAChB,cAFkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GC/EdC,KAAwC,CAAC;AAAA,EACpD,OAAA36F;AAAA,EACA,OAAAoG;AAAA,EACA,MAAMm4E;AAAA,EACN,WAAAqc;AAAA,EACA,gBAAAC;AAAA,EACA,OAAA7kB;AAAA,EACA,SAAAl3E,IAAU;AAAA,EACV,WAAAI,IAAY;AACd,MACMJ,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,UAAU,IAAIA,GAAO,OAAO,IAAIN,CAAS,IACjE,UAAA;AAAA,EAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,IAAA,gBAAAC,EAAC,OAAA,EACC,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,MACtC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,IAAA,GACxC;AAAA,IACA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAA,CAAc;AAAA,EAAA,GACvC;AAAA,EACA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,GACxC,IAKF,gBAAAC,EAAC,SAAI,WAAW,GAAGD,GAAO,UAAU,IAAIN,CAAS,IAC/C,UAAA;AAAA,EAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,IAAA,gBAAAC,EAAC,OAAA,EACC,UAAA;AAAA,MAAA,gBAAAC,EAAC,KAAA,EAAE,WAAWF,GAAO,WAAY,UAAAQ,GAAM;AAAA,MACvC,gBAAAN,EAAC,KAAA,EAAE,WAAWF,GAAO,WAAY,UAAA4G,EAAA,CAAM;AAAA,IAAA,GACzC;AAAA,IACCm4E,KACC,gBAAA7+E;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO;AAAA,QAClB,OAAO;AAAA,UACL,iBAAiBq7F;AAAA,UACjB,OAAOD;AAAA,QAAA;AAAA,QAGT,UAAA,gBAAAl7F,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI;AAAA,MAAA;AAAA,IAAA;AAAA,EAClB,GAEJ;AAAA,EACCvI,KACC,gBAAAv2E,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,IAAA,gBAAAC,EAAC,QAAA,EAAK,WAAW,GAAGD,GAAO,SAAS,IAAIA,GAAOw2E,EAAM,IAAI,CAAC,IACvD,UAAA;AAAA,MAAAA,EAAM,SAAS,aACd,gBAAAt2E,EAAC22E,IAAA,EAAW,MAAM,IAAI,IAEtB,gBAAA32E,EAAC42E,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,MAEzBN,EAAM;AAAA,IAAA,GACT;AAAA,IACCA,EAAM,UACL,gBAAAt2E,EAAC,QAAA,EAAK,WAAWF,GAAO,YAAa,YAAM,OAAA,CAAO;AAAA,EAAA,EAAA,CAEtD;AAAA,GAEJ,GAkBSs7F,KAA0C,CAAC;AAAA,EACtD,OAAA32E;AAAA,EACA,UAAA2yE;AAAA,EACA,OAAAiE,IAAQ,CAAA;AAAA,EACR,OAAAC;AAAA,EACA,cAAAC;AAAA,EACA,SAAAn8F,IAAU;AAAA,EACV,WAAAI,IAAY;AACd,MACMJ,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,WAAW,IAAIA,GAAO,OAAO,IAAIN,CAAS,IAClE,UAAA;AAAA,EAAA,gBAAAQ,EAAC,OAAA,EAAI,WAAWF,GAAO,cACrB,4BAAC,OAAA,EAAI,WAAWA,GAAO,eAAA,CAAgB,EAAA,CACzC;AAAA,EACA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,YACrB,UAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,kBAAkB,UAAA,aAAA,CAAU,EAAA,CACrD;AAAA,GACF,IAKF,gBAAAC,EAAC,SAAI,WAAW,GAAGD,GAAO,WAAW,IAAIN,CAAS,IAChD,UAAA;AAAA,EAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,IAAA,gBAAAC,EAAC,OAAA,EACC,UAAA;AAAA,MAAA,gBAAAC,EAAC,MAAA,EAAG,WAAWF,GAAO,aAAc,UAAA2kB,GAAM;AAAA,MACzC2yE,KAAY,gBAAAp3F,EAAC,KAAA,EAAE,WAAWF,GAAO,gBAAiB,UAAAs3F,EAAA,CAAS;AAAA,IAAA,GAC9D;AAAA,IACCmE;AAAA,EAAA,GACH;AAAA,EACA,gBAAAx7F,EAAC,OAAA,EAAI,WAAWD,GAAO,YACpB,UAAA;AAAA,IAAAu7F,EAAM,SAAS,KACd,gBAAAr7F,EAAC,OAAA,EAAI,WAAWF,GAAO,YACpB,UAAAu7F,EAAM,IAAI,CAACG,GAAMvuF,wBACf,OAAA,EACC,UAAA;AAAA,MAAA,gBAAAjN,EAAC,KAAA,EAAE,WAAWF,GAAO,gBAAiB,YAAK,OAAM;AAAA,wBAChD,KAAA,EAAE,WAAWA,GAAO,gBAAiB,YAAK,MAAA,CAAM;AAAA,IAAA,KAFzCmN,CAGV,CACD,GACH;AAAA,IAEDquF,IACC,gBAAAt7F,EAAC,OAAA,EAAI,WAAWF,GAAO,gBAAiB,UAAAw7F,EAAA,CAAM,IAE9C,gBAAAt7F,EAAC,OAAA,EAAI,WAAWF,GAAO,kBAAkB,UAAA,sBAAA,CAEzC;AAAA,EAAA,EAAA,CAEJ;AAAA,GACF,GAyBS27F,KAAwC,CAAC;AAAA,EACpD,OAAAh3E;AAAA,EACA,OAAAvB;AAAA,EACA,cAAAq4E;AAAA,EACA,SAAAn8F,IAAU;AAAA,EACV,WAAAI,IAAY;AACd,MACMJ,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,UAAU,IAAIA,GAAO,OAAO,IAAIN,CAAS,IACjE,UAAA;AAAA,EAAA,gBAAAQ,EAAC,OAAA,EAAI,WAAWF,GAAO,cACrB,4BAAC,OAAA,EAAI,WAAWA,GAAO,eAAA,CAAgB,EAAA,CACzC;AAAA,oBACC,OAAA,EAAI,WAAWA,GAAO,eACpB,UAAA,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,CAACmK,wBAChB,OAAA,EAAY,WAAWnK,GAAO,kBAC7B,UAAA;AAAA,IAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAA,CAAc;AAAA,IACrC,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,MACtC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAA,CAAc;AAAA,IAAA,EAAA,CACvC;AAAA,EAAA,EAAA,GALQmK,CAMV,CACD,EAAA,CACH;AAAA,GACF,IAKF,gBAAAlK,EAAC,SAAI,WAAW,GAAGD,GAAO,UAAU,IAAIN,CAAS,IAC/C,UAAA;AAAA,EAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,IAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,aAAc,UAAA2kB,GAAM;AAAA,IACzC82E;AAAA,EAAA,GACH;AAAA,oBACC,OAAA,EAAI,WAAWz7F,GAAO,eACpB,UAAAojB,EAAM,IAAI,CAACF,GAAM/V,MAChB,gBAAAjN,EAAC8tB,MAAiC,GAAG9K,EAAA,GAAtBA,EAAK,MAAM/V,CAAiB,CAC5C,EAAA,CACH;AAAA,GACF,GAIE6gB,KAAqC,CAAC;AAAA,EAC1C,MAAM+wD;AAAA,EACN,WAAAqc;AAAA,EACA,gBAAAC;AAAA,EACA,OAAA12E;AAAA,EACA,MAAA4yD;AAAA,EACA,OAAAgP;AAAA,EACA,SAAAz4D;AACF,MAAM;AACJ,QAAMsqE,IAAgB;AAAA,IACpBp4F,GAAO;AAAA,IACP8tB,KAAW9tB,GAAO;AAAA,EAAA,EAEjB,OAAO,OAAO,EACd,KAAK,GAAG;AAEX,SACE,gBAAAC,EAAC,OAAA,EAAI,WAAWm4F,GAAe,SAAAtqE,GAC5B,UAAA;AAAA,IAAAixD,KACC,gBAAA7+E;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO;AAAA,QAClB,OAAO;AAAA,UACL,iBAAiBq7F;AAAA,UACjB,OAAOD;AAAA,QAAA;AAAA,QAGT,UAAA,gBAAAl7F,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI;AAAA,MAAA;AAAA,IAAA;AAAA,IAGpB,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,WAAY,UAAA2kB,GAAM;AAAA,MACvC4yD,KAAQ,gBAAAr3E,EAAC,KAAA,EAAE,WAAWF,GAAO,UAAW,UAAAu3E,EAAA,CAAK;AAAA,IAAA,GAChD;AAAA,IACCgP;AAAA,EAAA,GACH;AAEJ,GAmBaqV,KAA4C,CAAC;AAAA,EACxD,OAAAj3E;AAAA,EACA,OAAA4hE;AAAA,EACA,OAAAnjE;AAAA,EACA,SAAAmT,IAAU;AAAA,EACV,SAAAj3B,IAAU;AAAA,EACV,WAAAI,IAAY;AACd,MACMJ,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,YAAY,IAAIA,GAAO,OAAO,IAAIN,CAAS,IACnE,UAAA;AAAA,EAAA,gBAAAQ,EAAC,OAAA,EAAI,WAAWF,GAAO,cACrB,4BAAC,OAAA,EAAI,WAAWA,GAAO,eAAA,CAAgB,EAAA,CACzC;AAAA,EACA,gBAAAE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWF,GAAO;AAAA,MAClB,OAAO,EAAE,qBAAqB,UAAUu2B,CAAO,SAAA;AAAA,MAE9C,UAAA,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,MACjB,gBAAAt2B,EAAC,OAAA,EAAY,WAAWD,GAAO,oBAC7B,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,qBAAA,CAAsB;AAAA,QAC7C,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,oBAAA,CAAqB;AAAA,MAAA,EAAA,GAFpC,CAGV,CACD;AAAA,IAAA;AAAA,EAAA;AACH,GACF,IAKF,gBAAAC,EAAC,SAAI,WAAW,GAAGD,GAAO,YAAY,IAAIN,CAAS,IACjD,UAAA;AAAA,EAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,IAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,aAAc,UAAA2kB,GAAM;AAAA,IACzC4hE;AAAA,EAAA,GACH;AAAA,EACA,gBAAArmF;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWF,GAAO;AAAA,MAClB,OAAO,EAAE,qBAAqB,UAAUu2B,CAAO,SAAA;AAAA,MAE9C,UAAAnT,EAAM,IAAI,CAACF,GAAM/V,wBACf0uF,IAAA,EAAwB,GAAG34E,EAAA,GAAX/V,CAAiB,CACnC;AAAA,IAAA;AAAA,EAAA;AACH,GACF,GAIE0uF,KAAyC,CAAC,EAAE,OAAAr7F,GAAO,OAAAoG,GAAO,OAAAsI,IAAQ,gBAAgB;AACtF,QAAM4sF,IAAW;AAAA,IACf,SAAS;AAAA,MACP,YAAY;AAAA,MACZ,OAAO;AAAA,IAAA;AAAA,IAET,SAAS;AAAA,MACP,YAAY;AAAA,MACZ,OAAO;AAAA,IAAA;AAAA,IAET,OAAO;AAAA,MACL,YAAY;AAAA,MACZ,OAAO;AAAA,IAAA;AAAA,IAET,SAAS;AAAA,MACP,YAAY;AAAA,MACZ,OAAO;AAAA,IAAA;AAAA,EACT;AAGF,SACE,gBAAA77F,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,IAAA,gBAAAE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO;AAAA,QAClB,OAAO;AAAA,UACL,iBAAiB87F,EAAS5sF,CAAK,EAAE;AAAA,UACjC,OAAO4sF,EAAS5sF,CAAK,EAAE;AAAA,QAAA;AAAA,QAGxB,UAAAtI;AAAA,MAAA;AAAA,IAAA;AAAA,IAEH,gBAAA1G,EAAC,KAAA,EAAE,WAAWF,GAAO,aAAc,UAAAQ,EAAA,CAAM;AAAA,EAAA,GAC3C;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GC5Uau7F,KAA8C,CAAC;AAAA,EAC1D,MAAMhd;AAAA,EACN,cAAAid;AAAA,EACA,OAAAx7F;AAAA,EACA,OAAAoG;AAAA,EACA,QAAAq1F;AAAA,EACA,SAAA38F,IAAU;AAAA,EACV,WAAAI,IAAY;AACd,MACMJ,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,aAAa,IAAIA,GAAO,OAAO,IAAIN,CAAS,IACpE,UAAA;AAAA,EAAA,gBAAAQ,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAA,CAAc;AAAA,EACrC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,EACtC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,EACtC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAA,CAAgB;AAAA,GACzC,IAKF,gBAAAC,EAAC,SAAI,WAAW,GAAGD,GAAO,aAAa,IAAIN,CAAS,IAClD,UAAA;AAAA,EAAA,gBAAAQ,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAe,OAAO,EAAE,YAAYg8F,EAAA,GACzD,UAAA,gBAAA97F,EAAC6+E,GAAA,EAAK,MAAM,IAAI,GAClB;AAAA,EACA,gBAAA7+E,EAAC,OAAA,EAAI,WAAWF,GAAO,gBAAiB,UAAAQ,GAAM;AAAA,EAC9C,gBAAAN,EAAC,OAAA,EAAI,WAAWF,GAAO,gBAAiB,UAAA4G,GAAM;AAAA,EAC7Cq1F,KACC,gBAAAh8F,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,eAAe,IAAIA,GAAOi8F,EAAO,IAAI,CAAC,IAC7D,UAAA;AAAA,IAAAA,EAAO,SAAS,aACf,gBAAA/7F,EAAC22E,IAAA,EAAW,MAAM,IAAI,IAEtB,gBAAA32E,EAAC42E,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,IAE1B,gBAAA52E,EAAC,QAAA,EAAM,UAAA+7F,EAAO,KAAA,CAAK;AAAA,EAAA,EAAA,CACrB;AAAA,GAEJ,GAeSC,KAAsC,CAAC;AAAA,EAClD,OAAAv3E;AAAA,EACA,SAAAgzE;AAAA,EACA,OAAA6D;AAAA,EACA,SAAAl8F,IAAU;AAAA,EACV,WAAAI,IAAY;AAAA,EACZ,UAAAD;AACF,MACMH,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,SAAS,IAAIA,GAAO,OAAO,IAAIN,CAAS,IAChE,UAAA;AAAA,EAAA,gBAAAQ,EAAC,OAAA,EAAI,WAAWF,GAAO,aACrB,4BAAC,OAAA,EAAI,WAAWA,GAAO,cAAA,CAAe,EAAA,CACxC;AAAA,EACA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,kBACrB,4BAAC,OAAA,EAAI,WAAWA,GAAO,cAAA,CAAe,EAAA,CACxC;AAAA,GACF,IAKF,gBAAAC,EAAC,SAAI,WAAW,GAAGD,GAAO,SAAS,IAAIN,CAAS,IAC9C,UAAA;AAAA,EAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,IAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,YAAa,UAAA2kB,GAAM;AAAA,IACzCgzE,KAAW,gBAAAz3F,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAA23F,EAAA,CAAQ;AAAA,EAAA,GAC5D;AAAA,EACC6D,KAAS,gBAAAt7F,EAAC,OAAA,EAAI,WAAWF,GAAO,gBAAiB,UAAAw7F,GAAM;AAAA,EACvD,CAACA,KAAS,CAAC/7F,uBACT,OAAA,EAAI,WAAWO,GAAO,kBAAkB,UAAA,sBAAA,CAEzC;AAAA,EAEDP;AAAA,GACH,GAsBS08F,KAAoD,CAAC;AAAA,EAChE,MAAA/5F;AAAA,EACA,QAAQg6F;AAAA,EACR,aAAAC;AAAA,EACA,aAAAC;AAAA,EACA,SAAAC;AAAA,EACA,aAAAC;AAAA,EACA,SAAAl9F,IAAU;AAAA,EACV,WAAAI,IAAY;AACd,MAAM;AAUJ,QAAMwnB,IAPAo1E,MACAD,KAAe,KAAW,cAC1BA,KAAe,KAAW,SAC1BA,KAAe,KAAW,YACvB;AAKT,SAAI/8F,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,gBAAgB,IAAIA,GAAO,OAAO,IAAIN,CAAS,IACvE,UAAA;AAAA,IAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,oBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAA,CAAc;AAAA,MACrC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,IAAA,GACxC;AAAA,IACA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,IACtC,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,kBAAA,CAAmB;AAAA,MAC1C,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,kBAAA,CAAmB;AAAA,MAC1C,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,kBAAA,CAAmB;AAAA,IAAA,EAAA,CAC5C;AAAA,EAAA,GACF,IAKF,gBAAAC,EAAC,SAAI,WAAW,GAAGD,GAAO,gBAAgB,IAAIN,CAAS,IACrD,UAAA;AAAA,IAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,oBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,kBAAmB,UAAAoC,GAAK;AAAA,MAC9Co6F;AAAA,IAAA,GACH;AAAA,IACA,gBAAAt8F,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,WAAW,IAAIA,GAAOknB,CAAK,CAAC,IACnD,UAAAm1E,EAAA,CACH;AAAA,IACA,gBAAAn8F,EAAC,OAAA,EAAI,WAAWF,GAAO,eACpB,UAAAu8F,EAAQ,IAAI,CAACE,GAAQtvF,MACpB,gBAAAlN,EAAC,OAAA,EAAgB,WAAWD,GAAO,iBACjC,UAAA;AAAA,MAAA,gBAAAC,EAAC,QAAA,EAAM,UAAA;AAAA,QAAAw8F,EAAO;AAAA,QAAM;AAAA,MAAA,GAAC;AAAA,wBACpB,QAAA,EAAK,WAAWz8F,GAAO,aAAc,YAAO,MAAA,CAAM;AAAA,IAAA,EAAA,GAF3CmN,CAGV,CACD,EAAA,CACH;AAAA,EAAA,GACF;AAEJ,GAeauvF,KAA0C,CAAC;AAAA,EACtD,MAAA98F;AAAA,EACA,MAAMm/E;AAAA,EACN,OAAAp6D;AAAA,EACA,aAAAhY;AAAA,EACA,YAAAgwF;AAAA,EACA,eAAAC;AAAA,EACA,SAAAt9F,IAAU;AAAA,EACV,WAAAI,IAAY;AACd,MAAM;AACJ,QAAMm9F,IAAe;AAAA,IACnB,MAAM;AAAA,MACJ,YAAY;AAAA,MACZ,OAAO;AAAA,IAAA;AAAA,IAET,SAAS;AAAA,MACP,YAAY;AAAA,MACZ,OAAO;AAAA,IAAA;AAAA,IAET,SAAS;AAAA,MACP,YAAY;AAAA,MACZ,OAAO;AAAA,IAAA;AAAA,IAET,OAAO;AAAA,MACL,YAAY;AAAA,MACZ,OAAO;AAAA,IAAA;AAAA,EACT;AAGF,SAAIv9F,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,WAAW,IAAIA,GAAOJ,CAAI,CAAC,IAAII,GAAO,OAAO,IAAIN,CAAS,IAClF,UAAA;AAAA,IAAA,gBAAAQ,EAAC,OAAA,EAAI,WAAWF,GAAO,oBAAA,CAAqB;AAAA,IAC5C,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,wBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,qBAAA,CAAsB;AAAA,MAC7C,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,oBAAA,CAAqB;AAAA,MAC5C,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,sBAAA,CAAuB;AAAA,IAAA,EAAA,CAChD;AAAA,EAAA,GACF,IAKF,gBAAAC,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,WAAW,IAAIA,GAAOJ,CAAI,CAAC,IAAIF,CAAS,IAChE,UAAA;AAAA,IAAA,gBAAAQ;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO;AAAA,QAClB,OAAO;AAAA,UACL,iBAAiB68F,EAAaj9F,CAAI,EAAE;AAAA,UACpC,OAAOi9F,EAAaj9F,CAAI,EAAE;AAAA,QAAA;AAAA,QAG5B,UAAA,gBAAAM,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI;AAAA,MAAA;AAAA,IAAA;AAAA,IAElB,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAA2kB,GAAM;AAAA,MAC5C,gBAAAzkB,EAAC,OAAA,EAAI,WAAWF,GAAO,oBAAqB,UAAA2M,GAAY;AAAA,MACvDgwF,KACC,gBAAA18F;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWD,GAAO;AAAA,UAClB,SAAS48F;AAAA,UACT,MAAMA,IAAgB,WAAW;AAAA,UACjC,UAAUA,IAAgB,IAAI;AAAA,UAE9B,UAAA;AAAA,YAAA,gBAAA18F,EAAC,UAAM,UAAAy8F,EAAA,CAAW;AAAA,YAClB,gBAAAz8F,EAACo6F,IAAA,EAAW,MAAM,GAAA,CAAI;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACxB,EAAA,CAEJ;AAAA,EAAA,GACF;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GC3PawC,KAAcn7F,GAAuB,CAAC;AAAA,EACjD,MAAMo9E;AAAA,EACN,OAAAv+E;AAAA,EACA,MAAAZ;AAAA,EACA,OAAAgH,IAAQhH,MAAS,WAAW,KAAQ;AAAA,EACpC,KAAA+K,IAAM;AAAA,EACN,KAAAC,IAAM;AAAA,EACN,MAAAC,IAAO;AAAA,EACP,UAAAnI;AAAA,EACA,UAAA/C,IAAW;AAAA,EACX,WAAAD,IAAY;AACd,MAAM;AACJ,QAAM,CAAC4L,GAAeC,CAAgB,IAAIzI,EAAS8D,CAAK,GAElDN,IAAerE,EAAY,CAACuJ,MAA+B;AAC/D,IAAAD,EAAiBC,CAAQ,GACzB9I,IAAW8I,CAAQ;AAAA,EACrB,GAAG,CAAC9I,CAAQ,CAAC,GAEPkxE,IAAuB3xE,EAAY,CAACmH,MAA2C;AACnF,IAAA9C,EAAa8C,EAAE,OAAO,OAAO;AAAA,EAC/B,GAAG,CAAC9C,CAAY,CAAC,GAEXy2F,IAAqB96F,EAAY,CAACmH,MAA2C;AACjF,IAAA9C,EAAa,OAAO8C,EAAE,OAAO,KAAK,CAAC;AAAA,EACrC,GAAG,CAAC9C,CAAY,CAAC,GAEX7B,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,WAAW,IAAIN,CAAS;AAAA,IAClC,CAACA,CAAS;AAAA,EAAA;AAGZ,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,cACpB,UAAA;AAAA,MAAA++E,KAAQ,gBAAA7+E,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI;AAAA,MACzB,gBAAA7+E,EAAC,UAAM,UAAAM,EAAA,CAAM;AAAA,IAAA,GACf;AAAA,IACCZ,MAAS,WACR,gBAAAK,EAAC,SAAA,EAAM,WAAWD,GAAO,QACvB,UAAA;AAAA,MAAA,gBAAAE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAWF,GAAO;AAAA,UAClB,SAASsL;AAAA,UACT,UAAUsoE;AAAA,UACV,UAAAj0E;AAAA,QAAA;AAAA,MAAA;AAAA,MAEF,gBAAAO,EAAC,QAAA,EAAK,WAAWF,GAAO,aAAA,CAAc;AAAA,IAAA,EAAA,CACxC,IAEA,gBAAAE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAWF,GAAO;AAAA,QAClB,KAAA2K;AAAA,QACA,KAAAC;AAAA,QACA,MAAAC;AAAA,QACA,OAAOS;AAAA,QACP,UAAUyxF;AAAA,QACV,UAAAp9F;AAAA,MAAA;AAAA,IAAA;AAAA,EACF,GAEJ;AAEJ,CAAC;AAEDm9F,GAAY,cAAc;AAwBnB,MAAME,KAAoBr7F,GAA6B,CAAC;AAAA,EAC7D,MAAMo9E;AAAA,EACN,aAAAke,IAAc;AAAA,EACd,MAAA76F;AAAA,EACA,UAAA86F;AAAA,EACA,aAAAC;AAAA,EACA,aAAAC;AAAA,EACA,aAAAC,IAAc;AAAA,EACd,aAAAC,IAAc;AAAA,EACd,WAAAC,IAAY;AAAA,EACZ,WAAAC,IAAY;AAAA,EACZ,YAAAC,IAAa;AAAA,EACb,gBAAAC;AAAA,EACA,gBAAAC;AAAA,EACA,SAAAr+F,IAAU;AAAA,EACV,WAAAI,IAAY;AACd,MAAM;AACJ,QAAM,CAACk+F,GAAMC,CAAO,IAAI/6F,EAASu6F,CAAW,GACtC,CAACz2F,GAAOm9D,CAAQ,IAAIjhE,EAASw6F,CAAW,GAExCQ,IAAqB77F,EAAY,CAACmH,MAA2C;AACjF,UAAMnD,IAAUmD,EAAE,OAAO;AACzB,IAAAy0F,EAAQ53F,CAAO,GACfy3F,IAAiBz3F,CAAO;AAAA,EAC1B,GAAG,CAACy3F,CAAc,CAAC,GAEbX,IAAqB96F,EAAY,CAACmH,MAA2C;AACjF,UAAMoC,IAAW,OAAOpC,EAAE,OAAO,KAAK;AACtC,IAAA26D,EAASv4D,CAAQ,GACjBmyF,IAAiBnyF,CAAQ;AAAA,EAC3B,GAAG,CAACmyF,CAAc,CAAC,GAEbl5F,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,iBAAiB,IAAIV,IAAUU,GAAO,UAAU,EAAE,IAAIN,CAAS;AAAA,IACzE,CAACJ,GAASI,CAAS;AAAA,EAAA,GAGfq+F,IAAsB77F;AAAA,IAAQ,MAClC,GAAGlC,GAAO,gBAAgB,IAAIA,GAAO,eAAei9F,CAAW,EAAE,CAAC;AAAA,IAClE,CAACA,CAAW;AAAA,EAAA;AAGd,SAAI39F,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAA,CAAc;AAAA,MACrC,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAA,CAAc;AAAA,QACrC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,WAAA,CAAY;AAAA,MAAA,GACrC;AAAA,MACA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAA,CAAgB;AAAA,IAAA,GACzC;AAAA,IACA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAA,CAAgB;AAAA,EAAA,GACzC,IAKF,gBAAAC,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,SAAI,WAAW69F,GACd,4BAAChf,GAAA,EAAK,MAAM,IAAI,EAAA,CAClB;AAAA,MACA,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,YAAa,UAAAoC,GAAK;AAAA,QACxC,gBAAAlC,EAAC,KAAA,EAAE,WAAWF,GAAO,UAAW,UAAAk9F,EAAA,CAAS;AAAA,MAAA,GAC3C;AAAA,wBACC,SAAA,EAAM,WAAWl9F,GAAO,QAAQ,cAAYm9F,GAC3C,UAAA;AAAA,QAAA,gBAAAj9F;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAWF,GAAO;AAAA,YAClB,SAAS49F;AAAA,YACT,UAAUE;AAAA,UAAA;AAAA,QAAA;AAAA,QAEZ,gBAAA59F,EAAC,QAAA,EAAK,WAAWF,GAAO,aAAA,CAAc;AAAA,MAAA,EAAA,CACxC;AAAA,IAAA,GACF;AAAA,IACA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,sBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,oBAAqB,UAAAo9F,GAAY;AAAA,MACzD,gBAAAl9F;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAWF,GAAO;AAAA,UAClB,KAAKu9F;AAAA,UACL,KAAKC;AAAA,UACL,MAAMC;AAAA,UACN,OAAA72F;AAAA,UACA,UAAUm2F;AAAA,UACV,UAAU,CAACa;AAAA,QAAA;AAAA,MAAA;AAAA,IACb,EAAA,CACF;AAAA,EAAA,GACF;AAEJ,CAAC;AAEDZ,GAAkB,cAAc;AAUhC,MAAMgB,KAAar8F,GAAsB,CAAC,EAAE,MAAAy1E,GAAM,YAAAv1E,GAAY,UAAAE,QAAe;AAC3E,QAAMC,IAAcC,EAAY,MAAM;AACpC,IAAAF,EAASq1E,CAAI;AAAA,EACf,GAAG,CAACA,GAAMr1E,CAAQ,CAAC,GAEbrC,IAAYwC;AAAA,IAAQ,MACxB,GAAGlC,GAAO,GAAG,IAAIA,GAAO,KAAK,IAAIA,GAAO,QAAQ,IAAI6B,IAAa7B,GAAO,SAAS,EAAE;AAAA,IACnF,CAAC6B,CAAU;AAAA,EAAA;AAGb,SACE,gBAAA3B,EAAC,UAAA,EAAO,WAAAR,GAAsB,SAASsC,GACpC,UAAAo1E,GACH;AAEJ,CAAC;AAED4mB,GAAW,cAAc;AAYlB,MAAMC,KAAgBt8F,GAAyB,CAAC;AAAA,EACrD,OAAAnB;AAAA,EACA,OAAA09F;AAAA,EACA,cAAAC;AAAA,EACA,cAAAC;AAAA,EACA,WAAA1+F,IAAY;AACd,MAAM;AACJ,QAAM+E,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,aAAa,IAAIN,CAAS;AAAA,IACpC,CAACA,CAAS;AAAA,EAAA;AAGZ,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAvE,EAAC,SAAA,EAAM,WAAWF,GAAO,WAAY,UAAAQ,GAAM;AAAA,IAC3C,gBAAAN,EAAC,OAAA,EAAI,WAAWF,GAAO,UAAU,MAAK,SACnC,UAAAk+F,EAAM,IAAI,CAAC9mB,MACV,gBAAAl3E;AAAA,MAAC89F;AAAA,MAAA;AAAA,QAEC,MAAA5mB;AAAA,QACA,YAAY+mB,MAAiB/mB;AAAA,QAC7B,UAAUgnB;AAAA,MAAA;AAAA,MAHLhnB;AAAA,IAAA,CAKR,EAAA,CACH;AAAA,EAAA,GACF;AAEJ,CAAC;AAED6mB,GAAc,cAAc;AAcrB,MAAMI,KAAqB18F,GAA8B,CAAC;AAAA,EAC/D,OAAAnB;AAAA,EACA,OAAAoG;AAAA,EACA,KAAA+D,IAAM;AAAA,EACN,KAAAC,IAAM;AAAA,EACN,MAAA0zF,IAAO;AAAA,EACP,UAAA57F;AAAA,EACA,WAAAhD,IAAY;AACd,MAAM;AACJ,QAAM4G,IAAerE,EAAY,CAACmH,MAA2C;AAC3E,IAAA1G,EAAS,OAAO0G,EAAE,OAAO,KAAK,CAAC;AAAA,EACjC,GAAG,CAAC1G,CAAQ,CAAC,GAEP+B,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,aAAa,IAAIN,CAAS;AAAA,IACpC,CAACA,CAAS;AAAA,EAAA;AAGZ,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,oBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,WAAY,UAAAQ,GAAM;AAAA,MAC1C,gBAAAP,EAAC,QAAA,EAAK,WAAWD,GAAO,kBACrB,UAAA;AAAA,QAAA4G;AAAA,QACA03F;AAAA,MAAA,EAAA,CACH;AAAA,IAAA,GACF;AAAA,IACA,gBAAAp+F;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAWF,GAAO;AAAA,QAClB,KAAA2K;AAAA,QACA,KAAAC;AAAA,QACA,OAAAhE;AAAA,QACA,UAAUN;AAAA,MAAA;AAAA,IAAA;AAAA,IAEZ,gBAAArG,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,QAAA,EAAM,UAAA;AAAA,QAAA0K;AAAA,QAAK2zF;AAAA,MAAA,GAAK;AAAA,wBAChB,QAAA,EAAM,UAAA;AAAA,QAAA1zF;AAAA,QAAK0zF;AAAA,MAAA,EAAA,CAAK;AAAA,IAAA,EAAA,CACnB;AAAA,EAAA,GACF;AAEJ,CAAC;AAEDD,GAAmB,cAAc;AAUjC,MAAME,KAAiB58F,GAA0B,CAAC,EAAE,QAAAC,GAAQ,YAAAC,GAAY,UAAAE,QAAe;AACrF,QAAMC,IAAcC,EAAY,MAAM;AACpC,IAAAF,EAASH,CAAM;AAAA,EACjB,GAAG,CAACA,GAAQG,CAAQ,CAAC,GAEfrC,IAAYwC;AAAA,IAAQ,MACxB,GAAGlC,GAAO,kBAAkB,IAAI6B,IAAa7B,GAAO,WAAW,EAAE;AAAA,IACjE,CAAC6B,CAAU;AAAA,EAAA;AAGb,SACE,gBAAA3B,EAAC,OAAA,EAAI,WAAAR,GAAsB,SAASsC,GACjC,UAAAJ,GACH;AAEJ,CAAC;AAED28F,GAAe,cAAc;AAYtB,MAAMC,KAAiB78F,GAA0B,CAAC;AAAA,EACvD,OAAAnB;AAAA,EACA,OAAAoG;AAAA,EACA,SAAApE;AAAA,EACA,UAAAE;AAAA,EACA,WAAAhD,IAAY;AACd,MAAM;AACJ,QAAM,CAACkD,GAAQC,CAAS,IAAIC,EAAS,EAAK,GAEpCwO,IAAarP,EAAY,MAAM;AACnC,IAAAY,EAAU,CAAAoB,MAAQ,CAACA,CAAI;AAAA,EACzB,GAAG,CAAA,CAAE,GAEC8a,IAAe9c,EAAY,CAACL,MAAmB;AACnD,IAAAc,EAASd,CAAM,GACfiB,EAAU,EAAK;AAAA,EACjB,GAAG,CAACH,CAAQ,CAAC,GAEP+B,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,aAAa,IAAIN,CAAS;AAAA,IACpC,CAACA,CAAS;AAAA,EAAA;AAGZ,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAvE,EAAC,SAAA,EAAM,WAAWF,GAAO,WAAY,UAAAQ,GAAM;AAAA,IAC3C,gBAAAP,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,MAAA,gBAAAC;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWD,GAAO;AAAA,UAClB,SAASsR;AAAA,UACT,MAAK;AAAA,UACL,UAAU;AAAA,UAEV,UAAA;AAAA,YAAA,gBAAApR,EAAC,QAAA,EAAK,WAAWF,GAAO,mBAAoB,UAAA4G,GAAM;AAAA,8BACjD3B,IAAA,EAAY,WAAWjF,GAAO,YAAY,MAAM,GAAA,CAAI;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,MAEtD4C,uBACE,OAAA,EAAI,WAAW5C,GAAO,sBACpB,UAAAwC,EAAQ,IAAI,CAACZ,MACZ,gBAAA1B;AAAA,QAACq+F;AAAA,QAAA;AAAA,UAEC,QAAA38F;AAAA,UACA,YAAYA,MAAWgF;AAAA,UACvB,UAAUmY;AAAA,QAAA;AAAA,QAHLnd;AAAA,MAAA,CAKR,EAAA,CACH;AAAA,IAAA,EAAA,CAEJ;AAAA,EAAA,GACF;AAEJ,CAAC;AAED48F,GAAe,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCzWvBC,KAAiB;AAAA,EACrB,UAAU,EAAE,OAAO,IAAI,QAAQ,GAAA;AAAA,EAC/B,UAAU,EAAE,OAAO,IAAI,QAAQ,GAAA;AAAA,EAC/B,UAAU,EAAE,OAAO,IAAI,QAAQ,GAAA;AAAA,EAC/B,OAAO,EAAE,QAAQ,IAAI,OAAO,OAAO,cAAc,EAAA;AAAA,EACjD,UAAU,EAAE,QAAQ,IAAI,OAAO,MAAA;AAAA,EAC/B,OAAO,EAAE,QAAQ,IAAI,OAAO,IAAI,cAAc,qBAAA;AAAA,EAC9C,WAAW,EAAE,QAAQ,IAAI,OAAO,OAAO,QAAQ,aAAA;AAAA,EAC/C,WAAW,EAAE,QAAQ,IAAI,OAAO,OAAO,QAAQ,SAAA;AAAA,EAC/C,YAAY,EAAE,QAAQ,IAAI,OAAO,OAAO,QAAQ,aAAA;AAAA,EAChD,YAAY,EAAE,QAAQ,IAAI,OAAO,OAAO,QAAQ,SAAA;AAAA,EAChD,WAAW,EAAE,QAAQ,IAAI,OAAO,OAAO,cAAc,EAAA;AAAA,EACrD,cAAc,EAAE,QAAQ,IAAI,OAAO,MAAA;AAAA,EACnC,aAAa,EAAE,QAAQ,IAAI,OAAO,IAAA;AAAA,EAClC,aAAa,EAAE,QAAQ,IAAI,OAAO,GAAA;AAAA,EAClC,cAAc,EAAE,QAAQ,IAAI,OAAO,OAAO,cAAc,EAAA;AAAA,EACxD,iBAAiB,EAAE,QAAQ,IAAI,OAAO,MAAA;AAAA,EACtC,eAAe,EAAE,OAAO,IAAI,QAAQ,IAAI,cAAc,mBAAA;AAAA,EACtD,OAAO,EAAE,MAAM,EAAA;AAAA,EACf,SAAS,EAAE,SAAS,QAAQ,KAAK,EAAA;AACnC,GAMMC,KAAkB/8F,GAAK,wBAC1B,OAAA,EAAI,WAAW3B,GAAO,YACrB,UAAA;AAAA,EAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,kBACrB,UAAA;AAAA,IAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,sBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,QAAQ,IAAIA,GAAO,cAAc,IAAI,OAAOy+F,GAAe,SAAA,CAAU;AAAA,MAC/F,gBAAAx+F,EAAC,OAAA,EAAI,OAAOw+F,GAAe,OACzB,UAAA;AAAA,QAAA,gBAAAv+F,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,OAAO;AAAA,0BAC7D,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,SAAA,CAAU;AAAA,MAAA,EAAA,CACnE;AAAA,IAAA,GACF;AAAA,sBACC,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,MAAA,CAAO;AAAA,EAAA,GAChE;AAAA,EACA,gBAAAx+F,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,IAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,WAAW;AAAA,wBACjE,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,UAAA,CAAW;AAAA,IAAA,GACpE;AAAA,IACA,gBAAAx+F,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,YAAY;AAAA,wBAClE,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,WAAA,CAAY;AAAA,IAAA,EAAA,CACrE;AAAA,EAAA,EAAA,CACF;AAAA,GACF,CACD;AAEDC,GAAgB,cAAc;AAE9B,MAAMC,KAAsBh9F,GAAK,wBAC9B,OAAA,EAAI,WAAW3B,GAAO,UACrB,UAAA;AAAA,EAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,QAAQ,IAAIA,GAAO,cAAc,IAAI,OAAOy+F,GAAe,SAAA,CAAU;AAAA,oBAC9F,OAAA,EAAI,WAAWz+F,GAAO,iBAAiB,OAAOy+F,GAAe,OAC5D,UAAA;AAAA,IAAA,gBAAAv+F,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,WAAW;AAAA,sBACjE,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,aAAA,CAAc;AAAA,EAAA,GACvE;AAAA,EACA,gBAAAx+F,EAAC,OAAA,EAAI,OAAOw+F,GAAe,SACzB,UAAA;AAAA,IAAA,gBAAAv+F,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,aAAa;AAAA,sBACnE,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,YAAA,CAAa;AAAA,EAAA,EAAA,CACtE;AAAA,GACF,CACD;AAEDE,GAAoB,cAAc;AAElC,MAAMC,KAAyBj9F,GAAK,wBACjC,OAAA,EAAI,WAAW3B,GAAO,aACrB,UAAA;AAAA,EAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,QAAQ,IAAIA,GAAO,cAAc,IAAI,OAAOy+F,GAAe,SAAA,CAAU;AAAA,EAC/F,gBAAAx+F,EAAC,OAAA,EAAI,OAAOw+F,GAAe,OACzB,UAAA;AAAA,IAAA,gBAAAv+F,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,cAAc;AAAA,sBACpE,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,gBAAA,CAAiB;AAAA,EAAA,GAC1E;AAAA,oBACC,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,cAAA,CAAe;AAAA,GACxE,CACD;AAEDG,GAAuB,cAAc;AAUrC,MAAMC,KAAWl9F,GAAoB,CAAC,EAAE,MAAA+5F,QACtC,gBAAAz7F,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,EAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,iBAAkB,YAAK,OAAM;AAAA,oBACnD,OAAA,EAAI,WAAWA,GAAO,iBAAkB,YAAK,MAAA,CAAM;AAAA,EAAA,CACtD,CACD;AAED6+F,GAAS,cAAc;AAUvB,MAAMC,KAAoBn9F,GAA6B,CAAC,EAAE,MAAAuhB,QACxD,gBAAAjjB,EAAC,OAAA,EAAI,WAAWD,GAAO,kBACpB,UAAA;AAAA,EAAAkjB,EAAK,QAAQ,gBAAAhjB,EAACgjB,EAAK,MAAL,EAAU,MAAM,IAAI;AAAA,EACnC,gBAAAhjB,EAAC,QAAA,EAAM,UAAAgjB,EAAK,MAAA,CAAM;AAAA,EAAA,CACpB,CACD;AAED47E,GAAkB,cAAc;AAWhC,MAAMC,KAAWp9F,GAAoB,CAAC,EAAE,QAAAq9F,GAAQ,SAAAlxE,QAAc;AAC5D,QAAMixD,IAAOigB,EAAO,QAAQC,IAEtBC,IAAgBh9F;AAAA,IAAQ,MAC5B88F,EAAO,eACHh/F,GAAO,WAAWg/F,EAAO,aAAa,OAAO,CAAC,EAAE,aAAa,GAAGA,EAAO,aAAa,MAAM,CAAC,CAAC,EAAE,IAC9Fh/F,GAAO;AAAA,IACX,CAACg/F,EAAO,YAAY;AAAA,EAAA,GAGhBG,IAAcj9F;AAAA,IAAQ,MAC1BlC,GAAO,SAASg/F,EAAO,OAAO,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAO,OAAO,MAAM,CAAC,CAAC,EAAE;AAAA,IAChF,CAACA,EAAO,MAAM;AAAA,EAAA,GAGVI,IAAcl9F;AAAA,IAAQ,MAC1B88F,EAAO,OAAO,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAO,OAAO,MAAM,CAAC;AAAA,IAC7D,CAACA,EAAO,MAAM;AAAA,EAAA,GAGVh9F,IAAcC,EAAY,MAAM;AACpC,IAAA6rB,IAAUkxE,CAAM;AAAA,EAClB,GAAG,CAAClxE,GAASkxE,CAAM,CAAC,GAEd36F,IAAgBpC,EAAY,CAACmH,MAA2B;AAC5D,IAAI0kB,MAAY1kB,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SAC7CA,EAAE,eAAA,GACF0kB,EAAQkxE,CAAM;AAAA,EAElB,GAAG,CAAClxE,GAASkxE,CAAM,CAAC;AAEpB,SACE,gBAAA/+F;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWD,GAAO;AAAA,MAClB,SAASgC;AAAA,MACT,MAAM8rB,IAAU,WAAW;AAAA,MAC3B,UAAUA,IAAU,IAAI;AAAA,MACxB,WAAWzpB;AAAA,MAEX,UAAA;AAAA,QAAA,gBAAApE,EAAC,OAAA,EAAI,WAAWD,GAAO,kBACrB,UAAA;AAAA,UAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,sBACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,UAAU,IAAIk/F,CAAa,IACnD,UAAA,gBAAAh/F,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI,GAClB;AAAA,YACA,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,cAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,YAAa,YAAO,MAAK;AAAA,gCAC/C,OAAA,EAAI,WAAWA,GAAO,YAAa,YAAO,KAAA,CAAK;AAAA,YAAA,EAAA,CAClD;AAAA,UAAA,GACF;AAAA,UACA,gBAAAE,EAAC,UAAK,WAAW,GAAGF,GAAO,WAAW,IAAIm/F,CAAW,IAClD,UAAAC,EAAA,CACH;AAAA,QAAA,GACF;AAAA,QAECJ,EAAO,SAASA,EAAO,MAAM,SAAS,KACrC,gBAAA9+F,EAAC,OAAA,EAAI,WAAWF,GAAO,aACpB,YAAO,MAAM,IAAI,CAAC07F,MACjB,gBAAAx7F,EAAC2+F,MAA0B,MAAAnD,EAAA,GAAZA,EAAK,KAAmB,CACxC,EAAA,CACH;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIR,CAAC;AAEDqD,GAAS,cAAc;AAcvB,MAAM/wE,KAAWrsB,GAAoB,CAAC;AAAA,EACpC,QAAAq9F;AAAA,EACA,iBAAAK;AAAA,EACA,oBAAAC,IAAqB;AAAA,EACrB,mBAAAC;AAAA,EACA,sBAAAC,IAAuB;AACzB,MAAM;AACJ,QAAMzgB,IAAOigB,EAAO,QAAQC,IAEtBC,IAAgBh9F;AAAA,IAAQ,MAC5B88F,EAAO,eACHh/F,GAAO,WAAWg/F,EAAO,aAAa,OAAO,CAAC,EAAE,aAAa,GAAGA,EAAO,aAAa,MAAM,CAAC,CAAC,EAAE,IAC9Fh/F,GAAO;AAAA,IACX,CAACg/F,EAAO,YAAY;AAAA,EAAA,GAGhBG,IAAcj9F;AAAA,IAAQ,MAC1BlC,GAAO,SAASg/F,EAAO,OAAO,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAO,OAAO,MAAM,CAAC,CAAC,EAAE;AAAA,IAChF,CAACA,EAAO,MAAM;AAAA,EAAA,GAGVI,IAAcl9F;AAAA,IAAQ,MAC1B88F,EAAO,OAAO,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAO,OAAO,MAAM,CAAC;AAAA,IAC7D,CAACA,EAAO,MAAM;AAAA,EAAA,GAGVS,IAAqBx9F,EAAY,CAACmH,MAAwB;AAC9D,IAAAA,EAAE,gBAAA,GACFi2F,IAAkBL,CAAM;AAAA,EAC1B,GAAG,CAACK,GAAiBL,CAAM,CAAC,GAEtBU,IAAuBz9F,EAAY,CAACmH,MAAwB;AAChE,IAAAA,EAAE,gBAAA,GACFm2F,IAAoBP,CAAM;AAAA,EAC5B,GAAG,CAACO,GAAmBP,CAAM,CAAC;AAE9B,SACE,gBAAA/+F,EAAC,OAAA,EAAI,WAAWD,GAAO,UACrB,UAAA;AAAA,IAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,YAAY,IAAIk/F,CAAa,IACrD,UAAA,gBAAAh/F,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI,GAClB;AAAA,IACA,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,eAAgB,YAAO,MAAK;AAAA,QACnD,gBAAAE,EAAC,UAAK,WAAW,GAAGF,GAAO,WAAW,IAAIm/F,CAAW,IAClD,UAAAC,EAAA,CACH;AAAA,MAAA,GACF;AAAA,MACCJ,EAAO,QAAQA,EAAO,KAAK,SAAS,KACnC,gBAAA9+F,EAAC,OAAA,EAAI,WAAWF,GAAO,cACpB,YAAO,KAAK,IAAI,CAACkjB,MAChB,gBAAAhjB,EAAC4+F,MAAmC,MAAA57E,EAAA,GAAZA,EAAK,KAAmB,CACjD,EAAA,CACH;AAAA,IAAA,GAEJ;AAAA,IACA,gBAAAjjB,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACpB,UAAA;AAAA,MAAAq/F,uBACE,UAAA,EAAO,WAAWr/F,GAAO,cAAc,SAASy/F,GAC/C,UAAA;AAAA,QAAA,gBAAAv/F,EAACy/F,IAAA,EAAS,MAAM,GAAA,CAAI;AAAA,QACpB,gBAAAz/F,EAAC,UAAM,UAAAo/F,EAAA,CAAmB;AAAA,MAAA,GAC5B;AAAA,MAEDC,KACC,gBAAAt/F,EAAC,UAAA,EAAO,WAAWD,GAAO,cAAc,SAAS0/F,GAC9C,UAAA;AAAA,QAAAV,EAAO,WAAW,YAAY,gBAAA9+F,EAAC0/F,IAAA,EAAU,MAAM,IAAI,IAAK,gBAAA1/F,EAAC2/F,IAAA,EAAU,MAAM,GAAA,CAAI;AAAA,0BAC7E,QAAA,EAAM,UAAAb,EAAO,WAAW,YAAY,cAAcQ,EAAA,CAAqB;AAAA,MAAA,EAAA,CAC1E;AAAA,IAAA,EAAA,CAEJ;AAAA,EAAA,GACF;AAEJ,CAAC;AAEDxxE,GAAS,cAAc;AAWvB,MAAM8xE,KAAcn+F,GAAuB,CAAC,EAAE,QAAAq9F,GAAQ,eAAAe,QAAoB;AACxE,QAAMhhB,IAAOigB,EAAO,QAAQC,IAEtBC,IAAgBh9F;AAAA,IAAQ,MAC5B88F,EAAO,eACHh/F,GAAO,WAAWg/F,EAAO,aAAa,OAAO,CAAC,EAAE,aAAa,GAAGA,EAAO,aAAa,MAAM,CAAC,CAAC,EAAE,IAC9Fh/F,GAAO;AAAA,IACX,CAACg/F,EAAO,YAAY;AAAA,EAAA,GAGhBgB,IAAa99F,EAAQ,MAAM;AAC/B,YAAQ88F,EAAO,QAAA;AAAA,MACb,KAAK;AAAU,eAAOh/F,GAAO;AAAA,MAC7B,KAAK;AAAW,eAAOA,GAAO;AAAA,MAC9B,KAAK;AAAW,eAAOA,GAAO;AAAA,MAC9B,KAAK;AAAS,eAAOA,GAAO;AAAA,MAC5B;AAAS,eAAOA,GAAO;AAAA,IAAA;AAAA,EAE3B,GAAG,CAACg/F,EAAO,MAAM,CAAC,GAEZI,IAAcl9F,EAAQ,MAAM;AAChC,YAAQ88F,EAAO,QAAA;AAAA,MACb,KAAK;AAAU,eAAO;AAAA,MACtB,KAAK;AAAW,eAAO;AAAA,MACvB,KAAK;AAAW,eAAO;AAAA,MACvB,KAAK;AAAS,eAAO;AAAA,MACrB;AAAS,eAAOA,EAAO;AAAA,IAAA;AAAA,EAE3B,GAAG,CAACA,EAAO,MAAM,CAAC,GAEZiB,IAAW/9F;AAAA,IAAQ,MACvB88F,EAAO,QAAQA,EAAO,KAAK,SAAS,IAAIA,EAAO,KAAK,CAAC,EAAE,QAAQ;AAAA,IAC/D,CAACA,EAAO,IAAI;AAAA,EAAA,GAGRkB,IAAkBj+F,EAAY,CAACmH,MAAwB;AAC3D,IAAAA,EAAE,gBAAA,GACF22F,IAAgBf,CAAM;AAAA,EACxB,GAAG,CAACe,GAAef,CAAM,CAAC;AAE1B,SACE,gBAAA/+F,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,IAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,WAAW,IAAIk/F,CAAa,IACpD,UAAA,gBAAAh/F,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI,GAClB;AAAA,IACA,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAc,YAAO,MAAK;AAAA,MACjD,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,QAAA,EAAK,WAAW,GAAGF,GAAO,KAAK,IAAIggG,CAAU,IAAK,UAAAZ,EAAA,CAAY;AAAA,QAC9Da,KACC,gBAAAhgG,EAAAwB,IAAA,EACE,UAAA;AAAA,UAAA,gBAAAvB,EAAC,QAAA,EAAK,WAAWF,GAAO,WAAW,UAAA,KAAC;AAAA,UACpC,gBAAAE,EAAC,UAAM,UAAA+/F,EAAA,CAAS;AAAA,QAAA,EAAA,CAClB;AAAA,MAAA,EAAA,CAEJ;AAAA,IAAA,GACF;AAAA,IACCF,KACC,gBAAA7/F;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO;AAAA,QAClB,SAASkgG;AAAA,QACT,cAAW;AAAA,QAEX,UAAA,gBAAAhgG,EAACigG,IAAA,EAAa,MAAM,GAAA,CAAI;AAAA,MAAA;AAAA,IAAA;AAAA,EAC1B,GAEJ;AAEJ,CAAC;AAEDL,GAAY,cAAc;AAM1B,MAAMM,KAAaz+F,GAAsB,CAAC;AAAA,EACxC,SAAA0+F;AAAA,EACA,MAAAC,IAAO;AAAA,EACP,SAAAhhG,IAAU;AAAA,EACV,cAAAgqB,IAAe;AAAA,EACf,kBAAAi3E,IAAmB;AAAA,EACnB,eAAAC;AAAA,EACA,kBAAAC,IAAmB;AAAA,EACnB,eAAAC;AAAA,EACA,iBAAArB;AAAA,EACA,oBAAAC,IAAqB;AAAA,EACrB,mBAAAC;AAAA,EACA,sBAAAC,IAAuB;AAAA,EACvB,eAAAO;AAAA,EACA,WAAArgG;AACF,MAAM;AACJ,QAAM+E,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,UAAU,IAAIN,KAAa,EAAE;AAAA,IACvC,CAACA,CAAS;AAAA,EAAA;AAIZ,SAAIJ,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAWwE,GACb,UAAA;AAAA,IAAA67F,MAAS,4BACP,OAAA,EAAI,WAAWtgG,GAAO,YACpB,UAAA,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,CAACmK,MACjB,gBAAAjK,EAACw+F,QAAqB,iBAAiBv0F,CAAC,EAAI,CAC7C,EAAA,CACH;AAAA,IAEDm2F,MAAS,UACR,gBAAApgG,EAAC,OAAA,EAAI,WAAWF,GAAO,eACpB,WAAC,GAAG,GAAG,CAAC,EAAE,IAAI,CAACmK,MACd,gBAAAjK,EAACy+F,QAAyB,iBAAiBx0F,CAAC,EAAI,CACjD,EAAA,CACH;AAAA,IAEDm2F,MAAS,aACR,gBAAApgG,EAAC,OAAA,EAAI,WAAWF,GAAO,kBACpB,UAAA,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,CAACmK,MACjB,gBAAAjK,EAAC0+F,QAA4B,oBAAoBz0F,CAAC,EAAI,CACvD,EAAA,CACH;AAAA,EAAA,GAEJ,IAKAk2F,EAAQ,WAAW,IAEnB,gBAAAngG,EAAC,SAAI,WAAWuE,GACd,4BAAC,OAAA,EAAI,WAAWzE,GAAO,YACrB,UAAA;AAAA,IAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,gBACrB,4BAAC8F,IAAA,EAAM,MAAM,IAAI,EAAA,CACnB;AAAA,IACA,gBAAA5F,EAAC,OAAA,EAAI,WAAWF,GAAO,iBAAkB,UAAAspB,GAAa;AAAA,IACtD,gBAAAppB,EAAC,OAAA,EAAI,WAAWF,GAAO,uBAAwB,UAAAugG,GAAiB;AAAA,IAC/DC,uBACE,UAAA,EAAO,WAAWxgG,GAAO,kBAAkB,SAASwgG,GAClD,UAAAC,EAAA,CACH;AAAA,EAAA,EAAA,CAEJ,EAAA,CACF,IAMF,gBAAAxgG,EAAC,OAAA,EAAI,WAAWwE,GACb,UAAA;AAAA,IAAA67F,MAAS,4BACP,OAAA,EAAI,WAAWtgG,GAAO,YACpB,UAAAqgG,EAAQ,IAAI,CAACrB,MACZ,gBAAA9+F;AAAA,MAAC6+F;AAAA,MAAA;AAAA,QAEC,QAAAC;AAAA,QACA,SAAS0B;AAAA,MAAA;AAAA,MAFJ1B,EAAO;AAAA,IAAA,CAIf,GACH;AAAA,IAGDsB,MAAS,UACR,gBAAApgG,EAAC,OAAA,EAAI,WAAWF,GAAO,eACpB,UAAAqgG,EAAQ,IAAI,CAACrB,MACZ,gBAAA9+F;AAAA,MAAC8tB;AAAA,MAAA;AAAA,QAEC,QAAAgxE;AAAA,QACA,iBAAAK;AAAA,QACA,oBAAAC;AAAA,QACA,mBAAAC;AAAA,QACA,sBAAAC;AAAA,MAAA;AAAA,MALKR,EAAO;AAAA,IAAA,CAOf,GACH;AAAA,IAGDsB,MAAS,aACR,gBAAApgG,EAAC,OAAA,EAAI,WAAWF,GAAO,kBACpB,UAAAqgG,EAAQ,IAAI,CAACrB,MACZ,gBAAA9+F;AAAA,MAAC4/F;AAAA,MAAA;AAAA,QAEC,QAAAd;AAAA,QACA,eAAAe;AAAA,MAAA;AAAA,MAFKf,EAAO;AAAA,IAAA,CAIf,EAAA,CACH;AAAA,EAAA,GAEJ;AAEJ,CAAC;AAEDoB,GAAW,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;GC1fZO,KAAgD,CAAC;AAAA,EAC5D,MAAM5hB;AAAA,EACN,MAAA38E;AAAA,EACA,QAAQg6F;AAAA,EACR,aAAAI;AAAA,EACA,MAAAjlB,IAAO,CAAA;AAAA,EACP,SAAAglB,IAAU,CAAA;AAAA,EACV,OAAA31F;AAAA,EACA,cAAAg6F,IAAe;AAAA,EACf,SAAA36F,IAAU;AAAA,EACV,eAAA46F;AAAA,EACA,SAAAzjB;AAAA,EACA,SAAAtvD;AAAA,EACA,WAAA8nD,IAAY;AAAA,EACZ,SAAAjmE,IAAU;AAAA,EACV,SAAAmxF,IAAU;AAAA,EACV,WAAAphG,IAAY;AACd,MAAM;AACJ,QAAM04F,IAAgB;AAAA,MAClBp4F,GAAO,cAAc;AAAA,MACrB2P,IAAU3P,GAAO,UAAU,EAAE;AAAA,MAC7B41E,IAAY51E,GAAO,YAAY,EAAE;AAAA,MACjC8gG,IAAU9gG,GAAO,UAAU,EAAE;AAAA,MAC7Bu8F,EAAQ,SAAS,IAAIv8F,GAAO,cAAc,EAAE;AAAA,MAC5CN,CAAS;AAAA,IACX,KAAA,GAEI2xE,IACJ,gBAAApxE,EAAAwB,IAAA,EACG,UAAA;AAAA,IAAAm/F,KACC,gBAAA1gG;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAWF,GAAO;AAAA,QAClB,SAAAiG;AAAA,QACA,UAAU,CAACmD,MAAM;AACf,UAAAA,EAAE,gBAAA,GACFy3F,IAAgBz3F,EAAE,OAAO,OAAO;AAAA,QAClC;AAAA,MAAA;AAAA,IAAA;AAAA,IAIH21E,KAAQ,CAACpvE,KACR,gBAAAzP,EAAC,OAAA,EAAI,WAAWF,GAAO,MACrB,UAAA,gBAAAE,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,SAAS,GACnC;AAAA,IAGF,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,SACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,MACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,MAAO,UAAAoC,GAAK;AAAA,QACjCo6F,KAAeA;AAAA,MAAA,GAClB;AAAA,MAECjlB,EAAK,SAAS,KACb,gBAAAr3E,EAAC,SAAI,WAAWF,GAAO,MACpB,UAAAu3E,EAAK,IAAI,CAACr0D,GAAM/V,wBACd,QAAA,EAAiB,WAAWnN,GAAO,UACjC,UAAAkjB,EAAA,GADQ/V,CAEX,CACD,EAAA,CACH;AAAA,MAGDovF,EAAQ,SAAS,KAChB,gBAAAr8F,EAAC,OAAA,EAAI,WAAWF,GAAO,SACpB,UAAAu8F,EAAQ,IAAI,CAACE,GAAQtvF,wBACnB,OAAA,EAAgB,WAAWnN,GAAO,QACjC,UAAA;AAAA,QAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,aAAc,YAAO,OAAM;AAAA,QACnD,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW,GAAGF,GAAO,WAAW,IAC9By8F,EAAO,UAAUz8F,GAAO,qBAAqB,EAC/C,IAAIy8F,EAAO,QAAQz8F,GAAO,mBAAmB,EAAE;AAAA,YAE9C,UAAAy8F,EAAO;AAAA,UAAA;AAAA,QAAA;AAAA,MACV,EAAA,GARQtvF,CASV,CACD,EAAA,CACH;AAAA,IAAA,GAEJ;AAAA,IAECvG,KAAS,gBAAA1G,EAAC,OAAA,EAAI,WAAWF,GAAO,OAAQ,UAAA4G,GAAM;AAAA,IAE9Cw2E,KAAW,gBAAAl9E,EAAC,OAAA,EAAI,WAAWF,GAAO,SAAU,UAAAo9E,GAAQ;AAAA,IAEpDxH,KACC,gBAAA11E,EAAC,OAAA,EAAI,WAAWF,GAAO,OACrB,UAAA,gBAAAE,EAAC2T,IAAA,EAAa,MAAM,GAAA,CAAI,EAAA,CAC1B;AAAA,EAAA,GAEJ;AAGF,SAAI+hE,KAAa9nD,IAEb,gBAAA5tB,EAAC,SAAI,WAAWk4F,GAAe,SAAAtqE,GAAkB,MAAK,UAAS,UAAU,GACtE,UAAAujD,EAAA,CACH,IAIG,gBAAAnxE,EAAC,OAAA,EAAI,WAAWk4F,GAAgB,UAAA/mB,GAAQ;AACjD,GAUa0vB,KAA0D,CAAC;AAAA,EACtE,UAAAthG;AAAA,EACA,QAAAuhG,IAAS;AAAA,EACT,WAAAthG,IAAY;AACd,MAEI,gBAAAQ;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAG8gG,IAAShhG,GAAO,kBAAkBA,GAAO,SAAS,IAAIN,CAAS;AAAA,IAE5E,UAAAD;AAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GC3HDwhG,KAA+C;AAAA,EACnD,UAAUjhG,GAAO;AAAA,EACjB,SAASA,GAAO;AAAA,EAChB,MAAMA,GAAO;AACf,GAWMkhG,KAAWv/F,GAAoB,CAAC,EAAE,OAAAyC,GAAO,YAAAwpB,GAAY,YAAA/rB,GAAY,aAAAs/F,GAAa,QAAAC,QAAa;AAC/F,QAAMxtB,IAAuB3xE,EAAY,CAACmH,MAA2C;AACnF,IAAA+3F,EAAY/8F,EAAM,IAAIgF,EAAE,OAAO,OAAO;AAAA,EACxC,GAAG,CAAChF,EAAM,IAAI+8F,CAAW,CAAC,GAEpBE,IAAkBp/F,EAAY,MAAM;AACxC,IAAAm/F,IAASh9F,CAAK;AAAA,EAChB,GAAG,CAACA,GAAOg9F,CAAM,CAAC,GAEZE,IAAiBp/F;AAAA,IAAQ,MAC7B,GAAGlC,GAAO,KAAK,IAAIihG,GAAqB78F,EAAM,QAAQ,KAAK,EAAE;AAAA,IAC7D,CAACA,EAAM,QAAQ;AAAA,EAAA,GAGXm9F,IAAgBr/F;AAAA,IAAQ,MAC5BkC,EAAM,SAAS,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAM,SAAS,MAAM,CAAC;AAAA,IAC/D,CAACA,EAAM,QAAQ;AAAA,EAAA;AAGjB,2BACG,MAAA,EACE,UAAA;AAAA,IAAAwpB,KACC,gBAAA1tB,EAAC,MAAA,EAAG,WAAWF,GAAO,cACpB,UAAA,gBAAAE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,SAAS2B;AAAA,QACT,UAAU+xE;AAAA,MAAA;AAAA,IAAA,GAEd;AAAA,IAEF,gBAAA1zE,EAAC,MAAA,EAAI,UAAAkE,EAAM,KAAA,CAAK;AAAA,sBACf,MAAA,EACC,UAAA,gBAAAlE,EAAC,UAAK,WAAWohG,GACd,aACH,EAAA,CACF;AAAA,sBACC,MAAA,EACC,UAAA,gBAAArhG,EAAC,OAAA,EAAI,WAAWD,GAAO,WACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,UAAK,WAAWF,GAAO,WACrB,UAAAoE,EAAM,UAAU,MACnB;AAAA,MACA,gBAAAlE,EAAC,QAAA,EAAM,UAAAkE,EAAM,UAAU,MAAA,CAAM;AAAA,IAAA,EAAA,CAC/B,EAAA,CACF;AAAA,sBACC,MAAA,EACC,UAAA,gBAAAnE,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,SAAI,WAAWF,GAAO,UAAW,UAAAoE,EAAM,OAAO,IAAG;AAAA,wBACjD,OAAA,EAAI,WAAWpE,GAAO,YAAa,UAAAoE,EAAM,OAAO,KAAA,CAAK;AAAA,IAAA,EAAA,CACxD,EAAA,CACF;AAAA,IACA,gBAAAlE,EAAC,MAAA,EAAI,UAAAkE,EAAM,QAAA,CAAQ;AAAA,IACnB,gBAAAlE,EAAC,MAAA,EAAI,UAAAkE,EAAM,SAAA,CAAS;AAAA,sBACnB,MAAA,EACC,UAAA,gBAAAnE,EAAC,OAAA,EAAI,WAAWD,GAAO,SACrB,UAAA;AAAA,MAAA,gBAAAE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWF,GAAO;AAAA,UAClB,SAASqhG;AAAA,UACT,cAAW;AAAA,UAEX,UAAA,gBAAAnhG,EAACshG,IAAA,EAAI,MAAM,GAAA,CAAI;AAAA,QAAA;AAAA,MAAA;AAAA,MAEjB,gBAAAthG;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWF,GAAO;AAAA,UAClB,cAAW;AAAA,UAEX,UAAA,gBAAAE,EAACuhG,IAAA,EAAe,MAAM,GAAA,CAAI;AAAA,QAAA;AAAA,MAAA;AAAA,IAC5B,EAAA,CACF,EAAA,CACF;AAAA,EAAA,GACF;AAEJ,CAAC;AAEDP,GAAS,cAAc;AAWvB,MAAM9H,KAAez3F,GAAwB,CAAC,EAAE,QAAAq5B,GAAQ,eAAA0mE,GAAe,SAAA5zE,GAAS,MAAAvuB,GAAM,OAAAiB,QAAY;AAChG,QAAMwB,IAAcC,EAAY,MAAM;AACpC,IAAA6rB,EAAQkN,CAAM;AAAA,EAChB,GAAG,CAACA,GAAQlN,CAAO,CAAC,GAEdpuB,IAAYwC;AAAA,IAAQ,MACxB,GAAGlC,GAAO,SAAS,IAAI0hG,MAAkB1mE,IAASh7B,GAAO,kBAAkB,EAAE;AAAA,IAC7E,CAAC0hG,GAAe1mE,CAAM;AAAA,EAAA;AAGxB,SACE,gBAAA/6B,EAAC,UAAA,EAAO,WAAAP,GAAsB,SAASsC,GACpC,UAAA;AAAA,IAAAzC;AAAA,IACAiB;AAAA,EAAA,GACH;AAEJ,CAAC;AAED44F,GAAa,cAAc;AAGpB,MAAMuI,KAAiBhgG,GAA0B,CAAC;AAAA,EACvD,QAAA0oD;AAAA,EACA,YAAAu3C,IAAa;AAAA,EACb,YAAAC,IAAa;AAAA,EACb,YAAAC,IAAa;AAAA,EACb,YAAAl0E,IAAa;AAAA,EACb,UAAA7rB;AAAA,EACA,QAAAq/F;AAAA,EACA,UAAAW;AAAA,EACA,WAAAriG;AACF,MAAM;AACJ,QAAM,CAAC2jB,GAAakC,CAAc,IAAIziB,EAAS,EAAE,GAC3C,CAACk/F,GAAgBC,CAAiB,IAAIn/F,EAAkD,KAAK,GAC7F,CAACo/F,GAAaC,CAAc,IAAIr/F,EAAsB,oBAAI,KAAK,GAC/D,CAACs/F,GAAYC,CAAa,IAAIv/F,EAAqC,IAAI,GACvE,CAAC2sB,GAAe6yE,CAAgB,IAAIx/F,EAAyB,MAAM,GAGnEy/F,IAAiBrgG,EAAQ,MACtBmoD,EAAO,OAAO,CAACjmD,MAAU;AAC9B,UAAMujF,IAAgBtkE,MAAgB,MACpCjf,EAAM,UAAU,MAAM,YAAA,EAAc,SAASif,EAAY,YAAA,CAAa,KACtEjf,EAAM,OAAO,GAAG,YAAA,EAAc,SAASif,EAAY,YAAA,CAAa,KAChEjf,EAAM,QAAQ,YAAA,EAAc,SAASif,EAAY,aAAa,GAE1Dm/E,IAAgBR,MAAmB,SAAS59F,EAAM,aAAa49F;AAErE,WAAOra,KAAiB6a;AAAA,EAC1B,CAAC,GACA,CAACn4C,GAAQhnC,GAAa2+E,CAAc,CAAC,GAGlCS,IAAevgG,EAAQ,MAAM;AACjC,QAAI,CAACkgG,EAAY,QAAOG;AAExB,UAAMG,IAAgB,EAAE,UAAU,GAAG,SAAS,GAAG,MAAM,EAAA;AAEvD,WAAO,CAAC,GAAGH,CAAc,EAAE,KAAK,CAACtoF,GAAGtL,MAC9ByzF,MAAe,SACV3yE,MAAkB,QACrBxV,EAAE,KAAK,cAActL,EAAE,IAAI,IAC3BA,EAAE,KAAK,cAAcsL,EAAE,IAAI,IAG7BmoF,MAAe,aACV3yE,MAAkB,QACrBizE,EAAczoF,EAAE,QAAQ,IAAIyoF,EAAc/zF,EAAE,QAAQ,IACpD+zF,EAAc/zF,EAAE,QAAQ,IAAI+zF,EAAczoF,EAAE,QAAQ,IAGnD,CACR;AAAA,EACH,GAAG,CAACsoF,GAAgBH,GAAY3yE,CAAa,CAAC,GAGxC+pE,IAAqBv3F,EAAY,CAACmH,MAA2C;AACjF,IAAAmc,EAAenc,EAAE,OAAO,KAAK;AAAA,EAC/B,GAAG,CAAA,CAAE,GAECu5F,IAAqB1gG,EAAY,CAAC+4B,MAAoD;AAC1F,IAAAinE,EAAkBjnE,CAAM;AAAA,EAC1B,GAAG,CAAA,CAAE,GAEC4nE,IAAiB3gG,EAAY,MAAM;AACvC,IAAImgG,MAAe,SACjBE,EAAiB,CAAAr+F,MAAQA,MAAS,QAAQ,SAAS,KAAK,KAExDo+F,EAAc,MAAM,GACpBC,EAAiB,MAAM;AAAA,EAE3B,GAAG,CAACF,CAAU,CAAC,GAETS,IAAqB5gG,EAAY,MAAM;AAC3C,IAAImgG,MAAe,aACjBE,EAAiB,CAAAr+F,MAAQA,MAAS,QAAQ,SAAS,KAAK,KAExDo+F,EAAc,UAAU,GACxBC,EAAiB,MAAM;AAAA,EAE3B,GAAG,CAACF,CAAU,CAAC,GAETU,IAAkB7gG,EAAY,CAACmH,MAA2C;AAC9E,QAAIA,EAAE,OAAO,SAAS;AACpB,YAAM25F,IAAS,IAAI,IAAIN,EAAa,IAAI,CAAAO,MAAMA,EAAG,EAAE,CAAC;AACpD,MAAAb,EAAeY,CAAM,GACrBhhG,IAAW,MAAM,KAAKghG,CAAM,CAAC;AAAA,IAC/B;AACE,MAAAZ,EAAe,oBAAI,KAAK,GACxBpgG,IAAW,CAAA,CAAE;AAAA,EAEjB,GAAG,CAAC0gG,GAAc1gG,CAAQ,CAAC,GAErBkhG,IAAkBhhG,EAAY,CAACd,GAAY8E,MAAqB;AACpE,IAAAk8F,EAAe,CAAAl+F,MAAQ;AACrB,YAAMggB,IAAc,IAAI,IAAIhgB,CAAI;AAChC,aAAIgC,IACFge,EAAY,IAAI9iB,CAAE,IAElB8iB,EAAY,OAAO9iB,CAAE,GAEvBY,IAAW,MAAM,KAAKkiB,CAAW,CAAC,GAC3BA;AAAA,IACT,CAAC;AAAA,EACH,GAAG,CAACliB,CAAQ,CAAC,GAGP0C,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,cAAc,IAAIN,KAAa,EAAE;AAAA,IAC3C,CAACA,CAAS;AAAA,EAAA,GAGNslB,IAAgB9iB;AAAA,IAAQ,MAC5BggG,EAAY,SAASO,EAAa,UAAUA,EAAa,SAAS;AAAA,IAClE,CAACP,EAAY,MAAMO,EAAa,MAAM;AAAA,EAAA;AAGxC,SACE,gBAAAxiG,EAAC,OAAA,EAAI,WAAWwE,GAEZ,UAAA;AAAA,KAAAm9F,KAAcC,KAAcC,MAC5B,gBAAA7hG,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,mBACpB,eACC,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC+kB,IAAA,EAAO,WAAWjlB,GAAO,YAAY,MAAM,IAAI;AAAA,QAChD,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAWF,GAAO;AAAA,YAClB,aAAY;AAAA,YACZ,OAAOqjB;AAAA,YACP,UAAUm2E;AAAA,UAAA;AAAA,QAAA;AAAA,MACZ,EAAA,CACF,EAAA,CAEJ;AAAA,MAEA,gBAAAv5F,EAAC,OAAA,EAAI,WAAWD,GAAO,oBACpB,UAAA;AAAA,QAAA6hG,KACC,gBAAA5hG,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,UAAA,gBAAAE;AAAA,YAACk5F;AAAA,YAAA;AAAA,cACC,QAAO;AAAA,cACP,eAAe4I;AAAA,cACf,SAASW;AAAA,cACT,MAAM,gBAAAziG,EAACwhE,IAAA,EAAO,MAAM,GAAA,CAAI;AAAA,cACxB,OAAM;AAAA,YAAA;AAAA,UAAA;AAAA,UAER,gBAAAxhE;AAAA,YAACk5F;AAAA,YAAA;AAAA,cACC,QAAO;AAAA,cACP,eAAe4I;AAAA,cACf,SAASW;AAAA,cACT,MAAM,gBAAAziG,EAACgjG,IAAA,EAAY,MAAM,GAAA,CAAI;AAAA,cAC7B,OAAM;AAAA,YAAA;AAAA,UAAA;AAAA,UAER,gBAAAhjG;AAAA,YAACk5F;AAAA,YAAA;AAAA,cACC,QAAO;AAAA,cACP,eAAe4I;AAAA,cACf,SAASW;AAAA,cACT,MAAM,gBAAAziG,EAAC0+E,IAAA,EAAc,MAAM,GAAA,CAAI;AAAA,cAC/B,OAAM;AAAA,YAAA;AAAA,UAAA;AAAA,QACR,GACF;AAAA,QAEDkjB,KACC,gBAAA7hG,EAAC,UAAA,EAAO,WAAWD,GAAO,WAAW,SAAS+hG,GAC5C,UAAA;AAAA,UAAA,gBAAA7hG,EAACijG,IAAA,EAAS,MAAM,GAAA,CAAI;AAAA,UAAE;AAAA,QAAA,EAAA,CAExB;AAAA,MAAA,EAAA,CAEJ;AAAA,IAAA,GACF;AAAA,IAIF,gBAAAjjG,EAAC,SAAI,WAAWF,GAAO,gBACrB,UAAA,gBAAAC,EAAC,SAAA,EAAM,WAAWD,GAAO,OACvB,UAAA;AAAA,MAAA,gBAAAE,EAAC,SAAA,EACC,4BAAC,MAAA,EACE,UAAA;AAAA,QAAA0tB,KACC,gBAAA1tB,EAAC,MAAA,EAAG,WAAWF,GAAO,cACpB,UAAA,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAS8kB;AAAA,YACT,UAAU89E;AAAA,UAAA;AAAA,QAAA,GAEd;AAAA,QAEF,gBAAA5iG,EAAC,MAAA,EAAG,WAAWF,GAAO,gBAAgB,SAAS4iG,GAC7C,UAAA,gBAAA3iG,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,UAAA,gBAAAE,EAAC,UAAK,UAAA,OAAA,CAAI;AAAA,UACV,gBAAAA,EAACqyE,IAAA,EAAe,MAAM,GAAA,CAAI;AAAA,QAAA,EAAA,CAC5B,EAAA,CACF;AAAA,QACA,gBAAAryE,EAAC,MAAA,EAAG,WAAWF,GAAO,gBAAgB,SAAS6iG,GAC7C,UAAA,gBAAA5iG,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,UAAA,gBAAAE,EAAC,UAAK,UAAA,WAAA,CAAQ;AAAA,UACd,gBAAAA,EAACqyE,IAAA,EAAe,MAAM,GAAA,CAAI;AAAA,QAAA,EAAA,CAC5B,EAAA,CACF;AAAA,QACA,gBAAAryE,EAAC,QAAG,UAAA,aAAA,CAAU;AAAA,QACd,gBAAAA,EAAC,QAAG,UAAA,SAAA,CAAM;AAAA,QACV,gBAAAA,EAAC,QAAG,UAAA,UAAA,CAAO;AAAA,QACX,gBAAAA,EAAC,QAAG,UAAA,WAAA,CAAQ;AAAA,QACZ,gBAAAA,EAAC,MAAA,EAAG,WAAWF,GAAO,eAAe,UAAA,UAAA,CAAO;AAAA,MAAA,EAAA,CAC9C,EAAA,CACF;AAAA,MACA,gBAAAE,EAAC,SAAA,EACE,UAAAuiG,EAAa,IAAI,CAACr+F,MACjB,gBAAAlE;AAAA,QAACghG;AAAA,QAAA;AAAA,UAEC,OAAA98F;AAAA,UACA,YAAAwpB;AAAA,UACA,YAAYs0E,EAAY,IAAI99F,EAAM,EAAE;AAAA,UACpC,aAAa6+F;AAAA,UACb,QAAA7B;AAAA,QAAA;AAAA,QALKh9F,EAAM;AAAA,MAAA,CAOd,EAAA,CACH;AAAA,IAAA,EAAA,CACF,EAAA,CACF;AAAA,EAAA,GACF;AAEJ,CAAC;AAEDu9F,GAAe,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCxWhByB,KAA8C,CAAC;AAAA,EAC1D,UAAA3jG;AAAA,EACA,SAAAkQ,IAAU;AAAA,EACV,WAAAjQ,IAAY;AACd,MAEI,gBAAAQ,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,aAAa,IAAI2P,IAAU3P,GAAO,uBAAuB,EAAE,IAAIN,CAAS,IAC/F,UAAAD,GACH,GAsBS4jG,KAAsC,CAAC;AAAA,EAClD,MAAAzjG;AAAA,EACA,OAAA+kB;AAAA,EACA,aAAAhY;AAAA,EACA,MAAA6H;AAAA,EACA,MAAA+iE;AAAA,EACA,MAAMwH;AAAA,EACN,SAAAjxD;AAAA,EACA,WAAApuB,IAAY;AACd,MAEI,gBAAAO,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,SAAS,IAAIA,GAAO,YAAYJ,EAAK,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAK,MAAM,CAAC,CAAC,EAAE,CAAC,IAAIF,CAAS,IAAI,SAAAouB,GACvH,UAAA;AAAA,EAAAixD,IACC,gBAAA7+E,EAAC,SAAI,WAAW,GAAGF,GAAO,WAAW,IAAIA,GAAO,eAAe,IAC7D,4BAAC++E,GAAA,EAAK,WAAW/+E,GAAO,UAAA,CAAW,EAAA,CACrC,IAEA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,YAAA,CAAa;AAAA,EAEtC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,UAAA,CAAW;AAAA,EAClC,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,IAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,YAAa,UAAA2kB,GAAM;AAAA,MACzC,gBAAAzkB,EAAC,QAAA,EAAK,WAAWF,GAAO,WAAY,UAAAwU,EAAA,CAAK;AAAA,IAAA,GAC3C;AAAA,IACC7H,KAAe,gBAAAzM,EAAC,KAAA,EAAE,WAAWF,GAAO,kBAAmB,UAAA2M,GAAY;AAAA,IACnE4qE,KAAQA,EAAK,SAAS,KACrB,gBAAAr3E,EAAC,OAAA,EAAI,WAAWF,GAAO,WACpB,UAAAu3E,EAAK,IAAI,CAACr0D,GAAM/V,wBACd,QAAA,EAAiB,WAAWnN,GAAO,eAClC,UAAA;AAAA,MAAA,gBAAAE,EAACgjB,EAAK,MAAL,EAAU;AAAA,MACX,gBAAAhjB,EAAC,QAAA,EAAM,UAAAgjB,EAAK,KAAA,CAAK;AAAA,IAAA,EAAA,GAFR/V,CAGX,CACD,EAAA,CACH;AAAA,EAAA,EAAA,CAEJ;AAAA,GACF,GAcSm2F,KAAoD,CAAC;AAAA,EAChE,MAAA1jG;AAAA,EACA,OAAA+kB;AAAA,EACA,MAAAnQ;AAAA,EACA,SAAAsZ;AAAA,EACA,WAAApuB,IAAY;AACd,MAEI,gBAAAO;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAGD,GAAO,gBAAgB,IAAIA,GAAO,mBAAmBJ,EAAK,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAK,MAAM,CAAC,CAAC,EAAE,CAAC,IAAIF,CAAS;AAAA,IAC/H,SAAAouB;AAAA,IAEA,UAAA;AAAA,MAAA,gBAAA5tB,EAAC,OAAA,EAAI,WAAWF,GAAO,mBAAA,CAAoB;AAAA,MAC3C,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,iBAAA,CAAkB;AAAA,MACzC,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,qBACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,mBAAoB,UAAA2kB,GAAM;AAAA,QAChD,gBAAAzkB,EAAC,KAAA,EAAE,WAAWF,GAAO,kBAAmB,UAAAwU,EAAA,CAAK;AAAA,MAAA,EAAA,CAC/C;AAAA,IAAA;AAAA,EAAA;AAAA,GAYO+uF,KAAoD,CAAC;AAAA,EAChE,OAAA5+E;AAAA,EACA,WAAAjlB,IAAY;AACd,MAEI,gBAAAQ,EAAC,SAAI,WAAW,GAAGF,GAAO,gBAAgB,IAAIN,CAAS,IACpD,UAAAilB,EAAA,CACH;;;;;;;;;;;;;;;GC/GE85E,KAAiB;AAAA,EACrB,OAAO,EAAE,QAAQ,IAAI,OAAO,MAAA;AAAA,EAC5B,MAAM,EAAE,OAAO,IAAI,QAAQ,IAAI,cAAc,EAAA;AAAA,EAC7C,OAAO,EAAE,QAAQ,IAAI,OAAO,OAAO,cAAc,EAAA;AAAA,EACjD,OAAO,EAAE,QAAQ,IAAI,OAAO,MAAA;AAC9B,GAGM+E,KAAkB7hG,GAA6B,CAAC,EAAE,WAAAjC,QAAgB;AACtE,QAAM+E,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,OAAO,IAAIN,KAAa,EAAE;AAAA,IACpC,CAACA,CAAS;AAAA,EAAA;AAGZ,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,WACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,OAAO;AAAA,wBAC7D,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,KAAA,CAAM;AAAA,IAAA,GAC/D;AAAA,sBACC,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,OAAO;AAAA,sBAC7D,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,MAAA,CAAO;AAAA,EAAA,GAChE;AAEJ,CAAC;AAED+E,GAAgB,cAAc;AAG9B,MAAMC,KAAU9hG,GAAmB,CAAC;AAAA,EAClC,OAAAnB;AAAA,EACA,OAAAoG;AAAA,EACA,OAAA4vE;AAAA,EACA,YAAAktB;AAAA,EACA,kBAAAC;AAAA,EACA,MAAM5kB;AAAA,EACN,WAAAqc,IAAY;AAAA,EACZ,SAAA97F,IAAU;AAAA,EACV,WAAAI;AAAA,EACA,SAAAouB;AACF,MAAM;AACJ,QAAMrpB,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,OAAO,IAAIN,KAAa,EAAE;AAAA,IACpC,CAACA,CAAS;AAAA,EAAA,GAGNkkG,IAAY1hG,EAAQ,OAAO,EAAE,OAAOk5F,MAAc,CAACA,CAAS,CAAC,GAE7DyI,IAAY3hG,EAAQ,MACpB,CAACs0E,KAASA,MAAU,YACf,gBAAAt2E,EAACygE,IAAA,EAAM,MAAM,GAAA,CAAI,IAGtB6V,MAAU,aACOktB,GAAY,SAAS,GAAG,KAAM,CAACA,GAAY,SAAS,GAAG,KAAK,CAACA,GAAY,SAAS,GAAG,sBACnF7sB,IAAA,EAAW,MAAM,IAAI,IAAK,gBAAA32E,EAAC42E,IAAA,EAAa,MAAM,GAAA,CAAI,IAGrEN,MAAU,aACOktB,GAAY,SAAS,GAAG,KAAM,CAACA,GAAY,SAAS,GAAG,KAAK,CAACA,GAAY,SAAS,GAAG,sBACnF7sB,IAAA,EAAW,MAAM,IAAI,IAAK,gBAAA32E,EAAC42E,IAAA,EAAa,MAAM,GAAA,CAAI,IAGlE,MACN,CAACN,GAAOktB,CAAU,CAAC,GAEhBI,IAAkB5hG;AAAA,IAAQ,MAC9BwhG,GAAY,QAAQ,UAAU,EAAE,EAAE,KAAA;AAAA,IAClC,CAACA,CAAU;AAAA,EAAA,GAGPK,IAAiB7hG;AAAA,IAAQ,MAC7B,GAAGlC,GAAO,QAAQ,IAAIw2E,IAAQx2E,GAAO,QAAQw2E,EAAM,OAAO,CAAC,EAAE,aAAa,GAAGA,EAAM,MAAM,CAAC,CAAC,EAAE,IAAI,EAAE;AAAA,IACnG,CAACA,CAAK;AAAA,EAAA,GAGFnyE,IAAgBpC,EAAY,CAACmH,MAA2B;AAC5D,IAAI0kB,MAAY1kB,EAAE,QAAQ,WAAWA,EAAE,QAAQ,SAC7CA,EAAE,eAAA,GACF0kB,EAAA;AAAA,EAEJ,GAAG,CAACA,CAAO,CAAC;AAEZ,SAAIxuB,IACK,gBAAAY,EAACsjG,MAAgB,WAAA9jG,GAAsB,IAI9C,gBAAAO;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWwE;AAAA,MACX,SAAAqpB;AAAA,MACA,MAAMA,IAAU,WAAW;AAAA,MAC3B,UAAUA,IAAU,IAAI;AAAA,MACxB,WAAWzpB;AAAA,MAEX,UAAA;AAAA,QAAA,gBAAApE,EAAC,OAAA,EAAI,WAAWD,GAAO,WACrB,UAAA;AAAA,UAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,UAAW,UAAAQ,GAAM;AAAA,UACvCu+E,KAAQ,gBAAA7+E,EAAC6+E,GAAA,EAAK,MAAM,IAAI,OAAO6kB,EAAA,CAAW;AAAA,QAAA,GAC7C;AAAA,QAEA,gBAAA1jG,EAAC,OAAA,EAAI,WAAWF,GAAO,UAAW,UAAA4G,GAAM;AAAA,SAEtC4vE,KAASktB,MACT,gBAAAzjG,EAAC,OAAA,EAAI,WAAW8jG,GACd,UAAA;AAAA,UAAA,gBAAA9jG,EAAC,OAAA,EAAI,WAAWD,GAAO,YACpB,UAAA;AAAA,YAAA6jG;AAAA,YACAC,KAAmB,gBAAA5jG,EAAC,QAAA,EAAM,UAAA4jG,EAAA,CAAgB;AAAA,UAAA,GAC7C;AAAA,UACCH,KAAoB,gBAAAzjG,EAAC,QAAA,EAAK,WAAWF,GAAO,kBAAmB,UAAA2jG,EAAA,CAAiB;AAAA,QAAA,EAAA,CACnF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIR,CAAC;AAEDF,GAAQ,cAAc;AAStB,MAAMO,KAAcriG,GAAuB,CAAC,EAAE,UAAAlC,GAAU,SAAA82B,IAAU,GAAG,WAAA72B,QAAgB;AACnF,QAAMukG,IAAY/hG;AAAA,IAAQ,OACvB,EAAE,sBAAsBq0B;IACzB,CAACA,CAAO;AAAA,EAAA,GAGJ2tE,IAAgBhiG;AAAA,IAAQ,MAC5B,GAAGlC,GAAO,WAAW,IAAIN,KAAa,EAAE;AAAA,IACxC,CAACA,CAAS;AAAA,EAAA;AAGZ,2BACG,OAAA,EAAI,WAAWwkG,GAAe,OAAOD,GACnC,UAAAxkG,GACH;AAEJ,CAAC;AAEDukG,GAAY,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GC9IbG,KAAsC,CAAC;AAAA,EAClD,MAAMplB;AAAA,EACN,QAAA1qB;AAAA,EACA,UAAAz4C;AAAA,EACA,SAAAkS;AAAA,EACA,WAAApuB,IAAY;AACd,MAEI,gBAAAQ;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAGF,GAAO,SAAS,IAAIA,GAAO,eAAeq0D,EAAO,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAO,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI30D,CAAS;AAAA,IACxH,OAAO,EAAE,KAAKkc,EAAS,KAAK,MAAMA,EAAS,KAAA;AAAA,IAC3C,SAAAkS;AAAA,IAEA,UAAA,gBAAA5tB,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,WAAA,CAAY;AAAA,EAAA;AAAA,GA6B7BokG,KAAkD,CAAC;AAAA,EAC9D,UAAAlH;AAAA,EACA,YAAAmH;AAAA,EACA,QAAAhwC;AAAA,EACA,UAAAiwC;AAAA,EACA,MAAA1rF,IAAO,CAAA;AAAA,EACP,eAAA2rF;AAAA,EACA,SAAA7oF;AAAA,EACA,UAAAE;AAAA,EACA,WAAAlc,IAAY;AACd,MAAM;AACJ,QAAM8kG,IAAe;AAAA,IACnB,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,SAAS;AAAA,EAAA;AAGX,SACE,gBAAAvkG;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAGD,GAAO,WAAW,IAAIN,CAAS;AAAA,MAC7C,OAAOkc;AAAA,MAEP,UAAA;AAAA,QAAA,gBAAA3b,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,UAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,YAAa,UAAAk9F,GAAS;AAAA,YAC5C,gBAAAh9F,EAAC,KAAA,EAAE,WAAWF,GAAO,eAAgB,UAAAqkG,EAAA,CAAW;AAAA,UAAA,GAClD;AAAA,UACA,gBAAApkG,EAAC,OAAA,EAAI,WAAWD,GAAO,kBACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC,QAAA,EAAK,WAAW,GAAGF,GAAO,UAAU,IAAIA,GAAO,QAAQq0D,EAAO,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAO,MAAM,CAAC,CAAC,EAAE,CAAC,IACxG,UAAAmwC,EAAanwC,CAAM,EAAA,CACtB;AAAA,YACC34C,KACC,gBAAAxb;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAWF,GAAO;AAAA,gBAClB,SAAS0b;AAAA,gBACT,cAAW;AAAA,gBAEX,UAAA,gBAAAxb,EAACoK,IAAA,EAAE,MAAM,GAAA,CAAI;AAAA,cAAA;AAAA,YAAA;AAAA,UACf,EAAA,CAEJ;AAAA,QAAA,GACF;AAAA,QAECsO,EAAK,SAAS,KACb,gBAAA1Y,EAAC,OAAA,EAAI,WAAWF,GAAO,WACpB,UAAA4Y,EAAK,IAAI,CAACsK,GAAM/V,wBACd,OAAA,EAAgB,WAAWnN,GAAO,eACjC,UAAA;AAAA,UAAA,gBAAAE,EAAC,KAAA,EAAE,WAAWF,GAAO,gBAAiB,YAAK,OAAM;AAAA,4BAChD,KAAA,EAAE,WAAWA,GAAO,gBAAiB,YAAK,MAAA,CAAM;AAAA,QAAA,KAFzCmN,CAGV,CACD,GACH;AAAA,QAGDm3F,KACC,gBAAArkG,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,UAAA,gBAAAE,EAACukG,IAAA,EAAO,MAAM,GAAA,CAAI;AAAA,UAClB,gBAAAvkG,EAAC,UAAM,UAAAokG,EAAA,CAAS;AAAA,QAAA,GAClB;AAAA,QAGDC,uBACE,UAAA,EAAO,WAAWvkG,GAAO,aAAa,SAASukG,GAAe,UAAA,eAAA,CAE/D;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIR,GAcaG,KAAsC,CAAC;AAAA,EAClD,OAAAthF;AAAA,EACA,WAAA1jB,IAAY;AACd,wBAEK,OAAA,EAAI,WAAW,GAAGM,GAAO,SAAS,IAAIN,CAAS,IAC7C,UAAA0jB,EAAM,IAAI,CAACF,GAAM/V,wBACf,OAAA,EAAgB,WAAWnN,GAAO,YACjC,UAAA;AAAA,EAAA,gBAAAE;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWF,GAAO;AAAA,MAClB,OAAO,EAAE,iBAAiBkjB,EAAK,MAAA;AAAA,IAAM;AAAA,EAAA;AAAA,oBAEtC,QAAA,EAAK,WAAWljB,GAAO,aAAc,YAAK,MAAA,CAAM;AAAA,KALzCmN,CAMV,CACD,GACH,GAcSw3F,KAA8C,CAAC;AAAA,EAC1D,OAAAhgF;AAAA,EACA,UAAAzZ;AAAA,EACA,UAAAC;AAAA,EACA,UAAAy5F;AAAA,EACA,WAAAllG,IAAY;AACd,MAEI,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,aAAa,IAAIN,CAAS,IAClD,UAAA;AAAA,EAAA,gBAAAQ,EAAC,KAAA,EAAE,WAAWF,GAAO,cAAe,UAAA2kB,GAAM;AAAA,EAC1C,gBAAA1kB,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,IAAA,gBAAAE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO;AAAA,QAClB,OAAO,EAAE,YAAY4kG,EAAA;AAAA,MAAS;AAAA,IAAA;AAAA,IAEhC,gBAAA3kG,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,UAAM,UAAAiL,EAAA,CAAS;AAAA,MAChB,gBAAAjL,EAAC,UAAM,UAAAgL,EAAA,CAAS;AAAA,IAAA,EAAA,CAClB;AAAA,EAAA,EAAA,CACF;AAAA,GACF,GAeS25F,KAA4C,CAAC;AAAA,EACxD,OAAAlgF;AAAA,EACA,QAAA2I,IAAS;AAAA,EACT,UAAAw3E;AAAA,EACA,QAAAC;AAAA,EACA,UAAAtlG;AAAA,EACA,WAAAC,IAAY;AACd,MAEI,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,YAAY,IAAIN,CAAS,IAChD,UAAA;AAAA,EAAAilB,KACC,gBAAA1kB,EAAC,OAAA,EAAI,WAAWD,GAAO,WACrB,UAAA;AAAA,IAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,UAAW,UAAA2kB,GAAM;AAAA,IACtCmgF,KAAY,gBAAA5kG,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAc,UAAA8kG,EAAA,CAAS;AAAA,EAAA,GAC7D;AAAA,EAEF,gBAAA5kG,EAAC,SAAI,WAAWF,GAAO,SAAS,OAAO,EAAE,QAAAstB,KACtC,UAAA7tB,GACH;AAAA,EACCslG,KAAU,gBAAA7kG,EAAC,OAAA,EAAI,WAAWF,GAAO,WAAY,UAAA+kG,EAAA,CAAO;AAAA,GACvD,GAcSC,KAAgD,CAAC;AAAA,EAC5D,MAAMjmB;AAAA,EACN,SAAA19E,IAAU;AAAA,EACV,UAAAujG,IAAW;AAAA,EACX,WAAAllG,IAAY;AAAA,EACZ,UAAAD;AACF,MAEI,gBAAAQ;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAGD,GAAO,cAAc,IAAIN,CAAS;AAAA,IAChD,OAAO,EAAE,YAAYklG,EAAA;AAAA,IAErB,UAAA;AAAA,MAAA,gBAAA3kG,EAAC,OAAA,EAAI,WAAWD,GAAO,oBACpB,UAAA;AAAA,QAAA++E,KAAQ,gBAAA7+E,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,iBAAiB;AAAA,QAClD,gBAAAE,EAAC,KAAA,EAAE,WAAWF,GAAO,oBAAqB,UAAAqB,EAAA,CAAQ;AAAA,MAAA,GACpD;AAAA,MACC5B;AAAA,IAAA;AAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GC5NDwlG,KAAkBtjG,GAA2B,CAAC,EAAE,OAAAnB,GAAO,OAAAoG,GAAO,OAAAsI,QAAY;AAC9E,QAAMg2F,IAAahjG,EAAQ,MAAMgN,IAAQ,EAAE,OAAAA,MAAU,QAAW,CAACA,CAAK,CAAC;AAEvE,SACE,gBAAAjP,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACrB,UAAA;AAAA,IAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,kBAAmB,UAAAQ,GAAM;AAAA,sBAC/C,OAAA,EAAI,WAAWR,GAAO,kBAAkB,OAAOklG,GAC7C,UAAAt+F,EAAA,CACH;AAAA,EAAA,GACF;AAEJ,CAAC;AAEDq+F,GAAgB,cAAc;AAEvB,MAAME,KAAaxjG,GAAsB,CAAC;AAAA,EAC/C,OAAAnB;AAAA,EACA,OAAAoG;AAAA,EACA,MAAMm4E;AAAA,EACN,WAAAqc;AAAA,EACA,QAAAa;AAAA,EACA,SAAAmJ;AAAA,EACA,SAAAhmG,IAAU;AAAA,EACV,UAAAimG;AAAA,EACA,OAAA7J;AAAA,EACA,aAAA8J;AAAA,EACA,SAAAx3E;AAAA,EACA,SAAAxuB,IAAU;AAAA,EACV,WAAAI,IAAY;AAAA,EACZ,OAAA0P;AACF,MAAM;AACJ,QAAMm2F,IAAgBrjG;AAAA,IAAQ,MAC5B;AAAA,MACElC,GAAO;AAAA,MACPZ,MAAY,aAAaY,GAAO;AAAA,MAChCZ,MAAY,UAAUY,GAAO;AAAA,MAC7BZ,MAAY,WAAWY,GAAO;AAAA,MAC9B8tB,KAAW9tB,GAAO;AAAA,MAClBV,KAAWU,GAAO;AAAA,MAClBN;AAAA,IAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAAA,IACX,CAACN,GAAS0uB,GAASxuB,GAASI,CAAS;AAAA,EAAA,GAGjCkkG,IAAY1hG;AAAA,IAAQ,MACxBk5F,IAAY,EAAE,OAAOA,MAAc;AAAA,IACnC,CAACA,CAAS;AAAA,EAAA,GAGNoK,IAAkBtjG;AAAA,IAAQ,MAC9B+5F,IAAS,GAAGj8F,GAAO,MAAM,IAAIA,GAAOi8F,EAAO,IAAI,CAAC,KAAK;AAAA,IACrD,CAACA,CAAM;AAAA,EAAA,GAGHwJ,IAAoBvjG;AAAA,IAAQ,MAChCmjG,GAAU,QACN,GAAGrlG,GAAO,WAAW,IAAIA,GAAOqlG,EAAS,KAAK,CAAC,KAC/CrlG,GAAO;AAAA,IACX,CAACqlG,GAAU,KAAK;AAAA,EAAA,GAGZK,IAAgBxjG;AAAA,IAAQ,MAC5BmjG,IAAW,EAAE,OAAO,GAAGA,EAAS,KAAK,QAAQ;AAAA,IAC7C,CAACA,CAAQ;AAAA,EAAA;AAGX,SAAI/lG,IAEA,gBAAAW,EAAC,OAAA,EAAI,WAAWslG,GAAe,OAAAn2F,GAC7B,UAAA;AAAA,IAAA,gBAAAnP,EAAC,OAAA,EAAI,WAAWD,GAAO,QACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,MACtC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAA,CAAc;AAAA,IAAA,GACvC;AAAA,IACA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,MACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,MACrCZ,MAAY,aAAa,gBAAAc,EAAC,OAAA,EAAI,WAAWF,GAAO,gBAAA,CAAiB;AAAA,IAAA,EAAA,CACpE;AAAA,EAAA,GACF,IAKF,gBAAAC,EAAC,OAAA,EAAI,WAAWslG,GAAe,SAAAz3E,GAAkB,OAAA1e,GAC/C,UAAA;AAAA,IAAA,gBAAAnP,EAAC,OAAA,EAAI,WAAWD,GAAO,QACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,OAAQ,UAAAQ,GAAM;AAAA,MACtC,gBAAAP,EAAC,OAAA,EAAI,WAAWD,GAAO,aACpB,UAAA;AAAA,QAAAZ,MAAY,UACX,gBAAAa,EAAC,QAAA,EAAK,WAAW,GAAGD,GAAO,WAAW,IAAIA,GAAO,IAAI,IACnD,UAAA;AAAA,UAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,MAAA,CAAO;AAAA,UAAE;AAAA,QAAA,GAEnC;AAAA,QAEDZ,MAAY,WACX,gBAAAa,EAAC,QAAA,EAAK,WAAW,GAAGD,GAAO,WAAW,IAAIA,GAAO,KAAK,IACpD,UAAA;AAAA,UAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,MAAA,CAAO;AAAA,UAAE;AAAA,QAAA,GAEnC;AAAA,QAED++E,uBACEA,GAAA,EAAK,MAAM,IAAI,WAAW/+E,GAAO,MAAM,OAAO4jG,EAAA,CAAW;AAAA,MAAA,EAAA,CAE9D;AAAA,IAAA,GACF;AAAA,IAEA,gBAAA1jG,EAAC,OAAA,EAAI,WAAWF,GAAO,MACpB,UAAAslG,IACC,gBAAAplG,EAAC,OAAA,EAAI,WAAWF,GAAO,aACpB,UAAAslG,EAAY,IAAI,CAACpiF,MAChB,gBAAAhjB;AAAA,MAAC+kG;AAAA,MAAA;AAAA,QAEC,OAAO/hF,EAAK;AAAA,QACZ,OAAOA,EAAK;AAAA,QACZ,OAAOA,EAAK;AAAA,MAAA;AAAA,MAHPA,EAAK;AAAA,IAAA,CAKb,EAAA,CACH,IAEA,gBAAAjjB,EAAAwB,IAAA,EACE,UAAA;AAAA,MAAA,gBAAAvB,EAAC,OAAA,EAAI,WAAWF,GAAO,OAAQ,UAAA4G,GAAM;AAAA,MACpCq1F,KACC,gBAAAh8F,EAAC,OAAA,EAAI,WAAWulG,GACb,UAAA;AAAA,QAAAvJ,EAAO,SAAS,cAAc,gBAAA/7F,EAACy2E,IAAA,EAAQ,MAAM,IAAI;AAAA,QACjDslB,EAAO,SAAS,cAAc,gBAAA/7F,EAAC02E,IAAA,EAAU,MAAM,IAAI;AAAA,QACpD,gBAAA12E,EAAC,QAAA,EAAM,UAAA+7F,EAAO,KAAA,CAAK;AAAA,MAAA,GACrB;AAAA,MAEDmJ,KAAW,CAACnJ,KACX,gBAAA/7F,EAAC,SAAI,WAAWF,GAAO,SAAU,UAAAolG,EAAA,CAAQ;AAAA,IAAA,EAAA,CAE7C,EAAA,CAEJ;AAAA,IAECC,KACC,gBAAAnlG,EAAC,OAAA,EAAI,WAAWF,GAAO,mBACrB,UAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWulG,GAAmB,OAAOC,EAAA,CAAe,GAC3D;AAAA,IAGDlK,KAAS,gBAAAt7F,EAAC,OAAA,EAAI,WAAWF,GAAO,OAAQ,UAAAw7F,EAAA,CAAM;AAAA,EAAA,GACjD;AAEJ,CAAC;AAED2J,GAAW,cAAc;AASlB,MAAMQ,KAAiBhkG,GAA0B,CAAC;AAAA,EACvD,UAAAlC;AAAA,EACA,SAAA82B,IAAU;AAAA,EACV,WAAA72B,IAAY;AACd,MAAM;AACJ,QAAMukG,IAAY/hG,EAAQ,OAAO;AAAA,IAC/B,qBAAqB,4BACnBq0B,MAAY,IAAI,UAAUA,MAAY,IAAI,UAAU,OACtD;AAAA,EAAA,IACE,CAACA,CAAO,CAAC,GAEP2tE,IAAgBhiG;AAAA,IAAQ,MAC5B,GAAGlC,GAAO,IAAI,IAAIN,CAAS;AAAA,IAC3B,CAACA,CAAS;AAAA,EAAA;AAGZ,2BACG,OAAA,EAAI,WAAWwkG,GAAe,OAAOD,GACnC,UAAAxkG,GACH;AAEJ,CAAC;AAEDkmG,GAAe,cAAc;AAU7B,MAAMC,KAAWjkG,GAAoB,CAAC,EAAE,OAAAiF,GAAO,KAAA+D,GAAK,OAAAoW,GAAO,OAAA7R,QAAY;AACrE,QAAMqd,IAAaxL,MAAU,IAAI,OAAQna,IAAQ+D,KAAOoW,IAAS,KAC3D3R,IAAQlN,EAAQ,OAAO;AAAA,IAC3B,QAAQ,GAAGqqB,CAAU;AAAA,IACrB,iBAAiBrd;AAAA,EAAA,IACf,CAACqd,GAAYrd,CAAK,CAAC;AAEvB,SAAO,gBAAAhP,EAAC,OAAA,EAAI,WAAWF,GAAO,UAAU,OAAAoP,GAAc;AACxD,CAAC;AAEDw2F,GAAS,cAAc;AAShB,MAAMC,KAAYlkG,GAAqB,CAAC;AAAA,EAC7C,MAAA2jB;AAAA,EACA,OAAApW,IAAQ;AAAA,EACR,QAAAoe,IAAS;AACX,MAAM;AACJ,QAAM,EAAE,KAAA3iB,GAAK,OAAAoW,EAAA,IAAU7e,EAAQ,MAAM;AACnC,UAAM0I,IAAM,KAAK,IAAI,GAAG0a,CAAI,GACtB3a,IAAM,KAAK,IAAI,GAAG2a,CAAI;AAC5B,WAAO,EAAE,KAAA3a,GAAK,OAAOC,IAAMD,EAAAA;AAAAA,EAC7B,GAAG,CAAC2a,CAAI,CAAC,GAEHwzE,IAAiB52F,EAAQ,OAAO,EAAE,QAAQ,GAAGorB,CAAM,KAAA,IAAS,CAACA,CAAM,CAAC,GAEpEw4E,IAAW,CAAC34F,GAAe44F,MAAkB;AACjD,UAAMC,IAAY,KAAK,OAAQ74F,IAAQ,KAAK44F,IAAS,CAAC,IAAI,MAAM;AAChE,WAAO,eAAe72F,CAAK,IAAI82F,CAAS;AAAA,EAC1C;AAEA,SACE,gBAAA9lG;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWF,GAAO;AAAA,MAClB,OAAO84F;AAAA,MACP,MAAK;AAAA,MACL,cAAW;AAAA,MAEV,UAAAxzE,EAAK,IAAI,CAAC1e,GAAOuG,MAChB,gBAAAjN;AAAA,QAAC0lG;AAAA,QAAA;AAAA,UAEC,OAAAh/F;AAAA,UACA,KAAA+D;AAAA,UACA,OAAAoW;AAAA,UACA,OAAO+kF,EAAS34F,GAAOmY,EAAK,MAAM;AAAA,QAAA;AAAA,QAJ7B,OAAOnY,CAAK;AAAA,MAAA,CAMpB;AAAA,IAAA;AAAA,EAAA;AAGP,CAAC;AAED04F,GAAU,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GC9QXI,KAAkD,CAAC;AAAA,EAC9D,QAAA5xC;AAAA,EACA,OAAA7zD;AAAA,EACA,WAAAd,IAAY;AACd,MAEI,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,eAAe,IAAIN,CAAS,IACpD,UAAA;AAAA,EAAA,gBAAAQ,EAAC,QAAA,EAAK,WAAW,GAAGF,GAAO,SAAS,IAAIA,GAAO,SAASq0D,EAAO,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAO,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI;AAAA,EAC9G7zD,KAAS,gBAAAN,EAAC,QAAA,EAAK,WAAWF,GAAO,aAAc,UAAAQ,EAAA,CAAM;AAAA,GACxD,GAmBS0lG,KAAwD,CAAC;AAAA,EACpE,MAAMnnB;AAAA,EACN,OAAAv+E;AAAA,EACA,OAAAoG;AAAA,EACA,MAAA03F;AAAA,EACA,QAAArC;AAAA,EACA,YAAAkK,IAAa;AAAA,EACb,WAAA/K,IAAY;AAAA,EACZ,WAAA17F,IAAY;AACd,MAEI,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,UAAU,IAAIN,CAAS,IAC/C,UAAA;AAAA,EAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,IAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,UAAU,IAAIA,GAAO,aAAao7F,EAAU,OAAO,CAAC,EAAE,gBAAgBA,EAAU,MAAM,CAAC,CAAC,EAAE,CAAC,IACnH,UAAA,gBAAAl7F,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,KAAA,CAAM,EAAA,CAChC;AAAA,IACA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAc,UAAAQ,EAAA,CAAM;AAAA,EAAA,GAC7C;AAAA,EACA,gBAAAP,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,IAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,aACpB,UAAA;AAAA,MAAA4G;AAAA,MACA03F,KAAQ,gBAAAp+F,EAAC,QAAA,EAAK,WAAWF,GAAO,YAAa,UAAAs+F,EAAA,CAAK;AAAA,IAAA,GACrD;AAAA,IACCrC,uBACE,OAAA,EAAI,WAAW,GAAGj8F,GAAO,YAAY,IAAIA,GAAO,eAAemmG,EAAW,OAAO,CAAC,EAAE,gBAAgBA,EAAW,MAAM,CAAC,CAAC,EAAE,CAAC,IACxH,UAAA;AAAA,MAAAA,MAAe,cAAc,gBAAAjmG,EAACmiE,IAAA,EAAU,MAAM,IAAI;AAAA,MAClD8jC,MAAe,cAAc,gBAAAjmG,EAAC+E,IAAA,EAAY,MAAM,IAAI;AAAA,MACpDg3F;AAAA,IAAA,EAAA,CACH;AAAA,EAAA,EAAA,CAEJ;AAAA,GACF,GAoBSmK,KAAkD,CAAC;AAAA,EAC9D,MAAA9gF;AAAA,EACA,WAAA5lB,IAAY;AACd,MAEI,gBAAAQ,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,UAAU,IAAIN,CAAS,IAC/C,UAAA,gBAAAO,EAAC,SAAA,EAAM,WAAWD,GAAO,aACvB,UAAA;AAAA,EAAA,gBAAAE,EAAC,SAAA,EACC,4BAAC,MAAA,EACC,UAAA;AAAA,IAAA,gBAAAA,EAAC,QAAG,UAAA,SAAA,CAAM;AAAA,IACV,gBAAAA,EAAC,QAAG,UAAA,QAAA,CAAK;AAAA,IACT,gBAAAA,EAAC,QAAG,UAAA,SAAA,CAAM;AAAA,IACV,gBAAAA,EAAC,QAAG,UAAA,YAAA,CAAS;AAAA,EAAA,EAAA,CACf,EAAA,CACF;AAAA,EACA,gBAAAA,EAAC,SAAA,EACE,UAAAolB,EAAK,IAAI,CAACpC,MACT,gBAAAjjB;AAAA,IAAC;AAAA,IAAA;AAAA,MAEC,WAAWijB,EAAK,QAAQljB,GAAO,eAAe;AAAA,MAE9C,UAAA;AAAA,QAAA,gBAAAE,EAAC,MAAA,EAAI,YAAK,OAAA,CAAO;AAAA,0BAChB,MAAA,EAAG,WAAWF,GAAO,aAAc,YAAK,OAAM;AAAA,QAC/C,gBAAAE,EAAC,MAAA,EACC,UAAA,gBAAAA,EAAC,QAAA,EAAK,WAAW,GAAGF,GAAO,WAAW,IAAIA,GAAO,cAAckjB,EAAK,OAAO,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAK,OAAO,MAAM,CAAC,CAAC,EAAE,CAAC,IACzH,UAAAA,EAAK,OAAA,CACR,GACF;AAAA,0BACC,MAAA,EAAG,WAAWljB,GAAO,iBAAkB,YAAK,UAAA,CAAU;AAAA,MAAA;AAAA,IAAA;AAAA,IAVlDkjB,EAAK;AAAA,EAAA,CAYb,EAAA,CACH;AAAA,EAAA,CACF,EAAA,CACF,GAiBSmjF,KAAoD,CAAC;AAAA,EAChE,OAAA1hF;AAAA,EACA,QAAA0vC,IAAS;AAAA,EACT,YAAAiyC;AAAA,EACA,SAAAC;AAAA,EACA,YAAAC;AAAA,EACA,UAAApuB,IAAW;AAAA,EACX,UAAA34E;AAAA,EACA,WAAAC,IAAY;AACd,MAEI,gBAAAO,EAAC,SAAI,WAAW,GAAGD,GAAO,gBAAgB,IAAIN,CAAS,IACrD,UAAA;AAAA,EAAA,gBAAAO,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,IAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,mBACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,cAAe,UAAA2kB,GAAM;AAAA,MAC3C,gBAAAzkB,EAAC+lG,IAAA,EAAgB,QAAA5xC,GAAgB,OAAOA,EAAA,CAAQ;AAAA,MAC/CiyC,KACC,gBAAArmG,EAAC,QAAA,EAAK,WAAWD,GAAO,eAAe,UAAA;AAAA,QAAA;AAAA,QAASsmG;AAAA,MAAA,EAAA,CAAW;AAAA,IAAA,GAE/D;AAAA,IACA,gBAAArmG,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACpB,UAAA;AAAA,MAAAumG,KACC,gBAAAtmG;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWD,GAAO;AAAA,UAClB,SAASumG;AAAA,UACT,cAAYnuB,IAAW,sBAAsB;AAAA,UAE5C,UAAA;AAAA,YAAAA,IAAW,gBAAAl4E,EAACumG,MAAK,MAAM,GAAA,CAAI,IAAK,gBAAAvmG,EAACwmG,IAAA,EAAM,MAAM,GAAA,CAAI;AAAA,YACjDtuB,IAAW,WAAW;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,MAG1BouB,KACC,gBAAAvmG;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAWD,GAAO;AAAA,UAClB,SAASwmG;AAAA,UACT,cAAW;AAAA,UAEX,UAAA;AAAA,YAAA,gBAAAtmG,EAACijG,IAAA,EAAS,MAAM,GAAA,CAAI;AAAA,YAAE;AAAA,UAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IAExB,EAAA,CAEJ;AAAA,EAAA,GACF;AAAA,EACA,gBAAAjjG,EAAC,OAAA,EAAI,WAAWF,GAAO,gBACpB,UAAAP,EAAA,CACH;AAAA,GACF,GAYSknG,KAAwC,CAAC;AAAA,EACpD,UAAAlnG;AAAA,EACA,SAAA82B,IAAU;AAAA,EACV,WAAA72B,IAAY;AACd,MAEI,gBAAAQ;AAAA,EAAC;AAAA,EAAA;AAAA,IACC,WAAW,GAAGF,GAAO,UAAU,IAAIN,CAAS;AAAA,IAC5C,OAAO,EAAE,oBAAoB62B,EAAA;AAAA,IAE5B,UAAA92B;AAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCvJDg/F,KAAiB;AAAA,EACrB,aAAa,EAAE,OAAO,IAAI,QAAQ,IAAI,cAAc,EAAA;AAAA,EACpD,cAAc,EAAE,QAAQ,IAAI,OAAO,OAAO,cAAc,EAAA;AAAA,EACxD,cAAc,EAAE,QAAQ,IAAI,OAAO,MAAA;AAAA,EACnC,cAAc,EAAE,OAAO,IAAI,QAAQ,IAAI,cAAc,mBAAA;AAAA,EACrD,eAAe,EAAE,QAAQ,IAAI,OAAO,OAAO,cAAc,EAAA;AAAA,EACzD,kBAAkB,EAAE,QAAQ,IAAI,OAAO,MAAA;AAAA,EACvC,eAAe,EAAE,QAAQ,IAAI,OAAO,OAAO,cAAc,GAAA;AAAA,EACzD,WAAW,EAAE,QAAQ,IAAI,OAAO,MAAA;AAAA,EAChC,WAAW,EAAE,QAAQ,IAAI,OAAO,MAAA;AAAA,EAChC,WAAW,EAAE,OAAO,IAAI,QAAQ,IAAI,cAAc,mBAAA;AAAA,EAClD,YAAY,EAAE,QAAQ,IAAI,OAAO,OAAO,cAAc,EAAA;AAAA,EACtD,YAAY,EAAE,QAAQ,IAAI,OAAO,MAAA;AAAA,EACjC,YAAY,EAAE,QAAQ,IAAI,OAAO,OAAO,WAAW,GAAA;AAAA,EACnD,OAAO,EAAE,MAAM,EAAA;AACjB,GAUMmI,KAAUjlG,GAAmB,CAAC,EAAE,MAAA+5F,QACpC,gBAAAz7F,EAAC,OAAA,EAAI,WAAWD,GAAO,SACrB,UAAA;AAAA,EAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,WAAY,YAAK,OAAM;AAAA,oBAC9C,QAAA,EAAK,WAAWA,GAAO,WAAY,YAAK,MAAA,CAAM;AAAA,EAAA,CACjD,CACD;AAED4mG,GAAQ,cAAc;AAWtB,MAAMC,KAAsBllG,GAA+B,CAAC,EAAE,SAAAvC,IAAU,SAAS,WAAAM,QAAgB;AAC/F,QAAM+E,IAAqBvC,EAAQ,MAC7B9C,MAAY,YAAkB,GAAGY,GAAO,WAAW,IAAIN,KAAa,EAAE,KACtEN,MAAY,aAAmB,GAAGY,GAAO,YAAY,IAAIN,KAAa,EAAE,KACrE,GAAGM,GAAO,SAAS,IAAIN,KAAa,EAAE,IAC5C,CAACN,GAASM,CAAS,CAAC;AAEvB,SAAIN,MAAY,YAEZ,gBAAAa,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,QAAQ,IAAIA,GAAO,YAAY,IAAI,OAAOy+F,GAAe,YAAA,CAAa;AAAA,MAChG,gBAAAv+F,EAAC,SAAI,WAAW,GAAGF,GAAO,QAAQ,IAAIA,GAAO,aAAa,GAAA,CAAI;AAAA,IAAA,GAChE;AAAA,sBACC,OAAA,EAAI,WAAWA,GAAO,UAAU,OAAOy+F,GAAe,cAAc;AAAA,sBACpE,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,aAAA,CAAc;AAAA,EAAA,GACvE,IAIAr/F,MAAY,aAEZ,gBAAAa,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,sBACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,cAAc;AAAA,QACrE,gBAAAx+F,EAAC,OAAA,EAAI,OAAOw+F,GAAe,OACzB,UAAA;AAAA,UAAA,gBAAAv+F,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,eAAe;AAAA,4BACrE,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,iBAAA,CAAkB;AAAA,QAAA,EAAA,CAC3E;AAAA,MAAA,GACF;AAAA,MACA,gBAAAv+F,EAAC,SAAI,WAAW,GAAGF,GAAO,QAAQ,IAAIA,GAAO,aAAa,GAAA,CAAI;AAAA,IAAA,GAChE;AAAA,IACA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,UACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,eAAe;AAAA,wBACrE,OAAA,EAAI,WAAWz+F,GAAO,gBACpB,WAAC,GAAG,GAAG,CAAC,EAAE,IAAI,CAACmK,wBACb,OAAA,EAA+B,WAAWnK,GAAO,SAChD,UAAA;AAAA,QAAA,gBAAAE,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,WAAW;AAAA,0BACjE,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,UAAA,CAAW;AAAA,MAAA,EAAA,GAF1D,iBAAiBt0F,CAAC,EAG5B,CACD,EAAA,CACH;AAAA,IAAA,EAAA,CACF;AAAA,EAAA,GACF,IAKF,gBAAAlK,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,WAAW;AAAA,MAClE,gBAAAx+F,EAAC,OAAA,EAAI,OAAOw+F,GAAe,OACzB,UAAA;AAAA,QAAA,gBAAAv+F,EAAC,SAAI,WAAWF,GAAO,UAAU,OAAOy+F,GAAe,YAAY;AAAA,0BAClE,OAAA,EAAI,WAAWz+F,GAAO,UAAU,OAAOy+F,GAAe,WAAA,CAAY;AAAA,MAAA,GACrE;AAAA,MACA,gBAAAv+F,EAAC,SAAI,WAAW,GAAGF,GAAO,QAAQ,IAAIA,GAAO,aAAa,GAAA,CAAI;AAAA,IAAA,GAChE;AAAA,sBACC,OAAA,EAAI,WAAWA,GAAO,UAAU,OAAOy+F,GAAe,WAAA,CAAY;AAAA,EAAA,GACrE;AAEJ,CAAC;AAEDoI,GAAoB,cAAc;AAMlC,MAAMC,KAAcnlG,GAAuB,CAAC;AAAA,EAC1C,OAAAnB;AAAA,EACA,OAAAoG;AAAA,EACA,MAAA03F;AAAA,EACA,QAAAjqC,IAAS;AAAA,EACT,YAAA0yC;AAAA,EACA,MAAMhoB,IAAOioB;AAAA,EACb,aAAA/J,IAAc;AAAA,EACd,WAAAgK;AAAA,EACA,SAAA7nG,IAAU;AAAA,EACV,UAAA8nG;AAAA,EACA,gBAAAC;AAAA,EACA,YAAAzD;AAAA,EACA,YAAAxsB,IAAa;AAAA,EACb,OAAAqkB;AAAA,EACA,WAAA3gD;AAAA,EACA,aAAAwsD;AAAA,EACA,SAAA9nG,IAAU;AAAA,EACV,WAAAI;AAAA,EACA,SAAAouB;AACF,MAAM;AACJ,QAAMkyE,IAAa99F,EAAQ,MAAM;AAC/B,YAAQmyD,GAAA;AAAA,MACN,KAAK;AAAA,MACL,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT;AACE,eAAO;AAAA,IAAA;AAAA,EAEb,GAAG,CAACA,CAAM,CAAC,GAELgzC,IAAoBnlG;AAAA,IAAQ,MAChC6kG,MAAe1yC,MAAW,OAAO,OAAOA,EAAO,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAO,MAAM,CAAC;AAAA,IACvF,CAAC0yC,GAAY1yC,CAAM;AAAA,EAAA,GAGfizC,IAAiBplG;AAAA,IAAQ,OAC5B,EAAE,OAAO,eAAe+6F,CAAW,QAAA;AAAA,IACpC,CAACA,CAAW;AAAA,EAAA,GAGRsK,IAAkBrlG;AAAA,IAAQ,MAC9BlC,GAAO,aAAai9F,EAAY,OAAO,CAAC,EAAE,YAAA,CAAa,GAAGA,EAAY,MAAM,CAAC,CAAC,EAAE;AAAA,IAChF,CAACA,CAAW;AAAA,EAAA,GAGRqE,IAAiBp/F;AAAA,IAAQ,MAC7B,GAAGlC,GAAO,KAAK,IAAIA,GAAO,QAAQggG,CAAU,EAAE,CAAC;AAAA,IAC/C,CAACA,CAAU;AAAA,EAAA,GAGPwH,IAAmBtlG;AAAA,IAAQ,MAC/B,GAAGlC,GAAO,KAAK,IAAIA,GAAO,OAAO,IAAIA,GAAO,QAAQggG,CAAU,EAAE,CAAC;AAAA,IACjE,CAACA,CAAU;AAAA,EAAA,GAGPv7F,IAAqBvC,EAAQ,MAC7B9C,MAAY,YAAkB,GAAGY,GAAO,WAAW,IAAIN,KAAa,EAAE,KACtEN,MAAY,aAAmB,GAAGY,GAAO,YAAY,IAAIN,KAAa,EAAE,KACrE,GAAGM,GAAO,SAAS,IAAIN,KAAa,EAAE,IAC5C,CAACN,GAASM,CAAS,CAAC,GAEjBqkG,IAAiB7hG,EAAQ,MACzBilG,MAAmB,SAAe,GAAGnnG,GAAO,UAAU,IAAIA,GAAO,aAAa,KAC9EmnG,MAAmB,OAAa,GAAGnnG,GAAO,UAAU,IAAIA,GAAO,aAAa,KACzEA,GAAO,YACb,CAACmnG,CAAc,CAAC,GAEbM,IAAgBvlG,EAAQ,MACvB04C,IACE,GAAGA,EAAU,cAAgBA,EAAU,eAAeA,EAAU,WAAY,GAAI,MADhE,MAEtB,CAACA,CAAS,CAAC,GAER8qD,IAAgBxjG,EAAQ,OAAO,EAAE,OAAOulG,MAAkB,CAACA,CAAa,CAAC;AAE/E,SAAInoG,IACK,gBAAAY,EAAC2mG,IAAA,EAAoB,SAAAznG,GAAkB,WAAAM,EAAA,CAAsB,IAGlEN,MAAY,YAEZ,gBAAAa;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWwE;AAAA,MACX,SAAAqpB;AAAA,MACA,MAAMA,IAAU,WAAW;AAAA,MAC3B,UAAUA,IAAU,IAAI;AAAA,MAExB,UAAA;AAAA,QAAA,gBAAA7tB,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,UAAA,gBAAAE,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,aAAa,OAAOsnG,GAAgB;AAAA,UAC5D,gBAAApnG,EAAC,QAAA,EAAK,WAAWsnG,GACd,UAAAH,EAAA,CACH;AAAA,QAAA,GACF;AAAA,QACA,gBAAAnnG,EAAC,KAAA,EAAE,WAAWF,GAAO,cAAe,UAAAQ,GAAM;AAAA,QAC1C,gBAAAP,EAAC,KAAA,EAAE,WAAWD,GAAO,cAClB,UAAA;AAAA,UAAA4G;AAAA,UACA03F,KAAQ,gBAAAp+F,EAAC,QAAA,EAAK,WAAWF,GAAO,aAAc,UAAAs+F,EAAA,CAAK;AAAA,QAAA,EAAA,CACtD;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA,IAKFl/F,MAAY,aAEZ,gBAAAa,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAxE,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,sBACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,gBAAgB,IAAIunG,CAAe,IAC3D,UAAA,gBAAArnG,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI,GAClB;AAAA,QACA,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,oBACrB,UAAA;AAAA,UAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,WAAY,UAAAQ,GAAM;AAAA,UACvC0mG,KAAY,gBAAAjnG,EAAC,KAAA,EAAE,WAAWD,GAAO,kBAAkB,UAAA;AAAA,YAAA;AAAA,YAAYknG;AAAA,UAAA,EAAA,CAAS;AAAA,QAAA,EAAA,CAC3E;AAAA,MAAA,GACF;AAAA,MACA,gBAAAhnG,EAAC,QAAA,EAAK,WAAWohG,GACd,UAAA+F,EAAA,CACH;AAAA,IAAA,GACF;AAAA,IAEA,gBAAApnG,EAAC,OAAA,EAAI,WAAWD,GAAO,UACrB,UAAA;AAAA,MAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,QAAA,gBAAAC,EAAC,OAAA,EACC,UAAA;AAAA,UAAA,gBAAAC,EAAC,KAAA,EAAE,WAAWF,GAAO,aAAa,UAAA,iBAAa;AAAA,UAC/C,gBAAAC,EAAC,KAAA,EAAE,WAAWD,GAAO,cAClB,UAAA;AAAA,YAAA4G;AAAA,YAAM;AAAA,YAAE03F,KAAQ,gBAAAp+F,EAAC,QAAA,EAAK,WAAWF,GAAO,aAAc,UAAAs+F,EAAA,CAAK;AAAA,UAAA,EAAA,CAC9D;AAAA,QAAA,GACF;AAAA,QACC6I,KAAkBzD,KACjB,gBAAAzjG,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACrB,UAAA;AAAA,UAAA,gBAAAC,EAAC,OAAA,EAAI,WAAW8jG,GACb,UAAA;AAAA,YAAAoD,MAAmB,OAAO,gBAAAjnG,EAAC22E,IAAA,EAAW,MAAM,IAAI,IAAKswB,MAAmB,SAAS,gBAAAjnG,EAAC42E,IAAA,EAAa,MAAM,GAAA,CAAI,IAAK;AAAA,YAC/G,gBAAA52E,EAAC,UAAM,UAAAwjG,EAAA,CAAW;AAAA,UAAA,GACpB;AAAA,UACA,gBAAAxjG,EAAC,KAAA,EAAE,WAAWF,GAAO,YAAa,UAAAk3E,EAAA,CAAW;AAAA,QAAA,EAAA,CAC/C;AAAA,MAAA,GAEJ;AAAA,MAECqkB,KAASA,EAAM,SAAS,KACvB,gBAAAr7F,EAAC,OAAA,EAAI,WAAWF,GAAO,gBACpB,YAAM,IAAI,CAAC07F,MACV,gBAAAx7F,EAAC0mG,IAAA,EAAyB,MAAAlL,KAAZA,EAAK,KAAmB,CACvC,GACH;AAAA,MAGD9gD,KACC,gBAAA36C,EAAC,OAAA,EAAI,WAAWD,GAAO,kBACrB,UAAA;AAAA,QAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACrB,UAAA;AAAA,UAAA,gBAAAE,EAAC,UAAK,WAAWF,GAAO,gBAAiB,UAAA46C,EAAU,SAAS,oBAAmB;AAAA,4BAC9E,QAAA,EAAK,WAAW56C,GAAO,iBAAkB,UAAA46C,EAAU,UAAU,gBAAA,CAAgB;AAAA,QAAA,GAChF;AAAA,QACA,gBAAA16C,EAAC,OAAA,EAAI,WAAWF,GAAO,UACrB,UAAA,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW,GAAGF,GAAO,WAAW,IAAIA,GAAO,kBAAkB;AAAA,YAC7D,OAAO0lG;AAAA,UAAA;AAAA,QAAA,GAEX;AAAA,QACA,gBAAAzlG,EAAC,OAAA,EAAI,WAAWD,GAAO,gBACrB,UAAA;AAAA,UAAA,gBAAAC,EAAC,QAAA,EAAK,WAAWD,GAAO,YAAa,UAAA;AAAA,YAAA46C,EAAU,YAAY;AAAA,YAAE;AAAA,YAAE0jD;AAAA,UAAA,GAAK;AAAA,UACpE,gBAAAr+F,EAAC,QAAA,EAAK,WAAWD,GAAO,YAAY,UAAA;AAAA,YAAA;AAAA,YAAM46C,EAAU;AAAA,YAAS;AAAA,YAAE0jD;AAAA,UAAA,EAAA,CAAK;AAAA,QAAA,EAAA,CACtE;AAAA,MAAA,EAAA,CACF;AAAA,IAAA,GAEJ;AAAA,IAEC8I,KACC,gBAAAlnG,EAAC,OAAA,EAAI,WAAWF,GAAO,YACrB,UAAA,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,uBACrB,UAAA;AAAA,MAAA,gBAAAE,EAACkhB,IAAA,EAAM,MAAM,GAAA,CAAI;AAAA,wBAChB,QAAA,EAAK,UAAA;AAAA,QAAA;AAAA,QAAegmF;AAAA,MAAA,EAAA,CAAY;AAAA,IAAA,EAAA,CACnC,EAAA,CACF;AAAA,EAAA,GAEJ,IAKF,gBAAAnnG;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAWwE;AAAA,MACX,SAAAqpB;AAAA,MACA,MAAMA,IAAU,WAAW;AAAA,MAC3B,UAAUA,IAAU,IAAI;AAAA,MAExB,UAAA;AAAA,QAAA,gBAAA7tB,EAAC,OAAA,EAAI,WAAWD,GAAO,cACrB,UAAA;AAAA,UAAA,gBAAAE,EAAC,OAAA,EAAI,WAAW,GAAGF,GAAO,gBAAgB,IAAIunG,CAAe,IAC3D,UAAA,gBAAArnG,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI,GAClB;AAAA,UACA,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,YACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,aAAc,UAAAQ,GAAM;AAAA,YAC1C,gBAAAP,EAAC,KAAA,EAAE,WAAWD,GAAO,aAClB,UAAA;AAAA,cAAA4G;AAAA,cACA03F;AAAA,YAAA,EAAA,CACH;AAAA,UAAA,GACF;AAAA,UACA,gBAAAp+F,EAAC,QAAA,EAAK,WAAWohG,GACd,UAAA+F,EAAA,CACH;AAAA,QAAA,GACF;AAAA,QACCJ,KAAa,gBAAA/mG,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAc,UAAAinG,EAAA,CAAU;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGnE,CAAC;AAEDH,GAAY,cAAc;AAY1B,MAAMY,KAAkB/lG,GAA2B,CAAC,EAAE,UAAAlC,GAAU,SAAAL,IAAU,SAAS,WAAAM,QAAgB;AACjG,QAAMioG,IAAYzlG,EAAQ,MAEjB,GADM9C,MAAY,YAAYY,GAAO,oBAAoBA,GAAO,cACzD,IAAIN,KAAa,EAAE,IAChC,CAACN,GAASM,CAAS,CAAC;AAEvB,SAAO,gBAAAQ,EAAC,OAAA,EAAI,WAAWynG,GAAY,UAAAloG,EAAA,CAAS;AAC9C,CAAC;AAEDioG,GAAgB,cAAc;AAe9B,MAAME,KAAwBjmG,GAAiC,CAAC;AAAA,EAC9D,OAAAgjB,IAAQ;AAAA,EACR,aAAAhY,IAAc;AAAA,EACd,aAAAk7F,IAAc;AAAA,EACd,UAAAzmC;AAAA,EACA,MAAM2d,IAAO+oB;AAAA,EACb,WAAApoG;AACF,MAAM;AACJ,QAAM+E,IAAqBvC;AAAA,IAAQ,MACjC,GAAGlC,GAAO,UAAU,IAAIN,KAAa,EAAE;AAAA,IACvC,CAACA,CAAS;AAAA,EAAA;AAGZ,SACE,gBAAAO,EAAC,OAAA,EAAI,WAAWwE,GACd,UAAA;AAAA,IAAA,gBAAAvE,EAAC,OAAA,EAAI,WAAWF,GAAO,gBACrB,4BAAC++E,GAAA,EAAK,MAAM,IAAI,EAAA,CAClB;AAAA,IACA,gBAAA7+E,EAAC,MAAA,EAAG,WAAWF,GAAO,iBAAkB,UAAA2kB,GAAM;AAAA,IAC9C,gBAAAzkB,EAAC,KAAA,EAAE,WAAWF,GAAO,uBAAwB,UAAA2M,GAAY;AAAA,IACxDy0D,uBACE,UAAA,EAAO,WAAWphE,GAAO,kBAAkB,SAASohE,GAClD,UAAAymC,EAAA,CACH;AAAA,EAAA,GAEJ;AAEJ,CAAC;AAEDD,GAAsB,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCtZvBG,KAA0C,CAAC;AAAA,EACtD,QAAA1zC;AAAA,EACA,OAAA7zD;AAAA,EACA,eAAAkqB,IAAgB;AAAA,EAChB,OAAAs9E,IAAQ;AAAA,EACR,MAAMjpB;AAAA,EACN,WAAAr/E,IAAY;AACd,MAAM;AACJ,QAAMuoG,IAAkB5zC,EAAO,MAAM,GAAG,EAAE;AAAA,IAAI,CAAC6zC,GAAM/6F,MACnDA,MAAU,IAAI+6F,IAAOA,EAAK,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAK,MAAM,CAAC;AAAA,EAAA,EAChE,KAAK,EAAE,GAGHC,IAAe3nG,KAAS6zD,EAAO,MAAM,GAAG,EAAE;AAAA,IAAI,CAAA6zC,MAClDA,EAAK,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAK,MAAM,CAAC;AAAA,EAAA,EAC3C,KAAK,GAAG;AAEV,SACE,gBAAAjoG,EAAC,UAAK,WAAW,GAAGD,GAAO,WAAW,IAAIA,GAAO,SAASioG,EAAgB,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAgB,MAAM,CAAC,CAAC,EAAE,CAAC,IAAIvoG,CAAS,IACzI,UAAA;AAAA,IAAAq/E,KAAQ,gBAAA7+E,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,YAAY;AAAA,IAC5C0qB,KACC,gBAAAxqB;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,GAAGF,GAAO,eAAe,IAAIgoG,IAAQhoG,GAAO,uBAAuB,EAAE;AAAA,MAAA;AAAA,IAAA;AAAA,IAGpF,gBAAAE,EAAC,UAAM,UAAAioG,EAAA,CAAa;AAAA,EAAA,GACtB;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GClCMC,KAAsBzmG,GAAiB,CAAC;AAAA,EAC5C,MAAMo9E;AAAA,EACN,OAAAv+E;AAAA,EACA,OAAAoG;AAAA,EACA,SAAAyhG;AAAA,EACA,QAAAh0C,IAAS;AAAA,EACT,SAAAvmC;AACF,MAAM;AACJ,QAAMsqE,IAAgBl2F;AAAA,IAAQ,MAC5B,CAAClC,GAAO,MAAMA,GAAOq0D,CAAM,GAAGvmC,KAAW9tB,GAAO,SAAS,EACtD,OAAO,OAAO,EACd,KAAK,GAAG;AAAA,IACX,CAACq0D,GAAQvmC,CAAO;AAAA,EAAA,GAGZujD,IACJ,gBAAApxE,EAAAwB,IAAA,EACG,UAAA;AAAA,IAAAs9E,KACC,gBAAA7+E,EAAC,SAAI,WAAWF,GAAO,UACrB,UAAA,gBAAAE,EAAC6+E,GAAA,EAAK,MAAM,GAAA,CAAI,EAAA,CAClB;AAAA,IAEF,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,WAAY,UAAAQ,GAAM;AAAA,MACzC,gBAAAN,EAAC,OAAA,EAAI,WAAWF,GAAO,WAAY,UAAA4G,EAAA,CAAM;AAAA,IAAA,GAC3C;AAAA,IACCyhG,MAAY,UACX,gBAAAnoG,EAAC,SAAI,WAAWF,GAAO,aAAc,UAAAqoG,GAAQ;AAAA,IAE9Cv6E,KACC,gBAAA5tB,EAAC,OAAA,EAAI,WAAWF,GAAO,WACrB,UAAA,gBAAAE,EAAC2T,IAAA,EAAa,MAAM,GAAA,CAAI,EAAA,CAC1B;AAAA,EAAA,GAEJ;AAGF,SAAIia,IAEA,gBAAA5tB,EAAC,SAAI,WAAWk4F,GAAe,SAAAtqE,GAAkB,MAAK,UAAS,UAAU,GACtE,UAAAujD,EAAA,CACH,IAIG,gBAAAnxE,EAAC,OAAA,EAAI,WAAWk4F,GAAgB,UAAA/mB,GAAQ;AACjD,CAAC;AAED+2B,GAAoB,cAAc;AAGlC,MAAME,KAAoB3mG,GAAiB,CAAC,EAAE,OAAAnB,GAAO,OAAAoG,GAAO,QAAAytD,IAAS,aAAa;AAChF,QAAM+jC,IAAgBl2F;AAAA,IAAQ,MAC5B,CAAClC,GAAO,aAAaA,GAAOq0D,CAAM,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAAA,IAC7D,CAACA,CAAM;AAAA,EAAA;AAGT,SACE,gBAAAp0D,EAAC,OAAA,EAAI,WAAWm4F,GACd,UAAA;AAAA,IAAA,gBAAAl4F,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAA4G,GAAM;AAAA,IAC5C,gBAAA1G,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAe,UAAAQ,EAAA,CAAM;AAAA,EAAA,GAC9C;AAEJ,CAAC;AAED8nG,GAAkB,cAAc;AAGzB,MAAMC,KAAa5mG,GAAsB,CAAC;AAAA,EAC/C,OAAAgjB;AAAA,EACA,OAAAohF;AAAA,EACA,OAAAxf;AAAA,EACA,OAAAnjE;AAAA,EACA,SAAAhkB,IAAU;AAAA,EACV,kBAAAopG,IAAmB;AAAA,EACnB,UAAAnD;AAAA,EACA,QAAAN;AAAA,EACA,cAAAtJ;AAAA,EACA,SAAA3tE;AAAA,EACA,SAAAxuB,IAAU;AAAA,EACV,WAAAI,IAAY;AACd,MAAM;AACJ,QAAM6lG,IAAgBrjG;AAAA,IAAQ,MAC5B;AAAA,MACElC,GAAO;AAAA,MACPZ,MAAY,aAAaY,GAAO;AAAA,MAChCZ,MAAY,UAAUY,GAAO;AAAA,MAC7B8tB,KAAW9tB,GAAO;AAAA,MAClBV,KAAWU,GAAO;AAAA,MAClBN;AAAA,IAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG;AAAA,IACX,CAACN,GAAS0uB,GAASxuB,GAASI,CAAS;AAAA,EAAA,GAGjC+lG,IAAoBvjG,EAAQ,MAC3BmjG,GAAU,QACR,GAAGrlG,GAAO,WAAW,IAAIA,GAAO,WAAWqlG,EAAS,MAAM,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAS,MAAM,MAAM,CAAC,CAAC,EAAE,CAAC,KADxFrlG,GAAO,aAEnC,CAACqlG,GAAU,KAAK,CAAC,GAEdK,IAAgBxjG;AAAA,IAAQ,MAC5BmjG,IAAW,EAAE,OAAO,GAAGA,EAAS,KAAK,QAAQ;AAAA,IAC7C,CAACA,CAAQ;AAAA,EAAA;AAGX,MAAI/lG;AACF,WACE,gBAAAW,EAAC,OAAA,EAAI,WAAWslG,GACd,UAAA;AAAA,MAAA,gBAAAtlG,EAAC,OAAA,EAAI,WAAWD,GAAO,QACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,QACtC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,MAAA,GACxC;AAAA,wBACC,OAAA,EAAI,WAAWA,GAAO,MACpB,WAAC,GAAG,GAAG,CAAC,EAAE,IAAI,CAACmK,wBACb,OAAA,EAA0B,WAAWnK,GAAO,cAC3C,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAA,CAAc;AAAA,QACrC,gBAAAC,EAAC,OAAA,EAAI,WAAWD,GAAO,iBACrB,UAAA;AAAA,UAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,UACtC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,QAAA,EAAA,CACxC;AAAA,MAAA,EAAA,GALQ,YAAYmK,CAAC,EAMvB,CACD,EAAA,CACH;AAAA,IAAA,GACF;AAIJ,MAAI/K,MAAY,QAAQ;AACtB,UAAM8jB,IAAOE,EAAM,CAAC;AACpB,QAAI,CAACF,EAAM,QAAO;AAElB,UAAM67D,IAAO77D,EAAK,MACZ+0E,IAAgB/1F;AAAA,MAAQ,MAC5B;AAAA,QACElC,GAAO;AAAA,QACPkjB,EAAK,UAAUljB,GAAO,OAAOkjB,EAAK,OAAO,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAK,OAAO,MAAM,CAAC,CAAC,EAAE;AAAA,MAAA,EAExF,OAAO,OAAO,EACd,KAAK,GAAG;AAAA,MACX,CAACA,EAAK,MAAM;AAAA,IAAA;AAGd,WACE,gBAAAjjB,EAAC,OAAA,EAAI,WAAWslG,GAAe,SAAAz3E,GAC5B,UAAA;AAAA,MAAAixD,KACC,gBAAA7+E,EAAC,SAAI,WAAW+3F,GACd,4BAAClZ,GAAA,EAAK,MAAM,IAAI,EAAA,CAClB;AAAA,MAEF,gBAAA9+E,EAAC,OAAA,EAAI,WAAWD,GAAO,aACrB,UAAA;AAAA,QAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,WAAY,YAAK,OAAM;AAAA,0BAC7C,OAAA,EAAI,WAAWA,GAAO,WAAY,YAAK,MAAA,CAAM;AAAA,MAAA,EAAA,CAChD;AAAA,IAAA,GACF;AAAA,EAEJ;AAEA,SACE,gBAAAC,EAAC,OAAA,EAAI,WAAWslG,GAAe,SAAAz3E,GAC7B,UAAA;AAAA,IAAA,gBAAA7tB,EAAC,OAAA,EAAI,WAAWD,GAAO,QACrB,UAAA;AAAA,MAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,OAAQ,UAAA2kB,GAAM;AAAA,MACpC,gBAAA1kB,EAAC,OAAA,EAAI,WAAWD,GAAO,aACpB,UAAA;AAAA,QAAA+lG,KAAS,gBAAA7lG,EAAC,QAAA,EAAK,WAAWF,GAAO,OAAQ,UAAA+lG,GAAM;AAAA,QAC/Cxf;AAAA,QACAkV;AAAA,MAAA,EAAA,CACH;AAAA,IAAA,GACF;AAAA,IAECr8F,MAAY,aAAaopG,sBACvB,OAAA,EAAI,WAAW,GAAGxoG,GAAO,IAAI,IAAIA,GAAO,UAAU,IAChD,UAAAojB,EAAM,IAAI,CAACF,MACV,gBAAAhjB,EAACooG,MAAoC,GAAGplF,EAAA,GAAhBA,EAAK,KAAiB,CAC/C,EAAA,CACH,sBAEC,OAAA,EAAI,WAAWljB,GAAO,MACpB,UAAAojB,EAAM,IAAI,CAACF,wBACTklF,IAAA,EAAsC,GAAGllF,KAAhBA,EAAK,KAAiB,CACjD,GACH;AAAA,IAGDmiF,KACC,gBAAAnlG,EAAC,OAAA,EAAI,WAAWF,GAAO,mBACrB,UAAA,gBAAAE,EAAC,OAAA,EAAI,WAAWulG,GAAmB,OAAOC,EAAA,CAAe,GAC3D;AAAA,IAGDX,KAAU,gBAAA7kG,EAAC,OAAA,EAAI,WAAWF,GAAO,QAAS,UAAA+kG,EAAA,CAAO;AAAA,EAAA,GACpD;AAEJ,CAAC;AAEDwD,GAAW,cAAc;AASlB,MAAME,KAAiB9mG,GAA0B,CAAC;AAAA,EACvD,UAAAlC;AAAA,EACA,SAAA82B,IAAU;AAAA,EACV,WAAA72B,IAAY;AACd,MAAM;AACJ,QAAMukG,IAAY/hG,EAAQ,OAAO;AAAA,IAC/B,qBAAqB,2BACnBq0B,MAAY,IAAI,UAAUA,MAAY,IAAI,UAAU,OACtD;AAAA,EAAA,IACE,CAACA,CAAO,CAAC,GAEP2tE,IAAgBhiG;AAAA,IAAQ,MAC5B,GAAGlC,GAAO,IAAI,IAAIN,CAAS;AAAA,IAC3B,CAACA,CAAS;AAAA,EAAA;AAGZ,2BACG,OAAA,EAAI,WAAWwkG,GAAe,OAAOD,GACnC,UAAAxkG,GACH;AAEJ,CAAC;AAEDgpG,GAAe,cAAc;;;;;;;;;;;;;;GC3OhBC,KAA0C,CAAC;AAAA,EACtD,MAAAhkC;AAAA,EACA,SAAAhpD;AAAA,EACA,SAAA0hE;AAAA,EACA,OAAAz4D;AAAA,EACA,aAAAhY;AAAA,EACA,aAAAg8F,IAAc;AAAA,EACd,cAAAC,IAAe;AAAA,EACf,WAAAlpG,IAAY;AACd,MAAM;AAEJ,EAAAwE,EAAU,OACJwgE,IACF,SAAS,KAAK,MAAM,WAAW,WAE/B,SAAS,KAAK,MAAM,WAAW,IAG1B,MAAM;AACX,aAAS,KAAK,MAAM,WAAW;AAAA,EACjC,IACC,CAACA,CAAI,CAAC;AAET,QAAMyvB,IAAoB,CAAC/lE,MAA8B;AACvD,IAAKA,EAAO,aACVA,EAAO,SAAA,GACP1S,EAAA;AAAA,EAEJ,GAEMmtF,IAAuB;AAAA,MACzB7oG,GAAO,WAAW;AAAA,MAClB0kE,IAAO1kE,GAAO,OAAO,EAAE;AAAA,MACvBN,CAAS;AAAA,IACX,KAAA,GAEIopG,IAAoB;AAAA,MACtB9oG,GAAO,mBAAmB;AAAA,MAC1B0kE,IAAO1kE,GAAO,OAAO,EAAE;AAAA,IACzB,KAAA;AAEF,SAAK0kE,IAKH,gBAAAzkE,EAAAwB,IAAA,EACG,UAAA;AAAA,IAAAmnG,KACC,gBAAA1oG;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW4oG;AAAA,QACX,SAASptF;AAAA,QACT,eAAY;AAAA,MAAA;AAAA,IAAA;AAAA,IAIhB,gBAAAzb,EAAC,OAAA,EAAI,WAAW4oG,GAAsB,MAAK,UAAS,cAAW,QAAO,mBAAiBlkF,IAAQ,uBAAuB,QACpH,UAAA;AAAA,MAAA,gBAAA1kB,EAAC,OAAA,EAAI,WAAWD,GAAO,oBACnB,UAAA;AAAA,SAAA2kB,KAAShY,MACT,gBAAA1M,EAAC,OAAA,EAAI,WAAWD,GAAO,mBACpB,UAAA;AAAA,UAAA2kB,uBACE,MAAA,EAAG,IAAG,sBAAqB,WAAW3kB,GAAO,kBAC3C,UAAA2kB,EAAA,CACH;AAAA,UAEDhY,KACC,gBAAAzM,EAAC,KAAA,EAAE,WAAWF,GAAO,wBAAyB,UAAA2M,EAAA,CAAY;AAAA,QAAA,GAE9D;AAAA,QAGDywE,EAAQ,IAAI,CAAChvD,GAAQjhB,MAAU;AAC9B,gBAAM4xE,IAAO3wD,EAAO;AACpB,iBACE,gBAAAnuB;AAAA,YAAC;AAAA,YAAA;AAAA,cAEC,WAAW;AAAA,oBACPD,GAAO,eAAe;AAAA,oBACtBouB,EAAO,SAASpuB,GAAO,SAAS,EAAE;AAAA,kBACpC,KAAA;AAAA,cACF,SAAS,MAAMm0F,EAAkB/lE,CAAM;AAAA,cACvC,UAAUA,EAAO;AAAA,cAEhB,UAAA;AAAA,gBAAA2wD,KAAQ,gBAAA7+E,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,YAAY;AAAA,gBAC7C,gBAAAE,EAAC,QAAA,EAAM,UAAAkuB,EAAO,MAAA,CAAM;AAAA,cAAA;AAAA,YAAA;AAAA,YATfjhB;AAAA,UAAA;AAAA,QAYX,CAAC;AAAA,MAAA,GACH;AAAA,wBAEC,UAAA,EAAO,WAAWnN,GAAO,mBAAmB,SAAS0b,GACnD,UAAAitF,EAAA,CACH;AAAA,IAAA,EAAA,CACF;AAAA,EAAA,GACF,IAnDO;AAqDX;;;;;;;;;;;;;;;;;GCpGaI,KAA0C,CAAC;AAAA,EACtD,MAAArkC;AAAA,EACA,SAAAhpD;AAAA,EACA,QAAA4R,IAAS;AAAA,EACT,OAAA3I;AAAA,EACA,YAAAqkF,IAAa;AAAA,EACb,cAAAJ,IAAe;AAAA,EACf,aAAAK,IAAc;AAAA,EACd,QAAAlE;AAAA,EACA,UAAAtlG;AAAA,EACA,WAAAC,IAAY;AACd,MAAM;AACJ,QAAMwpG,IAAW9lG,EAAuB,IAAI,GACtC+lG,IAAY/lG,EAAe,CAAC,GAC5BgmG,IAAchmG,EAAe,CAAC;AAEpC,EAAAc,EAAU,OACJwgE,IACF,SAAS,KAAK,MAAM,WAAW,WAE/B,SAAS,KAAK,MAAM,WAAW,IAG1B,MAAM;AACX,aAAS,KAAK,MAAM,WAAW;AAAA,EACjC,IACC,CAACA,CAAI,CAAC;AAET,QAAM0Z,IAAkB,CAAChzD,MAAoB;AAC3C,IAAA+9E,EAAU,UAAU/9E,GACpBg+E,EAAY,UAAUh+E;AAAA,EACxB,GAEMi+E,IAAiB,CAACj+E,MAAoB;AAC1C,UAAMk+E,IAASl+E,IAAU+9E,EAAU;AACnC,IAAIG,IAAS,KAAKJ,EAAS,YACzBA,EAAS,QAAQ,MAAM,YAAY,cAAcI,CAAM;AAAA,EAE3D,GAEMjrB,IAAgB,CAACjzD,MAAoB;AACzC,UAAMk+E,IAASl+E,IAAU+9E,EAAU;AACnC,IAAID,EAAS,YACXA,EAAS,QAAQ,MAAM,YAAY,IAC/BI,IAAS,OACX5tF,EAAA;AAAA,EAGN,GAEMiQ,IAAmB,CAACviB,MAAwB;AAChD,IAAAg1E,EAAgBh1E,EAAE,QAAQ,CAAC,EAAE,OAAO;AAAA,EACtC,GAEM+iB,IAAkB,CAAC/iB,MAAwB;AAC/C,IAAAigG,EAAejgG,EAAE,QAAQ,CAAC,EAAE,OAAO;AAAA,EACrC,GAEM6vE,IAAiB,CAAC7vE,MAAwB;AAC9C,IAAAi1E,EAAcj1E,EAAE,eAAe,CAAC,EAAE,OAAO;AAAA,EAC3C,GAEMsiB,IAAkB,CAACtiB,MAAwB;AAC/C,IAAAg1E,EAAgBh1E,EAAE,OAAO;AAEzB,UAAM8iB,IAAkB,CAACq9E,MAA0B;AACjD,MAAAF,EAAeE,EAAU,OAAO;AAAA,IAClC,GAEMv6B,IAAgB,CAACw6B,MAAwB;AAC7C,MAAAnrB,EAAcmrB,EAAQ,OAAO,GAC7B,SAAS,oBAAoB,aAAat9E,CAAe,GACzD,SAAS,oBAAoB,WAAW8iD,CAAa;AAAA,IACvD;AAEA,aAAS,iBAAiB,aAAa9iD,CAAe,GACtD,SAAS,iBAAiB,WAAW8iD,CAAa;AAAA,EACpD;AAEA,SACE,gBAAA/uE,EAAAwB,IAAA,EACG,UAAA;AAAA,IAAAmnG,KACC,gBAAA1oG;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,GAAGF,GAAO,QAAQ,IAAI0kE,IAAO1kE,GAAO,eAAe,EAAE;AAAA,QAChE,SAAS0b;AAAA,MAAA;AAAA,IAAA;AAAA,IAGb,gBAAAzb;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAKipG;AAAA,QACL,WAAW,GAAGlpG,GAAO,WAAW,IAAIA,GAAOstB,CAAM,CAAC,IAAIo3C,IAAO1kE,GAAO,OAAO,EAAE,IAAIN,CAAS;AAAA,QAEzF,UAAA;AAAA,UAAAspG,KACC,gBAAA9oG;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAWF,GAAO;AAAA,cAClB,cAAc2rB;AAAA,cACd,aAAaQ;AAAA,cACb,YAAY8sD;AAAA,cACZ,aAAavtD;AAAA,cAEb,UAAA,gBAAAxrB,EAAC,OAAA,EAAI,WAAWF,GAAO,cAAA,CAAe;AAAA,YAAA;AAAA,UAAA;AAAA,UAIzC2kB,KACC,gBAAA1kB,EAAC,OAAA,EAAI,WAAWD,GAAO,QACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC,MAAA,EAAG,WAAWF,GAAO,OAAQ,UAAA2kB,GAAM;AAAA,YACnCskF,KACC,gBAAA/oG,EAAC,UAAA,EAAO,WAAWF,GAAO,aAAa,SAAS0b,GAAS,cAAW,SAClE,UAAA,gBAAAxb,EAACoK,IAAA,EAAE,WAAWtK,GAAO,WAAW,EAAA,CAClC;AAAA,UAAA,GAEJ;AAAA,UAGF,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,SAAU,UAAAP,GAAS;AAAA,UAEzCslG,KAAU,gBAAA7kG,EAAC,OAAA,EAAI,WAAWF,GAAO,QAAS,UAAA+kG,EAAA,CAAO;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EACpD,GACF;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;GCrHa0E,KAA0B,CAAC;AAAA,EACtC,MAAM1qB;AAAA,EACN,OAAAv+E;AAAA,EACA,MAAAnB,IAAO;AAAA,EACP,UAAAuc,IAAW;AAAA,EACX,OAAA1M,IAAQ;AAAA,EACR,OAAAq3E;AAAA,EACA,cAAAmjB,IAAe;AAAA,EACf,SAAA57E;AAAA,EACA,UAAAnuB,IAAW;AAAA,EACX,WAAAD,IAAY;AACd,MAAM;AACJ,QAAM,CAACiqG,GAAQC,CAAS,IAAI9mG,EAAS,EAAK,GACpC,CAAC+mG,GAAaC,CAAc,IAAIhnG,EAAS,CAAC;AAEhD,EAAAoB,EAAU,MAAM;AACd,QAAI,CAACwlG,EAAc;AAEnB,UAAMv5C,IAAe,MAAM;AACzB,YAAM45C,IAAiB,OAAO;AAE9B,MAAIA,IAAiBF,KAAeE,IAAiB,MACnDH,EAAU,EAAI,IAEdA,EAAU,EAAK,GAGjBE,EAAeC,CAAc;AAAA,IAC/B;AAEA,kBAAO,iBAAiB,UAAU55C,GAAc,EAAE,SAAS,IAAM,GAC1D,MAAM,OAAO,oBAAoB,UAAUA,CAAY;AAAA,EAChE,GAAG,CAACu5C,GAAcG,CAAW,CAAC;AAE9B,QAAMG,IAAe;AAAA,MACjBhqG,GAAO,GAAG;AAAA,MACVA,GAAOX,CAAI,CAAC;AAAA,MACZW,GAAO4b,CAAQ,CAAC;AAAA,MAChB1M,MAAU,YAAYlP,GAAOkP,CAAK,IAAI,EAAE;AAAA,MACxCy6F,IAAS3pG,GAAO,SAAS,EAAE;AAAA,MAC3BN,CAAS;AAAA,IACX,KAAA,GAEI2xE,IACJ,gBAAApxE,EAAAwB,IAAA,EACE,UAAA;AAAA,IAAA,gBAAAvB,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,KAAA,CAAM;AAAA,IAC7BQ,KAASnB,MAAS,cAAc,gBAAAa,EAAC,UAAK,WAAWF,GAAO,OAAQ,UAAAQ,EAAA,CAAM;AAAA,EAAA,GACzE;AAGF,SAAI+lF,IAEA,gBAAAtmF,EAAC,OAAA,EAAI,WAAW,GAAGD,GAAO,UAAU,IAAIA,GAAO4b,CAAQ,CAAC,IACtD,UAAA;AAAA,IAAA,gBAAA1b,EAAC,UAAA,EAAO,WAAW8pG,GAAc,SAAAl8E,GAAkB,UAAAnuB,GAChD,UAAA0xE,GACH;AAAA,IACA,gBAAAnxE,EAAC,QAAA,EAAK,WAAWF,GAAO,OAAQ,UAAAumF,EAAA,CAAM;AAAA,EAAA,GACxC,sBAKD,UAAA,EAAO,WAAWyjB,GAAc,SAAAl8E,GAAkB,UAAAnuB,GAChD,UAAA0xE,GACH;AAEJ,GAkBa44B,KAA4C,CAAC;AAAA,EACxD,MAAMlrB;AAAA,EACN,SAAA3B;AAAA,EACA,UAAAxhE,IAAW;AAAA,EACX,OAAA1M,IAAQ;AAAA,EACR,WAAAxP,IAAY;AACd,MAAM;AACJ,QAAM,CAACglE,GAAMC,CAAO,IAAI7hE,EAAS,EAAK,GAEhCsxE,IAAe,MAAM;AACzB,IAAAzP,EAAQ,CAACD,CAAI;AAAA,EACf,GAEMyvB,IAAoB,CAAC/lE,MAA4B;AACrD,IAAAA,EAAO,QAAA,GACPu2C,EAAQ,EAAK;AAAA,EACf;AAEA,SACE,gBAAA1kE,EAAAwB,IAAA,EACE,UAAA;AAAA,IAAA,gBAAAxB,EAAC,SAAI,WAAW,GAAGD,GAAO,SAAS,IAAIA,GAAO4b,CAAQ,CAAC,IAAI8oD,IAAO1kE,GAAO,gBAAgB,EAAE,IAAIN,CAAS,IACtG,UAAA;AAAA,MAAA,gBAAAQ,EAAC,OAAA,EAAI,WAAWF,GAAO,kBACpB,YAAQ,IAAI,CAACouB,GAAQjhB,MAAU;AAC9B,cAAM+8F,IAAa97E,EAAO;AAC1B,eACE,gBAAAnuB,EAAC,OAAA,EAAgB,WAAWD,GAAO,iBACjC,UAAA;AAAA,UAAA,gBAAAE,EAAC,QAAA,EAAK,WAAWF,GAAO,sBAAuB,YAAO,OAAM;AAAA,UAC5D,gBAAAE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAW,GAAGF,GAAO,GAAG,IAAIA,GAAO,IAAI;AAAA,cACvC,SAAS,MAAMm0F,EAAkB/lE,CAAM;AAAA,cAEvC,UAAA,gBAAAluB,EAACgqG,GAAA,EAAW,WAAWlqG,GAAO,KAAA,CAAM;AAAA,YAAA;AAAA,UAAA;AAAA,QACtC,EAAA,GAPQmN,CAQV;AAAA,MAEJ,CAAC,EAAA,CACH;AAAA,MACA,gBAAAjN;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAW,GAAGF,GAAO,GAAG,IAAIA,GAAO,QAAQ,IAAIkP,MAAU,YAAYlP,GAAOkP,CAAK,IAAI,EAAE;AAAA,UACvF,SAASklE;AAAA,UAET,UAAA,gBAAAl0E,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,KAAA,CAAM;AAAA,QAAA;AAAA,MAAA;AAAA,IAChC,GACF;AAAA,IACC0kE,KACC,gBAAAxkE;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAWF,GAAO;AAAA,QAClB,SAAS,MAAM2kE,EAAQ,EAAK;AAAA,MAAA;AAAA,IAAA;AAAA,EAC9B,GAEJ;AAEJ;;;;;;;;;;;;;;;;GCrIawlC,KAA4C,CAAC;AAAA,EACxD,OAAA/mF;AAAA,EACA,aAAAq5C,IAAc;AAAA,EACd,aAAA4pB;AAAA,EACA,OAAAj3E,IAAQ;AAAA,EACR,cAAAg7F,IAAe;AAAA,EACf,WAAA1qG,IAAY;AACd,MAAM;AACJ,QAAM4lF,IAAkB,CAACn4E,GAAe+V,MAAwB;AAC9D,IAAIA,EAAK,WACPA,EAAK,QAAA,GAEHmjE,KACFA,EAAYl5E,CAAK;AAAA,EAErB,GAEMk9F,IAAe;AAAA,MACjBrqG,GAAO,YAAY;AAAA,MACnBoP,MAAU,YAAYpP,GAAO,QAAQoP,EAAM,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAM,MAAM,CAAC,EAAE,QAAQ,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE;AAAA,MAC5Gg7F,IAAepqG,GAAO,eAAe,EAAE;AAAA,MACvCN,CAAS;AAAA,IACX,KAAA;AAEF,SACE,gBAAAQ,EAAC,OAAA,EAAI,WAAWmqG,GAAc,MAAK,cAAa,cAAW,qBACxD,UAAAjnF,EAAM,IAAI,CAACF,GAAM/V,MAAU;AAC1B,UAAM4xE,IAAO77D,EAAK,MACZ/T,IAAWhC,MAAUsvD;AAG3B,WAAIv5C,EAAK,OAEL,gBAAAjjB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,MAAMijB,EAAK;AAAA,QACX,WAAW,GAAGljB,GAAO,aAAa,IAAImP,IAAWnP,GAAO,SAAS,EAAE;AAAA,QACnE,cAAYkjB,EAAK,YAAY,KAAKA,EAAK;AAAA,QACvC,gBAAc/T,IAAW,SAAS;AAAA,QAClC,SAAS,CAAC/F,MAAM;AACd,UAAI8Z,EAAK,YACP9Z,EAAE,eAAA,GACFk8E,EAAgBn4E,GAAO+V,CAAI;AAAA,QAE/B;AAAA,QAEA,UAAA;AAAA,UAAA,gBAAAjjB,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,KAAA,CAAM;AAAA,YAC7BkjB,EAAK,UAAU,UAAaA,EAAK,UAAU,KAC1C,gBAAAhjB,EAAC,QAAA,EAAK,WAAW,GAAGF,GAAO,cAAc,IAAIkjB,EAAK,UAAU,QAAQljB,GAAO,MAAM,EAAE,IAChF,UAAAkjB,EAAK,UAAU,QAAQA,EAAK,QAAQ,GAAA,CACvC;AAAA,UAAA,GAEJ;AAAA,4BACC,QAAA,EAAK,WAAWljB,GAAO,gBAAiB,YAAK,MAAA,CAAM;AAAA,QAAA;AAAA,MAAA;AAAA,MApB/CmN;AAAA,IAAA,IA2BT,gBAAAlN;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,MAAK;AAAA,QACL,WAAW,GAAGD,GAAO,aAAa,IAAImP,IAAWnP,GAAO,SAAS,EAAE;AAAA,QACnE,cAAYkjB,EAAK,YAAY,KAAKA,EAAK;AAAA,QACvC,gBAAc/T,IAAW,SAAS;AAAA,QAClC,SAAS,MAAMm2E,EAAgBn4E,GAAO+V,CAAI;AAAA,QAE1C,UAAA;AAAA,UAAA,gBAAAjjB,EAAC,OAAA,EAAI,WAAWD,GAAO,eACrB,UAAA;AAAA,YAAA,gBAAAE,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,KAAA,CAAM;AAAA,YAC7BkjB,EAAK,UAAU,UAAaA,EAAK,UAAU,KAC1C,gBAAAhjB,EAAC,QAAA,EAAK,WAAW,GAAGF,GAAO,cAAc,IAAIkjB,EAAK,UAAU,QAAQljB,GAAO,MAAM,EAAE,IAChF,UAAAkjB,EAAK,UAAU,QAAQA,EAAK,QAAQ,GAAA,CACvC;AAAA,UAAA,GAEJ;AAAA,4BACC,QAAA,EAAK,WAAWljB,GAAO,gBAAiB,YAAK,MAAA,CAAM;AAAA,QAAA;AAAA,MAAA;AAAA,MAf/CmN;AAAA,IAAA;AAAA,EAkBX,CAAC,EAAA,CACH;AAEJ;;;;;;;;;;;;;;;;;;GC9Fam9F,KAA8C,CAAC;AAAA,EAC1D,WAAAC;AAAA,EACA,UAAA9qG;AAAA,EACA,cAAA+qG,IAAe;AAAA,EACf,OAAAp7F,IAAQ;AAAA,EACR,UAAAzP,IAAW;AAAA,EACX,WAAAD,IAAY;AACd,MAAM;AACJ,QAAMyD,IAAeC,EAAuB,IAAI,GAC1CowF,IAAapwF,EAAuB,IAAI,GACxC+lG,IAAY/lG,EAAe,CAAC,GAC5BgmG,IAAchmG,EAAe,CAAC,GAC9B,CAACqnG,GAAWC,CAAY,IAAI5nG,EAAwD,MAAM,GAC1F,CAAC+hD,GAAY8lD,CAAa,IAAI7nG,EAAS,CAAC;AAE9C,EAAAoB,EAAU,MAAM;AACd,UAAMw9C,IAAYv+C,EAAa;AAC/B,QAAI,CAACu+C,KAAa/hD,EAAU;AAE5B,QAAIirG,IAAY;AAEhB,UAAMj/E,IAAmB,CAACviB,MAAkB;AAC1C,MAAIs4C,EAAU,cAAc,KAAK+oD,MAAc,WAC7CtB,EAAU,UAAU//F,EAAE,QAAQ,CAAC,EAAE,SACjCwhG,IAAY;AAAA,IAEhB,GAEMz+E,IAAkB,CAAC/iB,MAAkB;AACzC,UAAI,CAACwhG,EAAW;AAEhB,MAAAxB,EAAY,UAAUhgG,EAAE,QAAQ,CAAC,EAAE;AACnC,YAAMkgG,IAASF,EAAY,UAAUD,EAAU;AAE/C,UAAIG,IAAS,GAAG;AACd,QAAAlgG,EAAE,eAAA;AAGF,cAAMqrD,IAAY,KAAK,IAAI60C,IADR,KAC6BkB,IAAe,GAAG;AAClE,QAAAG,EAAcl2C,CAAS,GAEnBA,KAAa+1C,IACfE,EAAa,SAAS,IAEtBA,EAAa,SAAS;AAAA,MAE1B;AAAA,IACF,GAEMzxB,IAAiB,YAAY;AACjC,UAAK2xB;AAGL,YAFAA,IAAY,IAER/lD,KAAc2lD,GAAc;AAC9B,UAAAE,EAAa,YAAY,GACzBC,EAAcH,CAAY;AAE1B,cAAI;AACF,kBAAMD,EAAA;AAAA,UACR,SAASplG,GAAO;AACd,oBAAQ,MAAM,kBAAkBA,CAAK;AAAA,UACvC,UAAA;AACE,YAAAulG,EAAa,MAAM,GACnBC,EAAc,CAAC;AAAA,UACjB;AAAA,QACF;AACE,UAAAD,EAAa,MAAM,GACnBC,EAAc,CAAC;AAAA,IAEnB;AAGA,QAAIE,IAAiB;AAErB,UAAMn/E,IAAkB,CAACtiB,MAAkB;AACzC,MAAIs4C,EAAU,cAAc,KAAK+oD,MAAc,WAC7CtB,EAAU,UAAU//F,EAAE,SACtByhG,IAAiB;AAAA,IAErB,GAEM3+E,IAAkB,CAAC9iB,MAAkB;AACzC,UAAI,CAACyhG,EAAgB;AAErB,MAAAzB,EAAY,UAAUhgG,EAAE;AACxB,YAAMkgG,IAASF,EAAY,UAAUD,EAAU;AAE/C,UAAIG,IAAS,GAAG;AACd,QAAAlgG,EAAE,eAAA;AAEF,cAAMqrD,IAAY,KAAK,IAAI60C,IADR,KAC6BkB,IAAe,GAAG;AAClE,QAAAG,EAAcl2C,CAAS,GAEnBA,KAAa+1C,IACfE,EAAa,SAAS,IAEtBA,EAAa,SAAS;AAAA,MAE1B;AAAA,IACF,GAEM17B,IAAgB,YAAY;AAChC,UAAK67B;AAGL,YAFAA,IAAiB,IAEbhmD,KAAc2lD,GAAc;AAC9B,UAAAE,EAAa,YAAY,GACzBC,EAAcH,CAAY;AAE1B,cAAI;AACF,kBAAMD,EAAA;AAAA,UACR,SAASplG,GAAO;AACd,oBAAQ,MAAM,kBAAkBA,CAAK;AAAA,UACvC,UAAA;AACE,YAAAulG,EAAa,MAAM,GACnBC,EAAc,CAAC;AAAA,UACjB;AAAA,QACF;AACE,UAAAD,EAAa,MAAM,GACnBC,EAAc,CAAC;AAAA,IAEnB;AAEA,WAAAjpD,EAAU,iBAAiB,cAAc/1B,GAAkB,EAAE,SAAS,IAAM,GAC5E+1B,EAAU,iBAAiB,aAAav1B,GAAiB,EAAE,SAAS,IAAO,GAC3Eu1B,EAAU,iBAAiB,YAAYu3B,CAAc,GAErDv3B,EAAU,iBAAiB,aAAah2B,CAAe,GACvD,SAAS,iBAAiB,aAAaQ,CAAe,GACtD,SAAS,iBAAiB,WAAW8iD,CAAa,GAE3C,MAAM;AACX,MAAAttB,EAAU,oBAAoB,cAAc/1B,CAAgB,GAC5D+1B,EAAU,oBAAoB,aAAav1B,CAAe,GAC1Du1B,EAAU,oBAAoB,YAAYu3B,CAAc,GAExDv3B,EAAU,oBAAoB,aAAah2B,CAAe,GAC1D,SAAS,oBAAoB,aAAaQ,CAAe,GACzD,SAAS,oBAAoB,WAAW8iD,CAAa;AAAA,IACvD;AAAA,EACF,GAAG,CAACrvE,GAAU4qG,GAAWC,GAAcC,GAAW5lD,CAAU,CAAC;AAE7D,QAAMpgD,IAAqB,GAAGzE,GAAO,aAAa,IAAIN,CAAS,GAAG,KAAA,GAE5DorG,IAAmB;AAAA,MACrB9qG,GAAO,oBAAoB;AAAA,MAC3ByqG,MAAc,YAAYzqG,GAAO,UAAU,EAAE;AAAA,MAC7CyqG,MAAc,eAAezqG,GAAO,aAAa,EAAE;AAAA,IACrD,KAAA,GAEI+qG,IAAqB;AAAA,MACvB/qG,GAAO,aAAa;AAAA,MACpB6kD,IAAa,IAAI7kD,GAAO,UAAU,EAAE;AAAA,MACpCyqG,MAAc,SAASzqG,GAAO,QAAQyqG,EAAU,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAU,MAAM,CAAC,CAAC,EAAE,IAAI,EAAE;AAAA,MACpGr7F,MAAU,YAAYpP,GAAO,QAAQoP,EAAM,OAAO,CAAC,EAAE,YAAA,IAAgBA,EAAM,MAAM,CAAC,CAAC,EAAE,IAAI,EAAE;AAAA,IAC7F,KAAA,GAEI47F,IAAc,MAAM;AACxB,YAAQP,GAAA;AAAA,MACN,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT,KAAK;AACH,eAAO;AAAA,MACT;AACE,eAAO;AAAA,IAAA;AAAA,EAEb;AAEA,SACE,gBAAAxqG;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAKkD;AAAA,MACL,WAAWsB;AAAA,MACX,OAAO;AAAA,QACJ,0BAAqC,GAAG+lG,CAAY;AAAA,MAAA;AAAA,MAGvD,UAAA;AAAA,QAAA,gBAAAtqG,EAAC,OAAA,EAAI,WAAW6qG,GACb,UAAA37F,MAAU,YACT,gBAAAnP,EAAAwB,IAAA,EACG,UAAA;AAAA,UAAAgpG,MAAc,eACb,gBAAAvqG,EAAC,OAAA,EAAI,WAAWF,GAAO,aAAa,IAEpC,gBAAAE,EAAC,OAAA,EAAI,WAAWF,GAAO,UACrB,UAAA,gBAAAE,EAAC02E,MAAU,WAAW52E,GAAO,MAAM,GACrC;AAAA,4BAED,QAAA,EAAK,WAAWA,GAAO,UAAW,cAAY,CAAE;AAAA,QAAA,EAAA,CACnD,IAEA,gBAAAC,EAAAwB,IAAA,EACE,UAAA;AAAA,UAAA,gBAAAvB,EAAC,SAAI,WAAWF,GAAO,UACpB,UAAAyqG,MAAc,eACb,gBAAAvqG,EAAC0/F,IAAA,EAAU,WAAW5/F,GAAO,MAAM,IAEnC,gBAAAE,EAAC02E,MAAU,WAAW52E,GAAO,MAAM,GAEvC;AAAA,4BACC,QAAA,EAAK,WAAWA,GAAO,UAAW,cAAY,CAAE;AAAA,QAAA,EAAA,CACnD,EAAA,CAEJ;AAAA,QAEA,gBAAAE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAKszF;AAAA,YACL,WAAWsX;AAAA,YACX,OAAO;AAAA,cACL,WAAW,cAAcjmD,CAAU;AAAA,YAAA;AAAA,YAGpC,UAAAplD;AAAA,UAAA;AAAA,QAAA;AAAA,MACH;AAAA,IAAA;AAAA,EAAA;AAGN;;;;;;;;;;;;;GC9MawrG,KAA4C,CAAC;AAAA,EACxD,aAAAC,IAAc,CAAA;AAAA,EACd,cAAAC,IAAe,CAAA;AAAA,EACf,UAAA1rG;AAAA,EACA,WAAAm7C,IAAY;AAAA,EACZ,UAAAj7C,IAAW;AAAA,EACX,WAAAD,IAAY;AACd,MAAM;AACJ,QAAMyD,IAAeC,EAAuB,IAAI,GAC1CgoG,IAAUhoG,EAAuB,IAAI,GACrCioG,IAAYjoG,EAAe,CAAC,GAC5BkoG,IAAcloG,EAAe,CAAC,GAC9B,CAACwhD,GAAY2mD,CAAa,IAAIzoG,EAAS,CAAC,GACxC,CAAC0oG,GAAWC,CAAY,IAAI3oG,EAAS,EAAK;AAEhD,EAAAoB,EAAU,MAAM;AACd,UAAMgf,IAAOkoF,EAAQ;AACrB,QAAI,CAACloF,KAAQvjB,EAAU;AAEvB,QAAIuI,IAAa;AAEjB,UAAMyjB,IAAmB,CAACviB,MAAkB;AAC1C,MAAAiiG,EAAU,UAAUjiG,EAAE,QAAQ,CAAC,EAAE,SACjCkiG,EAAY,UAAU1mD,GACtB18C,IAAa,IACbujG,EAAa,EAAI;AAAA,IACnB,GAEMt/E,IAAkB,CAAC/iB,MAAkB;AACzC,UAAI,CAAClB,EAAY;AAEjB,YAAMwjG,IAAStiG,EAAE,QAAQ,CAAC,EAAE,UAAUiiG,EAAU,SAC1CM,IAAgBL,EAAY,UAAUI,GAGtCE,IAAWV,EAAY,SAAS,IAAIA,EAAY,SAAS,KAAK,GAC9DW,IAAUV,EAAa,SAAS,IAAI,CAACA,EAAa,SAAS,KAAK,GAEhEW,IAAoB,KAAK,IAAID,GAAS,KAAK,IAAID,GAAUD,CAAa,CAAC;AAC7E,MAAAJ,EAAcO,CAAiB;AAAA,IACjC,GAEM7yB,IAAiB,MAAM;AAC3B,MAAK/wE,MACLA,IAAa,IACbujG,EAAa,EAAK,GAGd,KAAK,IAAI7mD,CAAU,KAAKhK,IAEtBgK,IAAa,KAAKsmD,EAAY,SAAS,IACzCK,EAAcL,EAAY,SAAS,EAAE,IAC5BtmD,IAAa,KAAKumD,EAAa,SAAS,IACjDI,EAAc,CAACJ,EAAa,SAAS,EAAE,IAEvCI,EAAc,CAAC,IAIjBA,EAAc,CAAC;AAAA,IAEnB;AAGA,QAAIQ,IAAkB;AAEtB,UAAMrgF,IAAkB,CAACtiB,MAAkB;AACzC,MAAAiiG,EAAU,UAAUjiG,EAAE,SACtBkiG,EAAY,UAAU1mD,GACtBmnD,IAAkB,IAClBN,EAAa,EAAI;AAAA,IACnB,GAEMv/E,IAAkB,CAAC9iB,MAAkB;AACzC,UAAI,CAAC2iG,EAAiB;AAEtB,YAAML,IAAStiG,EAAE,UAAUiiG,EAAU,SAC/BM,IAAgBL,EAAY,UAAUI,GAEtCE,IAAWV,EAAY,SAAS,IAAIA,EAAY,SAAS,KAAK,GAC9DW,IAAUV,EAAa,SAAS,IAAI,CAACA,EAAa,SAAS,KAAK,GAEhEW,IAAoB,KAAK,IAAID,GAAS,KAAK,IAAID,GAAUD,CAAa,CAAC;AAC7E,MAAAJ,EAAcO,CAAiB;AAAA,IACjC,GAEM98B,IAAgB,MAAM;AAC1B,MAAK+8B,MACLA,IAAkB,IAClBN,EAAa,EAAK,GAEd,KAAK,IAAI7mD,CAAU,KAAKhK,IACtBgK,IAAa,KAAKsmD,EAAY,SAAS,IACzCK,EAAcL,EAAY,SAAS,EAAE,IAC5BtmD,IAAa,KAAKumD,EAAa,SAAS,IACjDI,EAAc,CAACJ,EAAa,SAAS,EAAE,IAEvCI,EAAc,CAAC,IAGjBA,EAAc,CAAC;AAAA,IAEnB;AAEA,WAAAroF,EAAK,iBAAiB,cAAcyI,GAAkB,EAAE,SAAS,IAAM,GACvEzI,EAAK,iBAAiB,aAAaiJ,GAAiB,EAAE,SAAS,IAAM,GACrEjJ,EAAK,iBAAiB,YAAY+1D,CAAc,GAEhD/1D,EAAK,iBAAiB,aAAawI,CAAe,GAClD,SAAS,iBAAiB,aAAaQ,CAAe,GACtD,SAAS,iBAAiB,WAAW8iD,CAAa,GAE3C,MAAM;AACX,MAAA9rD,EAAK,oBAAoB,cAAcyI,CAAgB,GACvDzI,EAAK,oBAAoB,aAAaiJ,CAAe,GACrDjJ,EAAK,oBAAoB,YAAY+1D,CAAc,GAEnD/1D,EAAK,oBAAoB,aAAawI,CAAe,GACrD,SAAS,oBAAoB,aAAaQ,CAAe,GACzD,SAAS,oBAAoB,WAAW8iD,CAAa;AAAA,IACvD;AAAA,EACF,GAAG,CAACrvE,GAAUurG,EAAY,QAAQC,EAAa,QAAQvwD,GAAWgK,CAAU,CAAC;AAE7E,QAAMuvC,IAAoB,CAAC/lE,MAAwB;AACjD,IAAAA,EAAO,SAAA,GACPm9E,EAAc,CAAC;AAAA,EACjB,GAEM9mG,IAAqB,GAAGzE,GAAO,cAAc,IAAIN,CAAS,GAAG,KAAA,GAC7D04F,IAAgB,GAAGp4F,GAAO,SAAS,IAAIwrG,IAAYxrG,GAAO,UAAU,EAAE,GAAG,KAAA;AAE/E,SACE,gBAAAC,EAAC,OAAA,EAAI,KAAKkD,GAAc,WAAWsB,GAChC,UAAA;AAAA,IAAAymG,EAAY,SAAS,KACpB,gBAAAhrG,EAAC,OAAA,EAAI,WAAWF,GAAO,kBACpB,UAAAkrG,EAAY,IAAI,CAAC98E,GAAQjhB,MAAU;AAClC,YAAM4xE,IAAO3wD,EAAO;AACpB,aACE,gBAAAnuB;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,WAAW,GAAGD,GAAO,WAAW,IAAIA,GAAOouB,EAAO,IAAI,CAAC;AAAA,UACvD,SAAS,MAAM+lE,EAAkB/lE,CAAM;AAAA,UAEvC,UAAA;AAAA,YAAA,gBAAAluB,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,WAAA,CAAY;AAAA,YACpC,gBAAAE,EAAC,QAAA,EAAM,UAAAkuB,EAAO,MAAA,CAAM;AAAA,UAAA;AAAA,QAAA;AAAA,QALfjhB;AAAA,MAAA;AAAA,IAQX,CAAC,EAAA,CACH;AAAA,IAGDg+F,EAAa,SAAS,KACrB,gBAAAjrG,EAAC,OAAA,EAAI,WAAWF,GAAO,mBACpB,UAAAmrG,EAAa,IAAI,CAAC/8E,GAAQjhB,MAAU;AACnC,YAAM4xE,IAAO3wD,EAAO;AACpB,aACE,gBAAAnuB;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,WAAW,GAAGD,GAAO,WAAW,IAAIA,GAAOouB,EAAO,IAAI,CAAC;AAAA,UACvD,SAAS,MAAM+lE,EAAkB/lE,CAAM;AAAA,UAEvC,UAAA;AAAA,YAAA,gBAAAluB,EAAC6+E,GAAA,EAAK,WAAW/+E,GAAO,WAAA,CAAY;AAAA,YACpC,gBAAAE,EAAC,QAAA,EAAM,UAAAkuB,EAAO,MAAA,CAAM;AAAA,UAAA;AAAA,QAAA;AAAA,QALfjhB;AAAA,MAAA;AAAA,IAQX,CAAC,EAAA,CACH;AAAA,IAGF,gBAAAjN;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAKkrG;AAAA,QACL,WAAWhT;AAAA,QACX,OAAO;AAAA,UACL,WAAW,cAAcxzC,CAAU;AAAA,QAAA;AAAA,QAGpC,UAAAnlD;AAAA,MAAA;AAAA,IAAA;AAAA,EACH,GACF;AAEJ;","x_google_ignoreList":[34,35,36,37,38,39,40,41,42,43]}